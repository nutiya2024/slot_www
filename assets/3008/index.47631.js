window.__require=function t(e,o,i){function n(a,r){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return n(e[a][1][t]||t)},l,l.exports,t,e,o,i)}return o[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({CAAudio:[function(t,e,o){"use strict";cc._RF.push(e,"cfc59n7iclE1b3I2xKRtwOE","CAAudio");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioLst={0:{fileName:"bg0",type:"music",remark:"\u80cc\u666f\u97f3\u4e501"},1:{fileName:"bg2",type:"music",remark:"\u80cc\u666f\u97f3\u4e502"},2:{fileName:"bg4",type:"music",remark:"\u80cc\u666f\u97f3\u4e503"},3:{fileName:"bg6",type:"music",remark:"\u80cc\u666f\u97f3\u4e504"},4:{fileName:"gold",type:"effect",remark:"\u98d8\u91d1\u5e01"},5:{fileName:"score",type:"effect",remark:"\u98d8\u5206"},6:{fileName:"click",type:"effect",remark:"\u6309\u94ae\u70b9\u51fb"},7:{fileName:"swithMap",type:"effect",remark:"\u5207\u6362\u5730\u56fe"},8:{fileName:"bigFishDie",type:"effect",remark:"\u5927\u9c7c\u6b7b\u4ea1"},9:{fileName:"awaken19",type:"effect",remark:"19\u767d\u9f99\u6b7b\u4ea1"},10:{fileName:"awaken25",type:"effect",remark:"25\u9752\u9f99\u6b7b\u4ea1"},11:{fileName:"bombSame0",type:"effect",remark:"\u540c\u7c7b\u70b8\u5f390"},12:{fileName:"bombSame1",type:"effect",remark:"\u540c\u7c7b\u70b8\u5f391"},13:{fileName:"bomb",type:"effect",remark:"\u70b8\u5f39"},14:{fileName:"chain",type:"effect",remark:"\u95ea\u7535\u8fde\u9501"},15:{fileName:"fire0",type:"effect",remark:"\u5f00\u706b0"},16:{fileName:"fire1",type:"effect",remark:"\u5f00\u706b1"},17:{fileName:"fire2",type:"effect",remark:"\u5f00\u706b2"},18:{fileName:"jiGuanConNeng",type:"effect",remark:"\u6fc0\u5149\u5145\u80fd"},19:{fileName:"jiGuanFaShe",type:"effect",remark:"\u6fc0\u5149\u53d1\u5c04"},20:{fileName:"jiGuanGet",type:"effect",remark:"\u83b7\u5f97\u6fc0\u5149"},21:{fileName:"jingYu",type:"effect",remark:"\u9cb8\u9c7c\u6b7b\u4ea1"},22:{fileName:"longGuiCai",type:"effect",remark:"\u9f99\u9f9f\u8e29"},23:{fileName:"longXiao",type:"effect",remark:"\u9f99\u5578"},24:{fileName:"zhuanPanQiaoLuo",type:"effect",remark:"\u8f6c\u76d8\u6572\u9523"},25:{fileName:"zhuanPanRoll",type:"effect",remark:"\u8f6c\u76d8\u8f6c"},26:{fileName:"zhuanPanShowNumber",type:"effect",remark:"\u8f6c\u76d8\u663e\u793a\u6570\u5b57"},27:{fileName:"collider",type:"effect",remark:"\u94bb\u5934\u53cd\u5f39"},28:{fileName:"RollDigitStop2_0",type:"effect",remark:"\u8dd1\u706f\u91cc\u6570\u5b57\u6eda\u5230\u67d0\u79cd\u503c\u65f6\u64ad"},29:{fileName:"RollDigitStop2_1",type:"effect",remark:"\u8dd1\u706f\u91cc\u6570\u5b57\u6eda\u5230\u67d0\u79cd\u503c\u65f6\u64ad"},30:{fileName:"RollDigitStop2_2",type:"effect",remark:"\u8dd1\u706f\u91cc\u6570\u5b57\u6eda\u5230\u67d0\u79cd\u503c\u65f6\u64ad"},31:{fileName:"RollDigitStop2_3",type:"effect",remark:"\u8dd1\u706f\u91cc\u6570\u5b57\u6eda\u5230\u67d0\u79cd\u503c\u65f6\u64ad"},32:{fileName:"RollDigitStop2_4",type:"effect",remark:"\u8dd1\u706f\u91cc\u6570\u5b57\u6eda\u5230\u67d0\u79cd\u503c\u65f6\u64ad"}},e.bundle=null,e}return n(e,t),e.prototype.initView=function(){this.bundle=cc.assetManager.getBundle(window.BUNDLE_NAME)},e.prototype.playAudio=function(t){var e=this,o="./music/"+this.audioLst[t+""].fileName,i=this.audioLst[t+""].type;return new Promise(function(t){e.bundle.load(o,cc.AudioClip,function(e,o){var n=-1;null==e&&(n="music"==i?cc.audioEngine.playMusic(o,!0):cc.audioEngine.playEffect(o,!1)),t(n)})})},s([r],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],CABatteryCicle:[function(t,e,o){"use strict";cc._RF.push(e,"ba090xDZvdDlLgkCOhPRKKE","CABatteryCicle");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbl_score=null,e}return n(e,t),e.prototype.initView=function(t){this.node.x=0==t||3==t?200:-200,this.reset()},e.prototype.reset=function(){this.node.stopAllActions(),this.node.active=!1,this.lbl_score.string=""},e.prototype.showAni=function(t){var e=this;this.node.active=!0,this.node.opacity=255,cc.Tween.stopAllByTarget(this.node),this.node.scale=.5,this.lbl_score.string=(t/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(this.node).to(.15,{scale:1.1}).to(.15,{scale:.9}).to(.15,{scale:1}).delay(2.5).to(.3,{opacity:0}).call(function(){e.reset()}).start()},s([c(cc.Label)],e.prototype,"lbl_score",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CABatteryManage:[function(t,e,o){"use strict";cc._RF.push(e,"09a97sBkQFLKYGCIhsslG8V","CABatteryManage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CABattery"),r=t("./CADataEntry"),c=cc._decorator,h=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.batteryList=[],e.layerFishNode=null,e.anchoroNode=null,e.anchoroSF=[],e.control=null,e.selfBattery=null,e.batteryBulletLimit=100,e.currAutoTime=0,e.fireEnable=!0,e.isLongTouch=!1,e}return n(e,t),e.prototype.initView=function(t){this.control=t,this.fireEnable=!0;for(var e=0;e<this.batteryList.length;e++)this.batteryList[e].initView(this.control,e);this.registerClick()},e.prototype.registerClick=function(){var t=this;if(cc.sys.platform==cc.sys.DESKTOP_BROWSER){var e=function(e){var o=e.getLocation();if(t.control.gameInfo.weaponType==r.WeaponType.Bullet&&t.control.gameInfo.connType==r.ConnType.Bullet){if(t.selfBattery&&0==t.control.gameInfo.lockFishId&&(t.setBatteryAngleByPos(t.selfBattery.batteryId,o),t.anchoroNode.active=!0,t.anchoroNode.getComponent(cc.Sprite).spriteFrame=t.anchoroSF[t.selfBattery.batteryId]),e.getType()==cc.Node.EventType.MOUSE_DOWN)t.selfBattery&&(t.clickBatteryFire(o),t.isLongTouch=!0);else if(e.getType()==cc.Node.EventType.MOUSE_UP||e.getType()==cc.Node.EventType.MOUSE_LEAVE)t.isLongTouch=!1;else if(e.getType()==cc.Node.EventType.MOUSE_MOVE){var i=t.node.convertToNodeSpaceAR(e.getLocation());t.anchoroNode.x=i.x,t.anchoroNode.y=i.y}}else if(t.control.gameInfo.weaponType==r.WeaponType.Bullet&&t.control.gameInfo.connType==r.ConnType.Light){if(e.getType()==cc.Node.EventType.MOUSE_MOVE){var n=t.node.convertToNodeSpaceAR(e.getLocation());t.anchoroNode.x=n.x,t.anchoroNode.y=n.y}}else t.control.gameInfo.weaponType==r.WeaponType.Laser?(t.isLongTouch=!1,t.selfBattery&&t.setBatteryAngleByPos(t.selfBattery.batteryId,o),e.getType()==cc.Node.EventType.MOUSE_DOWN&&t.selfBattery&&t.clickBatteryLaser(o)):t.control.gameInfo.weaponType==r.WeaponType.Drill&&(t.isLongTouch=!1,t.selfBattery&&t.setBatteryAngleByPos(t.selfBattery.batteryId,o),e.getType()==cc.Node.EventType.MOUSE_DOWN&&t.selfBattery&&t.clickBatteryDrill(o))};this.layerFishNode.on(cc.Node.EventType.MOUSE_DOWN,e),this.layerFishNode.on(cc.Node.EventType.MOUSE_ENTER,e),this.layerFishNode.on(cc.Node.EventType.MOUSE_MOVE,e),this.layerFishNode.on(cc.Node.EventType.MOUSE_LEAVE,e),this.layerFishNode.on(cc.Node.EventType.MOUSE_UP,e)}else{var o=function(e){var o=e.getLocation();return t.control.gameInfo.weaponType==r.WeaponType.Bullet&&t.control.gameInfo.connType==r.ConnType.Bullet?(t.selfBattery&&0==t.control.gameInfo.lockFishId&&t.setBatteryAngleByPos(t.selfBattery.batteryId,o),e.getType()==cc.Node.EventType.TOUCH_START?t.selfBattery&&(t.clickBatteryFire(o),t.isLongTouch=!0):e.getType()!=cc.Node.EventType.TOUCH_END&&e.getType()!=cc.Node.EventType.TOUCH_CANCEL||(t.isLongTouch=!1)):t.control.gameInfo.weaponType==r.WeaponType.Laser?(t.selfBattery&&t.setBatteryAngleByPos(t.selfBattery.batteryId,o),e.getType()!=cc.Node.EventType.TOUCH_END&&e.getType()!=cc.Node.EventType.TOUCH_CANCEL||t.selfBattery&&t.clickBatteryLaser(o)):t.control.gameInfo.weaponType==r.WeaponType.Drill&&(t.selfBattery&&t.setBatteryAngleByPos(t.selfBattery.batteryId,o),e.getType()!=cc.Node.EventType.TOUCH_END&&e.getType()!=cc.Node.EventType.TOUCH_CANCEL||t.selfBattery&&t.clickBatteryDrill(o)),console.log(e.getType()),!1};this.layerFishNode.on(cc.Node.EventType.TOUCH_START,o),this.layerFishNode.on(cc.Node.EventType.TOUCH_MOVE,o),this.layerFishNode.on(cc.Node.EventType.TOUCH_END,o),this.layerFishNode.on(cc.Node.EventType.TOUCH_CANCEL,o),this.layerFishNode._touchListener.setSwallowTouches(!1),console.log("CABatteryManage:\u6ce8\u518c\u4e8b\u4ef6")}},e.prototype.clickBatteryFire=function(t){if(0!=this.fireEnable&&null!=this.selfBattery){var e=this.selfBattery;if(e.hidIconGuide(),this.control.gameView.bullteManage.getBulletCountByBatteryId(e.batteryId)>=this.batteryBulletLimit){var o=this.control.i18n.getTripStr("bulletEnough");this.control.showTrip(o)}else{var i=e.getPaoPos();i=this.node.convertToNodeSpaceAR(i);var n=0;(t=this.node.convertToNodeSpaceAR(t)).x-i.x!=0&&(n=180*Math.atan2(t.y-i.y,t.x-i.x)/Math.PI),this.control.gameInfo.isLock&&(n=e.getPaoAngle()),this.currAutoTime=0,this.control.sendBatteryFire(e.batteryId,n)}}},e.prototype.clickBatteryLaser=function(t){if(0!=this.fireEnable&&null!=this.selfBattery){this.fireEnable=!1;var e=this.selfBattery;e.hidIconGuide();var o=e.getPaoPos();o=this.node.convertToNodeSpaceAR(o);var i=0;(t=this.node.convertToNodeSpaceAR(t)).x-o.x!=0&&(i=180*Math.atan2(t.y-o.y,t.x-o.x)/Math.PI),this.currAutoTime=0,this.control.gameInfo.weaponType=r.WeaponType.Wait,this.control.sendLaserNotice(e.batteryId,i)}},e.prototype.clickBatteryDrill=function(t){if(0!=this.fireEnable&&null!=this.selfBattery){this.fireEnable=!1;var e=this.selfBattery;e.hidIconGuide();var o=e.getPaoPos();o=this.node.convertToNodeSpaceAR(o);var i=0;(t=this.node.convertToNodeSpaceAR(t)).x-o.x!=0&&(i=180*Math.atan2(t.y-o.y,t.x-o.x)/Math.PI),this.currAutoTime=0,this.control.gameInfo.weaponType,r.WeaponType.Wait,this.control.sendDrillNotice(e.batteryId,i)}},e.prototype.autoBatteryFire=function(){if(0!=this.fireEnable&&null!=this.selfBattery){var t=this.selfBattery;t.hidIconGuide();var e=this.control.gameView.bullteManage.getBulletCountByBatteryId(t.batteryId);if(this.control.gameInfo.weaponType==r.WeaponType.Bullet&&e>=this.batteryBulletLimit){var o=this.control.i18n.getTripStr("bulletEnough");this.control.showTrip(o)}else{var i=t.getPaoAngle();this.currAutoTime=0,this.control.sendBatteryFire(t.batteryId,i),console.log("\u81ea\u52a8\u70b9\u51fb2")}}},e.prototype.showFireAniByBattryId=function(t){var e=this.batteryList[t];e&&e.showFireAni()},e.prototype.setBatteryAngle=function(t,e){var o=this.batteryList[t];o&&o.setPaoAngle(e)},e.prototype.setBatteryLock=function(t,e){var o=this.batteryList[t];if(o){if(e>0){var i=this.control.gameView.fishManage.getFishByFishId(e);i&&(i.fishConfig.FrameName,o.showLockFishAni(!0,e,i.node))}else o.showLockFishAni(!1,null,null);this.control.gameView.updateBtnLock()}},e.prototype.setBatteryLockIcon=function(t,e){this.batteryList[t].setLock(e)},e.prototype.setBatteryAngleByPos=function(t,e){var o=this.batteryList[t];if(o){var i=o.getPaoPos();i=this.node.convertToNodeSpaceAR(i);var n=0;(e=this.node.convertToNodeSpaceAR(e)).x-i.x!=0&&(n=180*Math.atan2(e.y-i.y,e.x-i.x)/Math.PI),o.setPaoAngle(n)}},e.prototype.setBatteryUserScore=function(t){var e=this.batteryList[t];e&&e.updateUserScore()},e.prototype.showBatteryAddScoreAni=function(t,e){var o=this.batteryList[t];o&&o.showAddScoreAni(e)},e.prototype.showBatteryCicleAni=function(t,e){var o=this.batteryList[t];o&&o.showCicleAni(e)},e.prototype.runNewBattery=function(t,e){var o=this.batteryList[t.batteryId];if(o)return e&&(this.selfBattery=o),o.initData(t,e)},e.prototype.clearBattery=function(t){var e=this.batteryList[t];if(e)return e.clearData()},e.prototype.changeBatteryBaseScore=function(t,e){var o=this.batteryList[t];o&&o.changeBaseScore(e)},e.prototype.changeBatteryWeapon=function(t,e){var o=this.batteryList[t];o&&o.changeWeapon(e)},e.prototype.getBulletStartPos=function(t,e){var o=null,i=this.batteryList[t];if(i){var n=i.getPaoPos();n=this.node.convertToNodeSpaceAR(n),o=cc.v2(n.x+120*Math.cos(2*Math.PI/360*e),n.y+120*Math.sin(2*Math.PI/360*e))}return o},e.prototype.getPaoTaiPos=function(t){var e=null,o=this.batteryList[t];return o&&(e=o.getPaoPos()),e},e.prototype.getIconGoldPos=function(t){var e=null,o=this.batteryList[t];return o&&(e=o.getIconGoldPos()),e},e.prototype.getPaoTaiAngle=function(t){var e=0,o=this.batteryList[t];return o&&(e=o.getPaoAngle()),e},e.prototype.getBatteryById=function(t){return this.batteryList[t]},e.prototype.update=function(t){if(this.control.gameInfo.weaponType==r.WeaponType.Bullet)if(this.control.gameInfo.connType==r.ConnType.Bullet){if(this.control.gameInfo.isLock&&this.control.gameInfo.lockFishId>0){var e=this.control.gameView.fishManage.getFishByFishId(this.control.gameInfo.lockFishId);if(e&&this.selfBattery){var o=e.getWorldPos();this.setBatteryAngleByPos(this.selfBattery.batteryId,o)}}if(this.control.gameInfo.isLock&&this.setBatteryLock(this.selfBattery.batteryId,this.control.gameInfo.lockFishId),(1==this.control.gameInfo.isAuto||1==this.isLongTouch)&&(this.currAutoTime+=t,this.currAutoTime>=1/this.control.gameInfo.autoFate))if(this.currAutoTime=0,this.control.gameInfo.lockTrackFishTypeList.length>0&&this.control.gameInfo.isLock){var i=this.control.gameView.fishManage.getFishByFishId(this.control.gameInfo.lockFishId),n=this.control.gameInfo.lockTrackFishTypeList;null!=i&&-1!=n.indexOf(i.fishConfig.Id)&&this.autoBatteryFire()}else this.autoBatteryFire()}else this.control.gameInfo.connType==r.ConnType.Light&&this.control.gameInfo.lightFishId>0&&(this.currAutoTime+=t,this.currAutoTime>=1/this.control.gameInfo.autoFate&&(this.currAutoTime=0,this.autoBatteryFire()),this.control.gameInfo.isLock&&this.setBatteryLock(this.selfBattery.batteryId,this.control.gameInfo.lockFishId))},s([l([a.default])],e.prototype,"batteryList",void 0),s([l(cc.Node)],e.prototype,"layerFishNode",void 0),s([l(cc.Node)],e.prototype,"anchoroNode",void 0),s([l(cc.SpriteFrame)],e.prototype,"anchoroSF",void 0),s([h],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CABattery":"CABattery","./CADataEntry":"CADataEntry"}],CABatteryTitle:[function(t,e,o){"use strict";cc._RF.push(e,"6d363FwquxL7peUFcwHV6hT","CABatteryTitle");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CAFishUtil"),r=cc._decorator,c=r.ccclass,h=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title_socre0=null,e.title_socre1=null,e.win0=null,e.win1=null,e.title18=null,e.title=null,e.title31=null,e.title31_socre=null,e.title32=null,e.title32_1=null,e.title32_fish=null,e.title32_socre=null,e.control=null,e}return n(e,t),e.prototype.initView=function(t){this.control=t},e.prototype.showTitleScore=function(t,e,o){e>=21&&e<=24?(this.title_socre1.node.opacity=255,this.title_socre1.string=""+(t/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(this.title_socre1.node).to(.4,{y:60}).to(.4,{y:100}).to(.4,{y:60}).to(.4,{y:100}).to(.4,{y:60,opacity:0}).call(function(){o&&o()}).start(),this.win1.opacity=255,cc.tween(this.win1).to(.4,{y:55}).to(.4,{y:95}).to(.4,{y:55}).to(.4,{y:95}).to(.4,{y:55,opacity:0}).start()):(this.title_socre0.node.opacity=255,this.title_socre0.string=""+(t/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(this.title_socre0.node).to(.4,{y:60}).to(.4,{y:100}).to(.4,{y:60}).to(.4,{y:100}).to(.4,{y:60,opacity:0}).call(function(){o&&o()}).start(),this.win0.opacity=255,cc.tween(this.win0).to(.4,{y:50}).to(.4,{y:90}).to(.4,{y:50}).to(.4,{y:90}).to(.4,{y:50,opacity:0}).start())},e.prototype.showFishTip=function(t,e,o,i,n,s){var a=this;this.title.opacity=255,this.title.getComponent(cc.Sprite).spriteFrame=this.control.gameView.effectManage.getSpFrame(e),o?(this.title.y=200,cc.tween(this.title).delay(i).call(function(){a.showTitleScore(t,n,s)}).delay(1.6).to(.4,{opacity:0}).start()):cc.tween(this.title).delay(i).call(function(){s&&s()}).to(.4,{opacity:0}).start()},e.prototype.showFish18Tip=function(t){var e=this;this.title18.opacity=255;var o=this.control.gameView.fishManage.getTitle18Sp(),i=this.title18.getComponent(cc.Sprite);i.spriteFrame=o[0],a.default.showFrameAnimation(i,o,o.length/15,!1,!1,1,function(){e.title18.opacity=0,t&&t()})},e.prototype.showFish31Tip=function(t,e){this.title31.opacity=255,this.title31_socre.string="w"+(t/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(this.title31).delay(4.6).to(.4,{y:-140,opacity:0}).start(),cc.tween(this.title31_socre.node).delay(3).to(.4,{y:-140}).to(.4,{y:-100}).to(.4,{y:-140}).to(.4,{y:-100}).to(.4,{y:-140,opacity:0}).call(function(){e&&e()}).start()},e.prototype.showFish32Tip=function(t,e,o){this.title32.opacity=255,this.title32.x=300,this.title32_1.opacity=0,this.title32_fish.node.y=-260,this.title32_socre.node.y=-260,this.title32_fish.node.opacity=255,this.title32_socre.node.opacity=255,this.title32_fish.spriteFrame=this.control.gameView.effectManage.getSpFrame("fish"+e),this.title32_socre.string=""+(t/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(this.title32).to(.5,{x:0}).delay(2.6).to(.25,{opacity:0}).call(function(){o&&o()}).start(),cc.tween(this.title32_1).delay(.5).to(.1,{opacity:255}).to(.1,{opacity:0}).to(.1,{opacity:255}).to(.1,{opacity:0}).start(),cc.tween(this.title32_fish.node).delay(1).to(.5,{y:-100}).to(.4,{y:-140}).to(.4,{y:-100}).to(.4,{y:-140}).to(.4,{y:-100}).to(.4,{y:-140,opacity:0}).start(),cc.tween(this.title32_socre.node).delay(1).to(.5,{y:-100}).to(.4,{y:-140}).to(.4,{y:-100}).to(.4,{y:-140}).to(.4,{y:-100}).to(.4,{y:-140,opacity:0}).start()},e.prototype.showFish26Tip=function(t,e,o){var i=this;this.title.opacity=255,this.title.getComponent(cc.Sprite).spriteFrame=this.control.gameView.effectManage.getSpFrame("title26"),this.title.y=0,cc.tween(this.title).to(1,{y:200}).delay(e-1).call(function(){i.showTitleScore(t,26,o)}).delay(1.6).to(.4,{opacity:0}).start()},e.prototype.showFish27Tip=function(t,e,o){var i=this;this.title.opacity=255,this.title.getComponent(cc.Sprite).spriteFrame=this.control.gameView.effectManage.getSpFrame("title27"),this.title.y=200,this.title.scale=0,cc.tween(this.title).to(1,{scale:1}).delay(e-1).call(function(){i.showTitleScore(t,27,o)}).delay(1.6).to(.4,{opacity:0}).start()},e.prototype.showFish28Tip=function(t,e,o){var i=this;this.title.opacity=255,this.title.getComponent(cc.Sprite).spriteFrame=this.control.gameView.effectManage.getSpFrame("title28"),this.title.y=200,this.title.scale=0,cc.tween(this.title).to(1,{scale:1}).delay(e-1).call(function(){i.showTitleScore(t,28,o)}).delay(1.6).to(.4,{opacity:0}).start()},s([h(cc.Label)],e.prototype,"title_socre0",void 0),s([h(cc.Label)],e.prototype,"title_socre1",void 0),s([h(cc.Node)],e.prototype,"win0",void 0),s([h(cc.Node)],e.prototype,"win1",void 0),s([h(cc.Node)],e.prototype,"title18",void 0),s([h(cc.Node)],e.prototype,"title",void 0),s([h(cc.Node)],e.prototype,"title31",void 0),s([h(cc.Label)],e.prototype,"title31_socre",void 0),s([h(cc.Node)],e.prototype,"title32",void 0),s([h(cc.Node)],e.prototype,"title32_1",void 0),s([h(cc.Sprite)],e.prototype,"title32_fish",void 0),s([h(cc.Label)],e.prototype,"title32_socre",void 0),s([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CAFishUtil":"CAFishUtil"}],CABattery:[function(t,e,o){"use strict";cc._RF.push(e,"57391IGhQpOp79W2doWXVYc","CABattery");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=t("./CAFish"),c=cc._decorator,h=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas_btttery=null,e.node_guide=null,e.lbl_score_total=null,e.lbl_score_base=null,e.node_paoguang=null,e.sp_guang=null,e.node_normalScore=null,e.node_icon_laser=null,e.node_cannon=null,e.node_cannon_1=null,e.node_icon_pao=null,e.sp_bg=null,e.icon_lock_fish=null,e.isUse=!1,e.batteryId=0,e.userItem=null,e.isSelf=!1,e.control=null,e.lockFishNode=null,e.lockFishId=null,e.connType=a.ConnType.Bullet,e.batteryType=1,e.happyPlayScore=0,e.happyPlayTime=0,e.happyCount=0,e}return n(e,t),e.prototype.initView=function(t,e){this.control=t,this.isUse=!1,this.batteryId=e,this.lockFishNode=null,this.lockFishId=null,this.node.active=!1,this.node_guide.active=!1,this.lbl_score_total.string="",this.lbl_score_base.string="",this.sp_bg.spriteFrame=this.atlas_btttery.getSpriteFrame("label_"+e),this.node_paoguang.angle=0,this.node_paoguang.active=!1,this.connType=a.ConnType.Bullet,this.batteryType=1,this.node_icon_laser.active=!1,this.node_normalScore.removeAllChildren()},e.prototype.initData=function(t,e){this.isUse=!0,this.userItem=t,this.isSelf=e,this.node.active=!0,this.node_guide.active=e,this.lbl_score_base.string=""+(t.baseScore/globalThis.playerInfo.exchangeRate).toFixed(2),this.lbl_score_total.string=""+(t.score/globalThis.playerInfo.exchangeRate).toFixed(2),this.connType=a.ConnType.Bullet,this.changeBaseScore(t.baseScore),this.changeWeapon(this.userItem.canonId)},e.prototype.clearData=function(){this.initView(this.control,this.batteryId)},e.prototype.setLock=function(){},e.prototype.getBatteryPos=function(){return this.node.parent.convertToWorldSpaceAR(this.node.getPosition())},e.prototype.getBatteryBombTherePos=function(){return this.sp_bg.node.parent.convertToWorldSpaceAR(new cc.Vec2(this.sp_bg.node.getPosition().x+50,this.sp_bg.node.getPosition().y+100))},e.prototype.getRotaryTablePos=function(){return this.node.convertToWorldSpaceAR(new cc.Vec2(this.sp_bg.node.getPosition().x-50,this.sp_bg.node.getPosition().y+150))},e.prototype.getPaoPos=function(){return this.node.convertToWorldSpaceAR(this.node_icon_pao.getPosition())},e.prototype.getIconGoldPos=function(){return this.node.convertToWorldSpaceAR(this.node_icon_pao.getPosition())},e.prototype.getLightGuanPos=function(){var t=cc.v2(this.sp_guang.node.x,this.sp_guang.node.y+40);return this.sp_guang.node.parent.convertToWorldSpaceAR(t)},e.prototype.getTripAniPos=function(){var t=cc.v2(this.node_icon_pao.x,this.node_icon_pao.y+170);return this.node.convertToWorldSpaceAR(t)},e.prototype.getPaodengAniPos=function(){var t=cc.v2(this.node_icon_pao.x,this.node_icon_pao.y+200);return this.node.convertToWorldSpaceAR(t)},e.prototype.setPaoAngle=function(t){this.connType==a.ConnType.Bullet||1==this.node_icon_laser.active?(this.node_icon_pao.angle=t-this.node.angle-90,this.node_icon_laser.angle=t-this.node.angle-90):(this.node_icon_pao.angle=0,this.node_icon_laser.angle=0)},e.prototype.getPaoAngle=function(){return this.node_icon_pao.angle+this.node.angle+90},e.prototype.changeBaseScore=function(t){this.lbl_score_base.string=""+(t/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(this.lbl_score_base.node).to(.15,{scale:2}).to(.15,{scale:1}).start();var e=this.control.getBulletTypeByBaseScore(t);this.node_icon_pao.getComponent(cc.Animation).stop();var o=1==e?"battery_idle_0":"battery_idle_1";this.node_icon_pao.getComponent(cc.Animation).play(o),e!=this.batteryType&&(this.batteryType=e,cc.tween(this.node_icon_pao).to(0,{scale:1.2}).to(.5,{scale:1}).start())},e.prototype.changeWeapon=function(t){this.connType=t,this.setLaserMode(!1),this.setDrillMode(!1),this.connType==a.ConnType.Light?(this.node_paoguang.active=!0,this.node_icon_pao.active=!1,this.sp_guang.getComponent(cc.Animation).play("battery_idle_2"),cc.tween(this.node_paoguang).to(.1,{scale:1.2}).to(.1,{scale:1}).start()):(this.node_paoguang.active=!1,this.node_icon_pao.active=!0,cc.tween(this.node_icon_pao).to(.1,{scale:1.2}).to(.1,{scale:1}).start())},e.prototype.setLaserMode=function(t){this.node_icon_laser.active=t,this.node_cannon.active=t,t&&(this.node_icon_laser.width=0,cc.tween(this.node_icon_laser).to(1,{width:148}).start())},e.prototype.setDrillMode=function(t){this.node_cannon_1.active=t},e.prototype.updateUserScore=function(){this.lbl_score_total.string=""+(this.userItem.score/globalThis.playerInfo.exchangeRate).toFixed(2)},e.prototype.hidIconGuide=function(){this.node_guide.active=!1},e.prototype.showFireAni=function(){var t=this,e=this.control.getBulletTypeByBaseScore(this.userItem.baseScore),o=1==e?"battery_fire_0":"battery_fire_1",i=1==e?"battery_idle_0":"battery_idle_1";this.node_icon_pao.getComponent(cc.Animation).stop(),this.node_icon_pao.getComponent(cc.Animation).play(o),this.node_icon_pao.getComponent(cc.Animation).on("finished",function(){t.node_icon_pao.getComponent(cc.Animation).play(i)},this)},e.prototype.showHappyPlayTip=function(){},e.prototype.hideHappyPlayTip=function(){},e.prototype.updateHappyPlayScore=function(){},e.prototype.getHappyPlayScore=function(){return this.happyPlayScore},e.prototype.showAddScoreAni=function(){},e.prototype.showCicleAni=function(){},e.prototype.resetCicleAni=function(){},e.prototype.showLockFishAni=function(t,e,o){t?(this.icon_lock_fish.node.active=!0,this.icon_lock_fish.spriteFrame=o?this.atlas_btttery.getSpriteFrame("fish_"+o.getComponent(r.default).fishConfig.Id):null):this.icon_lock_fish.node.active=!1},e.prototype.onClick_addScore=function(){this.control.playAudio(6),this.control.sendChangeBaseScore("add")},e.prototype.onClick_decScore=function(){this.control.playAudio(6),this.control.sendChangeBaseScore("dec")},e.prototype.update=function(){},s([l(cc.SpriteAtlas)],e.prototype,"atlas_btttery",void 0),s([l(cc.Node)],e.prototype,"node_guide",void 0),s([l(cc.Label)],e.prototype,"lbl_score_total",void 0),s([l(cc.Label)],e.prototype,"lbl_score_base",void 0),s([l(cc.Node)],e.prototype,"node_paoguang",void 0),s([l(cc.Sprite)],e.prototype,"sp_guang",void 0),s([l(cc.Node)],e.prototype,"node_normalScore",void 0),s([l(cc.Node)],e.prototype,"node_icon_laser",void 0),s([l(cc.Node)],e.prototype,"node_cannon",void 0),s([l(cc.Node)],e.prototype,"node_cannon_1",void 0),s([l(cc.Node)],e.prototype,"node_icon_pao",void 0),s([l(cc.Sprite)],e.prototype,"sp_bg",void 0),s([l(cc.Sprite)],e.prototype,"icon_lock_fish",void 0),s([h],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CADataEntry":"CADataEntry","./CAFish":"CAFish"}],CABulletManage:[function(t,e,o){"use strict";cc._RF.push(e,"63fa5GhkTZMpopgNsgn/K3R","CABulletManage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CABullet"),r=t("./CAFishUtil"),c=cc._decorator,h=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPrefab=null,e.atlas_bullet=null,e.bulletPool=null,e.control=null,e.frameList=null,e}return n(e,t),e.prototype.initView=function(t){this.control=t,this.bulletPool=new cc.NodePool,this.frameList=this.atlas_bullet.getSpriteFrames()},e.prototype.getSpriteFrame=function(t){for(var e in this.frameList)if(this.frameList[e].name==t)return this.frameList[e]},e.prototype.createNewBullet=function(t,e,o,i,n,s){if(null!=n){var r=this.bulletPool.get();null==r&&(r=cc.instantiate(this.bulletPrefab)),r.parent=this.node;var c=r.getComponent(a.default);c.initView(t,e,this);var h="bullet"+(o-1)+"_";console.log("namestr",h);var l=this.getSpFrameList(h,0,1==o?1:6);c.setIcon(l),c.setPos(i,n),s>0&&c.setLockFish(s),c.run()}},e.prototype.getSpFrameList=function(t,e,o){for(var i=[],n=e;n<o;n++)for(var s in this.frameList)if(this.frameList[s].name==t+""+n){i.push(this.frameList[s]);break}return i},e.prototype.removeBulletNode=function(t){this.bulletPool.put(t)},e.prototype.removeBulletNodeById=function(t){var e=this.node.children;for(var o in e)if(e[o].getComponent(a.default).bulletId==t)return void this.bulletPool.put(e[o])},e.prototype.showHitAni=function(t,e){this.control.gameInfo.checkSelfByUid(t.userId),this.control.gameView.effectManage.createFishNet(e,t)},e.prototype.hitFish=function(t,e,o,i){i.isMonitor&&this.control.sendHitFish(i.userId,t,o.fishId,1,o)},e.prototype.getBulletCountByBatteryId=function(t){var e=this.node.children,o=0;for(var i in e)e[i].getComponent(a.default).userItem.batteryId==t&&(o+=1);return o},e.prototype.getBulletByBulletId=function(t){var e=this.node.children;for(var o in e){var i=e[o].getComponent(a.default);if(i.bulletId==t)return i}return null},e.prototype.getFishByFishId=function(t){return this.control.gameView.fishManage.getFishByFishId(t)},e.prototype.getNewBulletId=function(){return r.default.generateMixed(16)},s([l(cc.Prefab)],e.prototype,"bulletPrefab",void 0),s([l(cc.SpriteAtlas)],e.prototype,"atlas_bullet",void 0),s([h],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CABullet":"CABullet","./CAFishUtil":"CAFishUtil"}],CABullet:[function(t,e,o){"use strict";cc._RF.push(e,"57dc5OgfJlHVYdKTZCHJV8X","CABullet");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=t("./CAFish"),c=t("./CAFishUtil"),h=cc._decorator,l=h.ccclass,p=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.boxCollider=null,e.userItem=null,e.bulletId=null,e.bullteManage=null,e.angle=0,e.pos=null,e.isRun=!1,e.speed=700,e.isLock=!1,e.lockFishId=0,e.aniSpSpeed=10,e}return n(e,t),e.prototype.initView=function(t,e,o){this.node.active=!0,this.userItem=t,this.bulletId=e,this.bullteManage=o,this.boxCollider=this.getComponent(cc.BoxCollider),this.isLock=!1,this.lockFishId=0},e.prototype.setIcon=function(t){this.icon.spriteFrame=t[0],this.boxCollider.size=this.icon.node.getContentSize(),c.default.showFrameAnimation(this.icon,t,t.length/this.aniSpSpeed,!1,!0,-1,null)},e.prototype.setPos=function(t,e){this.angle=t,this.pos=e,this.node.angle=t,this.node.setPosition(e)},e.prototype.update=function(t){if(this.isRun){if(this.isLock){var e=this.bullteManage.getFishByFishId(this.lockFishId);if(e&&e.fishStatus==a.FishStatus.Swim&&0==e.isOutSwimSize){var o=e.getNodePos();this.angle=360*Math.atan2(o.y-this.pos.y,o.x-this.pos.x)/(2*Math.PI)}else this.removeLock()}var i=this.speed*t*Math.cos(2*Math.PI/360*this.angle),n=this.speed*t*Math.sin(2*Math.PI/360*this.angle),s=i+this.pos.x,r=n+this.pos.y,c=this.angle,h=this.bullteManage.node.getContentSize();s<-1*h.width/2?(s=-1*h.width/2+1,c=180-c,this.removeLock()):s>h.width/2&&(s=h.width/2-1,c=180-c,this.removeLock()),r<-1*h.height/2?(r=-1*h.height/2+1,c=360-c,this.removeLock()):r>h.height/2&&(r=h.height/2-1,c=360-c,this.removeLock()),this.setPos(c,cc.v2(s,r))}},e.prototype.run=function(){this.isRun=!0},e.prototype.stopRun=function(){this.isRun=!1},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(r.default);if(1!=this.isLock||this.lockFishId==o.fishId){var i=cc.v2(e.world.aabb.x+e.world.aabb.width/2,e.world.aabb.y+e.world.aabb.height/2);cc.v2(t.world.aabb.x+t.world.aabb.width/2,t.world.aabb.y+t.world.aabb.height/2),o.fishStatus==a.FishStatus.Swim&&(this.bullteManage.hitFish(this.bulletId,1,o,this.userItem),this.bullteManage.showHitAni(this.userItem,cc.v2(i.x,i.y)),this.bullteManage.removeBulletNode(this.node))}},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(){},e.prototype.setLockFish=function(t){this.isLock=!0,this.lockFishId=t},e.prototype.removeLock=function(){this.isLock=!1,this.lockFishId=0},s([p(cc.Sprite)],e.prototype,"icon",void 0),s([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./CADataEntry":"CADataEntry","./CAFish":"CAFish","./CAFishUtil":"CAFishUtil"}],CAComWait:[function(t,e,o){"use strict";cc._RF.push(e,"7a652v6a3pFJ5DZ2BkDHqXT","CAComWait");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cantent=null,e}return n(e,t),e.prototype.initView=function(){this.node.active=!1},e.prototype.showLoading=function(){1!=this.node.active&&(this.node.active=!0)},e.prototype.closeLoading=function(){this.node.active=!1},s([c(cc.Node)],e.prototype,"cantent",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CAControl:[function(t,e,o){"use strict";cc._RF.push(e,"31aabxqF75GEJp+RzNVp3/w","CAControl");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=t("./CAGameInfo"),c=t("./CAGameView"),h=t("./CAI18n"),l=t("./CANetWork"),p=t("./CAAudio"),f=cc._decorator,d=f.ccclass,u=(f.property,function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameView=null,t.gameInfo=null,t.netWork=null,t.i18n=null,t.audioManage=null,t.payoutList=[{payout:20,angle:45},{payout:40,angle:135},{payout:60,angle:225},{payout:80,angle:315},{payout:100,angle:60},{payout:115,angle:180},{payout:130,angle:300},{payout:140,angle:120},{payout:150,angle:240}],t.heartBeattime=0,t.lightAudioID=0,t.unActiontime=0,t}return n(o,e),o.prototype.start=function(){globalThis.playerInfo=t("PlayerInfo").getInstant,this.gameInfo=new r.CAGameInfo,this.audioManage=this.getComponent(p.default),this.audioManage.initView(),this.gameView=this.getComponent(c.default),this.gameView.initView(this),this.netWork=this.getComponent(l.default),this.netWork.initView(this),this.i18n=this.getComponent(h.default),this.i18n.initView("en"),this.heartBeattime=0,this.lightAudioID=0,this.gameInfo.lockTrackFishTypeList=[],this.unActiontime=0,this.onFishEnter(200001,22,120,cc.v2(0,0),0,0,[0]),this.onFishEnter(200002,22,121,cc.v2(0,0),0,0,[0])},o.prototype.playAudio=function(t){return this.audioManage.playAudio(t)},o.prototype.showDialogMessage=function(t,e,o,i){this.gameView.dialog_message.showMessage(t,e,o,i)},o.prototype.hideDialogMessage=function(t){this.gameView.dialog_message.closeView(t)},o.prototype.showTrip=function(t){this.gameView.showTripMsg(t)},o.prototype.showWaitLoading=function(t){t?this.gameView.comWait.showLoading():this.gameView.comWait.closeLoading()},o.prototype.setTrackFish=function(t){this.gameInfo.lockTrackFishTypeList=t,t.length>0&&(this.gameInfo.connType!=a.ConnType.Bullet&&(this.gameInfo.connType=a.ConnType.Bullet,this.gameInfo.selfUserItem.canonId=this.gameInfo.connType,this.sendChangeUserSkill(),this.updateWeaponType(this.gameInfo.selfUserItem.batteryId,this.gameInfo.connType)),this.gameInfo.isLock=!0,this.gameInfo.lockFishId=0,this.gameView.fishManage.checkLockFish(),this.gameView.batteryManage.update(0),this.gameInfo.isAuto=!0,this.gameView.updateBtnAuto(),this.gameView.updateBtnLock(),this.gameView.batteryManage.setBatteryLockIcon(this.gameInfo.selfUserItem.batteryId,this.gameInfo.isLock))},o.prototype.getFishPosByGroup=function(t,e,o){return this.gameView.fishManage.getFishPosByGroup(t,e,o)},o.prototype.getBulletTypeByBaseScore=function(t){return this.gameInfo.getButlletType(t)},o.prototype.sendLeaveRoom=function(){this.netWork.sendLeaveRoom()},o.prototype.sendChangeBaseScore=function(t){var e=this.gameInfo.getNextBaseScore(t),o=this.gameInfo.selfUserItem.userId;this.netWork.sendChangeBaseScore(o,e)},o.prototype.sendChangeUserSkill=function(){var t=this.gameInfo.selfUserItem.userId;this.netWork.sendChangeUserSkill(t)},o.prototype.updateWeaponType=function(t,e){this.gameView.batteryManage.changeBatteryWeapon(t,e)},o.prototype.sendBatteryFire=function(t,e){var o=this,i=this.gameInfo.getBaseScore(),n=this.gameInfo.selfUserItem.userId;if(i*this.gameInfo.roomBet>this.gameInfo.selfUserItem.score){var s=this.i18n.getTripStr("coinNotEnough");this.showTrip(s)}else{var r=this.gameInfo.lockFishId;this.gameInfo.connType==a.ConnType.Light&&(r=this.gameInfo.lightFishId);var c=this.gameView.bullteManage.getNewBulletId();if(this.netWork.sendBatteryFire(n,t,e,i,r,c),this.gameInfo.connType==a.ConnType.Bullet){var h=this.gameInfo.selfUserItem;this.gameView.batteryManage.setBatteryAngle(h.batteryId,e),this.gameView.batteryManage.showFireAniByBattryId(h.batteryId);var l=this.gameView.batteryManage.getBulletStartPos(h.batteryId,e),p=this.getBulletTypeByBaseScore(h.baseScore);this.gameView.bullteManage.createNewBullet(h,c,p,e,l,r)}this.gameInfo.connType==a.ConnType.Light&&(cc.audioEngine.stop(this.lightAudioID),this.playAudio(17).then(function(t){o.lightAudioID=t}))}},o.prototype.sendHitFish=function(t,e,o,i,n){var s=0;if(n.fishConfig.Type==a.FishType.Fish_RotaryTable){var r=Math.floor(Math.random()*this.payoutList.length);s=this.payoutList[r].payout}else if(n.fishConfig.Type==a.FishType.FishBomb_Same){var c=n.getSameFishList();s=this.gameView.fishManage.getSameBombFishHP(c)}this.netWork.sendHitFish(t,e,o,i,!1,s)},o.prototype.sendHitFish2=function(t,e,o,i,n){void 0===n&&(n=!1),this.netWork.sendHitFish(t,e,o,i,n,0)},o.prototype.sendLaserNotice=function(t,e){this.netWork.sendLaserNotice(t,e)},o.prototype.sendDrillNotice=function(t,e){this.netWork.sendDrillNotice(t,e)},o.prototype.onLaserNotice=function(t,e,o){var i=this,n=this.gameView.batteryManage.getBatteryById(e);n.setPaoAngle(o);var s=n.getPaoPos();this.gameView.effectManage.showFish27Tip(n.getBatteryPos(),this.gameInfo.laserHitInfo.winScore*this.gameInfo.roomBet,n.batteryId,2),this.gameView.effectManage.showLaserAni(s,o-90,function(){if(i.gameInfo.checkSelfByUid(t)){if(null!=i.gameInfo.laserHitInfo){var e=i.gameInfo.laserHitInfo,r=i.gameInfo.selfUserItem,c=e.winScore*i.gameInfo.roomBet,h=i.gameView.fishManage.getLaserFishList(s,o,c);for(var l in h)r.isMonitor&&i.sendHitFish2(r.userId,e.bombId,h[l].fishId,3,!0);i.playAudio(4)}i.gameInfo.weaponType=a.WeaponType.Bullet,i.gameInfo.laserHitInfo=null,n.changeWeapon(i.gameInfo.connType),i.gameView.batteryManage.fireEnable=!0}})},o.prototype.onDrillNotice=function(t,e,o){var i=this,n=this.gameView.batteryManage.getBatteryById(e);n.setPaoAngle(o);var s=n.getPaoPos();this.gameView.effectManage.showFish28Tip(n.getBatteryPos(),this.gameInfo.drillHitInfo.winScore*this.gameInfo.roomBet,n.batteryId,5),this.gameView.effectManage.showDrillAni(s,o,function(e){if(i.gameInfo.checkSelfByUid(t)){if(null!=i.gameInfo.drillHitInfo){var o=i.gameInfo.drillHitInfo,s=i.gameInfo.selfUserItem,r=o.winScore*i.gameInfo.roomBet,c=i.gameView.fishManage.getBombFishList(e,r);for(var h in c)s.isMonitor&&i.sendHitFish2(s.userId,o.bombId,c[h].fishId,3,!0);i.playAudio(4)}i.gameInfo.weaponType=a.WeaponType.Bullet,i.gameInfo.drillHitInfo=null,n.changeWeapon(i.gameInfo.connType),i.gameView.batteryManage.fireEnable=!0}})},o.prototype.onUserEnter=function(t){this.gameInfo.addUserItem(t),this.gameInfo.checkSelfByUid(t.userId)?(this.gameView.batteryManage.runNewBattery(t,!0),-1!=[3,4,5].indexOf(t.batteryId)&&(this.gameView.batteryManage.node.angle=180,this.gameView.fishManage.node.angle=180,this.gameView.bullteManage.node.angle=180)):this.gameView.batteryManage.runNewBattery(t,!1)},o.prototype.onUserLeave=function(t){var e=this.gameInfo.getUserItemByUid(t);this.gameView.batteryManage.clearBattery(e.batteryId),this.gameInfo.removeUseItem(t)},o.prototype.onFishEnter=function(t,e,o,i,n,s,a){this.gameView.fishManage.createFish(t,e,o,i,n,s,a)},o.prototype.onFishEnter2=function(t,e,o,i){var n=this;cc.log("onFishEnter2",t);var s=this.gameView.fishManage.getFishByFishId(i),a=s.getWorldPos();s.removeFishNode();for(var r=function(i){cc.tween(c.node).delay(1.5*i).call(function(){for(var s=0;s<12;s++)if(t[12*i+s]){var r=360*s/12;n.gameView.fishManage.createFish(t[12*i+s],e,o,cc.v2(0,0),r,null,null).setPathStartPos(a)}}).start()},c=this,h=0;h<3;h++)r(h)},o.prototype.onChangeBaseScore=function(t,e){var o=this.gameInfo.getUserItemByUid(t);o&&(o.baseScore=e,this.gameView.batteryManage.changeBatteryBaseScore(o.batteryId,o.baseScore),this.gameInfo.checkSelfByUid(o.userId)&&this.gameInfo.setBaseScore(e))},o.prototype.onBatteryFire=function(t,e,o,i,n){var s=this.gameInfo.getUserItemByUid(t);if(s){s.score=s.score-i*this.gameInfo.roomBet,this.gameView.batteryManage.setBatteryUserScore(s.batteryId);var r=this.gameView.batteryManage.getBatteryById(s.batteryId),c=(this.gameView.bullteManage.getBulletByBulletId(e),this.gameInfo.checkSelfByUid(s.userId));if(0==c)if(r.connType==a.ConnType.Bullet){this.gameView.batteryManage.setBatteryAngle(s.batteryId,o),this.gameView.batteryManage.showFireAniByBattryId(s.batteryId);var h=this.gameView.batteryManage.getBulletStartPos(s.batteryId,o),l=this.getBulletTypeByBaseScore(s.baseScore);this.gameView.bullteManage.createNewBullet(s,e,l,o,h,n),this.gameView.lightHitManage.setBatteyLightFish(s.batteryId,null)}else r.connType==a.ConnType.Light&&this.gameView.lightHitManage.setBatteyLightFish(s.batteryId,n);else if(r.connType==a.ConnType.Light){if(c){var p=this.gameInfo.selfUserItem.userId,f=this.gameInfo.lightFishId,d=(l=1,this.gameView.fishManage.getFishByFishId(f));d&&this.sendHitFish(p,e,f,l,d)}this.gameView.lightHitManage.setBatteyLightFish(s.batteryId,n)}else this.gameView.lightHitManage.setBatteyLightFish(s.batteryId,null);this.gameInfo.connType==a.ConnType.Bullet&&(1==(l=this.getBulletTypeByBaseScore(s.baseScore))?c&&this.playAudio(15):c&&this.playAudio(16))}},o.prototype.onFishDeath=function(t){var e=this;this.gameView.bullteManage.removeBulletNodeById(t.bulletId);var o=this.gameView.fishManage.getFishByFishId(t.fishId),i=this.gameInfo.getUserItemByUid(t.uId),n=this.gameView.batteryManage.getBatteryById(i.batteryId),s=t.winScore*this.gameInfo.roomBet,r=this.gameInfo.checkSelfByUid(t.uId);if(this.gameInfo.isLock&&this.gameInfo.lockFishId==t.fishId&&(this.gameInfo.lockFishId=0),this.gameInfo.connType==a.ConnType.Light&&this.gameInfo.lightFishId==t.fishId&&(this.gameInfo.lightFishId=0,n&&(this.gameView.lightHitManage.setBatteyLightFish(i.batteryId,0),n.showLockFishAni(!1,null,null))),i&&-1!=[0,1,2,6,7].indexOf(t.butype)&&(globalThis.playerInfo.useOneScore?i.score=i.score+s:i.winSocre=i.winSocre+s,null==o&&this.gameView.batteryManage.setBatteryUserScore(i.batteryId),this.gameView.batteryManage.showBatteryAddScoreAni(i.batteryId,s)),null!=i&&null!=o){var c=cc.v2(0,0);o&&(c=o.getWorldPos()),n.getPaoPos();var h=n.getIconGoldPos(),l=(n.getTripAniPos(),n.getPaodengAniPos());if(o.fishConfig.Type==a.FishType.FishDoubel_Single)-1!=[3,4,5].indexOf(t.bulletType)?(this.gameView.effectManage.createGoalAni(o.fishConfig.GoalCount,c,h,r),o.showDeathAni()):(this.gameView.batteryManage.setBatteryUserScore(i.batteryId),o.fishConfig.Id<13?(this.gameView.effectManage.createScoreIcon(s,r,i.batteryId,c),this.gameView.effectManage.createGoalAni(o.fishConfig.GoalCount,c,h,r),o.showDeathAni()):o.fishConfig.Id>=13&&o.fishConfig.Id<=18&&(this.gameView.effectManage.createBigFishDeathAni(s,c,l,r,o.fishConfig),o.showDeathAni(),this.playAudio(8),18==o.fishConfig.Id&&(this.playAudio(21),this.gameView.effectManage.showBrokenAni0(c),this.gameView.effectManage.showFish18Tip(n.getBatteryPos(),n.batteryId))));else if(o.fishConfig.Type==a.FishType.FishBomb_Same){this.playAudio(11);var p=o.getSameFishList(),f=this.gameView.fishManage.getFishListByTypeId(p[0]);for(var d in this.gameView.effectManage.showSameBombAni(c),f)f[d].preDeath(),cc.tween(f[d].node).to(1.5,{scale:.5,x:o.node.getPosition().x,y:o.node.getPosition().y}).to(.5,{scale:0}).start();cc.tween(this.node).delay(1).call(function(){e.playAudio(12)}).delay(1).call(function(){for(var o in f)i.isMonitor&&e.sendHitFish2(i.userId,t.bombId,f[o].fishId,3,!0);e.gameView.effectManage.showFish32Tip(n.getBatteryPos(),s,p[0],n.batteryId)}).start(),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}else if(o.fishConfig.Type==a.FishType.FishBomb_Chain){this.playAudio(14),o.preDeath(),cc.tween(o.node).to(.2,{scale:10,angle:0}).call(function(){o.showDeathAni(),e.gameView.batteryManage.setBatteryUserScore(i.batteryId)}).start();var u=o.getNodePos(),y=this.gameView.fishManage.getBombFishList(u,s);cc.tween(this.node).delay(.4).call(function(){var t=function(t){y[t].preDeath(),cc.tween(y[t].node).by(2.5,{angle:675}).to(.5,{scale:0}).call(function(){y[t].showDeathAni()}).start(),e.gameView.effectManage.showChainLightAni(2.5,675,y[t].getWorldPos(),y[t].node.getContentSize().width>y[t].node.getContentSize().height?y[t].node.getContentSize().width/254*y[t].node.getChildByName("icon_sprite").scale:y[t].node.getContentSize().height/254*y[t].node.getChildByName("icon_sprite").scale)};for(var o in y)t(o);e.gameView.effectManage.showFish31Tip(n.getBatteryPos(),s,n.batteryId)}).delay(3).call(function(){for(var o in y)i.isMonitor&&e.sendHitFish2(i.userId,t.bombId,y[o].fishId,3,!0)}).start()}else if(o.fishConfig.Type==a.FishType.FishBomb_ThereBomb)this.gameView.effectManage.showFish26Tip(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,9),this.gameView.effectManage.showThereBombAni(n.batteryId),cc.tween(this.node).delay(3).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.node.convertToNodeSpaceAR(e.gameView.batteryManage.getBatteryById(0).getBatteryBombTherePos()),n=e.gameView.fishManage.getBombFishList(o,s/3);for(var a in n)e.sendHitFish2(i.userId,t.bombId,n[a].fishId,3,!0)}}).delay(3).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.node.convertToNodeSpaceAR(e.gameView.batteryManage.getBatteryById(4).getBatteryBombTherePos()),n=e.gameView.fishManage.getBombFishList(o,s/3);for(var a in n)e.sendHitFish2(i.userId,t.bombId,n[a].fishId,3,!0)}}).delay(3).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.node.convertToNodeSpaceAR(e.gameView.batteryManage.getBatteryById(2).getBatteryBombTherePos()),n=e.gameView.fishManage.getBombFishList(o,s/3);for(var a in n)e.sendHitFish2(i.userId,t.bombId,n[a].fishId,3,!0)}}).start(),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId);else if(o.fishConfig.Type==a.FishType.FishBomb_Laser)this.gameView.effectManage.showLaserBombAni(o.getWorldPos(),n.getBatteryPos(),n.batteryId),i.isMonitor&&(this.gameInfo.laserHitInfo=t,this.gameInfo.weaponType=a.WeaponType.Laser,this.gameInfo.connType==a.ConnType.Light&&(this.gameInfo.lightFishId=0,this.gameView.lightHitManage.setBatteyLightFish(i.batteryId,0),this.gameView.onClick_lock(0)),cc.tween(this.node).delay(1).call(function(){n.setLaserMode(!0)}).start()),o.showDeathAni(),this.playAudio(20);else if(o.fishConfig.Type==a.FishType.FishBomb_Drill)this.gameView.effectManage.showDrillBombAni(o.getWorldPos(),n.getBatteryPos(),n.batteryId),i.isMonitor&&(this.gameInfo.drillHitInfo=t,this.gameInfo.weaponType=a.WeaponType.Drill,this.gameInfo.connType==a.ConnType.Light&&(this.gameInfo.lightFishId=0,this.gameView.lightHitManage.setBatteyLightFish(i.batteryId,0),this.gameView.onClick_lock(0)),cc.tween(this.node).delay(1).call(function(){n.setDrillMode(!0)}).start()),o.showDeathAni(),this.playAudio(20);else if(o.fishConfig.Type==a.FishType.Fish_RotaryTable)this.gameView.effectManage.showBrokenAni0(c),this.gameView.effectManage.showRotaryTableAni(o.getWorldPos(),n.getRotaryTablePos(),s,s/i.baseScore,9),cc.tween(this.node).delay(9).call(function(){e.gameView.batteryManage.setBatteryUserScore(i.batteryId)}),o.showDeathAni();else if(o.fishConfig.Type==a.FishType.Fish_FlamingDragon){for(var g=o.getWorldFishPosList(),_=0;_<g.length;_++)this.gameView.effectManage.showCoinBrokenAni(g[_]);this.playAudio(13),this.playAudio(23),s/i.baseScore>=200?(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!0,n.batteryId,o.fishConfig.Id,7),this.gameView.effectManage.showFishAni(o.getWorldPos(),o.fishConfig.Id),cc.tween(this.node).delay(7).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.getFullBombFish();for(var n in o)e.sendHitFish2(i.userId,t.bombId,o[n].fishId,3,!0)}}).start()):(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!1,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishIconAndScore(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,o.fishConfig.Id)),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}else if(o.fishConfig.Type==a.FishType.Fish_FireDragonTurtle){for(g=o.getWorldFishPosList(),_=0;_<g.length;_++)this.gameView.effectManage.showCoinBrokenAni(g[_]);this.playAudio(13),this.playAudio(23),s/i.baseScore>=200?(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!0,n.batteryId,o.fishConfig.Id,6),this.gameView.effectManage.showFishAni(o.getWorldPos(),o.fishConfig.Id),cc.tween(this.node).delay(6).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.getFullBombFish();for(var n in o)e.sendHitFish2(i.userId,t.bombId,o[n].fishId,3,!0)}}).start()):(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!1,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishIconAndScore(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,o.fishConfig.Id)),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}else if(o.fishConfig.Type==a.FishType.Fish_AlmightyOctopus){for(g=o.getWorldFishPosList(),_=0;_<g.length;_++)this.gameView.effectManage.showCoinBrokenAni(g[_]);this.playAudio(13),this.playAudio(23),s/i.baseScore>=200?(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!0,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishAni(o.getWorldPos(),o.fishConfig.Id),cc.tween(this.node).delay(3.5).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.getFullBombFish();for(var n in o)e.sendHitFish2(i.userId,t.bombId,o[n].fishId,3,!0)}}).start()):(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!1,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishIconAndScore(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,o.fishConfig.Id)),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}else if(o.fishConfig.Type==a.FishType.Fish_EmperorCrab){for(g=o.getWorldFishPosList(),_=0;_<g.length;_++)this.gameView.effectManage.showCoinBrokenAni(g[_]);this.playAudio(13),this.playAudio(23),s/i.baseScore>=200?(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!0,n.batteryId,o.fishConfig.Id,10),this.gameView.effectManage.showFishAni(o.getWorldPos(),o.fishConfig.Id),cc.tween(this.node).delay(10).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.getFullBombFish();for(var n in o)e.sendHitFish2(i.userId,t.bombId,o[n].fishId,3,!0)}}).start()):(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!1,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishIconAndScore(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,o.fishConfig.Id)),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}else if(o.fishConfig.Type==a.FishType.Fish_DarknessMonster){for(g=o.getWorldFishPosList(),_=0;_<g.length;_++)this.gameView.effectManage.showCoinBrokenAni(g[_]);this.playAudio(13),this.playAudio(23),s/i.baseScore>=200?(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!0,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishAni(o.getWorldPos(),o.fishConfig.Id),cc.tween(this.node).delay(5).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.getFullBombFish();for(var n in o)e.sendHitFish2(i.userId,t.bombId,o[n].fishId,3,!0)}}).start()):(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!1,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishIconAndScore(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,o.fishConfig.Id)),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}else if(o.fishConfig.Type==a.FishType.Fish_AncientCrocodile){for(g=o.getWorldFishPosList(),_=0;_<g.length;_++)this.gameView.effectManage.showCoinBrokenAni(g[_]);this.playAudio(13),this.playAudio(23),s/i.baseScore>=200?(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!0,n.batteryId,o.fishConfig.Id,3.6),this.gameView.effectManage.showFishAni(o.getWorldPos(),o.fishConfig.Id),cc.tween(this.node).delay(3.6).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.getFullBombFish();for(var n in o)e.sendHitFish2(i.userId,t.bombId,o[n].fishId,3,!0)}}).start()):(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!1,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishIconAndScore(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,o.fishConfig.Id)),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}else if(o.fishConfig.Type==a.FishType.Fish_ThunderDragon){for(g=o.getWorldFishPosList(),_=0;_<g.length;_++)this.gameView.effectManage.showCoinBrokenAni(g[_]);this.playAudio(13),this.playAudio(23),s/i.baseScore>=200?(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!0,n.batteryId,o.fishConfig.Id,9.5),this.gameView.effectManage.showFishAni(o.getWorldPos(),o.fishConfig.Id),cc.tween(this.node).delay(9.5).call(function(){if(i.isMonitor){var o=e.gameView.fishManage.getFullBombFish();for(var n in o)e.sendHitFish2(i.userId,t.bombId,o[n].fishId,3,!0)}}).start()):(this.gameView.effectManage.showFishTip(n.getBatteryPos(),s,!1,n.batteryId,o.fishConfig.Id,5),this.gameView.effectManage.showFishIconAndScore(o.getWorldPos(),n.getBatteryPos(),s,n.batteryId,o.fishConfig.Id)),o.showDeathAni(),this.gameView.batteryManage.setBatteryUserScore(i.batteryId)}}},o.prototype.onStrikeResult=function(t,e){var o=this.gameInfo.getUserItemByUid(t);this.gameView.batteryManage.getBatteryById(o.batteryId).updateHappyPlayScore(e),o&&(globalThis.playerInfo.useOneScore?o.score=o.score+e:o.winSocre=o.winSocre+e,this.gameView.batteryManage.setBatteryUserScore(o.batteryId))},o.prototype.onUserScoreChange=function(t,e){var o=this.gameInfo.getUserItemByUid(t);o&&(o.score=e,this.gameView.batteryManage.setBatteryUserScore(o.batteryId))},o.prototype.showDialogMessage1=function(t){this.gameView.dialog_unAction.showMessage(t)},o.prototype.setMap=function(t){this.gameView.mapManage.setMap(t)},o.prototype.switchFishGroupMap=function(t){var e=this;this.gameView.batteryManage.fireEnable=!1;var o=this.gameView.fishManage.getAllFish(),i=this.gameView.mapManage.getMapAngle(t),n=this.gameView.mapManage.getMapSpeed(t);for(var s in o)o[s].showOutMoveAni(i,n);var a=-1;this.playAudio(7).then(function(t){a=t}),this.gameView.showSwitchFishGroupMapAni(t),cc.tween(this.node).delay(9).call(function(){e.gameView.batteryManage.fireEnable=!0,e.netWork.sendChangeScene()}).delay(1).call(function(){-1!=a&&cc.audioEngine.stopEffect(a)}).start()},o.prototype.update=function(t){var e=this;cc.isValid(this.node)&&(this.heartBeattime+=t,this.heartBeattime>=5&&(this.heartBeattime=0,this.netWork.sendHeartBeat()),this.unActiontime+=t,this.unActiontime>=180&&(this.unActiontime=0,this.showDialogMessage1(function(){e.sendLeaveRoom()})))},s([d],o)}(cc.Component));o.default=u,cc._RF.pop()},{"./CAAudio":"CAAudio","./CADataEntry":"CADataEntry","./CAGameInfo":"CAGameInfo","./CAGameView":"CAGameView","./CAI18n":"CAI18n","./CANetWork":"CANetWork",PlayerInfo:void 0}],CADataEntry:[function(t,e,o){"use strict";cc._RF.push(e,"81499vRTVRLQa1XRrGn7Vmp","CADataEntry"),Object.defineProperty(o,"__esModule",{value:!0}),o.ConnType=o.WeaponType=o.FishStatus=o.PathType=o.FishType=o.UserItem=void 0;o.UserItem=function(){this.niceName=null,this.headId=null,this.userId=null,this.userType=null,this.score=null,this.winSocre=null,this.canonId=null,this.baseScore=null,this.seatId=null,this.batteryId=null,this.isMonitor=null},function(t){t[t.FishDoubel_Single=1]="FishDoubel_Single",t[t.FishBomb_Same=2]="FishBomb_Same",t[t.FishBomb_Chain=3]="FishBomb_Chain",t[t.FishBomb_ThereBomb=4]="FishBomb_ThereBomb",t[t.FishBomb_Laser=5]="FishBomb_Laser",t[t.FishBomb_Drill=6]="FishBomb_Drill",t[t.Fish_RotaryTable=7]="Fish_RotaryTable",t[t.Fish_FlamingDragon=8]="Fish_FlamingDragon",t[t.Fish_FireDragonTurtle=9]="Fish_FireDragonTurtle",t[t.Fish_AlmightyOctopus=10]="Fish_AlmightyOctopus",t[t.Fish_EmperorCrab=11]="Fish_EmperorCrab",t[t.Fish_DarknessMonster=12]="Fish_DarknessMonster",t[t.Fish_AncientCrocodile=13]="Fish_AncientCrocodile",t[t.Fish_ThunderDragon=14]="Fish_ThunderDragon"}(o.FishType||(o.FishType={})),function(t){t[t.Line=1]="Line",t[t.Bezier=2]="Bezier"}(o.PathType||(o.PathType={})),function(t){t[t.Swim=1]="Swim",t[t.Wait=2]="Wait",t[t.Out=3]="Out",t[t.Dead=4]="Dead"}(o.FishStatus||(o.FishStatus={})),function(t){t[t.Bullet=1]="Bullet",t[t.Laser=2]="Laser",t[t.Wait=3]="Wait",t[t.Drill=4]="Drill"}(o.WeaponType||(o.WeaponType={})),function(t){t[t.Bullet=1]="Bullet",t[t.Light=2]="Light"}(o.ConnType||(o.ConnType={})),cc._RF.pop()},{}],CADialogHelp:[function(t,e,o){"use strict";cc._RF.push(e,"ff2d8tImu1EeqRRieYpiL2t","CADialogHelp");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_close=null,e.control=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.initView=function(t){this.control=t,this.btn_close.on("click",this.onClick_close.bind(this)),this.show(!1)},e.prototype.show=function(t){this.node.active=t},e.prototype.onClick_close=function(){this.control.playAudio(6),this.show(!1)},s([c(cc.Node)],e.prototype,"btn_close",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CADialogMessage:[function(t,e,o){"use strict";cc._RF.push(e,"669d0Q8aKtELpoxQpIBE4JY","CADialogMessage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_ok=null,e.btn_cancel=null,e.lbl_message=null,e.msgType=null,e.control=null,e.funC=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.initView=function(t){this.control=t,this.btn_ok.on("click",this.onClick_ok.bind(this)),this.btn_cancel.on("click",this.onClick_cancel.bind(this)),this.show(!1)},e.prototype.show=function(t){this.node.active=t},e.prototype.closeView=function(t){this.msgType==t&&(this.show(!1),this.funC=null),this.control.playAudio(6)},e.prototype.onClick_ok=function(){this.control.playAudio(6),this.show(!1),null!=this.funC&&(this.funC("ok"),this.funC=null)},e.prototype.onClick_cancel=function(){this.control.playAudio(6),this.show(!1),null!=this.funC&&(this.funC("cancel"),this.funC=null)},e.prototype.showMessage=function(t,e,o,i){this.msgType=t,this.funC=i,this.lbl_message.string=o,this.show(!0),"ok"==e?(this.btn_ok.setPosition(0,-90),this.btn_ok.active=!0,this.btn_cancel.active=!1):"ok_cancel"==e&&(this.btn_ok.setPosition(-100,-90),this.btn_ok.active=!0,this.btn_cancel.setPosition(100,-90),this.btn_cancel.active=!0)},s([c(cc.Node)],e.prototype,"btn_ok",void 0),s([c(cc.Node)],e.prototype,"btn_cancel",void 0),s([c(cc.Label)],e.prototype,"lbl_message",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CADialogMsgTestRoom:[function(t,e,o){"use strict";cc._RF.push(e,"4ecd0s+YG9CaJ2586az8ztC","CADialogMsgTestRoom");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_ok=null,e.btn_cancel=null,e}return n(e,t),e.prototype.initView=function(){var t=this;this.btn_ok.on(cc.Node.EventType.TOUCH_END,function(){t.closeDialog()}),this.btn_cancel.on(cc.Node.EventType.TOUCH_END,function(){t.closeDialog()}),1==globalThis.Lhjconfig.IsTestRoom?this.showDialog():this.closeDialog()},e.prototype.showDialog=function(){this.node.active=!0},e.prototype.closeDialog=function(){this.node.active=!1},e.prototype.isVisible=function(){return this.node.active},s([c(cc.Node)],e.prototype,"btn_ok",void 0),s([c(cc.Node)],e.prototype,"btn_cancel",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CADialogSetting:[function(t,e,o){"use strict";cc._RF.push(e,"be4a64nfzFN7KpnmUNDLUP4","CADialogSetting");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_close=null,e.btn_music=null,e.btn_sound=null,e.control=null,e}return n(e,t),e.prototype.initView=function(t){this.control=t,this.btn_close.on("click",this.onClick_close.bind(this)),this.btn_music.on("click",this.onClick_music.bind(this)),this.btn_sound.on("click",this.onClick_sound.bind(this));var e=cc.sys.localStorage.getItem("CABY_MusicChk");null==e&&(e=1),this.setBtnVolumeStatus("music",1==e);var o=cc.sys.localStorage.getItem("CABY_SoundChk");null==o&&(o=1),this.setBtnVolumeStatus("sound",1==o),this.show(!1)},e.prototype.show=function(t){this.node.active=t,1==t&&(this.setBtnVolumeStatus("music",cc.audioEngine.getMusicVolume()>0),this.setBtnVolumeStatus("sound",cc.audioEngine.getEffectsVolume()>0))},e.prototype.onClick_close=function(){this.control.playAudio(6),this.show(!1)},e.prototype.setBtnVolumeStatus=function(t,e){var o=e?1:0;"music"==t?(cc.audioEngine.setMusicVolume(o),cc.sys.localStorage.setItem("CABY_MusicChk",o),this.btn_music.getChildByName("icon_1").active=e,this.btn_music.getChildByName("icon_2").active=!e):(cc.audioEngine.setEffectsVolume(o),cc.sys.localStorage.setItem("CABY_SoundChk",o),this.btn_sound.getChildByName("icon_1").active=e,this.btn_sound.getChildByName("icon_2").active=!e)},e.prototype.onClick_music=function(){this.control.playAudio(6),cc.audioEngine.getMusicVolume()>=1?this.setBtnVolumeStatus("music",!1):this.setBtnVolumeStatus("music",!0)},e.prototype.onClick_sound=function(){this.control.playAudio(6),cc.audioEngine.getEffectsVolume()>=1?this.setBtnVolumeStatus("sound",!1):this.setBtnVolumeStatus("sound",!0)},s([c(cc.Node)],e.prototype,"btn_close",void 0),s([c(cc.Node)],e.prototype,"btn_music",void 0),s([c(cc.Node)],e.prototype,"btn_sound",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CADialogUnAction:[function(t,e,o){"use strict";cc._RF.push(e,"f5956mUf75CHLIW5AysJek9","CADialogUnAction");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_ok=null,e.btn_cancel=null,e.lbl_message=null,e.control=null,e.funC=null,e.time=0,e.str_1="Opps,Game will exit in ",e.str_2=" seconds (C001)",e}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(t){this.time>0&&(this.time+=t,this.time>=30?(this.show(!1),this.control.unActiontime=0,this.time=0,null!=this.funC&&this.funC()):this.lbl_message.string=this.str_1+Math.floor(30-this.time)+this.str_2)},e.prototype.initView=function(t){this.control=t,this.btn_ok.on("click",this.onClick_ok.bind(this)),this.btn_cancel.on("click",this.onClick_cancel.bind(this)),this.show(!1),this.time=0},e.prototype.show=function(t){this.node.active=t},e.prototype.onClick_ok=function(){this.control.playAudio(6),this.show(!1),this.control.unActiontime=0,this.time=0},e.prototype.onClick_cancel=function(){this.control.playAudio(6),this.show(!1),this.control.unActiontime=0,this.time=0,null!=this.funC&&this.funC()},e.prototype.showMessage=function(t){this.funC=t,this.time=.02,this.show(!0)},s([c(cc.Node)],e.prototype,"btn_ok",void 0),s([c(cc.Node)],e.prototype,"btn_cancel",void 0),s([c(cc.Label)],e.prototype,"lbl_message",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CADrillFish:[function(t,e,o){"use strict";cc._RF.push(e,"722e8X1dOVCTrtONPftuUoO","CADrillFish");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drill=null,e.broken=null,e.angle=0,e.pos=null,e.isRun=!1,e.speed=1e3,e.control=null,e}return n(e,t),e.prototype.setPos=function(t,e){this.angle=t,this.pos=e,this.node.angle=t,this.node.setPosition(e)},e.prototype.update=function(t){if(this.isRun){var e=this.speed*t*Math.cos(2*Math.PI/360*this.angle),o=this.speed*t*Math.sin(2*Math.PI/360*this.angle),i=e+this.pos.x,n=o+this.pos.y,s=this.angle,a={width:1280,height:720};i<-1*a.width/2?(i=-1*a.width/2+1,s=180-s,this.control.playAudio(27)):i>a.width/2&&(i=a.width/2-1,s=180-s,this.control.playAudio(27)),n<-1*a.height/2?(n=-1*a.height/2+1,s=360-s,this.control.playAudio(27)):n>a.height/2&&(n=a.height/2-1,s=360-s,this.control.playAudio(27)),this.setPos(s,cc.v2(i,n))}},e.prototype.run=function(t){var e=this;this.control=t,this.angle=this.node.angle,this.pos=this.node.getPosition(),this.isRun=!0,cc.tween(this.node).delay(4).call(function(){e.control.playAudio(13),e.stopRun(),e.drill.active=!1,e.broken.active=!0,e.broken.getComponent(cc.Animation).play()}).start()},e.prototype.stopRun=function(){this.isRun=!1},s([c(cc.Node)],e.prototype,"drill",void 0),s([c(cc.Node)],e.prototype,"broken",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CAEffectManage:[function(t,e,o){"use strict";cc._RF.push(e,"ddef8yv+s1OG5BFRfMN4kRf","CAEffectManage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CABatteryTitle"),r=t("./CAFishNet"),c=t("./CAFishUtil"),h=t("./CARotaryTable"),l=t("./CAScore"),p=cc._decorator,f=p.ccclass,d=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.atlas_effect_list=[],e.layer_effect_down=null,e.layer_effect_mid=null,e.layer_effect_up=null,e.fishNetPrefab=null,e.scorePrefab=null,e.goldPrefab=null,e.laser_Prefab=null,e.drill_Prefab=null,e.bigFishDeathPre=null,e.coin_broken_Prefab=null,e.broken_ani_0_Prefab=null,e.bomb_same_Prefab=null,e.chain_light_Pre=null,e.title_Pre=null,e.fish_icon_and_score_Pre=null,e.fish_ani_19_Pre=null,e.fish_ani_20_Pre=null,e.fish_ani_21_Pre=null,e.fish_ani_22_Pre=null,e.fish_ani_23_Pre=null,e.fish_ani_24_Pre=null,e.fish_ani_25_Pre=null,e.fish_ani_26_Pre=null,e.fish_ani_27_Pre=null,e.fish_ani_28_Pre=null,e.fish_ani_29_Pre=null,e.control=null,e.fishNetPool=null,e.frameList=null,e.deathAniSpSpeed=10,e}return n(e,t),e.prototype.start=function(){},e.prototype.initView=function(t){this.control=t,this.fishNetPool=new cc.NodePool,this.frameList=[];for(var e=0;e<this.atlas_effect_list.length;e++)this.frameList=this.frameList.concat(this.atlas_effect_list[e].getSpriteFrames());this.node.removeAllChildren(),this.layer_effect_down.removeAllChildren(),this.layer_effect_mid.removeAllChildren()},e.prototype.getSpFrameList=function(t,e,o){for(var i=[],n=e;n<o;n++)for(var s in this.frameList)if(this.frameList[s].name==t+""+n){i.push(this.frameList[s]);break}return i},e.prototype.getSpFrame=function(t){var e=null;for(var o in this.frameList)if(this.frameList[o].name==t){e=this.frameList[o];break}return e},e.prototype.createFishNet=function(t,e){var o=this.fishNetPool.get();null==o&&(o=cc.instantiate(this.fishNetPrefab)),o.parent=this.node;var i=this.node.convertToNodeSpaceAR(t),n=o.getComponent(r.default);if(1==this.control.getBulletTypeByBaseScore(e.baseScore)){var s="wang"+e.batteryId,a=this.getSpFrame(s);n.initView(this,a,i)}else s="blast1_",a=this.getSpFrameList(s,0,7),n.initView1(this,a,i)},e.prototype.removeFishNetNode=function(t){this.fishNetPool.put(t)},e.prototype.createScoreIcon=function(t,e,o,i){var n=this.node.convertToNodeSpaceAR(i),s=cc.instantiate(this.scorePrefab);s.setPosition(n),s.parent=this.node,s.getComponent(l.default).showAni(t,e,o),this.control.playAudio(5)},e.prototype.createScoreIconMove=function(t,e,o,i,n,s){i=this.node.convertToNodeSpaceAR(i),n=this.node.convertToNodeSpaceAR(n);var a=cc.instantiate(this.scorePrefab);a.setPosition(i),a.parent=this.layer_effect_mid,a.getComponent(l.default).showMoveAni(t,e,o,i,n,s)},e.prototype.createGoalAni=function(t,e,o,i){for(var n=this.layer_effect_mid.convertToNodeSpaceAR(e),s=this.layer_effect_mid.convertToNodeSpaceAR(o),a=Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2))/400,r=[cc.v2(-10,0),cc.v2(10,0),cc.v2(0,-10),cc.v2(0,10)],h=function(t){var e=cc.instantiate(l.goldPrefab);e.setPosition(n.x+r[t%4].x,n.y+r[t%4].y),e.parent=l.node,e.scale=0;var o=e.getComponent(cc.Sprite),h="coin0_";0==i&&(h="coin0_");var p=l.getSpFrameList(h,0,18);cc.tween(e).delay(.1*t).call(function(){e.scale=.7,c.default.showFrameAnimation(o,p,1,!1,!0,-1,null)}).by(.2,{position:cc.v3(0,130,0)}).by(.2,{position:cc.v3(0,-130,0)}).by(.15,{position:cc.v3(0,30,0)}).by(.15,{position:cc.v3(0,-30,0)}).delay(.4).to(a,{position:cc.v3(s),scale:.4}).delay(.1).call(function(){e.removeFromParent()}).start()},l=this,p=0;p<t;p++)h(p);this.control.playAudio(4)},e.prototype.createBigFishDeathAni=function(t,e,o,i,n){var s=this,a=this.layer_effect_mid.convertToNodeSpaceAR(e),r=this.layer_effect_mid.convertToNodeSpaceAR(o),h=cc.instantiate(this.bigFishDeathPre);h.parent=this.layer_effect_mid,h.setPosition(a),cc.tween(h).to(2,{x:r.x,y:r.y}).delay(3).call(function(){h.removeFromParent()}).start();var l=h.getChildByName("bigFish");cc.tween(l).to(6,{angle:720}).start();var p=this.control.gameView.fishManage.getDeadSpByFish(n);c.default.showFrameAnimation(l.getComponent(cc.Sprite),p,p.length/this.deathAniSpSpeed,!1,!0,3,function(){});var f=0,d=h.getChildByName("scoreLabel").getComponent(cc.Label),u=0,y=Math.ceil(t/40);this.schedule(function(){(u+=y)>t&&(u=t),++f%10==0&&(s.control.playAudio(28),10==f?s.control.playAudio(29):20==f?s.control.playAudio(30):30==f?s.control.playAudio(31):40==f&&s.control.playAudio(32)),d.string=(u/globalThis.playerInfo.exchangeRate).toFixed(2)},.1,40)},e.prototype.showSameBombAni=function(t){var e=this.node.convertToNodeSpaceAR(t),o=cc.instantiate(this.bomb_same_Prefab);o.parent=this.layer_effect_down,o.setPosition(e),cc.tween(o).delay(2).call(function(){o.removeFromParent()}).start()},e.prototype.showCoinBrokenAni=function(t){var e=this.node.convertToNodeSpaceAR(t),o=cc.instantiate(this.broken_ani_0_Prefab);o.setPosition(e.x,e.y),o.parent=this.node;var i=this.getSpFrameList("coin1_",0,32),n=o.getComponent(cc.Sprite);n.spriteFrame=i[0],c.default.showFrameAnimation(n,i,2,!1,!1,1,function(){o.removeFromParent()})},e.prototype.showBrokenAni0=function(t){var e=this.node.convertToNodeSpaceAR(t),o=cc.instantiate(this.coin_broken_Prefab);o.setPosition(e.x,e.y),o.parent=this.node,o.scale=6;var i=this.getSpFrameList("explose_",0,34),n=o.getComponent(cc.Sprite);n.spriteFrame=i[0],c.default.showFrameAnimation(n,i,1,!1,!1,1,function(){o.removeFromParent()})},e.prototype.showLaserAni=function(t,e,o){var i=this.node.convertToNodeSpaceAR(t),n=cc.instantiate(this.laser_Prefab);n.parent=this.node,n.setPosition(i),n.angle=e,n.getChildByName("icon").getComponent(cc.Animation).play();var s=0;this.control.playAudio(19).then(function(t){s=t}),cc.tween(n).delay(.4).call(function(){o()}).delay(.4).call(function(){cc.audioEngine.stopEffect(s),n.removeFromParent()}).start()},e.prototype.showDrillAni=function(t,e,o){var i=this,n=this.node.convertToNodeSpaceAR(t),s=cc.instantiate(this.drill_Prefab);s.parent=this.node,s.angle=e,s.setPosition(n),s.getComponent("CADrillFish").run(this.control),cc.tween(s).delay(6).call(function(){o(i.node.convertToWorldSpaceAR(s.getPosition())),s.removeFromParent()}).start()},e.prototype.showChainLightAni=function(t,e,o,i){var n=this.node.convertToNodeSpaceAR(o),s=cc.instantiate(this.chain_light_Pre);s.parent=this.node,s.setPosition(n),s.setScale(i),cc.tween(s).by(t,{angle:e}).to(.5,{scale:0}).call(function(){s.removeFromParent()}).start()},e.prototype.showFishHitAni=function(){},e.prototype.showFish18Tip=function(t,e){var o=this.node.convertToNodeSpaceAR(t),i=cc.instantiate(this.title_Pre);i.parent=this.node,i.setPosition(o);var n=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&n++,-1!=[3,4,5].indexOf(e)&&n++,1!=n&&(i.angle=180),i.getComponent(a.default).initView(this.control),i.getComponent(a.default).showFish18Tip(function(){i.removeFromParent()})},e.prototype.showFish26Tip=function(t,e,o,i,n){var s=this.node.convertToNodeSpaceAR(t),r=this.node.convertToNodeSpaceAR(e),c=cc.instantiate(this.title_Pre);c.parent=this.node,c.setPosition(s);var h=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&h++,-1!=[3,4,5].indexOf(i)&&h++,1!=h&&(c.angle=180),c.getComponent(a.default).initView(this.control),c.getComponent(a.default).showFish26Tip(o,n,function(){c.removeFromParent()}),cc.tween(c).to(1,{x:r.x,y:r.y}).start()},e.prototype.showFish27Tip=function(t,e,o,i){var n=this.node.convertToNodeSpaceAR(t),s=cc.instantiate(this.title_Pre);s.parent=this.node,s.setPosition(n);var r=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&r++,-1!=[3,4,5].indexOf(o)&&r++,1!=r&&(s.angle=180),s.getComponent(a.default).initView(this.control),s.getComponent(a.default).showFish27Tip(e,i,function(){s.removeFromParent()})},e.prototype.showFish28Tip=function(t,e,o,i){var n=this.node.convertToNodeSpaceAR(t),s=cc.instantiate(this.title_Pre);s.parent=this.node,s.setPosition(n);var r=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&r++,-1!=[3,4,5].indexOf(o)&&r++,1!=r&&(s.angle=180),s.getComponent(a.default).initView(this.control),s.getComponent(a.default).showFish28Tip(e,i,function(){s.removeFromParent()})},e.prototype.showFish31Tip=function(t,e,o){var i=this.node.convertToNodeSpaceAR(t),n=cc.instantiate(this.title_Pre);n.parent=this.node,n.setPosition(i);var s=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&s++,-1!=[3,4,5].indexOf(o)&&s++,1!=s&&(n.angle=180),n.getComponent(a.default).initView(this.control),n.getComponent(a.default).showFish31Tip(e,function(){n.removeFromParent()})},e.prototype.showFish32Tip=function(t,e,o,i){var n=this.node.convertToNodeSpaceAR(t),s=cc.instantiate(this.title_Pre);s.parent=this.node,s.setPosition(n);var r=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&r++,-1!=[3,4,5].indexOf(i)&&r++,1!=r&&(s.angle=180),s.getComponent(a.default).initView(this.control),s.getComponent(a.default).showFish32Tip(e,o,function(){s.removeFromParent()})},e.prototype.showFishTip=function(t,e,o,i,n,s){var r=this.node.convertToNodeSpaceAR(t),c=cc.instantiate(this.title_Pre);c.parent=this.node,c.setPosition(r);var h=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&h++,-1!=[3,4,5].indexOf(i)&&h++,1!=h&&(c.angle=180);var l="title"+n+(o?"_power":"_normal");c.getComponent(a.default).initView(this.control),c.getComponent(a.default).showFishTip(e,l,o,s,n,function(){c.removeFromParent()})},e.prototype.showFishIconAndScore=function(t,e,o,i,n){var s=this.node.convertToNodeSpaceAR(t),a=this.node.convertToNodeSpaceAR(e),r=cc.instantiate(this.fish_icon_and_score_Pre);r.parent=this.node,r.setPosition(s);var h=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&h++,-1!=[3,4,5].indexOf(i)&&h++,1!=h&&(r.angle=180);var l=this.getSpFrameList("glass"+n+"_",0,7),p=r.getChildByName("icon").getComponent(cc.Sprite);p.spriteFrame=l[0],c.default.showFrameAnimation(p,l,1,!1,!0,-1,function(){}),cc.tween(r).to(2,{x:a.x,y:a.y+320}).delay(3).call(function(){r.removeFromParent()}).start();var f=r.getChildByName("scoreLabel").getComponent(cc.Label),d=0,u=Math.ceil(o/40);this.schedule(function(){(d+=u)>o&&(d=o),f.string=(d/globalThis.playerInfo.exchangeRate).toFixed(2)},.1,40)},e.prototype.showFishAni=function(t,e){var o=this.layer_effect_up.convertToNodeSpaceAR(t);switch(e){case 19:var i=cc.instantiate(this.fish_ani_19_Pre);i.parent=this.layer_effect_up,i.setPosition(o);var n=this.getSpFrameList("lightning_",0,16),s=i.getChildByName("light").getComponent(cc.Sprite),a=this.getSpFrameList("ball19_",0,13),r=i.getChildByName("ball").getComponent(cc.Sprite);r.spriteFrame=a[0],c.default.showFrameAnimation(r,a,1,!1,!0,-1,function(){});var h=-1;this.control.playAudio(9).then(function(t){h=t}),cc.tween(i).to(1,{x:0,y:0}).call(function(){i.getChildByName("fish19_0").active=!0,i.getChildByName("fish19_1").active=!0,i.getChildByName("fish19_2").active=!0,i.getChildByName("fish19_3").active=!0,i.getChildByName("fish19_0").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_1").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_2").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_3").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),s.node.active=!0,s.spriteFrame=n[0],c.default.showFrameAnimation(s,n,1,!1,!1,1,function(){s.node.active=!1})}).delay(2).call(function(){i.getChildByName("fish19_0").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_1").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_2").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_3").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),s.node.active=!0,s.spriteFrame=n[0],c.default.showFrameAnimation(s,n,1,!1,!1,1,function(){s.node.active=!1})}).delay(2).call(function(){i.getChildByName("fish19_0").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_1").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_2").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),i.getChildByName("fish19_3").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),s.node.active=!0,s.spriteFrame=n[0],c.default.showFrameAnimation(s,n,1,!1,!1,1,function(){s.node.active=!1})}).delay(2).to(.4,{opacity:0}).call(function(){i.removeFromParent(),-1!=h&&cc.audioEngine.stopEffect(h)}).start();break;case 20:var l=cc.instantiate(this.fish_ani_20_Pre);l.parent=this.layer_effect_up,l.setPosition(o);var p=this.getSpFrameList("fireTurtle_",0,13),f=l.getChildByName("fireTurtle").getComponent(cc.Sprite),d=this.getSpFrameList("bomb_",0,32),u=l.getChildByName("bomb").getComponent(cc.Sprite),y=this.getSpFrameList("flame_",0,20),g=l.getChildByName("flame").getComponent(cc.Sprite),_=this.getSpFrameList("lightning_",0,16),m=l.getChildByName("light").getComponent(cc.Sprite),v=this.getSpFrameList("ball_",0,30),b=l.getChildByName("ball").getComponent(cc.Sprite);b.spriteFrame=v[0],c.default.showFrameAnimation(b,v,3,!1,!0,-1,function(){}),cc.tween(l).to(1,{x:0,y:0}).call(function(){m.node.active=!0,m.spriteFrame=_[0],c.default.showFrameAnimation(m,_,1,!1,!1,1,function(){m.node.active=!1})}).delay(1).call(function(){f.node.active=!0,f.spriteFrame=p[0],c.default.showFrameAnimation(f,p,1,!1,!1,1,function(){})}).delay(1).call(function(){f.node.active=!1,u.node.active=!0,u.spriteFrame=d[0],c.default.showFrameAnimation(u,d,1,!1,!1,1,function(){})}).delay(1).call(function(){g.node.active=!0,g.spriteFrame=y[0],c.default.showFrameAnimation(g,y,1,!1,!0,-1,function(){})}).delay(2).call(function(){l.removeFromParent()}).start();break;case 21:var C=cc.instantiate(this.fish_ani_21_Pre);C.parent=this.layer_effect_up,C.setPosition(o);var w=this.getSpFrameList("octopus_",0,30),A=C.getChildByName("octopus").getComponent(cc.Sprite);A.spriteFrame=w[0];var I=this.getSpFrameList("lightning_",0,16),F=C.getChildByName("light").getComponent(cc.Sprite),P=this.getSpFrameList("ball_",0,30),S=C.getChildByName("ball").getComponent(cc.Sprite);S.spriteFrame=P[0],c.default.showFrameAnimation(S,P,3,!1,!0,-1,function(){}),cc.tween(C).to(1,{x:0,y:0}).call(function(){F.node.active=!0,F.spriteFrame=I[0],c.default.showFrameAnimation(F,I,1,!1,!1,1,function(){F.node.active=!1})}).delay(1).call(function(){A.node.active=!0,c.default.showFrameAnimation(A,w,3,!1,!1,1,function(){})}).delay(3).call(function(){C.removeFromParent()}).start();break;case 22:var T=cc.instantiate(this.fish_ani_22_Pre);T.parent=this.layer_effect_up,T.setPosition(o);var L=this.getSpFrameList("attack0_",0,16),B=this.getSpFrameList("attack1_",0,22),N=this.getSpFrameList("fish22_0_",0,17),M=T.getChildByName("crab0").getComponent(cc.Sprite),O=T.getChildByName("crab1").getComponent(cc.Sprite);M.spriteFrame=N[0],O.spriteFrame=N[0];var k=this.getSpFrameList("lightning_",0,16),R=T.getChildByName("light").getComponent(cc.Sprite),x=this.getSpFrameList("ball_",0,30),V=T.getChildByName("ball").getComponent(cc.Sprite);V.spriteFrame=x[0],c.default.showFrameAnimation(V,x,3,!1,!0,-1,function(){}),cc.tween(T).to(1,{x:0,y:0}).call(function(){R.node.active=!0,R.spriteFrame=k[0],c.default.showFrameAnimation(R,k,1,!1,!1,1,function(){R.node.active=!1})}).delay(1).call(function(){M.node.active=!0,M.spriteFrame=N[0],c.default.showFrameAnimation(M,N,1,!1,!1,1,function(){}),cc.tween(M.node).to(1,{x:-170}).call(function(){M.spriteFrame=L[0],c.default.showFrameAnimation(M,L,1,!1,!1,1,function(){})}).delay(1).call(function(){R.node.active=!0,R.spriteFrame=k[0],c.default.showFrameAnimation(R,k,1,!1,!1,1,function(){R.node.active=!1}),M.spriteFrame=N[0],c.default.showFrameAnimation(M,N,1,!1,!0,4,function(){})}).delay(4).call(function(){M.spriteFrame=B[0],c.default.showFrameAnimation(M,B,1,!1,!1,1,function(){})}).delay(1).call(function(){M.spriteFrame=N[0],c.default.showFrameAnimation(M,N,1,!1,!1,1,function(){T.removeFromParent()})}).start()}).delay(3).call(function(){O.node.active=!0,O.spriteFrame=N[0],c.default.showFrameAnimation(O,N,1,!1,!1,1,function(){}),cc.tween(O.node).to(1,{x:170}).call(function(){O.spriteFrame=L[0],c.default.showFrameAnimation(O,L,1,!1,!1,1,function(){})}).delay(1).call(function(){O.spriteFrame=N[0],c.default.showFrameAnimation(O,N,1,!1,!1,1,function(){}),R.node.active=!0,R.spriteFrame=k[0],c.default.showFrameAnimation(R,k,1,!1,!1,1,function(){R.node.active=!1})}).delay(1).call(function(){O.spriteFrame=B[0],c.default.showFrameAnimation(O,B,1,!1,!1,1,function(){})}).delay(1).call(function(){O.spriteFrame=N[0],c.default.showFrameAnimation(O,N,1,!1,!1,1,function(){})}).start()}).start();break;case 23:var D=cc.instantiate(this.fish_ani_23_Pre);D.parent=this.layer_effect_up,D.setPosition(o);var j=this.getSpFrameList("explode_",0,23),E=D.getChildByName("explode").getComponent(cc.Sprite),U=this.getSpFrameList("ball23_",0,12),W=D.getChildByName("ball").getComponent(cc.Sprite);W.spriteFrame=U[0],c.default.showFrameAnimation(W,U,1,!1,!0,2,function(){W.node.active=!1}),cc.tween(D).to(1,{x:0,y:0}).delay(1).call(function(){E.node.active=!0,E.spriteFrame=j[0],c.default.showFrameAnimation(E,j,3,!1,!1,1,function(){E.node.active=!1,D.removeFromParent()})}).start();break;case 24:var H=cc.instantiate(this.fish_ani_24_Pre);H.parent=this.layer_effect_up,H.setPosition(o);var z=H.getChildByName("crocodile0"),G=z.getChildByName("crocodile_10"),J=z.getChildByName("crocodile_5"),q=H.getChildByName("crocodile1"),Y=q.getChildByName("crocodile_10"),K=q.getChildByName("crocodile_5"),X=this.getSpFrameList("explose_",0,34),Z=H.getChildByName("explose").getComponent(cc.Sprite),Q=this.getSpFrameList("ball24_",0,10),$=H.getChildByName("ball").getComponent(cc.Sprite);$.spriteFrame=Q[0],c.default.showFrameAnimation($,Q,1,!1,!0,-1,function(){}),cc.tween(H).to(1,{x:0,y:0}).call(function(){z.active=!0,q.active=!0,cc.tween(z).to(.5,{x:-400}).delay(1).to(.034,{x:-300}).call(function(){J.active=!1,G.active=!0}).to(.4,{x:900}).start(),cc.tween(q).to(.5,{x:400}).delay(1).to(.034,{x:300}).call(function(){K.active=!1,Y.active=!0}).to(.4,{x:-900}).start()}).delay(1.6).call(function(){Z.node.active=!0,Z.spriteFrame=X[0],c.default.showFrameAnimation(Z,X,1,!1,!1,1,function(){Z.node.active=!1,H.removeFromParent()})}).start();break;case 25:var tt=cc.instantiate(this.fish_ani_25_Pre);tt.parent=this.layer_effect_up,tt.setPosition(o);var et=this.getSpFrameList("lightning_",0,16),ot=tt.getChildByName("light").getComponent(cc.Sprite),it=this.getSpFrameList("ball_",0,30),nt=tt.getChildByName("ball").getComponent(cc.Sprite);nt.spriteFrame=it[0],c.default.showFrameAnimation(nt,it,1,!1,!0,-1,function(){});var st=-1;this.control.playAudio(10).then(function(t){st=t}),cc.tween(tt).to(1,{x:0,y:0}).call(function(){ot.node.active=!0,ot.spriteFrame=et[0],c.default.showFrameAnimation(ot,et,1,!1,!1,1,function(){ot.node.active=!1})}).delay(1).call(function(){tt.getChildByName("fish25_0").active=!0,tt.getChildByName("fish25_1").active=!0,tt.getChildByName("fish25_0").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),tt.getChildByName("fish25_1").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1)}).delay(2).call(function(){tt.getChildByName("fish25_2").active=!0,tt.getChildByName("fish25_3").active=!0,tt.getChildByName("fish25_2").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),tt.getChildByName("fish25_3").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1)}).delay(2).call(function(){tt.getChildByName("fish25_0").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),tt.getChildByName("fish25_1").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1)}).delay(.5).call(function(){tt.getChildByName("fish25_2").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),tt.getChildByName("fish25_3").getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1)}).delay(2).to(.4,{opacity:0}).call(function(){tt.removeFromParent(),-1!=st&&cc.audioEngine.stopEffect(st)}).start()}},e.prototype.showThereBombAni=function(t){var e=this,o=this.node.convertToNodeSpaceAR(this.control.gameView.batteryManage.getBatteryById(0).getBatteryBombTherePos()),i=this.node.convertToNodeSpaceAR(this.control.gameView.batteryManage.getBatteryById(4).getBatteryBombTherePos()),n=this.node.convertToNodeSpaceAR(this.control.gameView.batteryManage.getBatteryById(2).getBatteryBombTherePos()),s=cc.instantiate(this.fish_ani_26_Pre);s.parent=this.layer_effect_mid,s.setPosition(o);var a=s.getChildByName("circle0").getComponent(cc.Sprite),r=s.getChildByName("circle1").getComponent(cc.Sprite);a.spriteFrame=this.getSpFrame("circle0_"+t),r.spriteFrame=this.getSpFrame("circle1_"+t);var h=s.getChildByName("fish26").getComponent(dragonBones.ArmatureDisplay);h.playAnimation("fish26_swim",0);var l=this.getSpFrameList("explose_",0,34),p=s.getChildByName("explose").getComponent(cc.Sprite);cc.tween(s).delay(2).call(function(){h.playAnimation("fish26_ready_explode",0)}).delay(1).to(1,{x:i.x,y:i.y}).delay(2).to(1,{x:n.x,y:n.y}).delay(2).call(function(){s.removeFromParent()}).start(),cc.tween(r.node).delay(1).call(function(){a.node.opacity=255,r.node.opacity=255}).to(0,{scale:1}).to(1,{scale:5}).call(function(){e.control.playAudio(13),p.node.opacity=255,p.spriteFrame=l[0],c.default.showFrameAnimation(p,l,1,!1,!1,1,function(){p.node.opacity=0}),a.node.opacity=0,r.node.opacity=0}).delay(2).call(function(){a.node.opacity=255,r.node.opacity=255}).to(0,{scale:1}).to(1,{scale:5}).call(function(){e.control.playAudio(13),p.node.opacity=255,p.spriteFrame=l[0],c.default.showFrameAnimation(p,l,1,!1,!1,1,function(){p.node.opacity=0}),a.node.opacity=0,r.node.opacity=0}).delay(2).call(function(){a.node.opacity=255,r.node.opacity=255}).to(0,{scale:1}).to(1,{scale:5}).call(function(){e.control.playAudio(13),p.node.opacity=255,p.spriteFrame=l[0],c.default.showFrameAnimation(p,l,1,!1,!1,1,function(){p.node.opacity=0}),a.node.opacity=0,r.node.opacity=0}).start()},e.prototype.showLaserBombAni=function(t,e,o){var i=this,n=this.node.convertToNodeSpaceAR(t),s=this.node.convertToNodeSpaceAR(e),a=cc.instantiate(this.fish_ani_27_Pre);a.parent=this.node,a.setPosition(n);var r=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&r++,-1!=[3,4,5].indexOf(o)&&r++,1!=r&&(a.angle=180),cc.tween(a).to(1,{x:s.x,y:s.y}).call(function(){i.control.playAudio(18),a.removeFromParent()}).start()},e.prototype.showDrillBombAni=function(t,e,o){var i=this.node.convertToNodeSpaceAR(t),n=this.node.convertToNodeSpaceAR(e),s=cc.instantiate(this.fish_ani_28_Pre);s.parent=this.node,s.setPosition(i);var a=0;-1!=[0,1,2].indexOf(this.control.gameInfo.selfUserItem.batteryId)&&a++,-1!=[3,4,5].indexOf(o)&&a++,1!=a&&(s.angle=180),cc.tween(s).to(1,{x:n.x,y:n.y}).call(function(){s.removeFromParent()}).start()},e.prototype.showRotaryTableAni=function(t,e,o,i,n){var s=this.node.convertToNodeSpaceAR(t),a=this.node.convertToNodeSpaceAR(e),r=cc.instantiate(this.fish_ani_29_Pre);r.parent=this.node,r.setPosition(s),r.getComponent(h.default).initView(this.control,o,i,n),cc.tween(r).to(1,{x:a.x,y:a.y}).delay(n-1).call(function(){r.removeFromParent()}).start()},s([d([cc.SpriteAtlas])],e.prototype,"atlas_effect_list",void 0),s([d(cc.Node)],e.prototype,"layer_effect_down",void 0),s([d(cc.Node)],e.prototype,"layer_effect_mid",void 0),s([d(cc.Node)],e.prototype,"layer_effect_up",void 0),s([d(cc.Prefab)],e.prototype,"fishNetPrefab",void 0),s([d(cc.Prefab)],e.prototype,"scorePrefab",void 0),s([d(cc.Prefab)],e.prototype,"goldPrefab",void 0),s([d(cc.Prefab)],e.prototype,"laser_Prefab",void 0),s([d(cc.Prefab)],e.prototype,"drill_Prefab",void 0),s([d(cc.Prefab)],e.prototype,"bigFishDeathPre",void 0),s([d(cc.Prefab)],e.prototype,"coin_broken_Prefab",void 0),s([d(cc.Prefab)],e.prototype,"broken_ani_0_Prefab",void 0),s([d(cc.Prefab)],e.prototype,"bomb_same_Prefab",void 0),s([d(cc.Prefab)],e.prototype,"chain_light_Pre",void 0),s([d(cc.Prefab)],e.prototype,"title_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_icon_and_score_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_19_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_20_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_21_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_22_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_23_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_24_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_25_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_26_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_27_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_28_Pre",void 0),s([d(cc.Prefab)],e.prototype,"fish_ani_29_Pre",void 0),s([f],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./CABatteryTitle":"CABatteryTitle","./CAFishNet":"CAFishNet","./CAFishUtil":"CAFishUtil","./CARotaryTable":"CARotaryTable","./CAScore":"CAScore"}],CAFishHitAni:[function(t,e,o){"use strict";cc._RF.push(e,"2e589RRnM5MmIFze7OG6iBi","CAFishHitAni");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon_ball=null,e.lbl_seqno=null,e.node_fish_left=null,e.node_fish_right=null,e.node_bomb_1=null,e.node_bomb_2=null,e}return n(e,t),e.prototype.show=function(t,e){var o=this;this.lbl_seqno.string="1",this.node_fish_left.active=!1,this.node_fish_right.active=!1,this.node_bomb_1.active=!1,this.node_bomb_2.active=!1;for(var i=cc.tween(this.node).to(.5,{position:cc.v3(0,0,0)}),n=function(t){i=i.delay(.3).call(function(){o.lbl_seqno.string=""+t,o.node_fish_left.active=!0,o.node_fish_left.getComponent(cc.Animation).play(),o.node_fish_left.setPosition(-900,0),cc.tween(o.node_fish_left).to(.8,{position:cc.v3(900,0,0)}).call(function(){o.node_fish_left.active=!1}).start(),o.node_fish_right.active=!0,o.node_fish_right.getComponent(cc.Animation).play(),o.node_fish_right.setPosition(900,0),cc.tween(o.node_fish_right).to(.8,{position:cc.v3(-900,0,0)}).call(function(){o.node_fish_right.active=!1}).start()}).delay(.3).call(function(){o.node_bomb_1.active=!0,o.node_bomb_1.getComponent(cc.Animation).play(),cc.tween(o.node_bomb_1).delay(.3).call(function(){o.node_bomb_1.active=!1}).start(),e(t-1)}).delay(.2).call(function(){o.node_bomb_2.active=!0,o.node_bomb_2.getComponent(cc.Animation).play(),cc.tween(o.node_bomb_2).delay(.3).call(function(){o.node_bomb_2.active=!1}).start()}).delay(1)},s=1;s<=3;s++)n(s);i.call(function(){o.node.removeFromParent()}).start()},s([c(cc.Node)],e.prototype,"icon_ball",void 0),s([c(cc.Label)],e.prototype,"lbl_seqno",void 0),s([c(cc.Node)],e.prototype,"node_fish_left",void 0),s([c(cc.Node)],e.prototype,"node_fish_right",void 0),s([c(cc.Node)],e.prototype,"node_bomb_1",void 0),s([c(cc.Node)],e.prototype,"node_bomb_2",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CAFishManage:[function(t,e,o){"use strict";cc._RF.push(e,"f8a4d8x1t5Dz6rWQQ0IH1s6","CAFishManage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=t("./CAFish"),c=t("./CAFishPath"),h=cc._decorator,l=h.ccclass,p=h.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishAtlasList=[],e.fishPrefab=null,e.fishConfigJson=null,e.fishPointConfigJson=null,e.pathConfigJson=null,e.groupConfigJson=null,e.fishSpriteList=[],e.control=null,e.fishPool=null,e.swimEnable=!0,e}return n(e,t),e.prototype.initView=function(t){this.control=t,this.fishPool=new cc.NodePool,this.swimEnable=!0;for(var e=0;e<this.fishAtlasList.length;e++)this.fishSpriteList=this.fishSpriteList.concat(this.fishAtlasList[e].getSpriteFrames())},e.prototype.getSwimSpByFish=function(t){for(var e=[],o=0;o<t.FrameSwimCount;o++)for(var i=0;i<this.fishSpriteList.length;i++)if(this.fishSpriteList[i].name=="fish"+t.FrameName+"_0_"+o){e.push(this.fishSpriteList[i]);break}return e},e.prototype.getTranslateSpByFish=function(t){for(var e=[],o=0;o<t.FrameSwimCount;o++)for(var i=0;i<this.fishSpriteList.length;i++)if(this.fishSpriteList[i].name=="fish"+t.FrameName+"_2_"+o){e.push(this.fishSpriteList[i]);break}return e},e.prototype.getDeadSpByFish=function(t){for(var e=[],o=0;o<t.FrameDeadCount;o++)for(var i=0;i<this.fishSpriteList.length;i++)if(this.fishSpriteList[i].name=="fish"+t.FrameName+"_1_"+o){e.push(this.fishSpriteList[i]);break}return e},e.prototype.getTitle18Sp=function(){for(var t=[],e=0;e<28;e++)for(var o=0;o<this.fishSpriteList.length;o++)if(this.fishSpriteList[o].name=="whaleKing_"+e){t.push(this.fishSpriteList[o]);break}return t},e.prototype.getFishConfig=function(t){for(var e=null,o=0;o<this.fishConfigJson.json.length;o++)this.fishConfigJson.json[o].Id==t&&(e=this.fishConfigJson.json[o]);return e},e.prototype.getFishPoint=function(t){return this.fishPointConfigJson.json[""+t]},e.prototype.getPathConfigById=function(t){for(var e=null,o=this.pathConfigJson.json.data,i=0;i<o.length;i++)o[i].id==""+t&&(e=o[i]);return e},e.prototype.getPathConfigByIndex=function(t){var e=this.pathConfigJson.json.data,o=e[t%e.length],i={id:o.id,mark:o.mark,points:[],controls:[],time:o.time,stopTime:o.stopTime,isUniformSpeed:o.isUniformSpeed};for(var n in o.points)i.points.push(cc.v2(o.points[n].x,o.points[n].y));for(var n in o.controls)i.controls.push(cc.v2(o.controls[n].x,o.controls[n].y));return i},e.prototype.getFishPosByGroup=function(t,e,o){for(var i=cc.v2(0,0),n=0;n<this.groupConfigJson.json.length;n++)this.groupConfigJson.json[n].PathId==t&&this.groupConfigJson.json[n].FishTypeId==e&&null!=this.groupConfigJson.json[n].FishPosLists[o]&&(i=this.groupConfigJson.json[n].FishPosLists[o]);return i},e.prototype.createFish=function(t,e,o,i,n,s,a){void 0===s&&(s=null),void 0===a&&(a=null);var h=this.getFishConfig(e);if(null!=h){var l=this.getFishPoint(e);if(null!=l){var p=this.getPathConfigByIndex(o);if(null!=p){var f=this.fishPool.get();null==f&&(f=cc.instantiate(this.fishPrefab)),f.parent=this.node;var d=new c.default;d.init(p);var u=f.getComponent(r.default);u.initView(this,this.node.getContentSize());var y=[];for(var g in a)y.push(this.getFishConfig(a[g]));return u.initFish(t,h,l,d,i,n,y,o),this.swimEnable?u.resumeRun():u.pauseRun(),u}cc.log("##########",o+"\uff1a\u6ca1\u6709\u627e\u5230\u8def\u5f84\u4fe1\u606f")}else cc.log("##########",e+"\uff1a\u6ca1\u6709\u627e\u5230\u9c7c\u78b0\u649e\u8282\u70b9\u4fe1\u606f")}else cc.log("##########",e+"\uff1a\u6ca1\u6709\u627e\u5230\u9c7c\u914d\u7f6e\u4fe1\u606f")},e.prototype.onFishSwimOut=function(t){this.control.gameInfo.isLock&&this.control.gameInfo.lockFishId==t.fishId&&(this.control.gameInfo.lockFishId=0),this.control.gameInfo.connType==a.ConnType.Light&&this.control.gameInfo.lightFishId==t.fishId&&(this.control.gameInfo.lightFishId=0)},e.prototype.removeFishNode=function(t){this.control.gameInfo.isLock&&this.control.gameInfo.lockFishId==t.fishId&&(this.control.gameInfo.lockFishId=0),this.control.gameInfo.connType==a.ConnType.Light&&this.control.gameInfo.lightFishId==t.fishId&&(this.control.gameInfo.lightFishId=0),this.fishPool.put(t.node)},e.prototype.clickFish=function(t){if(this.control.gameInfo.weaponType==a.WeaponType.Bullet&&1==this.control.gameInfo.isLock){this.control.gameInfo.lightFishId=t.fishId;var e=this.control.gameInfo.selfUserItem.batteryId;this.control.gameView.lightHitManage.setBatteyLightFish(e,t.fishId),this.control.gameInfo.lockFishId=t.fishId,console.log("fishConfig.Id",t.fishConfig.Id)}},e.prototype.getFishByFishId=function(t){var e=null,o=this.node.children;for(var i in o){var n=o[i].getComponent(r.default);t==n.getFishID()&&(e=n)}return e},e.prototype.getFishListByTypeId=function(t){var e=[],o=this.node.children;for(var i in o){var n=o[i].getComponent(r.default);t==n.fishConfig.Id&&n.fishStatus==a.FishStatus.Swim&&0==n.isOutSwimSize&&e.push(n)}return e},e.prototype.getBombFishList=function(t,e){var o=[];for(var i in this.node.children){var n=this.node.children[i].getComponent(r.default);n.fishConfig.Id<=15&&n.fishStatus==a.FishStatus.Swim&&0==n.isOutSwimSize&&o.push(n)}for(i=0;i<o.length-1;i++)for(var s=i+1;s<o.length;s++){var c=Math.sqrt(Math.pow(o[i].node.x-t.x,2)+Math.pow(o[i].node.y-t.y,2));if(Math.sqrt(Math.pow(o[s].node.x-t.x,2)+Math.pow(o[s].node.y-t.y,2))<c){var h=o[i];o[i]=o[s],o[s]=h}}var l=this.control.gameInfo.getBaseScore(),p=[],f=0;for(i=0;i<o.length;i++){var d=o[i].fishConfig.Double*l*this.control.gameInfo.roomBet;f+d<=e&&(f+=d,p.push(o[i]))}return p},e.prototype.getFullBombFishHP=function(){var t=0;for(var e in this.node.children){var o=this.node.children[e].getComponent(r.default);o.fishConfig.Id<=15&&o.fishStatus==a.FishStatus.Swim&&0==o.isOutSwimSize&&(t+=o.getBitScore())}return t},e.prototype.getSameBombFishHP=function(t){var e=0;for(var o in this.node.children){var i=this.node.children[o].getComponent(r.default);-1!=t.indexOf(i.fishConfig.Id)&&i.fishStatus==a.FishStatus.Swim&&0==i.isOutSwimSize&&(e+=i.getBitScore())}return e},e.prototype.getFullBombFish=function(){var t=[],e=this.node.children;for(var o in e){var i=e[o].getComponent(r.default);i.fishConfig.Id<=15&&i.fishStatus==a.FishStatus.Swim&&0==i.isOutSwimSize&&t.push(i)}return t},e.prototype.getAllFish=function(){var t=[],e=this.node.children;for(var o in e){var i=e[o].getComponent(r.default);i.fishStatus==a.FishStatus.Swim&&t.push(i)}return t},e.prototype.getAllSwimFish=function(){var t=[],e=this.node.children;for(var o in e){var i=e[o].getComponent(r.default);i.fishStatus==a.FishStatus.Swim&&0==i.isOutSwimSize&&t.push(i)}return t},e.prototype.getLaserDistance=function(t,e,o){var i=Math.sqrt(Math.pow(o.x-t.x,2)+Math.pow(o.y-t.y,2)),n=Math.atan2(o.y-t.y,o.x-t.x)-e*Math.PI/180;return Math.abs(i*Math.sin(n))},e.prototype.getLaserFishList=function(t,e,o){var i=this.node.convertToNodeSpaceAR(t),n=[];for(var s in this.node.children){var c=this.node.children[s].getComponent(r.default);c.fishConfig.Id<=15&&c.fishStatus==a.FishStatus.Swim&&0==c.isOutSwimSize&&n.push(c)}for(s=0;s<n.length-1;s++)for(var h=s+1;h<n.length;h++){var l=this.getLaserDistance(i,e,n[s].getNodePos());if(this.getLaserDistance(i,e,n[h].getNodePos())<l){var p=n[s];n[s]=n[h],n[h]=p}}var f=this.control.gameInfo.getBaseScore(),d=[],u=0;for(s=0;s<n.length;s++){var y=n[s].fishConfig.Double*f*this.control.gameInfo.roomBet;u+y<=o&&(u+=y,d.push(n[s]))}return d},e.prototype.checkLockFish=function(){if(1==this.control.gameInfo.isLock&&0==this.control.gameInfo.lockFishId){var t=this.getAllSwimFish(),e=null,o=this.control.gameInfo.lockTrackFishTypeList;for(var i in t)0!=o.length&&-1==o.indexOf(t[i].fishConfig.Id)||(null==e||e.fishConfig.Id<t[i].fishConfig.Id)&&(e=t[i]);null!=e&&(this.control.gameInfo.lockFishId=e.fishId)}},e.prototype.update=function(){this.checkLockFish()},s([p([cc.SpriteAtlas])],e.prototype,"fishAtlasList",void 0),s([p(cc.Prefab)],e.prototype,"fishPrefab",void 0),s([p(cc.JsonAsset)],e.prototype,"fishConfigJson",void 0),s([p(cc.JsonAsset)],e.prototype,"fishPointConfigJson",void 0),s([p(cc.JsonAsset)],e.prototype,"pathConfigJson",void 0),s([p(cc.JsonAsset)],e.prototype,"groupConfigJson",void 0),s([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./CADataEntry":"CADataEntry","./CAFish":"CAFish","./CAFishPath":"CAFishPath"}],CAFishNet:[function(t,e,o){"use strict";cc._RF.push(e,"d452cOyZX9AKJeclbRWxuiG","CAFishNet");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CAFishUtil"),r=cc._decorator,c=r.ccclass,h=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.effectManage=null,e.aniSpSpeed=10,e}return n(e,t),e.prototype.initView=function(t,e,o){var i=this;this.effectManage=t,this.icon.spriteFrame=e,this.icon.getComponent(cc.Animation).play("fishnet_1"),this.node.setPosition(o),cc.tween(this.node).delay(.35).call(function(){i.effectManage.removeFishNetNode(i.node)}).start()},e.prototype.initView1=function(t,e,o){var i=this;this.effectManage=t,a.default.showFrameAnimation(this.icon,e,e.length/this.aniSpSpeed,!1,!0,1,null),this.node.setPosition(o),cc.tween(this.node).delay(.5).call(function(){i.effectManage.removeFishNetNode(i.node)}).start()},s([h(cc.Sprite)],e.prototype,"icon",void 0),s([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CAFishUtil":"CAFishUtil"}],CAFishPath:[function(t,e,o){"use strict";cc._RF.push(e,"57b4aF2zIFLMarRSQaD2+jv","CAFishPath"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./CADataEntry"),n=function(){function t(){this.config=null,this.pathType=i.PathType.Bezier,this.lineList=[],this.bezierList=[],this.lineTotalLen=0,this.currTime=0,this.currPos=null}return t.prototype.init=function(t){this.config=t,this.lineList=[],this.bezierList=[],this.lineTotalLen=0,this.currTime=0,this.currPos=null,0==this.config.controls.length&&(this.pathType=i.PathType.Line),this.pathType==i.PathType.Line&&(this.lineTotalLen=this.getTwoPointLength(this.config.points[0],this.config.points[1]));for(var e=null,o=null,n=0,s=0,a=[],r=0;r<t.points.length-1;r++){o=t.points[r],s=0,a=[];for(var c=1;c<11;c++)e=this.getBezierPoint(t.points[r],t.controls[r],t.points[r+1],c/10),s+=n=this.getTwoPointLength(o,e),this.lineList.push({startPoint:o,endPoint:e,len:n}),this.lineTotalLen=this.lineTotalLen+n,o=e,a.push({len:n,percent:.1});this.bezierList.push({startPoint:t.points[r],endPoint:t.points[r+1],control:t.controls[r],totallen:s,lenList:a})}this.currPos=this.lineList[0].startPoint},t.prototype.setStartPos=function(t){for(var e in this.config.points)this.config.points[e].x+=t.x,this.config.points[e].y+=t.y;for(var e in this.config.controls)this.config.controls[e].x+=t.x,this.config.controls[e].y+=t.y;this.init(this.config)},t.prototype.getPosByDiffTime=function(t,e){this.currTime=this.currTime+t,this.currTime=Math.min(this.currTime,this.config.time);var o=cc.v2(0,0),i=!0;if(0==this.config.isUniformSpeed&&(i=!1),o=1==i?this.getPosByTime(this.currTime):this.getPosByTime2(this.currTime),0!=e){var n=this.config.points[0],s=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)),a=180*Math.atan2(o.y-n.y,o.x-n.x)/Math.PI;a+=e;var r=n.x+s*Math.cos(a*Math.PI/180),c=n.y+s*Math.sin(a*Math.PI/180);o=cc.v2(r,c)}var h;return h=o.x==this.currPos.x?o.y-this.currPos.y>0?90:-90:180*Math.atan2(o.y-this.currPos.y,o.x-this.currPos.x)/Math.PI,this.currPos=o,{pos:o,angle:h}},t.prototype.checkIsEnd=function(){return this.currTime>=this.config.time},t.prototype.getPosByTime=function(t){var e=t/this.config.time,o=0;null!=this.config.stopTime&&(o=this.config.stopTime);var i=this.config.time/2-o/2,n=this.config.time/2+o/2;o>0&&(t<=i?e=t/(this.config.time-o):t>i&&t<n?e=i/(this.config.time-o):t>n&&(e=(t-o)/(this.config.time-o)));for(var s=this.lineTotalLen*e,a=!1,r=0,c=0,h=0,l=0;l<this.bezierList.length;l++){if(c=l,r+this.bezierList[l].totallen>=s){h=0;for(var p=0;p<this.bezierList[l].lenList.length;p++){if(r+this.bezierList[l].lenList[p].len>=s){h+=(s-r)/this.bezierList[l].lenList[p].len*this.bezierList[l].lenList[p].percent,a=!0;break}h+=this.bezierList[l].lenList[p].percent,r+=this.bezierList[l].lenList[p].len}}if(a)break;r+=this.bezierList[l].totallen}return e>=1&&(h=1),this.getBezierPoint(this.bezierList[c].startPoint,this.bezierList[c].control,this.bezierList[c].endPoint,h)},t.prototype.getPosByTime2=function(t){for(var e=this.config.time/this.bezierList.length,o=0,i=0,n=0;n<this.bezierList.length&&e*n<t;n++)o=n,i=(t-e*n)/e;return i>=1&&(i=1),this.getBezierPoint(this.bezierList[o].startPoint,this.bezierList[o].control,this.bezierList[o].endPoint,i)},t.prototype.getTwoPointLength=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.prototype.getBezierPoint=function(t,e,o,i){var n=Math.pow(1-i,2)*t.x+2*i*(1-i)*e.x+Math.pow(i,2)*o.x;t.x==e.x&&e.x==o.x&&(n=t.x);var s=Math.pow(1-i,2)*t.y+2*i*(1-i)*e.y+Math.pow(i,2)*o.y;return t.y==e.y&&e.x==o.y&&(s=t.y),cc.v2(n,s)},t.prototype.getBezierPointAngle=function(t,e,o,i){var n=2*(1-i)*t.x+(2-4*i)*e.x+2*i*o.x,s=2*(1-i)*t.y+(2-4*i)*e.y+2*i*o.y,a=0;return 0!=n&&(a=180*Math.atan2(s,n)/Math.PI),a},t}();o.default=n,cc._RF.pop()},{"./CADataEntry":"CADataEntry"}],CAFishPointPrint:[function(t,e,o){"use strict";cc._RF.push(e,"e6f56u/nD1B06irFzSkGCeW","CAFishPointPrint");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){for(var t={},e=0;e<this.node.children.length;e++){var o=this.node.children[e].getComponent(cc.PolygonCollider);t[e+""]=o.points}cc.log("\u6240\u6709\u9c7c\u7684\u78b0\u649e\u70b9\u4fe1\u606f\uff1a",t),cc.log(JSON.stringify(t))},s([r],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],CAFishUtil:[function(t,e,o){"use strict";cc._RF.push(e,"12b23pMwsxCtrZ8Dujh6o/n","CAFishUtil"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.showFrameAnimation=function(t,e,o,i,n,s,a){var r=t.getComponent(cc.Animation);if(null==r)r=t.addComponent(cc.Animation);else{r.stop(),r.clear();for(var c=r.getClips(),h=c.length-1;h>=0;h--)r.removeClip(c[h],!0)}var l=cc.AnimationClip.createWithSpriteFrames(e,e.length);l.name="ani",l.speed=1/o,r.addClip(l);var p=r.play("ani");p.wrapMode=cc.WrapMode.Normal,1==n&&-1==s?(p.wrapMode=cc.WrapMode.Loop,p.repeatCount=1/0):1==n&&s>0&&(p.wrapMode=cc.WrapMode.Loop,p.repeatCount=s),r.once("finished",function(){i&&(t.spriteFrame=e[0]),t.node.removeComponent(cc.Animation),null!=a&&a()})},t.delFrameAnimation=function(t){var e=t.getComponent(cc.Animation);if(e){e.stop(),e.clear();for(var o=e.getClips(),i=o.length-1;i>=0;i--)e.removeClip(o[i],!0);t.node.removeComponent(cc.Animation)}},t.getFrameList=function(t,e,o,i){for(var n=[],s=o;s<=i;s++)n.push(t.getSpriteFrame(e+""+s));return n},t.generateMixed=function(t){for(var e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],o="",i=0;i<t;i++)o+=e[Math.ceil(35*Math.random())];return o},t}();o.default=i,cc._RF.pop()},{}],CAFish:[function(t,e,o){"use strict";cc._RF.push(e,"b66301nlmNJdoatbY3iMNWy","CAFish");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=t("./CAFishUtil"),c=cc._decorator,h=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon_sprite=null,e.node_fish_17=null,e.node_fish_18=null,e.node_fish_19=null,e.node_fish_23=null,e.node_fish_24=null,e.node_fish_25=null,e.node_fish_26=null,e.node_fish_27=null,e.node_fish_28=null,e.node_fish_29=null,e.node_fish_30=null,e.node_fish_32=null,e.fish32_bg=null,e.fish32_icon=null,e.touchNodeList_17=[],e.touchNodeList_19=[],e.touchNodeList_23=[],e.touchNodeList_24=[],e.touchNodeList_25=[],e.fish_polygonCollider=null,e.colliderNodeList_17=[],e.colliderNodeList_18=[],e.colliderNodeList_19=[],e.colliderNodeList_23=[],e.colliderNodeList_24=[],e.colliderNodeList_25=[],e.fishId=null,e.fishConfig=null,e.fishColliderPoint=null,e.fishPath=null,e.offPos=null,e.offAngle=null,e.pathId=null,e.swimSize=null,e.isOutSwimSize=!0,e.fishManage=null,e.runChk=!1,e.fishStatus=a.FishStatus.Swim,e.subfishConfigList=null,e.outAngle=0,e.outSpeed=0,e.aniSpSpeed=10,e.deathAniSpSpeed=20,e.delaytime=0,e}return n(e,t),e.prototype.initView=function(t,e){this.fishManage=t,this.outAngle=0,this.outSpeed=0,this.node.zIndex=0,this.node.setScale(1),this.icon_sprite.node.active=!1,this.node_fish_17.active=!1,this.node_fish_18.active=!1,this.node_fish_19.active=!1,this.node_fish_23.active=!1,this.node_fish_24.active=!1,this.node_fish_25.active=!1,this.node_fish_26.active=!1,this.node_fish_27.active=!1,this.node_fish_28.active=!1,this.node_fish_29.active=!1,this.node_fish_30.active=!1,this.node_fish_32.active=!1,this.swimSize=e,this.isOutSwimSize=!0,this.icon_sprite.node.off(cc.Node.EventType.TOUCH_START),this.icon_sprite.node.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this)),this.node_fish_18.off(cc.Node.EventType.TOUCH_START),this.node_fish_18.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this)),this.node_fish_26.off(cc.Node.EventType.TOUCH_START),this.node_fish_26.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this)),this.node_fish_27.off(cc.Node.EventType.TOUCH_START),this.node_fish_27.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this)),this.node_fish_28.off(cc.Node.EventType.TOUCH_START),this.node_fish_28.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this)),this.node_fish_29.off(cc.Node.EventType.TOUCH_START),this.node_fish_29.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this)),this.node_fish_30.off(cc.Node.EventType.TOUCH_START),this.node_fish_30.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this)),this.node_fish_32.off(cc.Node.EventType.TOUCH_START),this.node_fish_32.on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this));for(var o=0;o<this.touchNodeList_17.length;o++)this.touchNodeList_17[o].off(cc.Node.EventType.TOUCH_START),this.touchNodeList_17[o].on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this));for(o=0;o<this.touchNodeList_19.length;o++)this.touchNodeList_19[o].off(cc.Node.EventType.TOUCH_START),this.touchNodeList_19[o].on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this));for(o=0;o<this.touchNodeList_23.length;o++)this.touchNodeList_23[o].off(cc.Node.EventType.TOUCH_START),this.touchNodeList_23[o].on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this));for(o=0;o<this.touchNodeList_24.length;o++)this.touchNodeList_24[o].off(cc.Node.EventType.TOUCH_START),this.touchNodeList_24[o].on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this));for(o=0;o<this.touchNodeList_25.length;o++)this.touchNodeList_25[o].off(cc.Node.EventType.TOUCH_START),this.touchNodeList_25[o].on(cc.Node.EventType.TOUCH_START,this.onFishClick.bind(this))},e.prototype.initFish=function(t,e,o,i,n,s,r,c){this.fishId=t,this.fishConfig=e,this.fishColliderPoint=o,this.fishPath=i,this.offPos=n,this.offAngle=s,this.subfishConfigList=r,this.pathId=c,this.setFish(),this.setColliderPoint(this.fishColliderPoint,e.Id);var h=this.fishPath.getPosByDiffTime(.05,this.offAngle);this.setFishPos(h.pos,h.angle),this.delaytime=0,this.runChk=!0,this.fishStatus=a.FishStatus.Swim,this.runChk=!0,this.fishStatus=a.FishStatus.Swim},e.prototype.setFish=function(){if(this.icon_sprite.node.active=!1,this.node_fish_17.active=!1,this.node_fish_18.active=!1,this.node_fish_19.active=!1,this.node_fish_23.active=!1,this.node_fish_24.active=!1,this.node_fish_25.active=!1,this.node_fish_26.active=!1,this.node_fish_27.active=!1,this.node_fish_28.active=!1,this.node_fish_29.active=!1,this.node_fish_30.active=!1,this.node_fish_32.active=!1,17==this.fishConfig.Id)this.node_fish_17.active=!0,this.node_fish_17.getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",0),this.resetNodeColor(this.node_fish_17),this.node.setContentSize(300,200);else if(18==this.fishConfig.Id)this.node_fish_18.active=!0,this.node_fish_18.getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",0),this.resetNodeColor(this.node_fish_18),this.node.setContentSize(440,300);else if(19==this.fishConfig.Id)this.node_fish_19.active=!0,this.node_fish_19.getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),this.resetNodeColor(this.node_fish_19),this.node.setContentSize(0,0);else if(23==this.fishConfig.Id)this.node_fish_23.active=!0,this.node_fish_23.getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",0),this.resetNodeColor(this.node_fish_23),this.node.setContentSize(400,300);else if(24==this.fishConfig.Id)this.node_fish_24.active=!0,this.node_fish_24.getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",0),this.resetNodeColor(this.node_fish_24),this.node.setContentSize(900,280);else if(25==this.fishConfig.Id)this.node_fish_25.active=!0,this.node_fish_25.getComponent(dragonBones.ArmatureDisplay).playAnimation("swim",1),this.resetNodeColor(this.node_fish_25),this.node.setContentSize(0,0);else if(26==this.fishConfig.Id)this.node_fish_26.active=!0,this.node_fish_26.getComponent(dragonBones.ArmatureDisplay).playAnimation("fish26_swim",0),this.resetNodeColor(this.node_fish_26),this.node.setContentSize(200,200);else if(27==this.fishConfig.Id)this.node_fish_27.active=!0,this.node_fish_27.getComponent(dragonBones.ArmatureDisplay).playAnimation("fish27_swim",0),this.resetNodeColor(this.node_fish_27),this.node.setContentSize(200,200);else if(28==this.fishConfig.Id)this.node_fish_28.active=!0,this.node_fish_28.getComponent(dragonBones.ArmatureDisplay).playAnimation("fish28_swim",0),this.resetNodeColor(this.node_fish_28),this.node.setContentSize(200,200);else if(29==this.fishConfig.Id)this.node_fish_29.active=!0,this.node_fish_29.getComponent(dragonBones.ArmatureDisplay).playAnimation("fish29_swim",0),this.resetNodeColor(this.node_fish_29),this.node.setContentSize(200,200);else if(30==this.fishConfig.Id)this.node_fish_30.active=!0,this.node_fish_30.getComponent(dragonBones.ArmatureDisplay).playAnimation("fish29_swim",0),this.resetNodeColor(this.node_fish_30),this.node.setContentSize(200,200);else if(32==this.fishConfig.Id){this.node_fish_32.active=!0;var t=this.fishManage.getSwimSpByFish(this.fishConfig);this.fish32_bg.spriteFrame=t[0],r.default.showFrameAnimation(this.fish32_bg,t,t.length/this.aniSpSpeed,!1,!0,-1,null);var e=this.fishManage.getSwimSpByFish(this.subfishConfigList[0]);this.fish32_icon.node.scale=this.subfishConfigList[0].FishSameScale,this.fish32_icon.spriteFrame=e[0],this.resetNodeColor(this.fish32_icon.node),r.default.showFrameAnimation(this.fish32_icon,e,e.length/this.aniSpSpeed,!1,!0,-1,null),this.node.setContentSize(200,200)}else this.icon_sprite.node.active=!0,this.resetNodeColor(this.icon_sprite.node),e=this.fishManage.getSwimSpByFish(this.fishConfig),this.icon_sprite.node.scale=this.fishConfig.FishNormalScale,this.icon_sprite.spriteFrame=e[0],r.default.showFrameAnimation(this.icon_sprite,e,e.length/this.aniSpSpeed,!1,!0,-1,null),this.node.setContentSize(this.icon_sprite.node.getContentSize())},e.prototype.setColliderPoint=function(t){this.fish_polygonCollider.points=[],this.fish_polygonCollider.points.length=0,this.fish_polygonCollider.points=t},e.prototype.getBitScore=function(){var t=0;return this.fishConfig.Type==a.FishType.FishDoubel_Single&&(t=null==this.fishConfig.Double?(this.fishConfig.Double_1+this.fishConfig.Double_2)/2:this.fishConfig.Double),t},e.prototype.getSameFishList=function(){var t=[];if(null!=this.subfishConfigList)for(var e in this.subfishConfigList)t.push(this.subfishConfigList[e].Id);return t},e.prototype.removeFishNode=function(){this.fishManage.removeFishNode(this)},e.prototype.preDeath=function(){this.runChk=!1,this.fishStatus=a.FishStatus.Dead,this.node.zIndex=1e3},e.prototype.showDeathAni=function(){var t=this;if(this.runChk=!1,this.fishStatus=a.FishStatus.Dead,this.fishConfig.Id<13){this.node.zIndex=1e3,this.node.angle=0,cc.tween(this.node).to(9,{angle:1080}).start();var e=this.fishManage.getDeadSpByFish(this.fishConfig);r.default.showFrameAnimation(this.icon_sprite,e,e.length/this.deathAniSpSpeed,!1,!0,3,function(){cc.Tween.stopAllByTarget(t.node),t.removeFishNode()})}else this.removeFishNode()},e.prototype.changePosAndAngle=function(t){var e=this,o=this.node.parent.convertToNodeSpaceAR(t);cc.tween(this.node).to(2,{x:o.x,y:o.y,angle:180}).to(3,{angle:360}).call(function(){e.removeFishNode()}).start()},e.prototype.resetNodeColor=function(t){t.stopActionByTag(2e3),t.color=cc.color(255,255,255)},e.prototype.showColorAni=function(t){t.stopActionByTag(2e3),cc.tween(t).tag(2e3).to(.15,{color:cc.color(234,46,46)}).to(.15,{color:cc.color(255,255,255)}).start()},e.prototype.showHitAni=function(){32==this.fishConfig.Id?this.showColorAni(this.fish32_icon.node):this.showColorAni(this.icon_sprite.node)},e.prototype.showDeadMoveAni=function(t,e,o,i){var n=this;void 0===i&&(i=null);var s=this.node.parent.convertToNodeSpaceAR(t);cc.tween(this.node).delay(o).call(function(){null!=i&&i()}).to(e,{position:cc.v3(s.x,s.y,this.node.z)}).call(function(){n.removeFishNode()}).start()},e.prototype.showOutMoveAni=function(t,e){0==this.runChk&&this.fishStatus==a.FishStatus.Swim&&(this.runChk=!0),this.outAngle=t,this.outSpeed=e,this.offPos=cc.v2(0,0),this.setFishPos(this.getNodePos(),t),this.fishStatus=a.FishStatus.Out},e.prototype.getFishID=function(){return this.fishId},e.prototype.pauseRun=function(){this.runChk=!1},e.prototype.resumeRun=function(){this.runChk=!0},e.prototype.setPathStartPos=function(t){var e=this.node.parent.convertToNodeSpaceAR(t);this.fishPath.setStartPos(e)},e.prototype.setFishPos=function(t,e){this.node.angle=e,120==this.pathId?(this.node.scaleY=1,this.node.scaleX=1):(e>90||e<-90)&&(this.node.scaleY=-1,this.node.scaleX=1);var o=cc.v2(t.x+this.offPos.x,t.y+this.offPos.y);this.node.setPosition(o),this.checkSwimSize(o)},e.prototype.checkSwimSize=function(t){var e=!1;if(19==this.fishConfig.Id){var o=this.touchNodeList_19[0].getContentSize(),i=this.touchNodeList_19[this.touchNodeList_19.length-1].getContentSize(),n=this.node.parent.convertToNodeSpaceAR(this.touchNodeList_19[0].parent.convertToWorldSpaceAR(this.touchNodeList_19[0].getPosition())),s=this.node.parent.convertToNodeSpaceAR(this.touchNodeList_19[this.touchNodeList_19.length-1].parent.convertToWorldSpaceAR(this.touchNodeList_19[this.touchNodeList_19.length-1].getPosition())),a=Math.abs(s.x-n.x)+o.width/2+i.width/2,r=Math.abs(s.y-n.y)+o.height/2+i.height/2;((n.x+s.x)/2<-1*(this.swimSize.width/2+a/2)||(n.x+s.x)/2>this.swimSize.width/2+a/2)&&(e=!0),((n.y+s.y)/2<-1*(this.swimSize.height/2+r/2)||(n.y+s.y)/2>this.swimSize.height/2+r/2)&&(e=!0),this.isOutSwimSize=e}if(25==this.fishConfig.Id){this.isOutSwimSize=e;var c=this.touchNodeList_25[0].getContentSize(),h=this.touchNodeList_25[this.touchNodeList_25.length-1].getContentSize(),l=this.node.parent.convertToNodeSpaceAR(this.touchNodeList_25[0].parent.convertToWorldSpaceAR(this.touchNodeList_25[0].getPosition())),p=this.node.parent.convertToNodeSpaceAR(this.touchNodeList_25[this.touchNodeList_25.length-1].parent.convertToWorldSpaceAR(this.touchNodeList_25[this.touchNodeList_25.length-1].getPosition())),f=Math.abs(p.x-l.x)+c.width/2+h.width/2,d=Math.abs(p.y-l.y)+c.height/2+h.height/2;((l.x+p.x)/2<-1*(this.swimSize.width/2+f/2)||(l.x+p.x)/2>this.swimSize.width/2+f/2)&&(e=!0),((l.y+p.y)/2<-1*(this.swimSize.height/2+d/2)||(l.y+p.y)/2>this.swimSize.height/2+d/2)&&(e=!0),this.isOutSwimSize=e}else{var u=this.node.getContentSize();(t.x<-1*(this.swimSize.width/2+u.width/2)||t.x>this.swimSize.width/2+u.width/2)&&(e=!0),(t.y<-1*(this.swimSize.height/2+u.height/2)||t.y>this.swimSize.height/2+u.height/2)&&(e=!0),this.isOutSwimSize=e}},e.prototype.update=function(t){if(1==this.runChk){if(this.fishStatus!=a.FishStatus.Out&&20==this.fishConfig.Id&&(this.delaytime+=t),t*=this.fishConfig.Speed,this.fishStatus==a.FishStatus.Out){var e=this.node.x+t*this.outSpeed*Math.cos(this.outAngle*Math.PI/180),o=this.node.y+t*this.outSpeed*Math.sin(this.outAngle*Math.PI/180);this.setFishPos(cc.v2(e,o),this.outAngle),this.fishPath.getPosByDiffTime(t,this.offAngle)}else if(20==this.fishConfig.Id){if(this.delaytime>=1.5){this.fishManage.control.playAudio(22),this.delaytime-=1.5;var i=this.fishPath.getPosByDiffTime(1.5*this.fishConfig.Speed,this.offAngle);(n=cc.v2(i.pos.x+this.offPos.x,i.pos.y+this.offPos.y)).x==this.node.x&&n.y==this.node.y?this.setFishPos(i.pos,this.node.angle):this.setFishPos(i.pos,i.angle)}}else{var n;this.delaytime-=.5,i=this.fishPath.getPosByDiffTime(t,this.offAngle),(n=cc.v2(i.pos.x+this.offPos.x,i.pos.y+this.offPos.y)).x==this.node.x&&n.y==this.node.y?this.setFishPos(i.pos,this.node.angle):this.setFishPos(i.pos,i.angle)}if(this.isOutSwimSize&&(this.fishManage.onFishSwimOut(this),this.fishStatus==a.FishStatus.Out&&this.removeFishNode()),this.fishPath.checkIsEnd()&&this.removeFishNode(),this.fishConfig.Id>=17&&this.fishConfig.Id<=19||this.fishConfig.Id>=23&&this.fishConfig.Id<=25){for(var s=[],r=0;r<this["colliderNodeList_"+this.fishConfig.Id].length;r++)i=this.node.convertToNodeSpaceAR(this["colliderNodeList_"+this.fishConfig.Id][r].parent.convertToWorldSpaceAR(this["colliderNodeList_"+this.fishConfig.Id][r].getPosition())),s.push(i);this.fish_polygonCollider.points=s}}},e.prototype.onFishClick=function(){this.fishStatus==a.FishStatus.Swim&&this.fishConfig.Id>8&&this.fishManage.clickFish(this)},e.prototype.getWorldPos=function(){if(17==this.fishConfig.Id){var t=this.touchNodeList_17[0].getPosition();return this.touchNodeList_17[0].parent.convertToWorldSpaceAR(t)}return 19==this.fishConfig.Id?(t=this.touchNodeList_19[4].getPosition(),this.touchNodeList_19[4].parent.convertToWorldSpaceAR(t)):23==this.fishConfig.Id?(t=this.touchNodeList_23[0].getPosition(),this.touchNodeList_23[0].parent.convertToWorldSpaceAR(t)):24==this.fishConfig.Id?(t=this.touchNodeList_24[0].getPosition(),this.touchNodeList_24[0].parent.convertToWorldSpaceAR(t)):25==this.fishConfig.Id?(t=this.touchNodeList_25[4].getPosition(),this.touchNodeList_25[4].parent.convertToWorldSpaceAR(t)):(t=this.node.getPosition(),this.node.parent.convertToWorldSpaceAR(t))},e.prototype.getNodePos=function(){if(17==this.fishConfig.Id){var t=this.touchNodeList_17[0].getPosition();return this.node.parent.convertToNodeSpaceAR(this.touchNodeList_17[0].parent.convertToWorldSpaceAR(t))}return 19==this.fishConfig.Id?(t=this.touchNodeList_19[4].getPosition(),this.node.parent.convertToNodeSpaceAR(this.touchNodeList_19[4].parent.convertToWorldSpaceAR(t))):23==this.fishConfig.Id?(t=this.touchNodeList_23[0].getPosition(),this.node.parent.convertToNodeSpaceAR(this.touchNodeList_23[0].parent.convertToWorldSpaceAR(t))):24==this.fishConfig.Id?(t=this.touchNodeList_24[0].getPosition(),this.node.parent.convertToNodeSpaceAR(this.touchNodeList_24[0].parent.convertToWorldSpaceAR(t))):25==this.fishConfig.Id?(t=this.touchNodeList_23[4].getPosition(),this.node.parent.convertToNodeSpaceAR(this.touchNodeList_23[4].parent.convertToWorldSpaceAR(t))):this.node.getPosition()},e.prototype.getWorldFishPosList=function(){var t=[];if(19==this.fishConfig.Id)t.push(this.touchNodeList_19[1].parent.convertToWorldSpaceAR(this.touchNodeList_19[1].getPosition())),t.push(this.touchNodeList_19[2].parent.convertToWorldSpaceAR(this.touchNodeList_19[2].getPosition())),t.push(this.touchNodeList_19[3].parent.convertToWorldSpaceAR(this.touchNodeList_19[3].getPosition())),t.push(this.touchNodeList_19[4].parent.convertToWorldSpaceAR(this.touchNodeList_19[4].getPosition())),t.push(this.touchNodeList_19[5].parent.convertToWorldSpaceAR(this.touchNodeList_19[5].getPosition())),t.push(this.touchNodeList_19[6].parent.convertToWorldSpaceAR(this.touchNodeList_19[6].getPosition())),t.push(this.touchNodeList_19[7].parent.convertToWorldSpaceAR(this.touchNodeList_19[7].getPosition())),t.push(this.touchNodeList_19[8].parent.convertToWorldSpaceAR(this.touchNodeList_19[8].getPosition()));else if(20==this.fishConfig.Id){var e=this.node.getPosition();t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x-150,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x-50,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x+50,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x+150,e.y)))}else 21==this.fishConfig.Id?(e=this.node.getPosition(),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x-150,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x-50,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x+50,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x+150,e.y)))):22==this.fishConfig.Id?(e=this.node.getPosition(),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x-150,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x-50,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x+50,e.y))),t.push(this.node.parent.convertToWorldSpaceAR(new cc.Vec2(e.x+150,e.y)))):23==this.fishConfig.Id?(e=this.touchNodeList_23[0].getPosition(),t.push(this.touchNodeList_23[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x-150,e.y))),t.push(this.touchNodeList_23[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x-50,e.y))),t.push(this.touchNodeList_23[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x+50,e.y))),t.push(this.touchNodeList_23[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x+150,e.y)))):24==this.fishConfig.Id?(e=this.touchNodeList_24[0].getPosition(),t.push(this.touchNodeList_24[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x-250,e.y))),t.push(this.touchNodeList_24[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x-150,e.y))),t.push(this.touchNodeList_24[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x-50,e.y))),t.push(this.touchNodeList_24[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x+50,e.y))),t.push(this.touchNodeList_24[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x+150,e.y))),t.push(this.touchNodeList_24[0].parent.convertToWorldSpaceAR(new cc.Vec2(e.x+250,e.y)))):25==this.fishConfig.Id&&(t.push(this.touchNodeList_25[1].parent.convertToWorldSpaceAR(this.touchNodeList_25[1].getPosition())),t.push(this.touchNodeList_25[2].parent.convertToWorldSpaceAR(this.touchNodeList_25[2].getPosition())),t.push(this.touchNodeList_25[3].parent.convertToWorldSpaceAR(this.touchNodeList_25[3].getPosition())),t.push(this.touchNodeList_25[4].parent.convertToWorldSpaceAR(this.touchNodeList_25[4].getPosition())),t.push(this.touchNodeList_25[5].parent.convertToWorldSpaceAR(this.touchNodeList_25[5].getPosition())),t.push(this.touchNodeList_25[6].parent.convertToWorldSpaceAR(this.touchNodeList_25[6].getPosition())),t.push(this.touchNodeList_25[7].parent.convertToWorldSpaceAR(this.touchNodeList_25[7].getPosition())),t.push(this.touchNodeList_25[8].parent.convertToWorldSpaceAR(this.touchNodeList_25[8].getPosition())));return t},s([l(cc.Sprite)],e.prototype,"icon_sprite",void 0),s([l(cc.Node)],e.prototype,"node_fish_17",void 0),s([l(cc.Node)],e.prototype,"node_fish_18",void 0),s([l(cc.Node)],e.prototype,"node_fish_19",void 0),s([l(cc.Node)],e.prototype,"node_fish_23",void 0),s([l(cc.Node)],e.prototype,"node_fish_24",void 0),s([l(cc.Node)],e.prototype,"node_fish_25",void 0),s([l(cc.Node)],e.prototype,"node_fish_26",void 0),s([l(cc.Node)],e.prototype,"node_fish_27",void 0),s([l(cc.Node)],e.prototype,"node_fish_28",void 0),s([l(cc.Node)],e.prototype,"node_fish_29",void 0),s([l(cc.Node)],e.prototype,"node_fish_30",void 0),s([l(cc.Node)],e.prototype,"node_fish_32",void 0),s([l(cc.Sprite)],e.prototype,"fish32_bg",void 0),s([l(cc.Sprite)],e.prototype,"fish32_icon",void 0),s([l([cc.Node])],e.prototype,"touchNodeList_17",void 0),s([l([cc.Node])],e.prototype,"touchNodeList_19",void 0),s([l([cc.Node])],e.prototype,"touchNodeList_23",void 0),s([l([cc.Node])],e.prototype,"touchNodeList_24",void 0),s([l([cc.Node])],e.prototype,"touchNodeList_25",void 0),s([l(cc.PolygonCollider)],e.prototype,"fish_polygonCollider",void 0),s([l([cc.Node])],e.prototype,"colliderNodeList_17",void 0),s([l([cc.Node])],e.prototype,"colliderNodeList_18",void 0),s([l([cc.Node])],e.prototype,"colliderNodeList_19",void 0),s([l([cc.Node])],e.prototype,"colliderNodeList_23",void 0),s([l([cc.Node])],e.prototype,"colliderNodeList_24",void 0),s([l([cc.Node])],e.prototype,"colliderNodeList_25",void 0),s([h],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CADataEntry":"CADataEntry","./CAFishUtil":"CAFishUtil"}],CAGameInfo:[function(t,e,o){"use strict";cc._RF.push(e,"92a0bIUZxhNdpttRa+afnTb","CAGameInfo"),Object.defineProperty(o,"__esModule",{value:!0}),o.CAGameInfo=void 0;var i=t("./CADataEntry"),n=function(){function t(){this.baseScoreList=[5,6,7,8,9,10,20,30,40,50,60,70,80,90,100,200],this.baseScoreIndex=0,this.selfUserItem=null,this.userItemList=[],this.isAuto=!1,this.isLock=!1,this.lockFishId=0,this.lockTrackFishTypeList=[],this.autoFate=4,this.weaponType=i.WeaponType.Bullet,this.connType=i.ConnType.Bullet,this.lightFishId=0,this.laserHitInfo=0,this.drillHitInfo=0,this.changeSceneType=0,this.roomBet=0}return t.prototype.getNextBaseScore=function(t){var e=this.baseScoreIndex;return e="add"==t?(this.baseScoreIndex+1)%this.baseScoreList.length:(this.baseScoreIndex-1+this.baseScoreList.length)%this.baseScoreList.length,this.baseScoreList[e]},t.prototype.setBaseScore=function(t){for(var e=0;e<this.baseScoreList.length;e++)if(this.baseScoreList[e]==t){this.baseScoreIndex=e;break}},t.prototype.getBaseScore=function(){return this.baseScoreList[this.baseScoreIndex]},t.prototype.getUserItemByUid=function(t){for(var e=null,o=0;o<this.userItemList.length;o++)if(this.userItemList[o].userId==t){e=this.userItemList[o];break}return e},t.prototype.checkSelfByUid=function(t){return this.selfUserItem.userId==t},t.prototype.addUserItem=function(t){this.userItemList.push(t)},t.prototype.removeUseItem=function(t){for(var e=this.userItemList.length-1;e>=0;e--)this.userItemList[e].userId==t&&this.userItemList.splice(e,1)},t.prototype.getButlletType=function(t){var e=1;return t>=50&&(e=2),e},t}();o.CAGameInfo=n,cc._RF.pop()},{"./CADataEntry":"CADataEntry"}],CAGameView:[function(t,e,o){"use strict";cc._RF.push(e,"879c9tU1x5HE6bqv4cA9ovM","CAGameView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CABatteryManage"),r=t("./CABulletManage"),c=t("./CAComWait"),h=t("./CADataEntry"),l=t("./CADialogHelp"),p=t("./CADialogMessage"),f=t("./CADialogUnAction"),d=t("./CAEffectManage"),u=t("./CAFishManage"),y=t("./CALightHitManage"),g=t("./CAMap"),_=cc._decorator,m=_.ccclass,v=_.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiBg=null,e.btn_back=null,e.btn_set=null,e.btn_music=null,e.btn_help=null,e.btn_auto=null,e.btn_lock=null,e.btn_add=null,e.btn_dec=null,e.panel_tripMsg=null,e.lbl_tripMsg=null,e.batteryManage=null,e.bullteManage=null,e.fishManage=null,e.effectManage=null,e.lightHitManage=null,e.dialog_help=null,e.dialog_message=null,e.dialog_unAction=null,e.mapManage=null,e.comWait=null,e.left_show=!0,e.right_show=!0,e.control=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.initView=function(t){this.control=t,this.uiBg.on("click",this.onClick_set.bind(this)),this.btn_back.node.on("click",this.onClick_back.bind(this)),this.btn_set.node.on("click",this.onClick_set.bind(this)),this.btn_music.node.on("click",this.onClick_music.bind(this)),this.btn_help.node.on("click",this.onClick_help.bind(this)),this.btn_auto.node.on("click",this.onClick_auto.bind(this)),this.btn_lock.node.on("click",this.onClick_lock.bind(this)),this.btn_add.node.on("click",this.onClick_add.bind(this)),this.btn_dec.node.on("click",this.onClick_dec.bind(this)),this.panel_tripMsg.active=!1,this.batteryManage.initView(this.control),this.bullteManage.initView(this.control),this.fishManage.initView(this.control),this.effectManage.initView(this.control),this.lightHitManage.initView(this.control),this.dialog_help.initView(this.control),this.dialog_message.initView(this.control),this.mapManage.initView(this.control),this.dialog_unAction.initView(this.control),this.comWait.initView();var e=cc.sys.localStorage.getItem("CABY_VoiceChk");null==e&&(e=1),this.setBtnVolumeStatus(1==e),cc.director.getCollisionManager().enabled=!0},e.prototype.setBtnVolumeStatus=function(t){var e=t?1:0;cc.audioEngine.setMusicVolume(e),cc.sys.localStorage.setItem("CABY_VoiceChk",e),console.log("???",this.btn_music.node),this.btn_music.node.getChildByName("background").getChildByName("icon_1").active=!t,this.btn_music.node.getChildByName("background").getChildByName("icon_2").active=t},e.prototype.onClick_set=function(){var t=this;if(this.control.playAudio(6),cc.Tween.stopAllByTarget(this.btn_back.node),cc.Tween.stopAllByTarget(this.btn_music.node),cc.Tween.stopAllByTarget(this.btn_help.node),this.btn_back.node.scale=0,this.btn_music.node.scale=0,this.btn_help.node.scale=0,this.btn_set.node.getChildByName("background").getChildByName("icon_1").active){this.uiBg.active=!0,this.btn_set.node.getChildByName("background").getChildByName("icon_1").active=!1,this.btn_set.node.getChildByName("background").getChildByName("icon_2").active=!0;var e=cc.sys.localStorage.getItem("CA_MusicChk");null==e&&(e=1),this.setBtnVolumeStatus(1==e);var o=cc.sys.localStorage.getItem("CA_SoundChk");null==o&&(o=1),this.setBtnVolumeStatus(1==o),cc.tween(this.btn_back.node).to(.25,{scale:1},{easing:"backOut"}).start(),this.scheduleOnce(function(){t.uiBg.active&&cc.tween(t.btn_music.node).to(.25,{scale:1},{easing:"backOut"}).start()},.25),this.scheduleOnce(function(){t.uiBg.active&&cc.tween(t.btn_help.node).to(.25,{scale:1},{easing:"backOut"}).start()},.5)}else this.uiBg.active=!1,this.btn_set.node.getChildByName("background").getChildByName("icon_1").active=!0,this.btn_set.node.getChildByName("background").getChildByName("icon_2").active=!1},e.prototype.onClick_music=function(){this.control.playAudio(6),cc.audioEngine.getMusicVolume()>=1?this.setBtnVolumeStatus(!1):this.setBtnVolumeStatus(!0)},e.prototype.onClick_back=function(){this.control.playAudio(6),this.control.sendLeaveRoom()},e.prototype.onClick_help=function(){this.control.playAudio(6),this.dialog_help.show(!0)},e.prototype.onClick_auto=function(){this.control.playAudio(6),this.control.gameInfo.isAuto=!this.control.gameInfo.isAuto,this.btn_auto.node.getChildByName("icon_1").active=0==this.control.gameInfo.isAuto,this.btn_auto.node.getChildByName("icon_2").active=1==this.control.gameInfo.isAuto},e.prototype.onClick_lock=function(){this.control.playAudio(6),this.control.gameInfo.isLock=!this.control.gameInfo.isLock,this.control.gameInfo.lockFishId=0,this.btn_lock.node.getChildByName("icon_1").active=0==this.control.gameInfo.isLock,this.btn_lock.node.getChildByName("icon_2").active=1==this.control.gameInfo.isLock,this.batteryManage.setBatteryLockIcon(this.control.gameInfo.selfUserItem.batteryId,this.control.gameInfo.isLock),this.control.gameInfo.connType=1==this.control.gameInfo.isLock?h.ConnType.Light:h.ConnType.Bullet,this.control.gameInfo.selfUserItem.canonId=this.control.gameInfo.connType,this.control.sendChangeUserSkill(),this.control.updateWeaponType(this.control.gameInfo.selfUserItem.batteryId,this.control.gameInfo.connType),this.control.gameInfo.connType==h.ConnType.Bullet&&(this.control.gameInfo.lightFishId=0);var t=this.control.gameInfo.selfUserItem;1==this.control.gameInfo.isLock?(this.fishManage.checkLockFish(),this.batteryManage.update(0)):this.batteryManage.setBatteryLock(t.batteryId,0)},e.prototype.updateBtnLock=function(){this.btn_lock.node.getChildByName("icon_1").active=0==this.control.gameInfo.isLock,this.btn_lock.node.getChildByName("icon_2").active=1==this.control.gameInfo.isLock},e.prototype.updateBtnAuto=function(){this.btn_auto.node.getChildByName("icon_1").active=0==this.control.gameInfo.isAuto,this.btn_auto.node.getChildByName("icon_2").active=1==this.control.gameInfo.isAuto},e.prototype.onClick_add=function(){this.control.playAudio(6),this.control.sendChangeBaseScore("add"),this.btn_add.node.getChildByName("icon_1").active=!1,this.btn_add.node.getChildByName("icon_2").active=!0},e.prototype.onClick_dec=function(){this.control.playAudio(6),this.control.sendChangeBaseScore("dec"),this.btn_dec.node.getChildByName("icon_1").active=!1,this.btn_dec.node.getChildByName("icon_2").active=!0},e.prototype.showFishComeTrip=function(t){this.mapManage.showFishComeTrip(t)},e.prototype.showSwitchFishGroupMapAni=function(t){this.mapManage.playSwitchAni(t,function(){})},e.prototype.showTripMsg=function(t){var e=this;this.lbl_tripMsg.string=t,this.panel_tripMsg.active=!0,this.panel_tripMsg.stopAllActions(),this.panel_tripMsg.opacity=0,cc.tween(this.panel_tripMsg).to(.1,{opacity:255}).delay(.7).to(.3,{opacity:255}).call(function(){e.panel_tripMsg.active=!1}).start()},s([v(cc.Node)],e.prototype,"uiBg",void 0),s([v(cc.Button)],e.prototype,"btn_back",void 0),s([v(cc.Button)],e.prototype,"btn_set",void 0),s([v(cc.Button)],e.prototype,"btn_music",void 0),s([v(cc.Button)],e.prototype,"btn_help",void 0),s([v(cc.Button)],e.prototype,"btn_auto",void 0),s([v(cc.Button)],e.prototype,"btn_lock",void 0),s([v(cc.Button)],e.prototype,"btn_add",void 0),s([v(cc.Button)],e.prototype,"btn_dec",void 0),s([v(cc.Node)],e.prototype,"panel_tripMsg",void 0),s([v(cc.Label)],e.prototype,"lbl_tripMsg",void 0),s([v(a.default)],e.prototype,"batteryManage",void 0),s([v(r.default)],e.prototype,"bullteManage",void 0),s([v(u.default)],e.prototype,"fishManage",void 0),s([v(d.default)],e.prototype,"effectManage",void 0),s([v(y.default)],e.prototype,"lightHitManage",void 0),s([v(l.default)],e.prototype,"dialog_help",void 0),s([v(p.default)],e.prototype,"dialog_message",void 0),s([v(f.default)],e.prototype,"dialog_unAction",void 0),s([v(g.default)],e.prototype,"mapManage",void 0),s([v(c.default)],e.prototype,"comWait",void 0),s([m],e)}(cc.Component);o.default=b,cc._RF.pop()},{"./CABatteryManage":"CABatteryManage","./CABulletManage":"CABulletManage","./CAComWait":"CAComWait","./CADataEntry":"CADataEntry","./CADialogHelp":"CADialogHelp","./CADialogMessage":"CADialogMessage","./CADialogUnAction":"CADialogUnAction","./CAEffectManage":"CAEffectManage","./CAFishManage":"CAFishManage","./CALightHitManage":"CALightHitManage","./CAMap":"CAMap"}],CAI18n:[function(t,e,o){"use strict";cc._RF.push(e,"ed3688ybbZMwqC+1Bwz6uwT","CAI18n");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.json_cn=null,e.json_en=null,e.i18n_type="en",e}return n(e,t),e.prototype.initView=function(t){this.i18n_type=t},e.prototype.getTripStr=function(t){return"cn"==this.i18n_type?this.json_cn.json[t]:this.json_en.json[t]},s([c(cc.JsonAsset)],e.prototype,"json_cn",void 0),s([c(cc.JsonAsset)],e.prototype,"json_en",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CALightHitManage:[function(t,e,o){"use strict";cc._RF.push(e,"fdeeeqDZCZDt56wX86FJiUo","CALightHitManage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=cc._decorator,c=r.ccclass,h=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guanPrefab_1=null,e.guanPrefab_2=null,e.lightPrefab=null,e.control=null,e.lightHitList=[],e}return n(e,t),e.prototype.start=function(){},e.prototype.initView=function(t){this.control=t,this.resetLightHit()},e.prototype.resetLightHit=function(){for(var t in this.lightHitList)this.deleteLightHit(this.lightHitList[t]);this.lightHitList=[]},e.prototype.setBatteyLightFish=function(t,e){if(e>0){for(var o=!1,i=0;i<this.lightHitList.length;i++)if(this.lightHitList[i].batteryId==t){this.lightHitList[i].fishId=e,o=!0;break}0==o&&this.lightHitList.push({batteryId:t,fishId:e,guan_1:null,guan_2:null,light:null})}else for(i=0;i<this.lightHitList.length;i++)if(this.lightHitList[i].batteryId==t){this.deleteLightHit(this.lightHitList[i]),this.lightHitList.splice(i,1);break}this.update(0)},e.prototype.deleteLightHit=function(t){null!=t.guan_1&&(t.guan_1.removeFromParent(),t.guan_1=null),null!=t.guan_2&&(t.guan_2.removeFromParent(),t.guan_2=null),null!=t.light&&(t.light.removeFromParent(),t.light=null)},e.prototype.updateLightHitItem=function(t){var e,o=this.control.gameView.fishManage.getFishByFishId(t.fishId),i=this.control.gameView.batteryManage.getBatteryById(t.batteryId),n=this.node.convertToNodeSpaceAR(o.getWorldPos()),s=this.node.convertToNodeSpaceAR(i.getLightGuanPos()),a=Math.atan2(s.y-n.y,s.x-n.x),r=Math.sqrt(Math.pow(s.y-n.y,2)+Math.pow(s.x-n.x,2));null==t.light?((e=cc.instantiate(this.lightPrefab)).parent=this.node,e.setPosition((n.x+s.x)/2,(n.y+s.y)/2),e.scaleX=r/e.width,e.scaleY=1,e.angle=180*a/Math.PI,t.light=e):(t.light.setPosition((n.x+s.x)/2,(n.y+s.y)/2),t.light.scaleX=r/t.light.width,t.light.angle=180*a/Math.PI),null==t.guan_1?((e=cc.instantiate(this.guanPrefab_1)).parent=this.node,e.setPosition(s),t.guan_1=e):t.guan_1.setPosition(s),null==t.guan_2?((e=cc.instantiate(this.guanPrefab_2)).parent=this.node,e.setPosition(n),t.guan_2=e):t.guan_2.setPosition(n)},e.prototype.update=function(){for(var t=this.lightHitList.length-1;t>=0;t--){var e=this.control.gameView.fishManage.getFishByFishId(this.lightHitList[t].fishId),o=this.control.gameView.batteryManage.getBatteryById(this.lightHitList[t].batteryId);null==e||e.fishStatus!=a.FishStatus.Swim||1==e.isOutSwimSize?(this.deleteLightHit(this.lightHitList[t]),this.lightHitList.splice(t,1)):null!=o&&0!=o.isUse&&o.connType!=a.ConnType.Bullet||(this.deleteLightHit(this.lightHitList[t]),this.lightHitList.splice(t,1))}for(var t in this.lightHitList)this.updateLightHitItem(this.lightHitList[t])},s([h(cc.Prefab)],e.prototype,"guanPrefab_1",void 0),s([h(cc.Prefab)],e.prototype,"guanPrefab_2",void 0),s([h(cc.Prefab)],e.prototype,"lightPrefab",void 0),s([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CADataEntry":"CADataEntry"}],CALightLine:[function(t,e,o){"use strict";cc._RF.push(e,"97d78AApXBHsIUq4Dr5sJ0p","CALightLine");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CAFishUtil"),r=cc._decorator,c=r.ccclass,h=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.showAni=function(t,e,o,i){var n=this,s=this.node.parent.convertToNodeSpaceAR(cc.v2((t.x+e.x)/2,(t.y+e.y)/2));this.node.setPosition(s);var r=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));this.node.width=r,this.node.height=81;var c=Math.atan2(e.y-t.y,e.x-t.x);this.node.angle=180*c/Math.PI;var h=this.getComponent(cc.Sprite);a.default.showFrameAnimation(h,i,o/2,!1,!0,2,function(){n.node.removeFromParent()})},s([c],e)}(cc.Component));o.default=h,cc._RF.pop()},{"./CAFishUtil":"CAFishUtil"}],CALockItem:[function(t,e,o){"use strict";cc._RF.push(e,"e09eeyG38JHl5TE1wwjjgNg","CALockItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_icon=null,e}return n(e,t),e.prototype.initView=function(){this.playEnterAni()},e.prototype.setItemSp=function(t){this.sp_icon.spriteFrame=t},e.prototype.playEnterAni=function(){this.node.scale=2,cc.tween(this.node).to(1,{scale:1}).start()},s([c(cc.Sprite)],e.prototype,"sp_icon",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CALockManage:[function(t,e,o){"use strict";cc._RF.push(e,"ae198p1QfpK1rFRBOlppE1x","CALockManage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=t("./CALockItem"),c=cc._decorator,h=c.ccclass,l=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lockPrefab_1=null,e.control=null,e.lockList=[],e.diffLen=40,e}return n(e,t),e.prototype.start=function(){},e.prototype.initView=function(t){this.control=t,this.resetLock()},e.prototype.resetLock=function(){for(var t in this.lockList)this.deleteLock(this.lockList[t]);this.lockList=[]},e.prototype.setBatteyLockFish=function(t,e){var o=this.control.gameView.batteryManage.getBatteryById(t);if(e>0){for(var i=!1,n=0;n<this.lockList.length;n++)if(this.lockList[n].batteryId==t){this.lockList[n].fishId=e,i=!0;break}0==i&&this.lockList.push({batteryId:t,fishId:e,lockItem_1:null}),o.setLock(!0)}else{for(n=0;n<this.lockList.length;n++)if(this.lockList[n].batteryId==t){this.deleteLock(this.lockList[n]),this.lockList.splice(n,1);break}o.setLock(!1)}this.update(0)},e.prototype.deleteLock=function(t){null!=t.lockItem_1&&(t.lockItem_1.removeFromParent(),t.lockItem_1=null)},e.prototype.updateLockItem=function(t){var e=this.control.gameView.fishManage.getFishByFishId(t.fishId),o=this.control.gameView.batteryManage.getBatteryById(t.batteryId);if(null!=e){var i=e.getNodePos(),n=this.node.convertToNodeSpaceAR(o.getPaoPos()),s=Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2)),a=Math.floor((s-180)/this.diffLen);if(a=Math.min(a,50),Math.atan2(n.y-i.y,n.x-i.x),null==t.lockItem_1){var c=cc.instantiate(this.lockPrefab_1);c.parent=this.node,c.setPosition(i),t.lockItem_1=c,c.getComponent(r.default).initView()}else t.lockItem_1.setPosition(i)}},e.prototype.update=function(){for(var t=this.lockList.length-1;t>=0;t--){var e=this.control.gameView.fishManage.getFishByFishId(this.lockList[t].fishId),o=this.control.gameView.batteryManage.getBatteryById(this.lockList[t].batteryId);null==e||e.fishStatus!=a.FishStatus.Swim||1==e.isOutSwimSize?0==o.isSelf||1==o.isSelf&&0==this.control.gameInfo.isLock?(this.deleteLock(this.lockList[t]),this.lockList.splice(t,1),o.showLockFishAni(!1,null,null)):this.lockList[t].fishId=this.control.gameInfo.lockFishId:(null==o||0==o.isUse||1==o.isSelf&&0==this.control.gameInfo.isLock)&&(this.deleteLock(this.lockList[t]),this.lockList.splice(t,1))}for(var t in this.lockList)this.updateLockItem(this.lockList[t])},s([l(cc.Prefab)],e.prototype,"lockPrefab_1",void 0),s([h],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./CADataEntry":"CADataEntry","./CALockItem":"CALockItem"}],CAMap:[function(t,e,o){"use strict";cc._RF.push(e,"95c5bu2dSZPArvPZsyeNcW+","CAMap");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapSpList=[],e.map=null,e.ani_seawater=null,e.cannon0=null,e.cannon1=null,e.cannonSF=[],e.fishTipList=[],e.lamp=null,e.shadow8=null,e.shadow24_0=null,e.shadow24_1=null,e.shadow22=null,e.sceneLogoList=[],e.map1_bottom=null,e.glowworm=null,e.bubble=null,e.map1=null,e.map3_center=null,e.MapConfig=[{id:0,rect:"left",angle:0,imgNo:0},{id:1,rect:"left",angle:0,imgNo:1},{id:2,rect:"left",angle:0,imgNo:2},{id:3,rect:"left",angle:0,imgNo:3}],e.control=null,e.mapAni0=null,e.mapAni1=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.initView=function(t){this.control=t,this.mapAni0=cc.tween(this.map.node).repeatForever(cc.tween().to(15,{x:1306.4}).to(0,{x:-1306.4}).to(15,{x:0})),this.mapAni1=cc.tween(this.map1).repeatForever(cc.tween().to(15,{x:0}).to(15,{x:1306.4}).to(0,{x:-1306.4})),this.setMap(0)},e.prototype.setMap=function(t){switch(t%=this.MapConfig.length,this.map.spriteFrame=this.mapSpList[this.MapConfig[t].imgNo],this.control.playAudio(t%4),this.mapAni0.stop(),this.mapAni1.stop(),this.map.node.x=0,this.map1.x=-1306.4,this.map1.active=!1,this.glowworm.active=!1,this.bubble.active=!1,this.map1_bottom.active=!1,this.map3_center.active=!1,t){case 0:this.glowworm.active=!0,this.bubble.active=!0,this.map1.active=!0,this.mapAni0.start(),this.mapAni1.start();break;case 1:this.map1_bottom.active=!0;break;case 2:break;case 3:this.map3_center.active=!0}},e.prototype.getMapAngle=function(t){t%=this.MapConfig.length;var e=this.MapConfig[0].angle;return this.MapConfig[t]&&(e=this.MapConfig[t].angle),e},e.prototype.getMapSpeed=function(t){t%=this.MapConfig.length;var e=this.MapConfig[0];this.MapConfig[t]&&(e=this.MapConfig[t]);var o=this.node.width/1;return"top"!=e.rect&&"down"!=e.rect||(o=this.node.height/1),o},e.prototype.playSwitchAni=function(t,e){var o=this;t%=this.MapConfig.length,this.control.playAudio(t%4),this.ani_seawater.active=!0,this.ani_seawater.opacity=0,this.cannon0.spriteFrame=this.cannonSF[0],this.cannon1.spriteFrame=this.cannonSF[0];for(var i=0;i<this.fishTipList.length;i++)this.fishTipList[i].active=!1;cc.tween(this.ani_seawater).to(3,{opacity:255}).call(function(){switch(e&&e(),o.map.spriteFrame=o.mapSpList[o.MapConfig[t].imgNo],o.fishTipList[t].active=!0,t){case 0:break;case 1:cc.tween(o.shadow8).to(0,{x:850}).to(5,{x:-850}).start();break;case 2:cc.tween(o.shadow8).to(0,{x:1150}).to(5,{x:-1150}).start(),cc.tween(o.shadow8).to(0,{x:-1150}).to(5,{x:1150}).start();break;case 3:cc.tween(o.shadow22).to(0,{x:1100}).to(5,{x:-2e3}).start()}switch(o.mapAni0.stop(),o.mapAni1.stop(),o.map.node.x=0,o.map1.x=-1306.4,o.map1.active=!1,o.glowworm.active=!1,o.bubble.active=!1,o.map1_bottom.active=!1,o.map3_center.active=!1,t){case 0:o.glowworm.active=!0,o.bubble.active=!0,o.map1.active=!0,o.mapAni0.start(),o.mapAni1.start();break;case 1:o.map1_bottom.active=!0;break;case 2:break;case 3:o.map3_center.active=!0}}).delay(6).to(3,{opacity:0}).call(function(){o.ani_seawater.active=!1,o.sceneLogoList[t].getComponent(cc.Animation).play()}).start(),cc.tween(this.cannon0.node).delay(3).to(.5,{x:-800}).call(function(){o.cannon0.spriteFrame=o.cannonSF[1]}).to(.5,{x:-400}).delay(5).to(.5,{x:-800}).call(function(){o.cannon0.spriteFrame=o.cannonSF[2]}).to(.5,{x:-400}).start(),cc.tween(this.cannon1.node).delay(3).to(.5,{x:800}).call(function(){o.cannon1.spriteFrame=o.cannonSF[1]}).to(.5,{x:400}).delay(5).to(.5,{x:800}).call(function(){o.cannon1.spriteFrame=o.cannonSF[2]}).to(.5,{x:400}).start()},e.prototype.showFishComeTrip=function(){},e.prototype.showMapshake=function(t){void 0===t&&(t=2),cc.Tween.stopAllByTarget(this.map.node),this.map.node.setPosition(0,0);for(var e=[],o=0;o<9;o++)e.push(cc.v3(60*Math.random()-30,50*Math.random()-25,this.map.node.z));cc.tween(this.map.node).sequence(cc.tween().to(.018,{position:e[0]}),cc.tween().to(.018,{position:e[1]}),cc.tween().to(.018,{position:e[2]}),cc.tween().to(.018,{position:e[3]}),cc.tween().to(.018,{position:e[4]}),cc.tween().to(.018,{position:e[5]}),cc.tween().to(.018,{position:e[6]}),cc.tween().to(.018,{position:e[7]}),cc.tween().to(.018,{position:e[8]})).repeat(t).start()},s([c([cc.SpriteFrame])],e.prototype,"mapSpList",void 0),s([c(cc.Sprite)],e.prototype,"map",void 0),s([c(cc.Node)],e.prototype,"ani_seawater",void 0),s([c(cc.Sprite)],e.prototype,"cannon0",void 0),s([c(cc.Sprite)],e.prototype,"cannon1",void 0),s([c([cc.SpriteFrame])],e.prototype,"cannonSF",void 0),s([c(cc.Node)],e.prototype,"fishTipList",void 0),s([c(cc.Node)],e.prototype,"lamp",void 0),s([c(cc.Node)],e.prototype,"shadow8",void 0),s([c(cc.Node)],e.prototype,"shadow24_0",void 0),s([c(cc.Node)],e.prototype,"shadow24_1",void 0),s([c(cc.Node)],e.prototype,"shadow22",void 0),s([c([cc.Node])],e.prototype,"sceneLogoList",void 0),s([c(cc.Node)],e.prototype,"map1_bottom",void 0),s([c(cc.Node)],e.prototype,"glowworm",void 0),s([c(cc.Node)],e.prototype,"bubble",void 0),s([c(cc.Node)],e.prototype,"map1",void 0),s([c(cc.Node)],e.prototype,"map3_center",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CANetWork:[function(t,e,o){"use strict";cc._RF.push(e,"ca85b+GSFJK1Y7Yrz/lxB2h","CANetWork");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CADataEntry"),r=cc._decorator,c=r.ccclass,h=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.socket=null,e.control=null,e.url=null,e.clickExit=!1,e}var o;return n(e,t),o=e,e.prototype.onDestroy=function(){},e.prototype.onLoad=function(){o.once=this,GameConfig.SubGameMgr.subGameNet=this,this.send("loginGame",{})},e.prototype.initView=function(t){this.control=t,this.control.showWaitLoading(!0)},e.prototype.send=function(t,e){window.sendNetWorkData&&("heart_beat"!=t&&console.log("send cmd:"+t+",data:",e),window.sendNetWorkData(t,JSON.stringify(e)))},e.prototype.resultToJSON=function(t){return JSON.parse(t)},e.prototype.addNetEvent=function(t,e){var o=this;cc.log("addNetEvent",t);var i,n=e;if("loginGameResult"==t){var s=this.resultToJSON(e);if(cc.log("\u767b\u9646\u6e38\u620f\u670d\u7ed3\u679c",s),s.resultid)(i=new a.UserItem).niceName=s.Obj.nickname,i.userId=s.Obj.id,i.score=s.Obj.score,i.winSocre=s.Obj.wins,i.baseScore=s.Obj.bet,i.isMonitor=!0,this.control.gameInfo.selfUserItem=i,this.control.gameInfo.roomBet=s.Obj.bet,s.Obj.betList&&s.Obj.betList.length>0&&(this.control.gameInfo.baseScoreList=s.Obj.betList),cc.log("\u53d1\u9001\u767b\u5f55\u6e38\u620f\u623f\u95f4\u6d88\u606f"),this.send("LoginRoom",{roomid:1}),this.control.hideDialogMessage("socketError");else{var r=this.control.i18n.getTripStr("socketError");this.control.showDialogMessage("socketError","ok",r,function(){o.sendLeaveRoom()})}}if("LoginRoomResult"==t)if(s=this.resultToJSON(e),cc.log("\u767b\u5f55\u623f\u95f4\u7ed3\u679c",s),this.control.showWaitLoading(!1),s.ResultCode){for(var c in this.control.gameInfo.changeSceneType=s.change_scene_type,this.control.setMap(this.control.gameInfo.changeSceneType),s.ResultData.userList){var h=s.ResultData.userList[c];this.control.gameInfo.checkSelfByUid(h.userId)?(this.control.gameInfo.selfUserItem.headId=h.headimgurl,this.control.gameInfo.selfUserItem.userType=h.userType,this.control.gameInfo.selfUserItem.canonId=h.canonId,this.control.gameInfo.connType=this.control.gameInfo.selfUserItem.canonId,this.control.gameInfo.selfUserItem.seatId=h.seatId,this.control.gameInfo.selfUserItem.batteryId=h.seatId,this.control.gameInfo.selfUserItem.baseScore=Math.max(h.bet,this.control.gameInfo.baseScoreList[0]),this.control.onUserEnter(this.control.gameInfo.selfUserItem)):((i=new a.UserItem).niceName=h.nickname,i.headId=h.headimgurl,i.userId=h.userId,i.userType=h.userType,i.score=h.score,i.winSocre=h.wins,i.canonId=h.canonId,i.baseScore=Math.max(h.bet,this.control.gameInfo.baseScoreList[0]),i.seatId=h.seatId,i.batteryId=h.seatId,i.isMonitor=!1,this.control.onUserEnter(i))}this.sendChangeScene()}else r=this.control.i18n.getTripStr("socketError"),this.control.showDialogMessage("socketError","ok",r,function(){o.sendLeaveRoom()});if("fishSceneChange"==t&&(s=this.resultToJSON(n),cc.log("fishSceneChange:",s),s&&(this.control.gameInfo.changeSceneType=s.change_scene_type,this.control.switchFishGroupMap(this.control.gameInfo.changeSceneType))),"playEnter"==t&&(s=this.resultToJSON(n),cc.log("\u7528\u6237\u8fdb\u5165:",s),s.ResultCode&&(h=s.ResultData,(i=new a.UserItem).niceName=h.nickname,i.headId=h.headimgurl,i.userId=h.UserId,i.userType=h.userType,i.score=h.score,i.winSocre=h.wins,i.canonId=h.canonId,i.baseScore=Math.max(1,this.control.gameInfo.baseScoreList[0]),i.seatId=h.seatId,i.batteryId=h.seatId,i.isMonitor=!1,this.control.onUserEnter(i))),"PlayerOut"==t&&(s=this.resultToJSON(n),cc.log("\u7528\u6237\u9000\u51fa:",s),this.control.onUserLeave(s.userId)),"FishOut"==t){var l=this.resultToJSON(n);if(null!=l.propFish&&l.propFish>0&&cc.log("\u7279\u6b8a\u9c7c:",l),l.fishType>=19&&l.fishType<=32&&cc.log("\u7279\u6b8a\u9c7c:",l),null!=l.fishId&&l.fishId.length>1&&cc.log("\u9c7c\u7fa4:",l),l.fishType>=33)return void cc.log("\u4e0b\u53d1\u9c7c\u9519\u8bef\uff1a",l);var p=null!=l.stop?l.stop:0;cc.tween(this.node).delay(p).call(function(){for(var t=0;t<l.fishId.length;t++){var e=l.fishId[t],i=l.fishType,n=l.fishPath,s=l.hp,a=[0];-1!=[32].indexOf(i)&&null!=l.fishes&&(a[0]=l.fishes[0]);var r=cc.v2(0,0),c=0;n>=95&&n<=98?r=o.control.getFishPosByGroup(n,i,t):99==n?c=360*t/l.fishId.length:n>=108&&n<=127||(r=cc.v2(0,100*(t-l.length/2))),o.control.onFishEnter(e,i,n,r,c,s,a)}}).start()}if("fishShoot"==t){var f=(s=this.resultToJSON(n)).uid,d=s.bulletId,u=s.position.x,y=s.bet,g=s.fishId;this.control.onBatteryFire(f,d,u,y,g)}if("HitResult"==t&&(s=this.resultToJSON(n),cc.log("\u5b50\u5f39\u51fb\u6740\u7ed3\u679c:",s),1==s.ResultCode)){var _={uId:s.ResultData.userId,fishId:s.ResultData.fishId,butype:s.ResultData.butype,winScore:s.ResultData.hitSocre,bombId:s.ResultData.bombId,bombCount:s.ResultData.bombCount,bulletType:s.hitInfo.bulletType,bulletId:s.hitInfo.bulletId};this.control.onFishDeath(_)}("changePowerResult"==t&&(f=(s=this.resultToJSON(n)).uid,y=s.bet,this.control.onChangeBaseScore(f,y)),"userGoldUpdate"==t&&(s=this.resultToJSON(n),cc.log("\u73a9\u5bb6\u5206\u6570\u6539\u53d8:",s),this.control.onUserScoreChange(s.userId,s.updateSocre)),"caijinChange"==t&&(s=this.resultToJSON(n),cc.log("\u5f69\u91d1\u53d8\u5316:",s)),"getDownTimeResult"==t&&(s=this.resultToJSON(n),cc.log("getDownTimeResult:",s)),"doubleEnd"==t&&(s=this.resultToJSON(n),cc.log("doubleEnd:",s)),"chargeAllResult"==t&&(s=this.resultToJSON(n),cc.log("doubleEnd:",s)),"useSkillResult"==t)&&(s=this.resultToJSON(n),cc.log("useSkillResult:",s),(i=this.control.gameInfo.getUserItemByUid(s.uid)).canonId!=s.canonId&&(i.canonId=s.canonId,this.control.updateWeaponType(i.batteryId,i.canonId),this.control.gameInfo.checkSelfByUid(i.userId)&&(this.control.gameInfo.connType=i.canonId)));if("broadcast"==t){s=this.resultToJSON(n);var m=JSON.parse(s.userdata);cc.log("broadcast:",s,m),"laserFire"==m.type?this.control.onLaserNotice(m.uid,m.battryId,m.angle):"drillFire"==m.type&&this.control.onDrillNotice(m.uid,m.battryId,m.angle)}if("fishHit_boardResult"==t&&(s=this.resultToJSON(n),cc.log("fishHit_boardResult:",s)),"pool"==t&&(s=this.resultToJSON(n),cc.log("pool:",s)),"getFishListResult"==t&&(s=this.resultToJSON(n),cc.log("getFishListResult:",s)),"getMoguiCountResult"==t&&(s=this.resultToJSON(n),cc.log("getMoguiCountResult:",s)),"strikeResult"==t&&(s=this.resultToJSON(n),cc.log("\u6d3b\u52a8\u70b9\u51fb\u6d88\u606f:",s),1==s.ResultCode)){f=s.ResultData.userId;var v=s.ResultData.score;this.control.onStrikeResult(f,v)}},e.prototype.sendHappyPlay=function(){cc.log("\u53d1\u9001\uff1afishStrike"),this.send("fishStrike",{})},e.prototype.sendHeartBeat=function(){this.send("heart_beat",{})},e.prototype.sendBatteryFire=function(t,e,o,i,n,s){var a={userid:t,seatId:e,bet:i,position:cc.v2(o,0),fishId:n,balance:i*this.control.gameInfo.roomBet,uid:t,bulletId:s,isDrill:!1,boomWay:0,boomPercent:0};this.send("fishShoot",a),this.control.unActiontime=0},e.prototype.sendHitFish=function(t,e,o,i,n,s){void 0===n&&(n=!1),void 0===s&&(s=0);var a={uid:t,fishId:o,bulletId:e,bulletType:i,lockFishId:0,format:null,hp:null};1==n&&(a.format=1),s>0&&(a.hp=s),this.send("fishHit",a)},e.prototype.sendChangeBaseScore=function(t,e){var o={uid:t,bet:e};this.send("changePower",o)},e.prototype.sendChangeUserSkill=function(t){var e={uid:t,sid:2};this.send("useSKill",e)},e.prototype.sendChangeScene=function(){this.send("changeScene",{})},e.prototype.sendLaserNotice=function(t,e){var o={type:"laserFire",uid:this.control.gameInfo.selfUserItem.userId,battryId:t,angle:e};cc.log("\u53d1\u9001\u6fc0\u5149\u6d88\u606f\uff1a",o),this.send("broadcast",o)},e.prototype.sendDrillNotice=function(t,e){var o={type:"drillFire",uid:this.control.gameInfo.selfUserItem.userId,battryId:t,angle:e};cc.log("\u53d1\u9001\u94bb\u5934\u6d88\u606f\uff1a",o),this.send("broadcast",o)},e.prototype.sendLeaveRoom=function(){this.clickExit=!0},e.prototype.leave_1=function(){},o=s([c],e)}(cc.Component));o.default=h,cc._RF.pop()},{"./CADataEntry":"CADataEntry"}],CARotaryTable:[function(t,e,o){"use strict";cc._RF.push(e,"bf595wIELRGk4wu+OojgVrl","CARotaryTable");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg0=null,e.bg1=null,e.bg2=null,e.pn0=null,e.pn1=null,e.pn2=null,e.scoreLabel=null,e.pointer=null,e.goldingot=null,e.payoutList=[{payout:20,angle:45},{payout:40,angle:135},{payout:60,angle:225},{payout:80,angle:315},{payout:100,angle:60},{payout:115,angle:180},{payout:130,angle:300},{payout:140,angle:120},{payout:150,angle:240}],e.control=null,e}return n(e,t),e.prototype.initView=function(t,e,o){var i=this;this.control=t;for(var n=0,s=0;s<this.payoutList.length;s++)if(this.payoutList[s].payout==o){n=s;break}cc.tween(this.pointer).delay(2).call(function(){i.pn0.active=!0,i.pn1.active=!0,i.pn2.active=!0,i.goldingot.active=!0,i.control.playAudio(26)}).to(1,{y:150}).call(function(){i.control.playAudio(25),n<4?cc.tween(i.bg0).to(2,{angle:-360-i.payoutList[n].angle},{easing:"sineInOut"}).start():n<7?cc.tween(i.bg1).to(2,{angle:-360-i.payoutList[n].angle},{easing:"sineInOut"}).start():cc.tween(i.bg2).to(2,{angle:-360-i.payoutList[n].angle},{easing:"sineInOut"}).start()}).delay(3).call(function(){i.control.playAudio(24),i.scoreLabel.node.active=!0,i.scoreLabel.string=""+(e/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(i.scoreLabel.node).to(.4,{y:-100}).to(.4,{y:-50}).to(.4,{y:-100}).to(.4,{y:-50}).to(.4,{y:-100,opacity:0}).start()}).start()},s([c(cc.Node)],e.prototype,"bg0",void 0),s([c(cc.Node)],e.prototype,"bg1",void 0),s([c(cc.Node)],e.prototype,"bg2",void 0),s([c(cc.Node)],e.prototype,"pn0",void 0),s([c(cc.Node)],e.prototype,"pn1",void 0),s([c(cc.Node)],e.prototype,"pn2",void 0),s([c(cc.Label)],e.prototype,"scoreLabel",void 0),s([c(cc.Node)],e.prototype,"pointer",void 0),s([c(cc.Node)],e.prototype,"goldingot",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CAScoreAni:[function(t,e,o){"use strict";cc._RF.push(e,"94d0byCyBNPwYGsHQQs82Lo","CAScoreAni");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./CAFishUtil"),r=cc._decorator,c=r.ccclass,h=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblScore=null,e.sp_icon=null,e.sp_ani=null,e.scoreList=[{start:0,single:2,count:5},{start:10,single:10,count:20},{start:210,single:50,count:20},{start:1210,single:200,count:20},{start:5210,single:500,count:20},{start:15210,single:1e3,count:-1}],e.singleHeight=4,e}return n(e,t),e.prototype.start=function(){},e.prototype.showAni=function(t,e){for(var o=this,i=0,n=0;n<this.scoreList.length;n++){if(n==this.scoreList.length-1){i+=Math.ceil((t-this.scoreList[n].start)/this.scoreList[n].single);break}if(t<=this.scoreList[n+1].start){i+=Math.ceil((t-this.scoreList[n].start)/this.scoreList[n].single);break}i+=Math.ceil((this.scoreList[n+1].start-this.scoreList[n].start)/this.scoreList[n].single)}var s=i*this.singleHeight;this.sp_icon.height=4,this.sp_icon.opacity=255,cc.tween(this.sp_icon).to(1,{height:s}).delay(.7).to(.5,{opacity:0}).call(function(){o.node.removeFromParent()}).start(),this.lblScore.string=(t/globalThis.playerInfo.exchangeRate).toFixed(2),this.lblScore.node.active=!1,this.lblScore.node.y=this.lblScore.node.y+s;var r=[],c=null;for(n=0;n<6;n++)null!=(c=e.getSpriteFrame("ChipAnimation_"+n))&&r.push(c);a.default.showFrameAnimation(this.sp_ani,r,.2,!1,!0,6,null),cc.tween(this.sp_ani.node).to(1,{position:cc.v3(this.sp_ani.node.x,this.sp_ani.node.y+s,this.sp_ani.node.z)}).delay(.2).call(function(){o.sp_ani.node.active=!1,o.lblScore.node.active=!0,cc.tween(o.lblScore.node).delay(.5).to(.5,{opacity:0}).start()}).start()},s([h(cc.Label)],e.prototype,"lblScore",void 0),s([h(cc.Node)],e.prototype,"sp_icon",void 0),s([h(cc.Sprite)],e.prototype,"sp_ani",void 0),s([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./CAFishUtil":"CAFishUtil"}],CAScore:[function(t,e,o){"use strict";cc._RF.push(e,"47e027oFF1OKpmbNsxuMHKL","CAScore");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbl_gold=null,e.lbl_font=[],e}return n(e,t),e.prototype.start=function(){},e.prototype.showAni=function(t,e,o){var i=this;this.lbl_gold.font=this.lbl_font[o],this.lbl_gold.string=(t/globalThis.playerInfo.exchangeRate).toFixed(2),cc.tween(this.node).by(.1,{y:50}).by(.1,{y:-50}).delay(1.3).call(function(){i.node.removeFromParent()}).start()},e.prototype.showMoveAni=function(t,e,o,i,n,s){var a=this;this.lbl_gold.font=this.lbl_font[o],this.lbl_gold.string=(t/globalThis.playerInfo.exchangeRate).toFixed(2),this.node.scale=0,this.node.setPosition(i),cc.tween(this.node).to(.2,{scale:1.2}).to(.1,{scale:.9}).to(.1,{scale:1}).delay(.6).to(.5,{position:cc.v3(n.x,n.y,this.node.z)}).call(function(){s&&s(),a.node.removeFromParent()}).start()},s([c(cc.Label)],e.prototype,"lbl_gold",void 0),s([c([cc.Font])],e.prototype,"lbl_font",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CAUIAdapet:[function(t,e,o){"use strict";cc._RF.push(e,"9ec9dUZ83tNs5PorvqinN+O","CAUIAdapet");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftNodeList=[],e.rightNodeList=[],e.diffWidth=80,e}return n(e,t),e.prototype.start=function(){if(cc.sys.isNative){var t=cc.director.getWinSize();if(t.width/t.height>=1.9){for(var e in this.leftNodeList)(o=this.leftNodeList[e].getComponent(cc.Widget))?o.left=this.diffWidth:this.leftNodeList[e].x=this.leftNodeList[e].x+this.diffWidth;for(var e in this.rightNodeList){var o;(o=this.leftNodeList[e].getComponent(cc.Widget))?o.right=this.diffWidth:this.leftNodeList[e].x=this.leftNodeList[e].x-this.diffWidth}}}},s([c([cc.Node])],e.prototype,"leftNodeList",void 0),s([c([cc.Node])],e.prototype,"rightNodeList",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CAfish_test:[function(t,e,o){"use strict";cc._RF.push(e,"4046cEdWrxNo4sEeF2SrP/G","CAfish_test");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colliderNodeList=[],e.fish_polygonCollider=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(){this.fish_polygonCollider.points.length=0,this.fish_polygonCollider.points=[];for(var t=0;t<this.colliderNodeList.length;t++){var e=this.node.convertToNodeSpaceAR(this.colliderNodeList[t].parent.convertToWorldSpaceAR(this.colliderNodeList[t].getPosition()));this.fish_polygonCollider.points.push(e)}},s([c([cc.Node])],e.prototype,"colliderNodeList",void 0),s([c(cc.PolygonCollider)],e.prototype,"fish_polygonCollider",void 0),s([r],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],fishConfig:[function(t,e){"use strict";cc._RF.push(e,"86158N1JQtCFb9IHvip6Mqk","fishConfig");var o=new Array;o[0]={fishType:0,coin:2,outPro:20,path:"0-93",prop:0,propId:0,propCount:0},o[1]={fishType:1,coin:3,outPro:20,path:"0-93",prop:0,propId:0,propCount:0},o[2]={fishType:2,coin:4,outPro:18,path:"0-93",prop:0,propId:0,propCount:0},o[3]={fishType:3,coin:5,outPro:17,path:"0-93",prop:0,propId:0,propCount:0},o[4]={fishType:4,coin:6,outPro:15,path:"0-93",prop:0,propId:0,propCount:0},o[5]={fishType:5,coin:7,outPro:15,path:"0-93",prop:0,propId:0,propCount:0},o[6]={fishType:6,coin:8,outPro:15,path:"0-93",prop:0,propId:0,propCount:0},o[7]={fishType:7,coin:9,outPro:15,path:"0-93",prop:0,propId:0,propCount:0},o[8]={fishType:8,coin:10,outPro:15,path:"0-93",prop:0,propId:0,propCount:0},o[9]={fishType:9,coin:12,outPro:15,path:"0-93",prop:0,propId:0,propCount:0},o[10]={fishType:10,coin:15,outPro:15,path:"32-93",prop:0,propId:0,propCount:0},o[11]={fishType:11,coin:18,outPro:15,path:"32-93",prop:0,propId:0,propCount:0},o[12]={fishType:12,coin:20,outPro:15,path:"32-93",prop:0,propId:0,propCount:0},o[13]={fishType:13,coin:10,range:"1-3",outPro:10,path:"55-93",prop:0,propId:0,propCount:0},o[14]={fishType:14,coin:10,range:"1-3",outPro:10,path:"55-93",prop:0,propId:0,propCount:0},o[15]={fishType:15,coin:10,range:"1-3",outPro:10,path:"55-93",prop:0,propId:0,propCount:0},o[16]={fishType:16,coin:10,range:"2-6",outPro:10,path:"55-93",prop:0,propId:0,propCount:0},o[17]={fishType:17,coin:10,range:"3-10",outPro:8,path:"55-93",prop:0,propId:0,propCount:0},o[18]={fishType:18,coin:100,outPro:8,path:"55-93",prop:0,propId:0,propCount:0},o[19]={fishType:19,coin:1,range:"100-300",outPro:8,path:"108-109",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-300"},o[20]={fishType:20,coin:1,range:"100-300",outPro:8,path:"110-113",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-300"},o[21]={fishType:21,coin:1,range:"100-300",outPro:10,path:"114-119",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-300",scene:2},o[22]={fishType:22,coin:1,range:"100-300",outPro:10,path:"120-121",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-300",scene:4},o[23]={fishType:23,coin:1,range:"100-300",outPro:10,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-300",scene:1},o[24]={fishType:24,coin:1,range:"100-300",outPro:10,path:"122-127",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-300",scene:3},o[25]={fishType:25,coin:1,range:"200-300",outPro:8,path:"108-109",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"200-300"},o[26]={fishType:26,coin:1,range:"150-200",outPro:8,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"150-200"},o[27]={fishType:27,coin:1,range:"100-150",outPro:8,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-150"},o[28]={fishType:28,coin:1,range:"100-150",outPro:8,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-150"},o[29]={fishType:29,coin:1,range:"100-150",outPro:8,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-150"},o[30]={fishType:30,coin:1,range:"100-150",outPro:8,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"100-150"},o[31]={fishType:31,coin:1,range:"50-100",outPro:8,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"50-100"},o[32]={fishType:32,coin:1,range:"50-100",outPro:8,path:"55-93",prop:0,propId:0,propCount:0,onlyBomb:1,bomb:"50-100",bombTypesCount:1},e.exports=o,cc._RF.pop()},{}],fishOutListConfig:[function(t,e){"use strict";cc._RF.push(e,"4e7c3h95fZDMp4VX2+Dwu5A","fishOutListConfig");var o=new Array;o[0]=new Array,o[0][0]={time:50,inteval:60},o[0][1]={inteval:70,fishType:0,fishPath:95,time:0,fishCount:18,fishLineup:0},o[0][2]={inteval:70,fishType:1,fishPath:95,time:0,fishCount:40,fishLineup:0},o[0][3]={inteval:70,fishType:9,fishPath:95,time:0,fishCount:2,fishLineup:0},o[0][4]={inteval:70,fishType:16,fishPath:95,time:0,fishCount:1,fishLineup:0},o[0][5]={inteval:70,fishType:5,fishPath:95,time:0,fishCount:3,fishLineup:0},o[1]=new Array,o[1][0]={time:50,inteval:60},o[1][1]={inteval:70,fishType:0,fishPath:96,time:0,fishCount:78,fishLineup:0,speed:0},o[1][2]={inteval:70,fishType:2,fishPath:96,time:0,fishCount:56,fishLineup:0,speed:0},o[2]=new Array,o[2][0]={time:50,inteval:60},o[2][1]={inteval:70,fishType:1,fishPath:97,time:0,fishCount:64,fishLineup:0,total:0},o[2][2]={inteval:70,fishType:6,fishPath:97,time:0,fishCount:36,fishLineup:0,total:0},o[2][3]={inteval:70,fishType:3,fishPath:97,time:0,fishCount:8,fishLineup:0,total:0},o[2][4]={inteval:70,fishType:15,fishPath:97,time:0,fishCount:1,fishLineup:0,total:0},o[3]=new Array,o[3][0]={time:50,inteval:60},o[3][1]={inteval:70,fishType:5,fishPath:98,time:0,fishCount:15,fishLineup:0,total:0},o[3][2]={inteval:70,fishType:0,fishPath:98,time:0,fishCount:31,fishLineup:0,total:0},o[3][3]={inteval:70,fishType:3,fishPath:98,time:0,fishCount:15,fishLineup:0,total:0},o[3][4]={inteval:70,fishType:4,fishPath:98,time:0,fishCount:15,fishLineup:0,total:0},o[3][5]={inteval:70,fishType:1,fishPath:98,time:0,fishCount:15,fishLineup:0,total:0},o[3][6]={inteval:70,fishType:2,fishPath:98,time:0,fishCount:15,fishLineup:0,total:0},o[4]=new Array,o[4][0]={time:130,inteval:140},o[4][1]={inteval:160,fishType:0,fishPath:99,time:0,fishCount:16,fishLineup:0,total:0,stop:0},o[4][2]={inteval:160,fishType:2,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:6},o[4][3]={inteval:160,fishType:4,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:14},o[4][4]={inteval:160,fishType:6,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:25},o[4][5]={inteval:160,fishType:7,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:35},o[4][6]={inteval:160,fishType:9,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:47},o[4][7]={inteval:160,fishType:11,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:60},o[4][8]={inteval:160,fishType:13,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:75},o[4][9]={inteval:160,fishType:15,fishPath:99,time:0,fishCount:7,fishLineup:0,total:0,stop:90},o[4][10]={inteval:140,fishType:18,fishPath:99,time:0,fishCount:3,fishLineup:0,total:0,stop:105},o[5]=new Array,o[5][0]={time:130,inteval:140},o[5][1]={inteval:160,fishType:1,fishPath:99,time:0,fishCount:16,fishLineup:0,total:0,stop:0},o[5][2]={inteval:160,fishType:3,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:6},o[5][3]={inteval:160,fishType:5,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:14},o[5][4]={inteval:160,fishType:7,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:25},o[5][5]={inteval:160,fishType:8,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:35},o[5][6]={inteval:160,fishType:10,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:47},o[5][7]={inteval:160,fishType:12,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:60},o[5][8]={inteval:160,fishType:14,fishPath:99,time:0,fishCount:15,fishLineup:0,total:0,stop:75},o[5][9]={inteval:160,fishType:16,fishPath:99,time:0,fishCount:7,fishLineup:0,total:0,stop:90},o[5][10]={inteval:160,fishType:17,fishPath:99,time:0,fishCount:3,fishLineup:0,total:0,stop:105},e.exports=o,cc._RF.pop()},{}]},{},["fishConfig","fishOutListConfig","CAAudio","CABattery","CABatteryCicle","CABatteryManage","CABatteryTitle","CABullet","CABulletManage","CAComWait","CAControl","CADataEntry","CADialogHelp","CADialogMessage","CADialogMsgTestRoom","CADialogSetting","CADialogUnAction","CADrillFish","CAEffectManage","CAFish","CAFishHitAni","CAFishManage","CAFishNet","CAFishPath","CAFishPointPrint","CAFishUtil","CAGameInfo","CAGameView","CAI18n","CALightHitManage","CALightLine","CALockItem","CALockManage","CAMap","CANetWork","CARotaryTable","CAScore","CAScoreAni","CAUIAdapet","CAfish_test"]);