window.__require=function t(e,n,i){function o(a,c){if(!n[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,n,i)}return n[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<i.length;a++)o(i[a]);return o}({DancingDrumsAddCoins:[function(t,e){"use strict";cc._RF.push(e,"54622ZDOt9P07cFKsbLmJnR","DancingDrumsAddCoins");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsUserData"),o=t("DancingDrumsGameData"),s=t("DancingDrumsEventManager"),a=t("DancingDrumsUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.initAddCoins()},initAddCoins:function(){var t=this;cc.find("mask",this.node).on("click",this.onClickHideAddCoins,this);var e=cc.find("nodeAdd",this.node);this.labelWinning=cc.find("pnlGameWin/labWin",e).getComponent(cc.Label);var n=[this.onClickAddCoins1,this.onClickAddCoins10,this.onClickAddCoins50,this.onClickAddCoins100,this.onClickAddCoinsAll];this.btnAddGroup=[];for(var o=1;o<=5;o++){var s=cc.find("pnlGroup/item"+o,e);s.on("click",n[o-1],this),this.btnAddGroup.push(s)}i.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(n,i){if(!n&&t){cc.find("imgBg",e).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("checkbox_0"),cc.find("pnlGroup",e).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("commonBtn");for(var o=0;o<t.btnAddGroup.length;o++)t.btnAddGroup[o].getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("checkbox_0")}})},onClickHideAddCoins:function(){s.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){c.getInstant&&(this.node.active=!0,this.labelWinning.string=a.formattingCoins(c.getInstant.playerDiamond),this.btnAddGroup[0].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=100,this.btnAddGroup[1].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=1e3,this.btnAddGroup[2].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=5e3,this.btnAddGroup[3].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=1e4,this.btnAddGroup[4].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>0)},chargeSum:function(t){s.emit(n.PLAY_AUDIO_EF,"btnShow"),this.node.active=!1;var e=0==t?{}:{sum:t};s.emit(n.ADD_USER_COINS,e)},onChangeGameMode:function(){i.GameMode==o.GAME_MODE.FREE&&(this.node.active=!1)},onEnable:function(){s.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),s.addEventListener(n.SHOW_ADD_USER_COINS,this.showAddCoins,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DancingDrumsAnimation:[function(t,e){"use strict";cc._RF.push(e,"06524C6fAVBwaHDiIq7Yc86","DancingDrumsAnimation");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager");t("DancingDrumsGameData"),t("DancingDrumsUserData"),cc.Class({extends:cc.Component,properties:{item:cc.Node},onLoad:function(){this.item.active=!1},play:function(t){i.emit(n.PLAY_AUDIO_EF,"Bat_flying");for(var e=0;e<3*Math.random()+3;e++)this.playAnimation(t)},playAnimation:function(t){this.data=t;var e=cc.instantiate(this.item);this.node.addChild(e),e.active=!0;var n=this.node.convertToNodeSpaceAR(this.data.or),i=this.node.convertToNodeSpaceAR(this.data.to);e.x=n.x,e.y=n.y;var o=(i.x-n.x)/2+n.x,s=400*Math.random()-200+o,a=(i.y-n.y)/3+n.y+400*Math.random()-200,c=s-n.x>0,r=400*Math.random(),l=c?s+r:s-r,h=(i.y-n.y)/3*2+n.y+400*Math.random(),m=Math.atan2(n.y-i.y,n.x-i.x)*(180/Math.PI)+180-90,u=Math.atan2(h-i.y,l-i.x)*(180/Math.PI)+180-90,d=u-360;Math.abs(u-m)>Math.abs(d-m)&&(u=d),e.angle=m,e.scaleX=.2,e.scaleY=.2;var p=cc.tween;p(e).parallel(p().bezierTo(2,cc.v2(s,a),cc.v2(l,h),cc.v2(i.x,i.y)),p().to(2,{angle:u}),p().to(1,{scaleX:1,scaleY:1}).to(1,{scaleX:0,scaleY:0})).call(function(){e.removeFromParent()}).start()},onEnable:function(){i.addEventListener(n.PLAY_ANIMATION,this.play,this)}}),cc._RF.pop()},{}],DancingDrumsAudio:[function(t,e){"use strict";cc._RF.push(e,"392c9k/M45BFJzm9PJz+hlu","DancingDrumsAudio");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsUserData");t("DancingDrumsUtil"),cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},startWheel:cc.AudioClip,stopWheel:cc.AudioClip,btnShow:cc.AudioClip,btnHide:cc.AudioClip,rollOver:cc.AudioClip,bigwinsegment:cc.AudioClip,bigwinwfx_end:cc.AudioClip,en_us_amazing:cc.AudioClip,en_us_awesome:cc.AudioClip,en_us_excellent:cc.AudioClip,en_us_impossible:cc.AudioClip,en_us_unbelievable:cc.AudioClip,BetButton:cc.AudioClip,FastSpeedButton:cc.AudioClip,LastPageButton:cc.AudioClip,LineButton:cc.AudioClip,MaxBetButton:cc.AudioClip,WinLine:cc.AudioClip,SpinButton:cc.AudioClip,StopButton:cc.AudioClip,lineAudio:{type:cc.AudioClip,default:[]},itemAudio:{type:cc.AudioClip,default:[]},Bat_flying:cc.AudioClip,Coin_select:cc.AudioClip,DD_SparkleTransition:cc.AudioClip,fx_drum_w800:cc.AudioClip,fx_feature_select:cc.AudioClip,fx_feature_trigger:cc.AudioClip,lid_closing:cc.AudioClip,grand_jackpot:cc.AudioClip,major_jackpot:cc.AudioClip,mini_jackpot:cc.AudioClip,minor_jackpot:cc.AudioClip,jackpot_hit:cc.AudioClip,gong_reel_1:cc.AudioClip,win16:cc.AudioClip},onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0}),this.playEf("grand_jackpot")},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&this.bgmAudio[t.id]&&(this.bgmID=t.id,o.BGAM_ID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},callAudioPlayEff:function(t){return cc.audioEngine.playEffect(t)},playEf:function(t){0!=this.pInfo.soundEffectControl&&(this[t]?this.audioID[t]=this.callAudioPlayEff(this[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",t))},playLineEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.lineAudio[t]?this.callAudioPlayEff(this.lineAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bLineEffect :",t))},playItemEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.itemAudio[t]?this.callAudioPlayEff(this.itemAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bItemEffect :",t))},stopAudioEf:function(t){this.audioID[t]&&cc.audioEngine.stopEffect(this.audioID[t])},stopMusic:function(){cc.audioEngine.stopMusic()},onEnable:function(){i.addEventListener(n.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),i.addEventListener(n.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),i.addEventListener(n.PLAY_AUDIO_BGM,this.playBgm,this),i.addEventListener(n.PLAY_AUDIO_EF,this.playEf,this),i.addEventListener(n.STOP_AUDIO_EF,this.stopAudioEf,this),i.addEventListener(n.STOP_AUDIO,this.stopAudio,this),i.addEventListener(n.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DancingDrumsAuto:[function(t,e){"use strict";cc._RF.push(e,"3042dCWILtLoLLkxaML+7uz","DancingDrumsAuto");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager");t("DancingDrumsUserData"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI()},loadUI:function(){var t=[this.onClick10,this.onClick20,this.onClick50,this.onClick100,this.onClick200,this.onClick500],e=["X10","X20","X50","X100","X200","X500"];cc.find("touchNode",this.node).on("click",this.hide,this);for(var n=cc.find("pnlAuto/layout",this.node),i=cc.find("pnlAuto/item",this.node),o=0;o<t.length;o++){var s=cc.instantiate(i);n.addChild(s),s.on("click",t[o],this),cc.find("itemImg",s).getComponent(cc.Label).string=e[o]}i.active=!1},onClick10:function(){this.onClickAuto(10)},onClick20:function(){this.onClickAuto(20)},onClick50:function(){this.onClickAuto(50)},onClick100:function(){this.onClickAuto(100)},onClick200:function(){this.onClickAuto(200)},onClick500:function(){this.onClickAuto(500)},onClickUM:function(){this.onClickAuto(-1)},onClickAuto:function(t){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.UPDATE_AUTO_COUNT,t),this.hide()},showAuto:function(){this.node.active=!0},hide:function(){this.node.active=!1},onEnable:function(){i.addEventListener(n.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],DancingDrumsBg:[function(t,e){"use strict";cc._RF.push(e,"afb99/gI/JAZLq/Aivdufv6","DancingDrumsBg");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData");cc.Class({extends:cc.Component,properties:{bgNormal:cc.Node,bgFree:cc.Node,bgPrize:cc.Node},onLoad:function(){window.resizeWinX(this)},onChangeGameMode:function(){this.bgNormal.active=s.GameMode==o.GAME_MODE.NORMAL,this.bgFree.active=s.GameMode==o.GAME_MODE.FREE,this.bgPrize.active=s.GameMode==o.GAME_MODE.FAKE_FREE},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],DancingDrumsBigWin:[function(t,e){"use strict";cc._RF.push(e,"8dbbd9h+8FOTIKL9AQjPZ6u","DancingDrumsBigWin");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsUserData"),s=t("DancingDrumsUtil"),a=[cc.v2(-140,1),cc.v2(-74,-84),cc.v2(-21,-16),cc.v2(73,13),cc.v2(139,-55)],c=[cc.v2(-179,-1),cc.v2(-74,-84),cc.v2(18,16),cc.v2(117,8),cc.v2(146,-85)],r=[cc.v2(-175,-1),cc.v2(-71,-85),cc.v2(18,16),cc.v2(117,8),cc.v2(153,-90)],l=[cc.v2(-175,-1),cc.v2(-96,-67),cc.v2(18,16),cc.v2(96,-35),cc.v2(187,-2)],h=[cc.v2(-258,-10),cc.v2(-86,-68),cc.v2(10,17),cc.v2(143,-26),cc.v2(295,-16)];cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.level=0,this.pointList=[a,c,r,l,h],this.addEventListener(),cc.find("New Sprite",this.node).on("click",this.hide,this)},initUI:function(){this.initEffectCoins(),this.initWin(),this.initFreeBg(),this.initWinTween()},initEffectCoins:function(){var t=this;this.effectCoins=cc.find("coins",this.node),o.Bundle.load("resources/ani/gold",cc.SpriteAtlas,function(e,n){if(!e){var i=n.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(i,i.length);o.name="gold",o.speed=1,o.Sample=20,o.wrapMode=cc.WrapMode.Loop;var s=t.effectCoins.getComponent(cc.Animation);s.addClip(o),s.defaultClip=o,s.play("gold")}}),this.nodeCoin=cc.find("nodeCoins",this.node)},initWin:function(){var t=this;this.pnlWin=cc.find("pnlWin",this.node),this.imgWin=cc.find("imgWin",this.pnlWin),this.imgGlow=cc.find("glow",this.pnlWin);var e=cc.find("pnlPoint",this.pnlWin);this.effectLignt=[];for(var n=1;n<=5;n++){var i=cc.find("ligntPoint"+n,e);this.effectLignt.push(i)}o.Bundle.load("resources/image/gameui",cc.SpriteAtlas,function(e,n){if(e)cc.log(e);else{t.imgWinSpAtlas=n,t.imgGlow.getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("glow");for(var i=0;i<t.effectLignt.length;i++)t.effectLignt[i].getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("star_small");var o=cc.find("pnlFreeBg",t.node);cc.find("imgBg",o).getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("awardBg")}}),this.initLightPointTween()},initFreeBg:function(){var t=this,e=cc.find("pnlFreeBg",this.node);this.lblWinCoin=cc.find("labelWin",e).getComponent(cc.Label),o.Bundle.load("resources/fnt/blueNum",cc.Font,function(e,n){e||(t.lblWinCoin.font=n)})},initLightPointTween:function(){for(var t=0;t<this.effectLignt.length;t++){var e=s.getRandID(5,10)/10,n=cc.tween;n(this.effectLignt[t]).repeatForever(n().parallel(n().by(.5,{angle:90}).by(.5,{angle:90}),n().to(.5,{scaleX:e,scaleY:e}).to(.5,{scaleX:.2,scaleY:.2}))).start(),this.effectLignt[t].active=!1}},initWinTween:function(){this.WinTween=cc.tween(this.pnlWin).repeatForever(cc.tween().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.9,scaleY:.9}))},playWin:function(){this.imgWin.active=!0,this.imgWin.getComponent(cc.Sprite).spriteFrame=this.imgWinSpAtlas.getSpriteFrame("awardLevel_"+this.level);for(var t=0;t<this.effectLignt.length;t++)this.effectLignt[t].setPosition(this.pointList[this.level][t]),this.effectLignt[t].active=!0},show:function(t){this.node.active=!0,i.emit(n.STOP_MUSIC),i.emit(n.PLAY_AUDIO_EF,"win16"),this.level=s.getBigWinRate(t),this.playWin();var e=Math.ceil(t/430);this.lblWinCoin.string=s.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=e,this.playEnd=!1,this.schedule(this.addNowCoinsAction,.1,429),this.schedule(this.playCoins,.03,1400),this.schedule(this.playGlow,4,1),this.playGlow(),this.WinTween.start(),this.scheduleOnce(this.hide,45)},playPeopleSound:function(t){var e=s.getBigWinRate(t);e>=200?i.emit(n.PLAY_AUDIO_EF,"en_us_unbelievable"):e>=100?i.emit(n.PLAY_AUDIO_EF,"en_us_impossible"):e>=50?i.emit(n.PLAY_AUDIO_EF,"en_us_amazing"):e>=20?i.emit(n.PLAY_AUDIO_EF,"en_us_awesome"):i.emit(n.PLAY_AUDIO_EF,"en_us_excellent")},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.lblWinCoin.string=s.formattingCoins(this.nowCoins),this.nowCoins!=this.winCoins||this.playEnd||(this.playEnd=!0)},hide:function(){i.emit(n.STOP_MUSIC),this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.WinTween.stop(),i.emit(n.STOP_AUDIO_EF,"win16"),i.emit(n.PLAY_AUDIO_BGM,{id:0}),this.lblWinCoin.string=0,this.imgWin.active=!1,this.node.active=!1},playGlow:function(){var t=this,e=this.imgWin.width;this.imgGlow.active=!0,this.imgGlow.opacity=0,this.imgGlow.x=-e/2-this.imgGlow.width/4;var n=cc.tween;n(this.imgGlow).parallel(n().by(2,{x:e}),n().to(1,{opacity:255}).to(1,{opacity:0})).call(function(){t.imgGlow.active=!1}).start()},playCoins:function(){var t=cc.instantiate(this.effectCoins);this.nodeCoin.addChild(t),this.rundCoinsAction(t)},rundCoinsAction:function(t){var e=600*Math.random()-300,n=200*Math.random()-100;t.x=e,t.y=n,cc.tween(t).by(.1*s.getRandID(1,2),{y:100}).to(.1*s.getRandID(4,6),{y:-400}).call(function(){t.removeFromParent()}).start()},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins,t.rate)},addEventListener:function(){i.addEventListener(n.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],DancingDrumsDownUI:[function(t,e){"use strict";cc._RF.push(e,"b5ceckmzVNC+7r/vQxI9ziU","DancingDrumsDownUI");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData"),a=t("DancingDrumsUtil"),c=t("PlayerInfo"),r=[];r[0]=0,r[2]=1,r[3]=2,r[4]=3,cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.commonUiTs=this.node.getComponent("CommonUI"),this.commonFast=cc.find("audioView/quickSwitch",this.node),this.commonFast.on("toggle",this.onClickFast,this),this.commonFast.getComponent(cc.Toggle).isChecked=!1,this.initUI(),this.autoCount=0,this.gameWin=0,this.labBalance=this.labWinning,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.initSpinTouchEvent(),this.aniFrame.getComponent(cc.Animation).on("finished",function(){t.aniFrame.active=!1},this),s.LoginGameResultData&&this.onLoginGameResult(s.LoginGameResultData),window.resizeWinX(this)},initBetData:function(t){this.bet=t;var e=c.getInstant.maxBet/s.Line;this.betLimit=s.slotBetList.length-1;for(var n=0;n<s.slotBetList.length;n++)if(e<s.slotBetList[n]){this.betLimit=n-1;break}this.updateBet(),this.updateTotalBet()},initUI:function(){var t=cc.find("nodeTotalBet",this.node);this.btnSub=cc.find("btnSub",t),this.btnSub.on("click",this.onClickDecBet,this),this.btnAdd=cc.find("btnAdd",t),this.btnAdd.on("click",this.onClickAddBet,this),this.labTotalBet=cc.find("labBet",t).getComponent(cc.Label),this.labGameWin=cc.find("labGameWin",this.node).getComponent(cc.Label),this.labLine=cc.find("pnlLine/labLine",this.node).getComponent(cc.Label),this.labLine.string=s.Line;var e=cc.find("pnlWin",this.node);this.aniFrame=cc.find("aniFrame",e),this.aniCoins=cc.find("aniCoins",e),this.labWinning=cc.find("labCoins",e).getComponent(cc.Label);var o=cc.find("pnlSpin",this.node);this.btnSpin=cc.find("btnSpin",o),this.imgUnLimited=cc.find("pnlAuto/imgUnlimited",o),this.labAutoCount=cc.find("pnlAuto/labCount",o);var a=cc.find("btnFast",this.node);this.btnFast=a,a.on("click",this.onClickFast,this),this.nodeFastAni=cc.find("nodeAni",a),this.fastAni=cc.find("ani",this.nodeFastAni).getComponent(cc.Animation),this.nodeFastAni.active=!1,this.imgUnLimited.active=!1,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",cc.find("btn_help",this.node).on("click",function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.SHOW_HELP_VIEW)},this)},loadUI:function(){var t=this;s.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(e,n){if(!e){t.spAtlas=n,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("bg");var i=cc.find("pnlSpin",t.node);cc.find("btnSpin",i).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnSpin_0"),cc.find("pnlAuto/imgUnlimited",i).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("times_unlimited_02");var o=cc.find("btnFast",t.node);o.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btn_fast_01"),cc.find("nodeAni/imgOn",o).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btn_fast_02"),cc.find("pnlWin",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("frame_coin"),cc.find("pnlLine",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("lineBg");var s=cc.find("nodeTotalBet",t.node);cc.find("imgBg",s).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("totalBG"),cc.find("btnSub",s).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("betS"),cc.find("btnAdd",s).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("betA"),t.changeSpinBtnState(0)}}),s.Bundle.load("resources/fnt/BEBAS",cc.Font,function(e,n){e||(t.labGameWin.font=n,t.labLine.font=n,t.labTotalBet.font=n,t.labAutoCount.getComponent(cc.Label).font=n,cc.find("pnlWin/labCoins",t.node).getComponent(cc.Label).font=n)}),s.Bundle.load("resources/ani/fastspeed",cc.SpriteAtlas,function(e,n){if(!e){var i=n.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(i,i.length);o.name="fastspeed",o.speed=1,o.Sample=60,o.wrapMode=cc.WrapMode.Loop;var s=cc.find("ani",t.nodeFastAni).getComponent(cc.Animation);s.addClip(o),s.defaultClip=o,s.play("fastspeed")}}),s.Bundle.load("resources/ani/aniCoins",cc.SpriteAtlas,function(e,n){if(!e){var i=n.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(i,i.length);o.name="aniCoins",o.speed=1,o.Sample=20,o.wrapMode=cc.WrapMode.Normal;var s=t.aniCoins.getComponent(cc.Animation);s.addClip(o),s.defaultClip=o,t.aniCoins.getComponent(cc.Sprite).spriteFrame=i[0]}}),s.Bundle.load("resources/ani/wincredit",cc.SpriteAtlas,function(e,n){if(!e){var i=n.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(i,i.length);o.name="wincredit",o.speed=1,o.Sample=60,o.wrapMode=cc.WrapMode.Normal;var s=t.aniFrame.getComponent(cc.Animation);s.addClip(o),s.defaultClip=o}})},update:function(t){this.startTouch&&0==this.spinState&&(this.touchTimeDonw+=t,this.touchTimeDonw>=1&&(this.startTouch=!1,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(r[this.spinState]),this.showAutoList()))},changeSpinBtnState:function(t){this.spinState=t,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(r[t])},initSpinTouchEvent:function(){var t=this;this.startTouch=!1,this.touchTimeDonw=0,this.spinState=0,this.btnSpin.on(cc.Node.EventType.TOUCH_START,function(){s.Status!=o.GAME_STATE.INIT&&4!=t.spinState&&a.isNormalGame()&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState]),t.touchTimeDonw=0,t.startTouch=!0)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_END,function(){t.startTouch&&(0==t.spinState?(i.emit(n.PLAY_AUDIO_EF,"SpinButton"),t.onClickRoll()):2==t.spinState?(i.emit(n.PLAY_AUDIO_EF,"StopButton"),i.emit(n.STOP_IMMEDIATELY),t.changeSpinBtnState(4)):3==t.spinState&&(i.emit(n.PLAY_AUDIO_EF,"StopButton"),t.enterAuto(!1))),t.startTouch=!1,4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState]))},this),this.btnSpin.on(cc.Node.EventType.TOUCH_CANCEL,function(){4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState])),t.startTouch=!1},this)},onClickFast:function(){i.emit(n.PLAY_AUDIO_EF,"FastSpeedButton"),s.isFast=!s.isFast,this.nodeFastAni.active=s.isFast,this.commonFast.getComponent(cc.Toggle).isChecked=s.isFast,cc.find("Background",this.commonFast).active=!s.isFast,cc.find("checkmark",this.commonFast).active=s.isFast},onClickRoll:function(){s.Status!=o.GAME_STATE.INIT&&(this.checkCoinsEntries()?s.Status==o.GAME_STATE.LEISURE&&(s.Status=o.GAME_STATE.REQUEST,i.emit(n.START_ROLL)):i.emit(n.HAVE_NO_MONEY))},showAutoList:function(){i.emit(n.PLAY_AUDIO_EF,"StopButton"),i.emit(n.SHOW_AUTO)},enterAuto:function(t){s.IsAuto=t,t?(this.banButton(!1),this.changeSpinBtnState(3),s.Status==o.GAME_STATE.LEISURE&&i.emit(n.START_ROLL)):(this.autoCount=0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.imgUnLimited.active=!1,s.Status==o.GAME_STATE.LEISURE?this.changeSpinBtnState(0):s.Status==o.GAME_STATE.ROLL_END?this.changeSpinBtnState(2):this.changeSpinBtnState(4))},enterLeisure:function(){this.checkCoinsEntries()||(i.emit(n.HAVE_NO_MONEY),this.enterAuto(!1)),a.isNormalGame()?s.IsAuto?0==this.autoCount?this.enterAuto(!1):i.emit(n.START_ROLL):this.banButton(!0):s.IsAuto?i.emit(n.START_ROLL):this.enterAuto(!0)},banButton:function(t){s.IsAuto||(this.btnSub.getComponent(cc.Button).interactable=t,this.btnAdd.getComponent(cc.Button).interactable=t,t?s.Status==o.GAME_STATE.LEISURE&&this.changeSpinBtnState(0):this.changeSpinBtnState(4))},onClickHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.SHOW_HELP_VIEW)},onClickAddBet:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){this.bet==this.betLimit?i.emit(n.PLAY_AUDIO_EF,"MaxBetButton"):i.emit(n.PLAY_AUDIO_EF,"btnShow")},updateBet:function(){s.BetIndex=this.bet,s.BetValue=s.slotBetList[this.bet]*s.Line,this.updateTotalBet(),i.emit(n.ON_PUSH_GAMBLING_WIN_POOL,s.BetValue)},onClickLine:function(){a.isNormalGame()&&(i.emit(n.PLAY_AUDIO_EF,"LineButton"),i.emit(n.SHOW_LINE,-1))},updateTotalBet:function(){this.labTotalBet.string=a.formattingCoins(s.BetValue),i.emit(n.UPDATE_BET)},checkCoinsEntries:function(){return c.getInstant.playerCoin>=s.BetValue},updateAutoCount:function(t){this.autoCount=t,-1==this.autoCount?(this.imgUnLimited.active=!0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO"):(this.imgUnLimited.active=!1,this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.enterAuto(!0)},onStartRoll:function(){this.autoCount>0&&(this.autoCount--,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),a.isNormalGame()&&(c.getInstant.playerCoin-=s.BetValue,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin)),this.banButton(!1),this.gameWin=0,this.labGameWin.string=a.formattingCoins(0)},onChangeGameStatus:function(){s.Status==o.GAME_STATE.LEISURE?this.enterLeisure():s.Status==o.GAME_STATE.RESULT&&(s.IsAuto||this.changeSpinBtnState(4))},updageGameWin:function(t){0!=t&&(this.gameWin+=t,this.labGameWin.string=a.formattingCoins(this.gameWin),c.getInstant.playerCoin+=t,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.aniFrame.active=!0,this.aniFrame.getComponent(cc.Animation).play("wincredit"),this.aniCoins.getComponent(cc.Animation).play("aniCoins"),a.isNormalGame()||(s.FreeWinCoins+=t))},resetGameWin:function(){},onLotteryResult:function(){this.banButton(!0),s.IsAuto||this.changeSpinBtnState(2)},onChargeAllResult:function(){},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?this.enterAuto(!1):(this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1,this.updateAutoCount(-1))},onLoginGameResult:function(t){var e=0;if(t.Obj&&(t.Obj.betList&&(s.slotBetList=t.Obj.betList),t.Obj.betDefault&&t.Obj.betList))for(var n=0;n<t.Obj.betList.length;n++)if(t.Obj.betDefault==t.Obj.betList[n]){e=n;break}this.initBetData(e)},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.UPDATE_AUTO_COUNT,this.updateAutoCount,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),i.addEventListener(n.UPDATE_GAME_WIN,this.updageGameWin,this),i.addEventListener(n.RESET_GAME_WIN,this.resetGameWin,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),i.addEventListener(n.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DancingDrumsEventConfig:[function(t,e){"use strict";var n;cc._RF.push(e,"e8c1aHxs4pA0J6867DtYRnq","DancingDrumsEventConfig");var i=((n={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE_COINS:"SHOW_LINE_COINS",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",START_UP_ROLL:"START_UP_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",STOP_UP_GAME:"STOP_UP_GAME",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ADD_FAKE_FREE:"ADD_FAKE_FREE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",ON_WHEEL_UP_ROLL_END:"ON_WHEEL_UP_ROLL_END",UPDATE_DIAMOND:"UPDATE_DIAMOND",PLAY_ANIMATION:"PLAY_ANIMATION",PLAY_RABBIT_ANI:"PLAY_RABBIT_ANI",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LINE_AUDIO_EF:"PLAY_LINE_AUDIO_EF",PLAY_ITEM_AUDIO_EF:"PLAY_ITEM_AUDIO_EF",SHOW_AUTO:"SHOW_AUTO"}).PLAY_ANIMATION="PLAY_ANIMATION",n.SHOW_BIG_WIN="SHOW_BIG_WIN",n.SHOW_TRANSIT_ANI="SHOW_TRANSIT_ANI",n.SHOW_YOU_WIN="SHOW_YOU_WIN",n.SHOW_FREE_VIEW="SHOW_FREE_VIEW",n.SHOW_TIP_VIEW="SHOW_TIP_VIEW",n.SHOW_HELP_VIEW="SHOW_HELP_VIEW",n.SHOW_MENU_VIEW="SHOW_MENU_VIEW",n.SHOW_ADD_USER_COINS="SHOW_ADD_USER_COINS",n.SEND_FREE_TYPE="SEND_FREE_TYPE",n.ON_SELECT_FREE_RESULT="ON_SELECT_FREE_RESULT",n);e.exports=i,cc._RF.pop()},{}],DancingDrumsEventManager:[function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"f7ebc/Oc7NL3YXi4ljzHAHI","DancingDrumsEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(t,e,n){for(var i=-1,o=0;o<s._eventListeners[t].length;o++){var a=s._eventListeners[t][o];if(a.callBack==e&&(!n||a.target==n)){i=o;break}}return i},addEventListener:function(t,e,n){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var i={callBack:e,target:n};return null==s._eventListeners[t]?s._eventListeners[t]=[i]:-1==s.getEventListenersIndex(t,e,n)&&s._eventListeners[t].push(i),!0}cc.warn("eventName is empty",n)},removeEventListener:function(t,e,n){if(null!=s._eventListeners[t]){var i=s.getEventListenersIndex(t,e,n);-1!=i&&s._eventListeners[t].splice(i,1)}},emit:function(t,e){if(null!=s._eventListeners[t]){for(var i,o=[],a=n(s._eventListeners[t]);!(i=a()).done;){var c=i.value;o.push({callBack:c.callBack,target:c.target})}for(var r=function(){var t=h[l];new Promise(function(){t.callBack.call(t.target,e)})},l=0,h=o;l<h.length;l++)r()}}};e.exports=s,cc._RF.pop()},{}],DancingDrumsFakeFree:[function(t,e){"use strict";cc._RF.push(e,"eaebdF4CrhDpLkwAFHGRJyZ","DancingDrumsFakeFree");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData");cc.Class({extends:cc.Component,properties:{nodeMain:cc.Node,labCount:cc.Label,nodeAni:cc.Node},onLoad:function(){this.addEventListener(),this.labCount.string=0},updateTime:function(){this.labCount.string=s.FakeFreeTime},newFree:function(t,e){var n=this,i=cc.instantiate(this.nodeMain);cc.find("labCount",i).getComponent(cc.Label).string="+1",this.nodeAni.addChild(i);var o=this.node.convertToNodeSpaceAR(t);i.x=o.x,i.y=o.y,cc.tween(i).delay(1).to(.5,{x:0,y:0}).call(function(){i.removeFromParent(),n.scheduleOnce(function(){e()},.5),s.FakeFreeTime++,s.AllFakeFreeTime++,n.labCount.string=s.FakeFreeTime,cc.tween(n.nodeMain).to(.02,{x:7,y:7}).to(.02,{x:-7,y:-7}).to(.02,{x:7,y:-7}).to(.02,{x:-7,y:7}).to(.02,{x:0,y:0}).start()}).start()},onAddFakeFree:function(t){this.node.active=!0,this.newFree(t.pos,t.callback)},onStartRoll:function(){o.GAME_MODE.FAKE_FREE==s.GameMode&&(s.FakeFreeTime--,this.updateTime())},addEventListener:function(){i.addEventListener(n.ADD_FAKE_FREE,this.onAddFakeFree,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this)}}),cc._RF.pop()},{}],DancingDrumsFree:[function(t,e){"use strict";cc._RF.push(e,"24897ZGaqhNyJPEmIj0naBj","DancingDrumsFree");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=(t("DancingDrumsGameData"),t("DancingDrumsUserData"));cc.Class({extends:cc.Component,properties:{labRemaining:cc.Node,labNow:cc.Node,labAll:cc.Node},onLoad:function(){this.addEventListener()},show:function(){this.node.y=50,cc.tween(this.node).to(.5,{y:0},{easing:"bounceOut"}).start(),this.labNow&&(this.labNow.getComponent(cc.Label).string=o.FreeTimeNow),this.labAll&&(this.labAll.getComponent(cc.Label).string=o.FreeTimeAll),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=o.FreeRemaining)},onUpdateFreeTimeNow:function(){this.labNow&&(this.labNow.getComponent(cc.Label).string=o.FreeTimeNow),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=o.FreeRemaining)},onUpdateFreeTimeAll:function(){this.labAll&&(this.labAll.getComponent(cc.Label).string=o.FreeTimeAll)},addEventListener:function(){i.addEventListener(n.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),i.addEventListener(n.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{}],DancingDrumsGameData:[function(t,e){"use strict";cc._RF.push(e,"51226SCNDpFUK4g4ySQ+CMQ","DancingDrumsGameData");e.exports={BUNDLE_NAME:"DancingDrums",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,GAME_MODE:{NORMAL:0,FREE:1,FAKE_FREE:2},BET_VALUE:[100,200,400,600,800,1e3,1200,1400,1600,1800,2e3],LINE_OFFSET:1},cc._RF.pop()},{}],DancingDrumsHelp:[function(t,e){"use strict";cc._RF.push(e,"9cc8fc25zxAIYibXEjrYNB5","DancingDrumsHelp");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=(t("DancingDrumsGameData"),t("DancingDrumsUserData"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.initUI(),this.loadUI(),window.resizeWinX(this)},initUI:function(){this.nodeState=cc.find("nodeState",this.node),this.item=cc.find("item",this.node),this.item.active=!1,this.imgHelp=cc.find("imgHelp",this.node).getComponent(cc.Sprite);var t=cc.find("nodeMenu",this.node);cc.find("btnHome",t).on("click",this.onClickHideHelp,this),cc.find("btnPre",t).on("click",this.onClickPrevious,this),cc.find("btnNext",t).on("click",this.onClickNext,this)},loadUI:function(){var t=this;o.Bundle.load("resources/image/help",cc.SpriteAtlas,function(e,n){if(!e){cc.find("imgTable",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("frame_paytable"),cc.find("imgOff",t.item).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("nav_dot_01"),cc.find("imgOn",t.item).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("nav_dot_02");var i=cc.find("nodeMenu",t.node);cc.find("btnHome",i).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("close"),cc.find("btnPre",i).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btn_last_page"),cc.find("btnNext",i).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btn_next_page"),o.Bundle.load("resources/image/helpContent",cc.SpriteAtlas,function(e,n){if(!e){t.helpSpriteFrames=n.getSpriteFrames(),t.itemList=[];for(var i=0;i<t.helpSpriteFrames.length;i++){var o=cc.instantiate(t.item);o.active=!0,t.nodeState.addChild(o),t.itemList.push(o)}}})}})},show:function(){this.node.active=!0,this.pageIndex=0,this.setHelpView()},setHelpView:function(){this.imgHelp.spriteFrame=this.helpSpriteFrames[this.pageIndex];for(var t=0;t<this.itemList.length;t++)cc.find("imgOn",this.itemList[t]).active=this.pageIndex==t},onClickNext:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),this.pageIndex++,this.pageIndex>=this.itemList.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.itemList.length-1),this.setHelpView()},onClickHideHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onEnable:function(){i.addEventListener(n.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],DancingDrumsItemAni:[function(t,e){"use strict";cc._RF.push(e,"60112ANnjtLirk3gp6rptI4","DancingDrumsItemAni");var n=t("DancingDrumsItemConfig"),i=[];i[n.ItemID.item00]="BG_Sym_Bg",i[n.ItemID.item01]="BG_Sym_Bg",i[n.ItemID.item02]="BG_Sym_Bg",i[n.ItemID.item03]="BG_Sym_Bg",i[n.ItemID.item04]="BG_Sym_Bg",i[n.ItemID.item05]="BG_Sym_Bg",i[n.ItemID.item06]="BG_Sym_Bg",i[n.ItemID.item07]="BG_Sym_D_Bg",i[n.ItemID.item08]="BG_Sym_C_Bg",i[n.ItemID.item09]="BG_Sym_B_Bg",i[n.ItemID.item10]="BG_Sym_A_Bg",cc.Class({extends:cc.Component,properties:{imgBg:cc.Node,itemImg:cc.Node,itemAni:cc.Node,aniWild:cc.Node,aniBonus:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.initAnimation(),this.reset()},initAnimation:function(){this.aniName=null,this.itemTween=cc.tween(this.itemImg).repeatForever(cc.tween().delay(.5).to(0,{opacity:0}).delay(.5).to(0,{opacity:255}))},changeItem:function(t){this.itemID=t,this.itemImg.active=!0,this.imgBg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i[t]),this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[t])},IsUpID:function(){return n.IsUpID(this.itemID)},IsWildID:function(){return n.IsWildID(this.itemID)},reset:function(){this.itemAni.active=!1,this.aniWild.active=!1,this.aniBonus.active=!1,this.itemImg.active=!0,this.itemTween.stop(),this.itemImg.opacity=255},playSelectAni:function(){this.itemID==n.ItemID.WILD?(this.itemImg.active=!1,this.aniWild.active=!0,this.aniWild.getComponent(sp.Skeleton).setAnimation(0,"animation",!0)):this.itemID==n.ItemID.BONUS?(this.itemImg.active=!1,this.aniBonus.active=!0,this.aniBonus.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)):this.itemTween.start()},playItemAni:function(t,e){this.aniName!=t&&(this.itemAni.y=this.itemImg.height/2,this.aniName=t,this.itemAni.active=!0,this.itemImg.active=!1,this.itemAni.getComponent(cc.Animation).play(t).repeatCount=e)},playAniBet:function(){this.itemImg.active=!1,this.aniWild.active=!0,this.aniWild.getComponent(sp.Skeleton).setAnimation(0,"animation",!1)},playAniBonus:function(){this.playItemAni("scatter",1)}}),cc._RF.pop()},{}],DancingDrumsItemConfig:[function(t,e){"use strict";cc._RF.push(e,"9ac04CScfJA16YnKv5rKimi","DancingDrumsItemConfig");var n={item00:0,item01:1,item02:2,item03:3,item04:4,item05:5,item06:6,item07:7,item08:8,item09:9,item10:10,WILD:11,BONUS:12},i={ITEM_HEIGHT:150,ITEM_WIDTH:150,WHEEL_WIDTH:150,WHEEL_HEIGHT:450,SpriteFramelist:["BG_Sym_K","BG_Sym_J","BG_Sym_I","BG_Sym_H","BG_Sym_G","BG_Sym_F","BG_Sym_E","BG_Sym_D","BG_Sym_C","BG_Sym_B","BG_Sym_A","BG_Sym_Wild","BG_Sym_Scatter"],ItemID:n,IsBonusID:function(t){return t==n.BONUS},IsWildID:function(t){return t==n.WILD}};e.exports=i,cc._RF.pop()},{}],DancingDrumsItem:[function(t,e){"use strict";cc._RF.push(e,"99a05x4cXNOB7iAqek8lQDH","DancingDrumsItem");var n=t("DancingDrumsUtil"),i=t("DancingDrumsItemConfig");t("DancingDrumsUserData"),t("DancingDrumsGameData"),t("DancingDrumsEventConfig"),t("DancingDrumsEventManager"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.randImg()},randImg:function(){this.changeItem(n.getRandID(i.ItemID.item01,i.ItemID.BONUS))},reset:function(){this.itemImg.active=!0},changeItem:function(t){this.reset(),this.itemID=t,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[t])},getItemScore:function(){return this.itemScore},startRoll:function(){},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return i.IsBonusID(this.itemID)},isWildItem:function(){return i.IsWildID(this.itemID)},isUpItem:function(){return i.IsUpID(this.itemID)},rollEnd:function(){},playWildAni:function(){},playBoomAni:function(){},playSelectAni:function(){this.playItemAni(),this.aniSelect.active=!0},playItemAni:function(){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(name)},playAniBonus:function(){}}),cc._RF.pop()},{}],DancingDrumsLineConfig:[function(t,e){"use strict";cc._RF.push(e,"733256IAxlK6q+JC71I9Yey","DancingDrumsLineConfig");e.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],DancingDrumsMain:[function(t,e){"use strict";cc._RF.push(e,"71eb0SadHFM9pydLY8AcPPe","DancingDrumsMain");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData"),a=t("DancingDrumsItemConfig"),c=t("DancingDrumsUtil");cc.Class({extends:cc.Component,properties:{wheelPnl:cc.Node,wheelAniPnl:cc.Node,preWheel:cc.Prefab,preWheelAni:cc.Prefab,pnlFree:cc.Node,preFree:cc.Prefab,preWinPrize:cc.Prefab,pnlPrize:cc.Node,prePrize:cc.Prefab,pnlFreeTime:cc.Node,preFreeTime:cc.Prefab,pot:cc.Node,nodeBg:cc.Node},onLoad:function(){var t=this;s.Status=o.GAME_STATE.INIT,s.GameMode=o.GAME_MODE.NORMAL,this.runCount=0,this.resultList=[],this.pot.getComponent(sp.Skeleton).setCompleteListener(function(e){"animation3"==e.animation.name&&(t.pot.getComponent(sp.Skeleton).setAnimation(0,"Idle1",!0),t.pot.active=!1,cc.tween(t.nodeBg).to(.5,{opacity:0}).call(function(){t.nodeBg.opacity=255,t.nodeBg.active=!1,t.pot.active=!0}).start())}),this.initPrize(),this.initFree(),this.initNormalWheel(),this.initAniWheel()},stateCallBack:function(){if(s.Status==o.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),i.emit(n.STOP_AUDIO_EF,"NormalRolling"),s.Status=o.GAME_STATE.RESULT,i.emit(n.CHANGE_GAME_STATUS),this.resultList=[];for(var t=s.VerticalItemCount-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var a=this.wheelList[e].getComponent(o.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(a[t])}this.checkWild()}},checkWild:function(){for(var t=this,e=s.LotteryRes.viewarray.nHandCards,c=[],r=0;r<e.length;r++)e[r]==a.ItemID.WILD&&c.push(r);if(0!=c.length){for(var l=0;l<c.length;l++){var h=c[l];if(!(h>=this.wheelAniItemList.length)){var m=this.pot.parent.convertToWorldSpaceAR(this.pot.getPosition());m.y=m.y+80;var u={or:this.wheelAniItemList[h].parent.convertToWorldSpaceAR(this.wheelAniItemList[h].getPosition()),to:m,callback:function(){}};this.wheelAniItemList[h].active=!0,this.wheelAniItemList[h].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(a.ItemID.WILD),this.wheelAniItemList[h].getComponent(o.BUNDLE_NAME+"ItemAni").playAniBet(),i.emit(n.PLAY_ANIMATION,u)}}this.scheduleOnce(function(){t.runCount>=100?t.pot.getComponent(sp.Skeleton).setAnimation(0,"Idle4",!0):t.runCount>=50?t.pot.getComponent(sp.Skeleton).setAnimation(0,"Idle3",!0):t.runCount>=20&&t.pot.getComponent(sp.Skeleton).setAnimation(0,"Idle2",!0);for(var e=0;e<c.length;e++)c[e]>=t.wheelAniItemList.length||(t.wheelAniItemList[c[e]].active=!0);t.showResult()},2)}else this.showResult()},showResult:function(){if(s.LotteryRes.viewarray.win>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",s.LotteryRes.viewarray.win),i.emit(n.UPDATE_GAME_WIN,s.LotteryRes.viewarray.win),i.emit(n.PLAY_AUDIO_EF,"WinLine"),void this.playWinAnim();cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.resetLineAni();for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").resetItem()},resetLineAni:function(){for(var t=0;t<this.wheelAniItemList.length;t++)this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").reset(),this.wheelAniItemList[t].active=!1,this.resultList[t]&&(this.resultList[t].active=!0)},playWinAnim:function(){this.onLineAniOver(),this.playLineAni()},playLineAni:function(){for(var t=0;t<s.LotteryRes.viewarray.nWinCards.length;t++)if(s.LotteryRes.viewarray.nWinCards[t]){var e=this.resultList[t].getComponent(o.BUNDLE_NAME+"Item").getItemId();this.resultList[t].active=!1,this.wheelAniItemList[t].active=!0,this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(e),this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").playSelectAni()}},onLineAniOver:function(){var t=this;this.scheduleOnce(function(){c.isNormalGame()&&c.checkBigWin(s.LotteryRes.viewarray.win)?t.scheduleOnce(function(){t.showWinView(s.LotteryRes.viewarray.win,function(){i.emit(n.STOP_AUDIO_BGM),t.toGameOver()})},1):t.toGameOver()},s.IsAuto?1.5:.2)},toGameOver:function(){var t=this;s.Status!=o.GAME_STATE.SHOW_END&&(s.Status=o.GAME_STATE.SHOW_END,s.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){t.enterFreeGame()},1):s.GameMode==o.GAME_MODE.NORMAL&&s.LotteryRes.viewarray.getBonus.bFlag?this.scheduleOnce(function(){t.enterBonusWin()},1):this.scheduleOnce(function(){c.isNormalGame()||s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex]?t.onGameOver():t.stopFreeTimes()},.1))},onGameOver:function(){s.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},showWinView:function(t,e){c.checkBigWin(t)?i.emit(n.SHOW_BIG_WIN,{coins:t,callback:e}):e()},enterBonusWin:function(){var t=this;this.pot.getComponent(sp.Skeleton).setAnimation(0,"animation3",!1),i.emit(n.PLAY_AUDIO_EF,"lid_closing"),this.scheduleOnce(function(){i.emit(n.PLAY_AUDIO_BGM,{id:3}),s.GameMode=o.GAME_MODE.FAKE_FREE,i.emit(n.CHANGE_GAME_MODE),t.wheelPnl.active=!1,t.wheelAniPnl.active=!1,t.winPrize.active=!0,t.winPrize.getComponent(o.BUNDLE_NAME+"WinPrize").show(s.LotteryRes.viewarray.getBonus,function(){i.emit(n.UPDATE_GAME_WIN,s.LotteryRes.viewarray.getBonus.win),t.showWinView(s.LotteryRes.viewarray.getBonus.win,function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()})}),t.winPrize.opacity=0,cc.tween(t.winPrize).to(.5,{opacity:255}).start()},3)},stopFreeTimes:function(){var t=this;cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),s.IsFreeSolt=!1,i.emit(n.SHOW_TRANSIT_ANI,{type:1,callback:function(){t.showWinView(s.FreeWinCoins,function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()})}})},enterFreeGame:function(){var t=this;i.emit(n.PLAY_AUDIO_EF,"fx_feature_trigger"),this.closeShine(),c.isNormalGame()&&(s.FreeSoltRes=c.extendCopy(s.LotteryRes),s.initFreeData()),s.FreeRemaining+=s.LotteryRes.viewarray.getFreeTime.nFreeTime,s.FreeTimeAll+=s.LotteryRes.viewarray.getFreeTime.nFreeTime,this.scheduleOnce(function(){i.emit(n.UPDATE_FREE_TIME_NOW),i.emit(n.UPDATE_FREE_TIME_ALL),t.playBonusAni()},2),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){var t=this;i.emit(n.PLAY_AUDIO_EF,"fx_drum_w800");for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(o.BUNDLE_NAME+"Item").isBonusItem()&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(this.resultList[e].getComponent(o.BUNDLE_NAME+"Item").getItemId()),this.wheelAniItemList[e].getComponent(o.BUNDLE_NAME+"ItemAni").playSelectAni());this.scheduleOnce(function(){c.isNormalGame()?(i.emit(n.PLAY_AUDIO_BGM,{id:2}),t.closeShine(),t.wheelPnl.active=!1,t.wheelAniPnl.active=!1,t.selectFree.active=!0,t.selectFree.getComponent(o.BUNDLE_NAME+"SelectFree").show()):t.onGameOver()},3)},toNewWheelRollEnd:function(t){this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t])},onStartRoll:function(){this.stopImmediately=!1,this.closeShine(),this.bonusWheelCount=0,this.bonusFlag=!1,i.emit(n.PLAY_AUDIO_EF,"NormalRolling"),c.isNormalGame()||(s.FreeRemaining--,s.FreeTimeNow++,i.emit(n.UPDATE_FREE_TIME_NOW)),this.runCount++},onStopImmediately:function(){for(var t=0;t<this.wheelList.length;t++)this.toNewWheelRollEnd(t);this.stopImmediately=!0},onLoginGameResult:function(){s.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(t){i.emit(n.SET_LINES_VALUE,t.gameDict.betlist.length),i.emit(n.SET_BET_VALUE,t.gameDict.betsum),s.FreeTimeAll=t.gameDict.totalFreeTimes,s.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(s.GameMode=o.GAME_MODE.FREE),i.emit(n.CHANGE_GAME_MODE,t),s.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onLotteryResult:function(){s.Status=o.GAME_STATE.ROLL_END,i.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(s.LotteryRes.viewarray.nHandCards),s.GameMode==o.GAME_MODE.NORMAL&&s.LotteryRes.viewarray.getBonus.bFlag&&(s.LotteryRes.viewarray.win-=s.LotteryRes.viewarray.getBonus.win),s.isFast?this.onStopImmediately():this.toNewWheelRollEnd(0)},onLotteryErrResult:function(t){cc.log(t),i.emit(n.RESET_WHEEL),s.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?(this.nodeFree.active=!1,s.VerticalItemCount=3,this.nodeBg.active=!0,this.wheelPnl.active=!0,this.wheelAniPnl.active=!0,this.winPrize.active=!1,this.initNormalWheel(),this.initAniWheel()):s.GameMode==o.GAME_MODE.FREE&&(this.nodeFree.active=!0,this.nodeFree.getComponent(o.BUNDLE_NAME+"Free").show(),this.selectFree.active=!1,this.wheelPnl.active=!0,this.wheelAniPnl.active=!0,this.initNormalWheel(),this.initAniWheel()),this.prizeNode.getComponent(o.BUNDLE_NAME+"Prize").updateView()},onWheelRollEnd:function(t){var e=this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").checkBoundItem();0==t&&e>0&&(this.bonusFlag=!0),e>0&&this.bonusFlag&&i.emit(n.PLAY_AUDIO_EF,"gong_reel_1"),t!=o.WHEEL_COUNT-1?this.stopImmediately||this.toNewWheelRollEnd(t+1):this.stateCallBack()},onSelectFreeResult:function(t){var e=this;this.selectFree.getComponent(o.BUNDLE_NAME+"SelectFree").onSelectItem(t,function(){i.emit(n.SHOW_TRANSIT_ANI,{type:0,callback:function(){i.emit(n.PLAY_AUDIO_BGM,{id:2}),e.onGameOver()}})})},onEnable:function(){i.addEventListener(n.ON_SELECT_FREE_RESULT,this.onSelectFreeResult,this),i.addEventListener(n.STOP_UP_GAME,this.onStopUpGame,this),i.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),i.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},initNormalWheel:function(){this.wheelPnl.removeAllChildren(),this.wheelList=[];for(var t=0;t<o.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheel);this.nodeWheel=e,this.wheelPnl.addChild(e),this.wheelList.push(e),e.getComponent(o.BUNDLE_NAME+"Wheel").setWheelData(t)}this.nodeBg.y=a.ITEM_HEIGHT*s.VerticalItemCount-10},initAniWheel:function(){this.wheelAniPnl.removeAllChildren(),this.wheelAniList=[];for(var t=0;t<o.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.nodeWheelAni=e,this.wheelAniPnl.addChild(e),this.wheelAniList.push(e),e.getComponent(o.BUNDLE_NAME+"WheelAni").setWheelData(t)}this.wheelAniItemList=[];for(var n=s.VerticalItemCount-1;n>=0;n--)for(var i=0;i<this.wheelList.length;i++){var a=this.wheelAniList[i].getComponent(o.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(a[n])}},initFree:function(){this.selectFree=cc.instantiate(this.preFree),this.pnlFree.addChild(this.selectFree),this.selectFree.active=!1,this.winPrize=cc.instantiate(this.preWinPrize),this.pnlFree.addChild(this.winPrize),this.winPrize.active=!1,this.nodeFree=cc.instantiate(this.preFreeTime),this.pnlFreeTime.addChild(this.nodeFree),this.nodeFree.active=!1},initPrize:function(){this.prizeNode=cc.instantiate(this.prePrize),this.pnlPrize.addChild(this.prizeNode)}}),cc._RF.pop()},{}],DancingDrumsNetWheelConfig:[function(t,e){"use strict";cc._RF.push(e,"f8593ul/e5BAZxB6mmo1pYr","DancingDrumsNetWheelConfig");var n=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getBonus:{bFlag:!1,type:2,win:97937},getFreeTime:{bFlag:!0,freeType:0,nFreeTime:5,aFlag:!0},getFirelink:{bFlag:!1},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[9,12,12,12,5,6,23,24,24,24,2,3,5,4,4,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:4,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},getFirelink:{bFlag:!1},nChangeCards:{changes:[0]},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,10,3,4,5,6,7,8,9,1,2,3,5,4,4,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:3,freeTotal:4,userscore:89520,winscore:1e3,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},getFirelink:{bFlag:!1},nChangeCards:{changes:[1]},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,10,3,4,5,6,7,8,9,1,2,3,5,4,4,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:1e3}},{freeCount:2,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},getFirelink:{bFlag:!1},nChangeCards:{},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,10,3,4,5,6,7,8,9,1,2,3,5,4,4,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:1,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},getFirelink:{bFlag:!1},nChangeCards:{},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,10,3,4,5,6,7,8,9,1,2,3,5,4,4,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:0,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},getFirelink:{bFlag:!1},nChangeCards:{},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,10,3,4,5,6,7,8,9,1,2,3,5,4,4,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}}],i=0,o={Inint:function(){i=0},GetNetConfig:function(){var t;i>=(t=n).length&&(i=0);var e=t[i];return i++,e}};e.exports=o,cc._RF.pop()},{}],DancingDrumsNetwork:[function(t,e){"use strict";cc._RF.push(e,"de9c0D3Gq1IFJ6Bth4CHgjH","DancingDrumsNetwork");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData"),a=(t("DancingDrumsItemConfig"),t("DancingDrumsNetWheelConfig"),t("PlayerInfo"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=a.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){var o=null;if("error"==t&&(cc.log("socket error"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}})),"connect_error"==t&&(cc.log("connect_error"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}})),"UPDATE_COIN"==t&&i.emit("UPDATE_COIN"),"connect_timeout"==t&&(cc.log("connect_timeout"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}})),"disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}})}if("loginGameResult"==t){if(o=changeResultJSON_Function(e),cc.log("LoginGameResult:",o),"1"!=o.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),window.sendNetWorkData("LoginfreeCount",JSON.stringify({})),i.emit(n.ON_LOGIN_GAME_RESULT,o),s.LoginGameResultData=o}if("lotteryResult"==t&&((o=changeResultJSON_Function(e)).ResultCode&&1==o.ResultCode?(s.LotteryRes=JSON.parse(JSON.stringify(o.ResultData)),i.emit(n.ON_LOTTERY_RESULT)):i.emit(n.ON_LOTTERY_RESULT_ERR)),"LoginRoomResult"==t&&(o=changeResultJSON_Function(e),cc.log("LoginRoomResult",o)),"pushGamblingWinPool"==t&&(o=changeResultJSON_Function(e),cc.log("pushGamblingWinPool=>",o),1==o.ResultCode&&i.emit(n.ON_PUSH_GAMBLING_WIN_POOL,o.nGamblingWinPool)),"betResult"==t){if(o=changeResultJSON_Function(e),cc.log("betResult=>",o),1!=o.ResultCode)return;i.emit(n.ON_GAMBLE_RESULT,o.ResultData)}"LoginfreeCountResult"==t&&(o=changeResultJSON_Function(e),cc.log("LoginfreeCountResult:",o),1==o.ResultCode&&(o.freeType=Number(o.freeType))),"selectFreeTypeResult"==t&&(o=changeResultJSON_Function(e),cc.log("selectFreeTypeResult",o),1==o.ResultCode&&(s.FreeSoltRes.viewarray.frees=o.result.frees,s.FreeRemaining+=o.result.nFreeTime,s.FreeTimeAll+=o.result.nFreeTime,s.VerticalItemCount=o.result.frees[0].nHandCards.length/5,i.emit(n.UPDATE_FREE_TIME_NOW),i.emit(n.UPDATE_FREE_TIME_ALL),i.emit(n.ON_SELECT_FREE_RESULT,o.result)))},sendRollData:function(){for(var t=[],e=0;e<s.Line;e++)t.push(s.BetValue/s.Line);cc.log("lottery=>",JSON.stringify({bet:s.BetIndex,nBetList:t})),window.sendNetWorkData("lottery",JSON.stringify({bet:s.BetIndex,nBetList:t}))},selectFreeType:function(t){cc.log("selectFreeType=>",JSON.stringify({type:t})),window.sendNetWorkData("selectFreeType",JSON.stringify({type:t}))},onLoginNet:function(){},onStartRoll:function(){if(s.Status=o.GAME_STATE.REQUEST,i.emit(n.CHANGE_GAME_STATUS),!s.IsFakeSolt){if(s.IsFreeSolt)return s.LotteryRes.viewarray=s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex],s.FreeSoltIndex++,void this.scheduleOnce(function(){i.emit(n.ON_LOTTERY_RESULT)},.5);this.sendRollData()}},onAddUserCoins:function(t){cc.log("chargeAll =>",t)},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.setSceneOrientation(),this.isOutGameIng=!0,i.destroy(),cc.director.loadScene(window.hallName)},setSceneOrientation:function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",1):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",1),cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE)},onEnable:function(){i.addEventListener(n.SEND_FREE_TYPE,this.selectFreeType,this),i.addEventListener(n.ADD_USER_COINS,this.onAddUserCoins,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.OUT_GAME,this.onOutGame,this),i.addEventListener(n.LOGIN_NET,this.onLoginNet,this)},changeResultJSON_Function:function(t){return cc.sys.isNative?JSON.parse(t):t},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],DancingDrumsPrize:[function(t,e){"use strict";cc._RF.push(e,"a0c9eNuuxtEw7z+1p2HFm74","DancingDrumsPrize");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsUserData"),s=t("DancingDrumsGameData"),a=(t("DancingDrumsUtil"),[1500,3e3,5e4,1e5]);cc.Class({extends:cc.Component,properties:{pnlNormal:cc.Node,pnlFree:cc.Node,labGrand:cc.Label,labMajor:cc.Label,labMinor:cc.Label,labMini:cc.Label,labGrand1:cc.Label,labMajor1:cc.Label,labMinor1:cc.Label,labMini1:cc.Label},onLoad:function(){},updatePool:function(){var t=o.BetValue/o.Line;this.labGrand.string="$"+a[3]*t,this.labMajor.string="$"+a[2]*t,this.labMinor.string="$"+a[1]*t,this.labMini.string="$"+a[0]*t,this.labGrand1.string="$"+a[3]*t,this.labMajor1.string="$"+a[2]*t,this.labMinor1.string="$"+a[1]*t,this.labMini1.string="$"+a[0]*t},onLoginGameResult:function(t){1==t.resultid&&this.updatePool(t.Obj.nGamblingWinPool)},onPushGamblingWinPoolResult:function(t){this.updatePool(t)},onUpdateBet:function(){this.updatePool()},updateView:function(){o.GameMode==s.GAME_MODE.FAKE_FREE?(this.pnlNormal.active=!0,this.pnlFree.active=!1):o.VerticalItemCount>=4?(this.pnlNormal.active=!1,this.pnlFree.active=!0):(this.pnlNormal.active=!0,this.pnlFree.active=!1)},onChangeGameMode:function(){},onEnable:function(){i.addEventListener(n.UPDATE_BET,this.onUpdateBet,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{}],DancingDrumsScene:[function(t,e){"use strict";cc._RF.push(e,"3fac6BXr+xLPrPkiemiVX7x","DancingDrumsScene");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData"),a=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.setSceneOrientation(),this.initNode(),this.initUI(),this.scheduleOnce(function(){},5),this.labCoinsTip.active=!1},initData:function(){s.slotBetList=a.getInstant.slotBetList,s.slotBetList||(s.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),a.getInstant.maxBet||(a.getInstant.maxBet=2e3),a.getInstant.fixedBet||(a.getInstant.fixedBet=50),s.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),s.BetValue=s.Line},setSceneOrientation:function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",2):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",2),cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT)},onShowNotMoney:function(){this.labCoinsTip.active||this.playTipAction()},playTipAction:function(){var t=this;this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3)},onChangeGameMode:function(){},onEnable:function(){i.addEventListener(n.HAVE_NO_MONEY,this.onShowNotMoney,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIDown(),this.initGameUIUp(),this.initHelp(),this.initBigWin(),this.initTipView(),this.initAddCoins(),this.initAutoUI(),this.initAnimation(),this.initYouWin(),this.initTransit()},loadComplete:function(){this.loadCount--,0==this.loadCount&&i.emit(n.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initAutoUI:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"Auto"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initBigWin:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"BigWin"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},onDestroy:function(){i.destroy()},initGameUIDown:function(){this.loadCount++,cc.resources.load("prefabs/commonUiV",function(t,e){if(t)cc.log(t);else{var n=cc.instantiate(e);n.addComponent(o.BUNDLE_NAME+"DownUI"),this.gameNode.addChild(n,1e3);var i=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",n.width,n.height,i,i.width/n.width),n.scaleX=i.width/750,n.scaleY=i.height/1334,this.loadComplete()}}.bind(this))},initGameUIUp:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preUpUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"UpUI"),t.gameNode.addChild(i),t.loadComplete()}})},initHelp:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preHelp",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"Help"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initGameMenu:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"Menu"),t.showNode.addChild(i),i.active=!1,t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"TipView"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initAddCoins:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preAddCoins",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"AddCoins"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initAnimation:function(){var t=cc.instantiate(this.preAnimation);this.topNode.addChild(t)},initTransit:function(){var t=cc.instantiate(this.preTransit);this.topNode.addChild(t),t.active=!1},initYouWin:function(){var t=cc.instantiate(this.preYouWin);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],DancingDrumsSelectFreeItem:[function(t,e){"use strict";cc._RF.push(e,"96f54FRr6pEa5r+VPBV7mYC","DancingDrumsSelectFreeItem"),t("DancingDrumsEventConfig"),t("DancingDrumsEventManager");var n=t("DancingDrumsUserData"),i=(t("DancingDrumsGameData"),t("DancingDrumsUtil"),[]);i[3]="FS_Card_3X5Reels",i[4]="FS_Card_4X5Reels",i[5]="FS_Card_5X5Reels",i[6]="FS_Card_6X5Reels";var o=[];o[3]="FS_Card_243Ways",o[4]="FS_Card_1024Ways",o[5]="FS_Card_3125Ways",o[6]="FS_Card_7776Ways";var s=[];s[3]="FS_Card_N3",s[5]="FS_Card_N5",s[10]="FS_Card_N10",s[15]="FS_Card_N15",cc.Class({extends:cc.Component,properties:{imgBg:cc.Node,pnlTip:cc.Node,pnlRand:cc.Node,imgLine:cc.Node,imgReels:cc.Node,imgFreeCount:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){},setItemData:function(t,e){this.imgBg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(["15-Free-Games","10-Free-Games","5-Free-Games","3-Free-Games","FS_Card_RandomFrameBkg"][t-1]),this.callback=e,this.index=t},resetRandItem:function(){this.pnlTip.active=!0,this.pnlTip.opacity=255,this.pnlRand.opacity=255},show:function(){this.pnlRand.active=!1,5!=this.index?this.pnlTip.active=!1:this.resetRandItem()},onClickeItem:function(){this.callback(this.index)},showRandItem:function(t){this.imgLine.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(o[n.VerticalItemCount]),this.imgReels.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i[n.VerticalItemCount]),this.imgFreeCount.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(s[t.nFreeTime]),this.pnlTip.active=!1,this.pnlRand.active=!0,this.pnlRand.opacity=0,cc.tween(this.pnlRand).to(.5,{opacity:255}).start()}}),cc._RF.pop()},{}],DancingDrumsSelectFree:[function(t,e){"use strict";cc._RF.push(e,"e867cApWKxK/6x5BMFp3Frx","DancingDrumsSelectFree");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData");t("DancingDrumsUserData"),t("DancingDrumsUtil"),cc.Class({extends:cc.Component,properties:{nodeMain:cc.Node,preItem:cc.Prefab},onLoad:function(){this.initFreeItem()},initFreeItem:function(){var t=this;this.itemList=[];for(var e=0;e<5;e++){var s=cc.instantiate(this.preItem);this.nodeMain.addChild(s),this.itemList.push(s),s.getComponent(o.BUNDLE_NAME+"SelectFreeItem").setItemData(e+1,function(e){t.isSelect||(t.isSelect=!0,t.selectIndex=e,i.emit(n.SEND_FREE_TYPE,e))})}},show:function(){this.isSelect=!1,this.node.opacity=0,cc.tween(this.node).to(.5,{opacity:255}).start();for(var t=0;t<this.itemList.length;t++)this.itemList[t].getComponent(o.BUNDLE_NAME+"SelectFreeItem").show()},hide:function(t){t()},onSelectItem:function(t,e){var s=this;i.emit(n.PLAY_AUDIO_EF,"fx_feature_select"),5==this.selectIndex?(this.itemList[4].getComponent(o.BUNDLE_NAME+"SelectFreeItem").showRandItem(t),this.scheduleOnce(function(){s.hide(e)},2)):this.hide(e)}}),cc._RF.pop()},{}],DancingDrumsTipView:[function(t,e){"use strict";cc._RF.push(e,"f1ec7z66CVDv5IsXEts+5jq","DancingDrumsTipView");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsUserData"),s=(t("DancingDrumsGameData"),[]);s[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;o.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,n){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=s[e])},onClickOK:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),this.callback(),this.node.active=!1},onClickHide:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){i.addEventListener(n.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],DancingDrumsTransit:[function(t,e){"use strict";cc._RF.push(e,"81906IfoJdE2rmEnDHZgYSH","DancingDrumsTransit");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsUserData"),s=t("DancingDrumsGameData");cc.Class({extends:cc.Component,properties:{imgStart:cc.Node,particle:cc.Node,pnlMain:cc.Node,imgBg:cc.Node},onLoad:function(){},show:function(t){var e=this;this.data=t,this.node.active=!0,this.imgStart.y=400,this.particle.y=400,this.pnlMain.height=0,this.imgBg.opacity=255,i.emit(n.STOP_MUSIC),i.emit(n.PLAY_AUDIO_EF,"DD_SparkleTransition"),cc.tween(this.pnlMain).to(4,{height:2400}).start(),cc.tween(this.imgStart).by(4,{y:-2400}).start(),cc.tween(this.particle).by(4,{y:-2400}).start(),this.scheduleOnce(function(){0==e.data.type?(o.GameMode=s.GAME_MODE.FREE,i.emit(n.CHANGE_GAME_MODE)):(o.GameMode=s.GAME_MODE.NORMAL,i.emit(n.CHANGE_GAME_MODE)),cc.tween(e.imgBg).to(1,{opacity:0}).start(),e.scheduleOnce(function(){e.hide()},3)},4)},hide:function(){this.data.callback(),this.node.active=!1},onEnable:function(){i.addEventListener(n.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],DancingDrumsUpUI:[function(t,e){"use strict";cc._RF.push(e,"e285eo6JrBLH6PRggtfSP9z","DancingDrumsUpUI");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData"),a=t("DancingDrumsUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.initUI(),this.loadUI(),this.node.scale=0,this.nodeBalance.active=!1,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.initHandTween(),this.nodeMenu.active=!1,window.resizeWinX(this)},initUI:function(){this.nodeBalance=cc.find("nodeBalance",this.node),this.labBalance=cc.find("labBalance",this.nodeBalance).getComponent(cc.Label),this.imgAddCoinsHand=cc.find("btnAdd/imgAdd/imgAddCoinsHand",this.nodeBalance),cc.find("btnAdd",this.nodeBalance).on("click",this.onClickAddCoins,this),this.nodeMenu=cc.find("nodeMenu",this.node),cc.find("touchEvent",this.nodeMenu).on("click",this.onClickHideMenu,this);var t=cc.find("nodeMain",this.nodeMenu);cc.find("btnHome",t).on("click",this.onClickHome,this),cc.find("btnBGM",t).on("toggle",this.onClickBgm,this),cc.find("btnSound",t).on("toggle",this.onClickSound,this),cc.find("btnHelp",this.node).on("click",this.onClickHelp,this),cc.find("btnMenu",this.node).on("click",this.onClickMenu,this),this.btnHome=cc.find("btnHome",t),this.btnAdd=cc.find("btnAdd",this.nodeBalance)},loadUI:function(){var t=this;s.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(e,n){if(!e){t.spAtlas=n,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("up"),cc.find("btnHelp/btnImg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnHelp"),cc.find("btnMenu/btnImg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnMenu");var i=cc.find("nodeBalance",t.node);cc.find("nodeBalance",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("frame_coin"),cc.find("btnAdd/imgAdd",i).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("addBtn_0"),cc.find("btnAdd/imgAdd/imgAddCoinsHand",i).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("hand");var o=cc.find("nodeMenu/nodeMain",t.node);o.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("frame_auto_times"),cc.find("btnHome",o).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnLobby"),cc.find("btnBGM/Background",o).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnBGM"),cc.find("btnBGM/checkmark",o).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnBGM"),cc.find("btnSound/Background",o).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnSound"),cc.find("btnSound/checkmark",o).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("btnSound")}}),s.Bundle.load("resources/fnt/BEBAS",cc.Font,function(e,n){e||(t.labBalance.font=n,cc.find("nodeBalance/labFnt",t.node).getComponent(cc.Label).font=n)})},initHandTween:function(){this.addCoinsHandTween=cc.tween(this.imgAddCoinsHand).repeatForever(cc.tween().to(.5,{x:40,y:-40}).to(.5,{x:100,y:-100})),this.imgAddCoinsHand.active=!1},onClickHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.SHOW_HELP_VIEW)},onClickMenu:function(){this.nodeMenu.active=!0,i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickHideMenu:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),this.nodeMenu.active=!1},onClickAddCoins:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.SHOW_ADD_USER_COINS)},onClickBgm:function(t){c.getInstant.musicControl=t.isChecked,c.getInstant.musicControl?(s.GameMode==o.GAME_MODE.NORMAL?i.emit(n.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):i.emit(n.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),i.emit(n.PLAY_AUDIO_EF,"btnShow")):i.emit(n.STOP_AUDIO),this.nodeMenu.active=!1},onClickSound:function(t){cc.log(t),c.getInstant.soundEffectControl=t.isChecked,c.getInstant.soundEffectControl&&i.emit(n.PLAY_AUDIO_EF,"btnShow"),this.nodeMenu.active=!1},onClickHome:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)},type:0})},onChargeAllResult:function(){},onLotteryResult:function(){this.hideHandTip()},hideHandTip:function(){this.addCoinsHandTween.stop(),this.imgAddCoinsHand.active=!1},onHaveNoMoney:function(){this.imgAddCoinsHand.active=!0,this.addCoinsHandTween.start()},onStartRoll:function(){},onChangeGameMode:function(){this.btnAdd.getComponent(cc.Button).interactable=s.GameMode==o.GAME_MODE.NORMAL,this.btnHome.getComponent(cc.Button).interactable=s.GameMode==o.GAME_MODE.NORMAL},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),i.addEventListener(n.HAVE_NO_MONEY,this.onHaveNoMoney,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DancingDrumsUserData:[function(t,e){"use strict";cc._RF.push(e,"25159VeyxBCjbSWo79NTyOk","DancingDrumsUserData");var n={Bundle:null,LotteryRes:null,init:function(t){n.Bundle=t,n.GameMode=0,n.Status=0,n.BetIndex=0,n.Line=88,n.FakeFreeTime=0,n.AllFakeFreeTime=0,n.isFast=!1,n.FakeSoltIndex=0,n.IsAuto=!1,n.IsFreeSolt=!1,n.IsFakeSolt=!1,n.VerticalItemCount=3},initFreeData:function(){n.FreeTimeNow=0,n.FreeTimeAll=0,n.FreeRemaining=0,n.FreeWinCoins=0,n.IsFreeSolt=!0,n.FreeSoltIndex=0}};e.exports=n,cc._RF.pop()},{}],DancingDrumsUtil:[function(t,e){"use strict";cc._RF.push(e,"f4c18MaeepA4Z86fyt/AQhX","DancingDrumsUtil");var n=t("DancingDrumsGameData"),i=t("DancingDrumsUserData"),o=(t("DancingDrumsItemConfig"),t("PlayerInfo")),s={convertNetData:function(t){for(var e=[],n=0;n<5;n++)e[n]=[];for(var o in t)e[o%5][i.VerticalItemCount-1-parseInt(o/5)]=t[o];return e},getItemWheelID:function(t){return t%5},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,n){for(var i=[],o=0;o<15;o++)n[o]?i[o]=n[o]:i[o]=s.getRandID(t,e);return i},formattingCoins:function(t){return(t/o.getInstant.exchangeRate).toFixed(2)},getRandItemFromList:function(t){return t[s.getRandID(0,t.length-1)]},getRandItemID:function(t){var e=parseInt(Math.random()*t.length);return e>=t.length&&(e=t.length-1),e<=0&&(e=0),e},isNormalGame:function(){return n.GAME_MODE.NORMAL==i.GameMode},getRate:function(t){return t/i.BetValue},getBigWinRate:function(t){var e=s.getRate(t),n=0;return e>=500?n=4:e>=200?n=3:e>=100?n=2:e>=50?n=1:e>=20&&(n=0),n},checkBigWin:function(t){return t/i.BetValue>=20},getItemCount:function(t,e){for(var n=0,i=0;i<t.length;i++)t[i]==e&&n++;return n},checkWinItem:function(t,e,n){for(var i=0;i<n.length;i++)if(n[i]==t&&e[i])return!0;return!1},updateSetString:function(t,e,n,i,o,s){var a=0,c=Math.ceil(t/i);n.string=e;var r=0;s.schedule(function(){(a+=c)>t&&(a=t),n.string=a+e,++r==i+1&&o()},.02,i)},extendCopy:function(t){var e={};for(var n in t)e[n]=t[n];return e}};e.exports=s,cc._RF.pop()},{PlayerInfo:void 0}],DancingDrumsWheelAni:[function(t,e){"use strict";cc._RF.push(e,"7efc02QZDRI95loMMW/7maY","DancingDrumsWheelAni");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsItemConfig"),a=t("DancingDrumsUserData");cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=s.WHEEL_WIDTH},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(o.BUNDLE_NAME+"ItemAni").reset(),e.active=!1}},onStartRoll:function(){this.resetItem()},onEnable:function(){i.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var t=0;t<a.VerticalItemCount;t++){var e=s.ITEM_HEIGHT/2+s.ITEM_HEIGHT*t,n=cc.instantiate(this.preItemAni);this.itemAniList.push(n),this.pnlItemAni.addChild(n),n.y=e,n.active=!1}}}),cc._RF.pop()},{}],DancingDrumsWheel:[function(t,e){"use strict";cc._RF.push(e,"239469AEepN1oJzL7D6twKN","DancingDrumsWheel");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=t("DancingDrumsGameData"),s=t("DancingDrumsUserData"),a=t("DancingDrumsItemConfig");cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.HIDE_POS=0,this.SHOW_POS=a.ITEM_HEIGHT/2+s.VerticalItemCount*a.ITEM_HEIGHT,this.node.width=a.WHEEL_WIDTH,this.node.height=a.ITEM_HEIGHT*s.VerticalItemCount;var t=cc.find("pnlMask",this.node);t.width=a.WHEEL_WIDTH,t.height=a.ITEM_HEIGHT*s.VerticalItemCount},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(o.BUNDLE_NAME+"Item").isBonusItem()&&t++;return t},checkUpItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(o.BUNDLE_NAME+"Item").isUpItem()&&t++;return t},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(o.BUNDLE_NAME+"Item").reset()},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(s.GameMode)},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.RESET_WHEEL,this.onResetWheel,this),i.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){i.removeEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.removeEventListener(n.START_ROLL,this.onStartRoll,this),i.removeEventListener(n.RESET_WHEEL,this.onResetWheel,this),i.removeEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(t){this.netIdList=t,this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var n=t.itemList[e],i=cc.tween(n);n.getComponent(o.BUNDLE_NAME+"Item").setItemVericalPos(-1),i.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){n.y<t.HIDE_POS&&(n.y=t.SHOW_POS,n.getComponent(o.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(i.stop(),t.rollEnd(n,e)),t.isResetRoll&&(i.stop(),t.resetRolePos(n,e))})).start()},n=0;n<this.itemList.length;n++)e(n)},rollEnd:function(t,e){var c=this,r=this;cc.tween(t).repeat(s.VerticalItemCount+1,cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){t.y<c.HIDE_POS&&(t.y=c.SHOW_POS,r.itemIndex>=r.netIdList.length?t.getComponent(o.BUNDLE_NAME+"Item").randImg():(t.getComponent(o.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex]),r.resultItemList.push(t)),t.getComponent(o.BUNDLE_NAME+"Item").setItemVericalPos(r.itemIndex),r.itemIndex++)})).call(function(){var a=t.getComponent(o.BUNDLE_NAME+"Item").getItemVerticalPos();a=-1==a?s.VerticalItemCount+1:a,t.y=c.getOrightPos(a),e==c.itemList.length-1&&i.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<a.ITEM_HEIGHT+a.ITEM_HEIGHT/2&&t.getComponent(o.BUNDLE_NAME+"Item").rollEnd(),c.itemList.length-1==e&&i.emit(n.ON_WHEEL_ROLL_END,c.wheelId)}).start()},getOrightPos:function(t){return a.ITEM_HEIGHT/2+t*a.ITEM_HEIGHT},resetRolePos:function(t,e){t.y=this.getOrightPos(e)},initItem:function(){this.itemList=[];for(var t=0;t<s.VerticalItemCount+1;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=this.getOrightPos(t),e.getComponent(o.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],DancingDrumsWinPrizeItem:[function(t,e){"use strict";cc._RF.push(e,"e470cW2XSRJuZri2+6aowVT","DancingDrumsWinPrizeItem");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=(t("DancingDrumsUserData"),t("DancingDrumsGameData"),t("DancingDrumsUtil"),[]);o[1]="Mini_FUBaby_Character",o[2]="Minor_FUBaby_Character",o[3]="Major_FUBaby_Character",o[4]="Grand_FUBaby_Character";var s=[];s[1]="MatchBaby_MiniGlow",s[2]="MatchBaby_MinorGlow",s[3]="MatchBaby_MajorGlow",s[4]="MatchBaby_GrandGlow";var a=[];a[1]="Mini_FUBaby_Bkg",a[2]="Minor_FUBaby_Bkg",a[3]="Major_FUBaby_Bkg",a[4]="Grand_FUBaby_Bkg";var c=[];c[1]="Mini_StarGlow",c[2]="Minor_StarGlow",c[3]="Major_StarGlow",c[4]="Grand_StarGlow",cc.Class({extends:cc.Component,properties:{imgCoin:cc.Node,coinParticle:cc.Node,nodeItem:cc.Node,imgBg:cc.Node,imgFrame:cc.Node,imgItem:cc.Node,particle:cc.Node,spAtlas:cc.SpriteAtlas,particleSpAtlas:cc.SpriteAtlas},onLoad:function(){cc.tween(this.coinParticle).repeatForever(cc.tween().to(1,{opacity:255}).to(1,{opacity:0})).start()},init:function(t,e){this.itemID=e,this.callback=t,this.reset()},reset:function(){this.isTouch=!1,this.nodeItem.active=!1,this.imgCoin.active=!0,this.imgCoin.scaleX=1,this.nodeItem.scaleX=1,this.particle.x=85,this.particle.y=-90,this.particle.getComponent(cc.ParticleSystem).emissionRate=0},showItem:function(t){var e=this;this.reset(),this.imgBg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(a[t]),this.imgItem.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(o[t]),this.imgFrame.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(s[t]),this.particle.getComponent(cc.ParticleSystem).spriteFrame=this.particleSpAtlas.getSpriteFrame(c[t]),this.nodeItem.scaleX=0,this.nodeItem.active=!0,i.emit(n.PLAY_AUDIO_EF,"Coin_select"),cc.tween(this.imgCoin).to(.2,{scaleX:0}).call(function(){cc.tween(e.nodeItem).to(.2,{scaleX:1}).start(),cc.tween(e.particle).to(.4,{x:-85,y:90}).start(),cc.tween(e.particle.getComponent(cc.ParticleSystem)).to(.2,{emissionRate:999}).to(.2,{emissionRate:0}).start()}).start()},showResult:function(){cc.tween(this.imgFrame).to(1,{scaleX:3,scaleY:3,opacity:0}).to(0,{scaleX:1,scaleY:1,opacity:255}).to(1,{scaleX:3,scaleY:3,opacity:0}).to(0,{scaleX:1,scaleY:1,opacity:255}).to(1,{scaleX:3,scaleY:3,opacity:0}).to(0,{scaleX:1,scaleY:1,opacity:255}).start()},onClickItem:function(){this.isTouch||(this.isTouch=!0,this.callback(this))}}),cc._RF.pop()},{}],DancingDrumsWinPrize:[function(t,e){"use strict";cc._RF.push(e,"dc003aLBqxH7JOjsozj0Uhq","DancingDrumsWinPrize");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=(t("DancingDrumsUserData"),t("DancingDrumsGameData")),s=t("DancingDrumsUtil");cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,prizeItem:cc.Prefab},onLoad:function(){var t=this;this.itemList=[];for(var e=0;e<12;e++){var n=cc.instantiate(this.prizeItem);this.pnlMain.addChild(n),n.getComponent(o.BUNDLE_NAME+"WinPrizeItem").init(function(e){t.onSelectItem(e)},e),this.itemList.push(n)}},onSelectItem:function(t){var e=this;if(3!=this.selectItemCount){var n=this.selectItemID[this.selectIndex];t.showItem(n),n==this.bonusData.type&&(this.selectItem.push(t),this.selectItemCount++),this.selectIndex++,3==this.selectItemCount&&this.scheduleOnce(function(){e.showResult()},.5)}},showResult:function(){var t=this;i.emit(n.PLAY_AUDIO_EF,"jackpot_hit");for(var e=0;e<this.selectItem.length;e++)this.selectItem[e].showResult();this.scheduleOnce(function(){i.emit(n.SHOW_YOU_WIN,{count:t.bonusData.win,type:t.bonusData.type,callback:function(){i.emit(n.SHOW_TRANSIT_ANI,{type:1,callback:function(){t.callback()}})}})},3)},show:function(t,e){cc.log(t),this.bonusData=t,this.callback=e,this.selectItemID=[],this.selectItem=[];for(var n=0;n<this.itemList.length;n++)this.itemList[n].getComponent(o.BUNDLE_NAME+"WinPrizeItem").reset();for(var i=[],a=1;a<=4;a++)a!=t.type&&i.push(a);for(var c=0;c<3;c++)this.selectItemID.push(t.type);for(var r=0;r<i.length;r++)for(var l=s.getRandID(0,2),h=0;h<l;h++)this.selectItemID.push(i[r]);for(var m=0;m<this.selectItemID.length;m++){var u=s.getRandID(0,this.selectItemID.length-1),d=this.selectItemID[m];this.selectItemID[m]=this.selectItemID[u],this.selectItemID[u]=d}this.selectIndex=0,this.selectItemCount=0},onChangeGameMode:function(){},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],DancingDrumsYouWin:[function(t,e){"use strict";cc._RF.push(e,"5e3b6zorq9DFYETM6xQ/z5/","DancingDrumsYouWin");var n=t("DancingDrumsEventConfig"),i=t("DancingDrumsEventManager"),o=(t("DancingDrumsUserData"),t("DancingDrumsGameData"),t("DancingDrumsUtil")),s=[];s[1]="mini_jackpot",s[2]="minor_jackpot",s[3]="major_jackpot",s[4]="grand_jackpot";var a=[];a[1]="FuBat_Tally_MiniAward",a[2]="FuBat_Tally_MinorAward",a[3]="FuBat_Tally_MajorAward",a[4]="FuBat_Tally_GrandAward",cc.Class({extends:cc.Component,properties:{winFnt:{type:cc.Node,default:[]},pnlMain:cc.Node,labWin:cc.Label,imgBg:cc.Sprite,spAtlas:cc.SpriteAtlas,pnlConfetti:cc.Node,aniConfetti:cc.Node},onLoad:function(){this.addEventListener()},show:function(t){var e=this;i.emit(n.STOP_MUSIC),i.emit(n.PLAY_AUDIO_EF,s[t.type]),this.imgBg.spriteFrame=this.spAtlas.getSpriteFrame(a[t.type]),this.node.active=!0,this.labWin.string=o.formattingCoins(t.count),this.pnlMain.opacity=0,cc.tween(this.pnlMain).to(.5,{opacity:255}).start();for(var c=function(t){e.winFnt[t].active=!1,e.scheduleOnce(function(){e.winFnt[t].active=!0,e.winFnt[t].scaleX=3,e.winFnt[t].scaleY=3,e.winFnt[t].opacity=0,cc.tween(e.winFnt[t]).to(1,{scaleX:1,scaleY:1,opacity:255},{easing:"circIn"}).start()},t)},r=0;r<this.winFnt.length;r++)c(r);this.scheduleOnce(function(){t.callback(),e.unschedule(e.runConfettiAction),e.scheduleOnce(function(){e.pnlConfetti.removeAllChildren(),e.node.active=!1},3)},6),this.schedule(this.runConfettiAction,.2)},runConfettiAction:function(){this.newConfetti(),this.newConfetti()},newConfetti:function(){var t=cc.instantiate(this.aniConfetti);this.pnlConfetti.addChild(t),t.x=750*Math.random()-375,t.angle=360*Math.random(),cc.tween(t).by(9,{y:-1e3}).start()},hide:function(){},addEventListener:function(){i.addEventListener(n.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["DancingDrumsAddCoins","DancingDrumsAuto","DancingDrumsBigWin","DancingDrumsDownUI","DancingDrumsHelp","DancingDrumsTipView","DancingDrumsUpUI","DancingDrumsAnimation","DancingDrumsAudio","DancingDrumsBg","DancingDrumsFakeFree","DancingDrumsFree","DancingDrumsItem","DancingDrumsItemAni","DancingDrumsMain","DancingDrumsNetwork","DancingDrumsPrize","DancingDrumsScene","DancingDrumsSelectFree","DancingDrumsSelectFreeItem","DancingDrumsTransit","DancingDrumsUtil","DancingDrumsWheel","DancingDrumsWheelAni","DancingDrumsWinPrize","DancingDrumsWinPrizeItem","DancingDrumsYouWin","DancingDrumsEventConfig","DancingDrumsEventManager","DancingDrumsGameData","DancingDrumsItemConfig","DancingDrumsLineConfig","DancingDrumsNetWheelConfig","DancingDrumsUserData"]);