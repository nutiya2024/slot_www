window.__require=function t(e,i,n){function a(o,l){if(!i[o]){if(!e[o]){var c=o.split("/");if(c=c[c.length-1],!e[c]){var r="function"==typeof __require&&__require;if(!l&&r)return r(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){return a(e[o][1][t]||t)},h,h.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)a(n[o]);return a}({SKAnimationAudio:[function(t,e){"use strict";cc._RF.push(e,"4b2c6UTi/9Hna1LD6QE9zS/","SKAnimationAudio"),cc.Class({extends:cc.Component,playying:function(){cc.find("Canvas").getChildByName("audio_source").getComponent("SKAudio").playyinga()},playyingclose:function(){cc.find("Canvas").getChildByName("audio_source").getComponent("SKAudio").playyingclose()}}),cc._RF.pop()},{}],SKAudio:[function(t,e){"use strict";cc._RF.push(e,"a9a42McouRMAJfFtSTlR79g","SKAudio"),cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},buttonClick:{type:cc.AudioClip,default:null},winEf:{type:[cc.AudioClip],default:[]},bigWinEf:{type:cc.AudioClip,default:null},toauto:{type:cc.AudioClip,default:null},stopauto:{type:cc.AudioClip,default:null},spin:{type:cc.AudioClip,default:null},bigwin:{type:cc.AudioClip,default:null},youwin:{type:cc.AudioClip,default:null},hkeno_number:{type:cc.AudioClip,default:[]},hkeno_hit:{type:cc.AudioClip,default:null},hkeno_hit9:{type:cc.AudioClip,default:null},hkeno_btn_pick:{type:cc.AudioClip,default:null},hkeno_btn_add:{type:cc.AudioClip,default:null},hkeno_btn_erase:{type:cc.AudioClip,default:null},hkeno_btn_info:{type:cc.AudioClip,default:null},hkeno_btn_max:{type:cc.AudioClip,default:null},hkeno_btn_qpick:{type:cc.AudioClip,default:null},hkeno_4x:{type:cc.AudioClip,default:null}},onLoad:function(){this.pInfo=t("PlayerInfo").getInstant},start:function(){cc.audioEngine.stopAll(),this.playBgm(0)},stopAudio:function(){cc.audioEngine.stopAll()},setVolume:function(t){cc.audioEngine.setMusicVolume(t)},playBgm:function(t){0!=this.pInfo.musicControl&&(cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t],!0))},playStopWheel:function(){this.playEf(this.stopWheel)},playButtonClick:function(){this.playEf(this.buttonClick)},playyinga:function(){this.playEf(this.ying)},playyingclose:function(){this.playEf(this.yingclose)},playjia:function(){},playAnticipation:function(){this.playEf(this.anticipation)},playBW:function(){Math.floor(4*Math.random()),this.playEf(this.winEf[0])},playBallNum:function(t){t<this.hkeno_number.length&&this.playEf(this.hkeno_number[t-1])},playFreeGame:function(){this.playEf(this.freeGame)},playEf:function(t){0!=this.pInfo.soundEffectControl&&cc.audioEngine.playEffect(t)}}),cc._RF.pop()},{PlayerInfo:void 0}],SKMain:[function(t,e){"use strict";cc._RF.push(e,"1a8c5867ChNPrDWED0xouTZ","SKMain");var i=[1,2,3,4,5,6,7,8,9,10],n=[[0],[0,0],[0,1,6],[0,0,2,28],[0,0,1,7,45],[0,0,1,2,12,100],[0,0,0,2,7,38,155],[0,0,0,1,4,15,75,420],[0,0,0,1,2,6,30,105,630],[0,0,0,0,2,5,18,60,271,2e3],[0,0,0,0,1,4,10,24,116,2e3,2e3]];cc.Class({extends:cc.Component,properties:{lblUserName:{default:null,type:cc.Label,displayName:"\u7528\u6237\u540d"},lblUserCoin:{default:null,type:cc.Label,displayName:"\u7528\u6237\u91d1\u5e01"},lblUserWins:{default:null,type:cc.Label,displayName:"\u7528\u6237\u8d62\u53d6\u91d1\u5e01"},lblBet:{default:null,type:cc.Label,displayName:"\u5355\u6ce8"},lblLines:{default:null,type:cc.Label,displayName:"\u7ebf\u6570"},lblCurBet:{default:null,type:cc.Label,displayName:"\u672c\u5c40\u603b\u6ce8"},lblWinCoin:{default:null,type:cc.Label,displayName:"\u672c\u5c40\u8d62\u5f97"},lbTxt:{default:null,type:cc.Label,displayName:"\u63cf\u8ff0"},lbDetail:{default:null,type:cc.Label,displayName:"\u4e2d\u5956\u6570\u7ec4"},lblTopPay:{default:null,type:cc.Label,displayName:"\u6700\u9ad8\u4e2d\u5956"},lblCoinList:{default:[],type:cc.Label,displayName:"\u5217\u500d\u7387\u663e\u793a"},msgBoard:{default:null,type:cc.Node,displayName:"Msg\u753b\u677f"},BgNode:{default:null,type:cc.Node,displayName:"\u6e38\u620f\u80cc\u666f\u8282\u70b9"},chargePanel:{default:null,type:cc.Node,displayName:"charge\u754c\u9762"},helpUI:{default:null,type:cc.Node,displayName:"help\u754c\u9762"},particles:{default:[],type:cc.ParticleSystem,displayName:"\u7c92\u5b50\u6570\u7ec4"},chargeTipsNode:{default:null,type:cc.Node,displayName:"\u5145\u503c\u6307\u5f15"},youwinNode:{default:null,type:cc.Node,displayName:"\u5927\u5956youwin\u8282\u70b9"},bigwinNode:{default:null,type:cc.Node,displayName:"\u5927\u5956bigwin\u8282\u70b9"},megawinNode:{default:null,type:cc.Node,displayName:"\u5927\u5956megawin\u8282\u70b9"},ball:{default:null,type:cc.Prefab,displayName:"\u7403"},gridsel:{default:null,type:cc.Prefab,displayName:"\u9009\u62e9\u7684\u683c\u5b50"},gridhit:{default:null,type:cc.Prefab,displayName:"\u4e2d\u5956\u7684\u683c\u5b50"},ballIcon:{default:null,type:cc.SpriteAtlas,displayName:"\u7403\u56fe\u6807"},pipeLight:{default:null,type:cc.Node,displayName:"\u7ba1\u9053\u53d1\u5149\u5c42"},win4Node:{default:null,type:cc.Node,displayName:"4\u500d\u5956\u52b1\u5c42"},gameNode:{default:null,type:cc.Node,displayName:"\u6e38\u620f\u5c42"},physicsNode:{default:null,type:cc.Node,displayName:"\u7269\u7406\u5c42"},gridNode:{default:null,type:cc.Node,displayName:"\u683c\u5b50\u5c42"},ballGrids:{default:[],type:cc.Node,displayName:"\u9009\u62e9\u683c\u5b50"},payItems:{default:[],type:cc.Node,displayName:"\u8d62\u7684\u5956\u52b1\u683c\u5b50"},winItem:{default:null,type:cc.Node,displayName:"\u4e2d\u5956\u52b1\u683c\u5b50"},otherBtn:{default:[],type:cc.Node,displayName:"\u9700\u8981\u7070\u6309\u94ae"},ksBtn:cc.Node,zidongNode:cc.Node,zidongStopNode:cc.Node,powerBtn:cc.Button,exitBtn:cc.Button,lastSendRollTime:0,_holdTimeEclipse:0,_holdClick:!1},onLoad:function(){this.playerInfo=t("PlayerInfo").getInstant,this.net=this.node.getComponent("SKNetwork"),this.audio=this.node.getChildByName("audio_source").getComponent("SKAudio"),this.bet=0,this.auto=!1,this.status=0,this.bigWinBoo=!1,this.freeTimes=0,this.freeTotalTimes=0,this.lastSendRollTime=0,this.rollIndex=0,this.bonusLinesNum=[],this.selectGrids={},this.hittedGrids={},this.payTable={},this.shootBalls=[],this.lotteryRes=null,this.stopFree=!1,this.freeGameCoin=0,this.bIsFreeGame=!1,this.delayClick=!1,this.turnNum=0,this.left_stat=0,this.lastHeartBeatTime;var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,-640),this.audio=this.node.getChildByName("audio_source").getComponent("SKAudio")},playying:function(){cc.log("\u53eb\u5524aaa"),this.audio.playyinga()},UPDATE_COIN:function(){this.lblUserCoin&&(this.lblUserCoin.string=this.formattingCoins(this.playerInfo.playerCoin))},formattingCoins:function(t){return(t/this.playerInfo.exchangeRate).toFixed(2)},start:function(){this.lblWinCoin.string="0",this.setBet(),this.lblUserName.string=this.playerInfo.playerName,this.lblUserCoin.string=(1*this.playerInfo.playerCoin/this.playerInfo.exchangeRate).toFixed(2),this.lblUserWins.node.active=!1,this.ksBtn.getComponent(cc.Button).interactable=!1,this.audio.playBgm(0)},update:function(t){if(this._holdClick&&(this._holdTimeEclipse++,this._holdTimeEclipse>60&&(this._holdClick=!1,this._holdTimeEclipse=120,this.onCLick(null,"auto"),this._holdTimeEclipse=0)),this.totalTime?this.totalTime+=t:this.totalTime=t,parseInt(this.curTime)>=0?this.curTime+=t:this.curTime=0,this.curTime&&this.curTime>2&&(this.curTime=0,parseFloat(this.lblUserCoin.string)*this.playerInfo.exchangeRate<25*i[this.bet]?this.chargeTipsNode.active=!0:this.chargeTipsNode.active=!1),this.youwinNode.active){var e=this.youwinNode.getChildByName("BigWin2").getComponent(cc.Sprite).getMaterial(0),n=300*this.totalTime%649;e.setProperty("start_x",1*n/649)}if(this.bigwinNode.active){var a=this.bigwinNode.getChildByName("BigWin2").getComponent(cc.Sprite).getMaterial(0),s=300*this.totalTime%649;a.setProperty("start_x",1*s/649)}if(this.megawinNode.active){var o=this.megawinNode.getChildByName("BigWin2").getComponent(cc.Sprite).getMaterial(0),l=300*this.totalTime%649;o.setProperty("start_x",1*l/649)}},playEffect:function(t){this.audio.playEf(this.audio[t])},onHeartBeat:function(){this.lastHeartBeatTime=Date.now()},closeBigWin:function(){this.node.stopAllActions(),(this.megawinNode.active||this.bigwinNode.active||this.youwinNode.active)&&(this.audio.playBgm(0),this.megawinNode.active=!1,this.bigwinNode.active=!1,this.youwinNode.active=!1),this.bigWinBoo=!1},showBigWin:function(t){cc.log("show big win"+t);var e=0,n=1*t/50;for(var a in this.particles)this.particles[a].node&&(this.particles[a].node.active=!1);if(this.bigWinBoo=!0,t>75e3*i[this.bet]){this.audio.playBgm(4),this.megawinNode.active=!0,this.particles[2].node.active=!1,this.particles[3].node.active=!1,this.megawinNode.getComponent(cc.Animation).play();var s=this.megawinNode.getChildByName("lbNum").getComponent(cc.Label);s.string=0,this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.particles[2].node.active=!0,this.particles[2].resetSystem(),this.particles[3].node.active=!0,this.particles[3].resetSystem(),this.schedule(function(){e+=n,s.string=(1*e/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,49,.1),this.scheduleOnce(function(){this.megawinNode.active=!1,this.bigWinBoo=!1,this.audio.stopAudio(),this.audio.playBgm(0)}.bind(this),6)}.bind(this))))}else if(t>500*i[this.bet]){this.playEffect("bigwin"),this.bigwinNode.active=!0,this.particles[1].node.active=!1,this.bigwinNode.getComponent(cc.Animation).play();var o=this.bigwinNode.getChildByName("lbNum").getComponent(cc.Label);o.string=0,this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.particles[1].node.active=!0,this.particles[1].resetSystem(),this.schedule(function(){e+=n,o.string=(1*e/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,49,.1),this.scheduleOnce(function(){this.bigwinNode.active=!1,this.bigWinBoo=!1,this.audio.stopAudio(),this.audio.playBgm(0)}.bind(this),6)}.bind(this))))}else{this.playEffect("youwin"),this.youwinNode.active=!0,this.particles[0].node.active=!1,this.youwinNode.getComponent(cc.Animation).play();var l=this.youwinNode.getChildByName("lbNum").getComponent(cc.Label);l.string=0,this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.particles[0].node.active=!0,this.particles[0].resetSystem(),this.schedule(function(){e+=n,l.string=(1*e/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,49,.1),this.scheduleOnce(function(){this.youwinNode.active=!1,this.bigWinBoo=!1,this.audio.stopAudio(),this.audio.playBgm(0)}.bind(this),6)}.bind(this))))}},set_left_view:function(){this.settingPanel.stopAllActions(),1==this.left_stat?(this.settingBtn.active=!1,this.settingPanel.active=!0,this.settingPanel.runAction(cc.moveBy(.2,cc.v2(-124,0)))):this.settingPanel.runAction(cc.sequence(cc.moveBy(.2,cc.v2(124,0)),cc.callFunc(function(){this.settingBtn.active=!0,this.settingPanel.active=!1},this)))},chargeAll:function(){},chargeSum:function(){},chargeAllResult:function(){},openAlert:function(t,e){(cc.find("Loading")&&(cc.find("Loading").active=!1),this&&cc.isValid(this.node)&&this.msgBoard)&&(t||(this.msgBoard.getChildByName("btn_close").active=!1),this.msgBoard.getChildByName("lb_detail").getComponent(cc.Label).string=e||"The Internet is lost! Please login again!",this.msgBoard.active=!0)},selectGrid:function(t){if(this.playEffect("hkeno_btn_pick"),this.selectGrids[t]){var e=this.selectGrids[t];e.removeFromParent(),e.destroy(),delete this.selectGrids[t]}else if(Object.keys(this.selectGrids).length<10){var i=cc.instantiate(this.gridsel);i.parent=this.gridNode,i.position=this.ballGrids[t].position,i.getChildByName("lbNum").getComponent(cc.Label).string=t,i.zIndex=1,this.selectGrids[t]=i}this.updatePay()},updatePay:function(){for(var t in this.payTable={},this.payItems)this.payItems[t].active=!1;var e=Object.keys(this.selectGrids).length;if(e>=2&&e<=10)for(var a=n[e],s=1;s<a.length;s++){var o=a[s],l=this.payItems[10-s];o>0&&(l.active=!0,l.getChildByName("lbHits").getComponent(cc.Label).string=s,l.getChildByName("lbPay").getComponent(cc.Label).string=(o*i[this.bet]*25/this.playerInfo.exchangeRate).toFixed(2),this.payTable[s]=l)}},showHitGrid:function(t){if(!this.hittedGrids[t]){this.playEffect("hkeno_hit");var e=cc.instantiate(this.gridhit);e.parent=this.gridNode,e.position=this.ballGrids[t].position,e.getChildByName("lbNum").getComponent(cc.Label).string=t,e.zIndex=2,e.getComponent(cc.Animation).play(),e.getComponent(cc.Animation).playAdditive("hitappear"),this.hittedGrids[t]=e}},clearHitGrid:function(){for(var t in this.hittedGrids)this.hittedGrids[t]&&(this.hittedGrids[t].removeFromParent(),this.hittedGrids[t].destroy());this.hittedGrids={}},clearSelGrid:function(){for(var t in this.selectGrids)this.selectGrids[t]&&(this.selectGrids[t].removeFromParent(),this.selectGrids[t].destroy());this.selectGrids={}},onGrid:function(t,e){this.clearHitGrid();var i=parseInt(e);i>=0&&this.selectGrid(i)},onCLick:function(t,e){switch(this.audio.playButtonClick(),e){case"auto":if(this.bigWinBoo||this.delayClick)return;this.auto=!0,this.playEffect("toauto"),this.zidongNode.active=!this.auto,this.zidongStopNode.active=this.auto,this.auto&&0==this.status&&this.sendRoll();break;case"stopAuto":this.auto=!1,this.playEffect("stopauto"),this.zidongNode.active=!this.auto,this.zidongStopNode.active=this.auto;break;case"left_switch":this.left_stat=this.left_stat?0:1,this.set_left_view();break;case"charge":if(this.bigWinBoo||this.delayClick||this.auto)return;this.chargePanel.active=!0;break;case"charge1":this.chargeSum(1),this.chargePanel.active=!1;break;case"charge2":this.chargeSum(10),this.chargePanel.active=!1;break;case"charge3":this.chargeSum(50),this.chargePanel.active=!1;break;case"charge4":this.chargeSum(100),this.chargePanel.active=!1;break;case"chargeAll":this.chargeAll(),this.chargePanel.active=!1;break;case"closeCharge":this.chargePanel.active=!1;break;case"roll":if(this.bigWinBoo||this.delayClick||this.auto)return;var n=Object.keys(this.selectGrids).length;if(n<2||n>10)return;this.auto||0==this.status&&(this.status=2,this.playEffect("spin"),this.sendRoll());break;case"add":if(this.playEffect("hkeno_btn_add"),this.bigWinBoo||this.auto)return;this.audio.playjia(),this.bet+=1,this.bet=this.bet>=i.length?0:this.bet,this.setBet(),this.updatePay();break;case"max":this.playEffect("hkeno_btn_max"),this.bet=9,this.setBet(),this.updatePay();break;case"quickpick":var a=0;this.clearHitGrid();var s=Object.keys(this.selectGrids).length;for(this.playEffect("hkeno_btn_qpick");s<10;){if((a=Math.floor(80*Math.random())+1)<=80&&!this.selectGrids[a]){var o=cc.instantiate(this.gridsel);o.parent=this.gridNode,o.position=this.ballGrids[a].position,o.getChildByName("lbNum").getComponent(cc.Label).string=a,o.zIndex=1,this.selectGrids[a]=o}s=Object.keys(this.selectGrids).length}this.updatePay();break;case"erase":this.playEffect("hkeno_btn_erase"),this.clearSelGrid(),this.updatePay();break;case"dec":if(this.bigWinBoo||this.auto)return;this.audio.playjia(),this.bet-=1,this.bet=this.bet>=0?this.bet:i.length-1,this.setBet();break;case"closeBigWin":this.audio.playBgm(0);break;case"help":this.playEffect("hkeno_btn_info");var l=cc.find("Canvas/com_help").activeInHierarchy;cc.find("Canvas/com_help").active=!l;break;case"closeHelp":this.helpUI.active=!1;break;case"closeExit":this.msgBoard.active=!1;break;case"exit":Common.backHall("Are you sure you want to leave the game?",function(){});break;case"exitGame":break;case"audio":this.audio.pInfo.musicControl=!this.audio.pInfo.musicControl,this.audioBtn.spriteFrame=this.spAtlas.getSpriteFrame(this.audio.pInfo.musicControl?"NJoker_ButtonSoundOn":"NJoker_ButtonSoundOff"),this.audio.pInfo.musicControl?this.audio.playBgm(0):this.audio.stopAudio()}},onToggleClick:function(t,e){t.target.active=!t.isChecked,"audio"==e&&(this.audio.pInfo.musicControl=!this.audio.pInfo.musicControl,this.audio.pInfo.musicControl?this.audio.playBgm(0):this.audio.stopAudio())},setBet:function(){this.lblBet.string=0,this.lblCurBet.string=(25*i[this.bet]/this.playerInfo.exchangeRate).toFixed(2),this.refreshPool(parseFloat(this.lblCurBet.string)*this.playerInfo.exchangeRate)},setBtnState:function(t){this.ksBtn.children[0].active=!t,this.ksBtn.children[1].active=t,this.powerBtn.interactable=!t,this.exitBtn.interactable=!t},updateMatch:function(){for(var t=[],e={},i=0;i<this.lotteryRes.viewarray.betCards.length;i++)e[parseInt(this.lotteryRes.viewarray.betCards[i])]=!0;for(var n=0;n<this.lotteryRes.viewarray.nHandCards.length;n++){var a=parseInt(this.lotteryRes.viewarray.nHandCards[n]);e[a]&&t.push(a)}this.lbDetail.string=t.join(",")},enableBtns:function(t){for(var e in this.ksBtn.getComponent(cc.Button).interactable=t,this.otherBtn)this.otherBtn[e].getComponent(cc.Button).interactable=t},showResult:function(){var t=this,e=this.rollIndex;this.setBtnState(!1),this.enableBtns(!1),this.delayClick=!0,this.bigWinBoo=!1,this.lblUserCoin.string=(1*this.lotteryRes.userscore/this.playerInfo.exchangeRate).toFixed(2),this.audio.playBgm(1),this.gameNode.active=!0,this.pipeLight.active=!0;var n=1,a=this.lotteryRes.viewarray.nHandCards[this.lotteryRes.viewarray.nHandCards.length-1];this.selectGrids[a]&&(n=0);var s=1*this.lotteryRes.viewarray.win/(25*i[this.bet]);!this.auto&&s>=10&&(this.bigWinBoo=!0,this.scheduleOnce(function(){this.showBigWin(this.lotteryRes.viewarray.win)}.bind(this),12.5+3*n)),this.scheduleOnce(function(){e==t.rollIndex&&(t.turnNum+=1,t.playWinAnim(t.turnNum))},.1)},playWinAnim:function(t){var e=this,a=!1;this.delayClick=!0,this.lotteryRes.viewarray.win>0&&(a=!0),this.shootBall(this.lotteryRes.viewarray.nHandCards,this.lotteryRes.viewarray.betCards),this.scheduleOnce(function(){if(t==e.turnNum)if(a){e.audio.playBgm(2);var s=Object.keys(e.selectGrids).length,o=Object.keys(e.hittedGrids).length,l=n[s][o],c=e.payTable[o];if(l>0&&c){e.winItem.active=!0,e.winItem.getChildByName("lbHits").getComponent(cc.Label).string=o,e.winItem.getChildByName("lbPay").getComponent(cc.Label).string=(l*i[e.bet]*25/e.playerInfo.exchangeRate).toFixed(2),e.winItem.getChildByName("win4").active=!1;var r=c.convertToWorldSpaceAR(cc.v2(0,0));e.winItem.position=e.winItem.parent.convertToNodeSpaceAR(r)}var h=0,d=e.lotteryRes.viewarray.nHandCards[e.lotteryRes.viewarray.nHandCards.length-1];if(e.hittedGrids[d]){var u=e.shootBalls[e.shootBalls.length-1];h=1,e.win4Node.active=!0;var p=e.win4Node.getChildByName("fireball");p&&(e.playEffect("hkeno_4x"),e.win4Node.getComponent(cc.Animation).play("fireappear"),p.active=!0,p.position=e.win4Node.convertToNodeSpaceAR(u.convertToWorldSpaceAR(cc.v2(0,0))).add(cc.v2(0,-13)),p.runAction(cc.sequence(cc.moveBy(.9,60,-50),cc.moveTo(.8,0,0),cc.callFunc(function(){cc.log("fire ball move end!!"),this.win4Node.getComponent(cc.Animation).stop(),this.win4Node.getComponent(cc.Animation).play(),this.win4Node.getComponent(cc.Animation).playAdditive("win4hit")}.bind(e)))))}var y=0,m=1*e.lotteryRes.viewarray.win/10;e.audio.playBW(1*e.lotteryRes.viewarray.win/e.lotteryRes.viewarray.nBet),e.schedule(function(){y+=m,this.lblWinCoin.string=(1*y/this.playerInfo.exchangeRate).toFixed(2)}.bind(e),.1,9,.01+3*h),e.scheduleOnce(function(){this.gameNode.getComponent(cc.Animation).play(),h&&(this.winItem.getChildByName("win4").active=!0,this.winItem.getComponent(cc.Animation).play()),this.win4Node.active=!1}.bind(e),3*h),e.scheduleOnce(function(){this.delayClick=!1,this.gameNode.getChildByName("pipe_shine1").active=!1,this.gameNode.getChildByName("pipe_shine2").active=!1,this.gameNode.getComponent(cc.Animation).stop(),this.gameNode.active=!1,this.pipeLight.active=!1,this.enableBtns(!0),this.auto&&this.sendRoll(),this.audio.playBgm(0)}.bind(e),3+3*h)}else e.gameNode.active=!1,e.pipeLight.active=!1,e.delayClick=!1,e.enableBtns(!0),e.auto&&e.sendRoll(),e.audio.playBgm(0)},10.5)},roll:function(){this.setBtnState(!0),this.status=0,this.ksBtn.getComponent(cc.Button).interactable=!0,this.showResult()},sendRoll:function(){this.rollIndex++,this.lbDetail.string="",this.winItem.getChildByName("win4").active=!1,this.winItem.active=!1,this.clearHitGrid(),this.lastSendRollTime=Date.now(),this.lblWinCoin.string=0,cc.find("Canvas/com_help").activeInHierarchy&&(cc.find("Canvas/com_help").active=!1),window.sendNetWorkData("lottery",JSON.stringify({bet:this.bet,nBetList:Object.keys(this.selectGrids)})),this.ksBtn.getComponent(cc.Button).interactable=!1},animateFourHit:function(){},clearBall:function(){for(var t=0;t<this.shootBalls.length;t++){var e=this.shootBalls[t];e.removeFromParent(),e.destroy()}this.shootBalls=[]},shootBall:function(t,e){var i=this,n=0,a=t.length;this.clearBall(),this.schedule(function(){var s=t[n++],o="ballNormalIcon-"+s,l=!1;n==a&&(l=!0),e.includes(String(s))&&(o="ballMatchIcon-"+s,i.showHitGrid(s,l),""==i.lbDetail.string?i.lbDetail.string=s:i.lbDetail.string+=","+s);var c=cc.instantiate(i.ball),r=i.ballIcon.getSpriteFrame(o);c.getComponent(cc.Sprite).spriteFrame=r,c.parent=i.physicsNode,i.audio.playBallNum(n),i.shootBalls.push(c),l&&i.animateFourHit()},.4+.05*Math.random(),a-1,.01)},setPool:function(t){this.winPool=t,this.ksBtn.getComponent(cc.Button).interactable=!0},refreshPool:function(t){this.lblCoinList[0].string="$"+this.formattingCoins(500*t),this.lblCoinList[1].string="$"+this.formattingCoins(200*t),this.lblCoinList[2].string="$"+this.formattingCoins(50*t),this.lblCoinList[3].string="$"+this.formattingCoins(15*t)},playFire:function(t){var e=this;this.effectAnimFire.children[t].active=!0,this.audio.playAnticipation(),this.scheduleOnce(function(){e.effectAnimFire.children[t].active=!1},1)}}),cc._RF.pop()},{PlayerInfo:void 0}],SKNetwork:[function(t,e){"use strict";cc._RF.push(e,"97b61qhBIRNsZTzKRGSSPHp","SKNetwork"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.mainObj=this.node.getComponent("SKMain"),this.playerInfo=t("PlayerInfo").getInstant,this.audio=this.node.getChildByName("audio_source").getComponent("SKAudio"),this.connected=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){"UPDATE_COIN"==t&&(EventManager.emit("UPDATE_COIN"),this.mainObj.UPDATE_COIN());var i=null;if("error"==t&&(cc.log("socket error"),this.mainObj.openAlert()),"connect_error"==t&&(cc.log("connect_error"),this.mainObj.openAlert()),"connect_timeout"==t&&(cc.log("connect_timeout"),this.mainObj.openAlert()),"disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),this.mainObj.openAlert()}"loginGameResult"==t&&(i=changeResultJSON_Function(e),cc.log("LoginGameResult:",i),this.connected=!0,1==i.resultid&&this.mainObj.setPool(i.Obj.nGamblingWinPool)),"lotteryResult"==t&&((i=changeResultJSON_Function(e)).ResultCode&&1==i.ResultCode?(this.mainObj.lotteryRes=JSON.parse(JSON.stringify(i.ResultData)),this.mainObj.roll(i.ResultData.viewarray.nHandCards)):(this.mainObj.status=0,this.mainObj.ksBtn.getComponent(cc.Button).interactable=!0)),"LoginRoomResult"==t&&(i=changeResultJSON_Function(e),cc.log("LoginRoomResult",i)),"LoginfreeCountResult"==t&&(i=changeResultJSON_Function(e),cc.log("LoginfreeCountResult",i),cc.find("Loading")&&(cc.find("Loading").active=!1)),"pushGamblingWinPool"==t&&(i=changeResultJSON_Function(e),cc.log("pushGamblingWinPool=>",i),1==i.ResultCode&&this.mainObj.refreshPool(i.nGamblingWinPool))},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],TempAnimation_superkeno:[function(t,e){"use strict";function i(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}cc._RF.push(e,"5e6bf0LxtpBrKW1a5/p4iP7","TempAnimation_superkeno"),cc.Class({extends:cc.Component,properties:{isSkeAnim:{default:!1,displayName:"\u9aa8\u9abc\u52a8\u753b\uff1f"},sketNode:{default:null,type:cc.Node,displayName:"\u9aa8\u9abc\u6570\u636e"},animArray:{default:[],type:cc.String,displayName:"\u52a8\u753b\u5217\u8868"}},onLoad:function(){},start:function(){if(this.isSkeAnim){if(this.sket=this.sketNode.getComponent(sp.Skeleton),!cc.isValid(this.sket))return;this.sket.timeScale=.5,this.stopAnim()}else this.anim=this.getComponent(cc.Animation)},playAnim:function(){if(this.isSkeAnim){if(!cc.isValid(this.sket))return;this.sket.clearTrack(0);for(var t,e=i(this.animArray);!(t=e()).done;){var n=t.value;this.sket.setAnimation(0,n,!0)}}else{if(!cc.isValid(this.anim))return;this.anim.play()}},stopAnim:function(){if(this.isSkeAnim){if(!cc.isValid(this.sket))return;this.sket.clearTracks()}else{if(!cc.isValid(this.anim))return;this.anim.setCurrentTime(0),this.anim.stop()}},onPlayAnimAudio:function(t){"string"==typeof t&&playEffect(t)}}),cc._RF.pop()},{}]},{},["SKAnimationAudio","SKAudio","SKMain","SKNetwork","TempAnimation_superkeno"]);