window.__require=function t(e,o,n){function r(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var p="function"==typeof __require&&__require;if(!a&&p)return p(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return r(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({S2101AudioSource:[function(t,e,o){"use strict";cc._RF.push(e,"073fe0b3jVFNpKLTa2Sa+s4","S2101AudioSource");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101EventType"),a=t("./S2101GameMgr"),s=cc._decorator,p=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audioList=[],e.soundIds={},e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){a.default.getIns.audio=this,cc.audioEngine.playMusic(this.audioList[0],!0),cc.director.on(c.default.SHOW_LABEL,this.playTwo,this),cc.director.on(c.default.SHOW_FREEANI,this.playFree,this),cc.director.on(c.default.SHOW_AWARDANI,this.playAward,this)},e.prototype.playTwo=function(){this.playSound(2)},e.prototype.playFree=function(){this.playSound(3)},e.prototype.playAward=function(){this.playSound(4)},e.prototype.playSound=function(t,e){void 0===e&&(e=!1);var o=cc.audioEngine.playEffect(this.audioList[t],e);this.soundIds[t]=o},e.prototype.stopSound=function(t){var e=this.soundIds[t];e&&cc.audioEngine.stopEffect(e)},e.prototype.onDestroy=function(){cc.audioEngine.stopMusic(),cc.audioEngine.stopAllEffects(),cc.director.off(c.default.SHOW_LABEL,this.playTwo,this),cc.director.off(c.default.SHOW_FREEANI,this.playFree,this),cc.director.off(c.default.SHOW_AWARDANI,this.playAward,this)},i([u({type:[cc.AudioClip],tooltip:"\u80cc\u666f\u97f3\u4e50\u53ca\u97f3\u6548"})],e.prototype,"audioList",void 0),i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr"}],S2101AwardAni:[function(t,e,o){"use strict";cc._RF.push(e,"dfbb7dw5mBCKqy2hpfHcbFH","S2101AwardAni");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},e.prototype.PlayOver=function(){this.node.active=!1},i([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],S2101AwardItem:[function(t,e,o){"use strict";cc._RF.push(e,"9fc9azutkJJIosfb783/bVQ","S2101AwardItem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101EventType"),a=t("./S2101GameMgr"),s=cc._decorator,p=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.aniNode=null,e.norLb=null,e.img=null,e.zsSF=null,e.freeSF=null,e.award7=null,e.awardYT=null,e.awardZS=null,e.sf7=null,e.sfYT=null,e.sfZS=null,e.awardAniNode=null,e.awardAniSprite=null,e.awardAni=null,e.aniImg=null,e.ani=null,e.type=0,e.playLb=!1,e}return r(e,t),e.prototype.onLoad=function(){this.aniImg=this.aniNode.getComponent(cc.Sprite),this.ani=this.aniNode.getComponent(cc.Animation),this.awardAniSprite=this.awardAniNode.getComponent(cc.Sprite),this.awardAni=this.awardAniNode.getComponent(cc.Animation),cc.director.on(c.default.SHOW_LABEL,this.showLbAni,this),cc.director.on(c.default.SHOW_AWARDANI,this.showAwardAni,this)},e.prototype.initData=function(t){if(t){this.type=t;var e=a.default.getIns.awardList[t],o=this.getCurLb();switch(o.stopAllActions(),o.scale=1,this.playLb=!1,this.norLb.node.stopAllActions(),this.img.node.stopAllActions(),this.norLb.node.opacity=255,this.img.node.opacity=255,t){case 10:this.img.node.active=!0,this.norLb.node.active=!1,this.img.spriteFrame=this.freeSF,this.ani.defaultClip=this.award7,this.aniImg.spriteFrame=this.sf7;break;case 1:this.img.node.active=!0,this.img.spriteFrame=this.zsSF,this.norLb.node.active=!1,this.ani.defaultClip=this.awardZS,this.aniImg.spriteFrame=this.sfZS;break;default:this.img.node.active=!1,this.norLb.node.active=!0,this.norLb.string=e.aw,this.ani.defaultClip=this.awardYT,this.aniImg.spriteFrame=this.sfYT}this.ani.stop(),this.awardAniSprite.enabled=!1,this.awardAni.stop()}},e.prototype.start=function(){this.awardAniNode.active=!1},e.prototype.getCurLb=function(){return this.norLb.node.active?this.norLb.node:this.img.node},e.prototype.showLbAni=function(t){if(t.getUserData()==this.type&&!this.playLb){var e=this.getCurLb(),o=cc.scaleTo(.5,1.2),n=cc.scaleTo(.5,1),r=cc.sequence(o,n),i=cc.repeatForever(r);e.runAction(i),this.playLb=!0}},e.prototype.showAwardAni=function(t){var e=t.getUserData();if(this.getCurLb().stopAllActions(),e==this.type){var o;switch(this.awardAniNode.active=!0,e){case 1:o=this.awardZS.name,this.aniImg.spriteFrame=this.zsSF,cc.log("\u94bb\u77f3\u5956\u52b1:"+o);break;case 10:o=this.award7.name,this.aniImg.spriteFrame=this.sf7;var n=a.default.getIns.getNotify(c.default.SHOW_FREEANI);cc.director.dispatchEvent(n),cc.log("777\u5956\u52b1:"+o);break;default:o=this.awardYT.name,this.aniImg.spriteFrame=this.sfYT,cc.log("\u6a31\u6843\u5956\u52b1:"+o)}if(this.awardAniSprite.enabled=!0,this.awardAni.play(),this.ani.play(o),10!=e){var r=this.getCurLb(),i=cc.blink(2,4),s=cc.fadeTo(0,255),p=cc.sequence(i,s);r.runAction(p)}}},e.prototype.onDestroy=function(){cc.director.off(c.default.SHOW_LABEL,this.showLbAni,this),cc.director.off(c.default.SHOW_AWARDANI,this.showAwardAni,this)},i([u(cc.Node)],e.prototype,"aniNode",void 0),i([u(cc.Label)],e.prototype,"norLb",void 0),i([u(cc.Sprite)],e.prototype,"img",void 0),i([u({type:cc.SpriteFrame,tooltip:"\u94bb\u77f3\u7cbe\u7075"})],e.prototype,"zsSF",void 0),i([u({type:cc.SpriteFrame,tooltip:"\u514d\u8d39\u7cbe\u7075"})],e.prototype,"freeSF",void 0),i([u({type:cc.AnimationClip,tooltip:"\u4e097\u52a8\u753b"})],e.prototype,"award7",void 0),i([u({type:cc.AnimationClip,tooltip:"\u6a31\u6843\u52a8\u753b"})],e.prototype,"awardYT",void 0),i([u({type:cc.AnimationClip,tooltip:"\u94bb\u77f3\u52a8\u753b"})],e.prototype,"awardZS",void 0),i([u({type:cc.SpriteFrame,tooltip:"\u4e097\u8d34\u56fe"})],e.prototype,"sf7",void 0),i([u({type:cc.SpriteFrame,tooltip:"\u6a31\u6843\u8d34\u56fe"})],e.prototype,"sfYT",void 0),i([u({type:cc.SpriteFrame,tooltip:"\u94bb\u77f3\u8d34\u56fe"})],e.prototype,"sfZS",void 0),i([u({type:cc.Node,tooltip:"\u4e2d\u5956\u52a8\u753b\u8282\u70b9"})],e.prototype,"awardAniNode",void 0),i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr"}],S2101BtnLock:[function(t,e,o){"use strict";cc._RF.push(e,"60898rXNjVKdKVpBqWMdOtj","S2101BtnLock");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){this.btnSprite=this.getComponentInChildren(cc.Sprite)},e.prototype.start=function(){},e.prototype.setState=function(t,e){void 0===e&&(e=!1);var o=29;2==t&&(o=-29),e?this.btnSprite.node.x=o:cc.tween(this.btnSprite.node).to(.05,{x:o}).start()},i([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],S2101ClickEvent:[function(t,e,o){"use strict";cc._RF.push(e,"656065Ch/5JTKSS0ffEgUFN","S2101ClickEvent");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101EventType"),a=t("./S2101GameMgr"),s=cc._decorator,p=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msgPrefab=null,e.payPrefab=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onBackHall=function(){a.default.getIns.audio.playSound(1),Common.backHall("Are you sure you want to leave the game?",function(){})},e.prototype.onOpenPayPanel=function(){if(a.default.getIns.audio.playSound(1),a.default.getIns.isLottery)a.default.getIns.cardVal>0?a.default.getIns.send(c.default.S_LOTTERY,"{}"):(this.payPanel||(this.payPanel=cc.instantiate(this.payPrefab)),this.node.getParent().addChild(this.payPanel));else{var t=a.default.getIns.getNotify(c.default.AUTO_SCRATCH_ONE);cc.director.dispatchEvent(t)}},e.prototype.onOpenMsgPanel=function(){a.default.getIns.audio.playSound(1),this.msgPanel||(this.msgPanel=cc.instantiate(this.msgPrefab)),this.node.getParent().addChild(this.msgPanel)},e.prototype.onDestroy=function(){},i([u({type:cc.Prefab,tooltip:"\u500d\u7387\u4fe1\u606f\u9762\u677f"})],e.prototype,"msgPrefab",void 0),i([u({type:cc.Prefab,tooltip:"\u8d2d\u4e70\u9762\u677f"})],e.prototype,"payPrefab",void 0),i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr"}],S2101ClosePanel:[function(t,e,o){"use strict";cc._RF.push(e,"0ed2fCY3v1DWadWWSnoJBgd","S2101ClosePanel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101GameMgr"),a=cc._decorator,s=a.ccclass,p=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onClose,this)},e.prototype.onClose=function(){c.default.getIns.audio.playSound(1),this.node.getParent().removeFromParent()},e.prototype.onDisable=function(){this.removeEvent()},e.prototype.removeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onClose,this)},e.prototype.onDestroy=function(){this.removeEvent()},i([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./S2101GameMgr":"S2101GameMgr"}],S2101Component:[function(t,e,o){"use strict";cc._RF.push(e,"59782jkrUdN8oKypmHwXCd/","S2101Component");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=(i.ccclass,i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getNode=function(t){var e,o=t.split("/");if(o.length>1){e=this.node;for(var n=0,r=o;n<r.length;n++){var i=r[n];e=e.getChildByName(i)}}else e=this.node.getChildByName(t);return e},e}(cc.Component));o.default=c,cc._RF.pop()},{}],S2101CtrlUI:[function(t,e,o){"use strict";cc._RF.push(e,"8b75aOMpdhOmqO71eedKXh/","S2101CtrlUI");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101EventType"),a=t("./S2101GameMgr"),s=t("./S2101Scratch"),p=cc._decorator,u=p.ccclass,l=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goldNode=null,e.cardNode=null,e.totleLb=null,e.curLb=null,e.btnPaySprite=null,e.txtPay=null,e.txtAutoScratch=null,e.txtNext=null,e.btnStopSprite=null,e.txtAuto=null,e.txtStop=null,e.scratchNode=null,e.setPanel=null,e.autoIng=!1,e}return r(e,t),e.prototype.onLoad=function(){this.mgr=a.default.getIns,this.mgr.enterGame(),this.scratchScript=this.scratchNode.getComponent(s.default),cc.director.on(c.default.B_LOGIN,this.loginBack,this),cc.director.on(c.default.B_PAY,this.payBack,this),cc.director.on(c.default.B_LOTTERY,this.lotteryBack,this),this.goldLb=this.goldNode.getComponent("S2101CustomLabel"),this.cardLb=this.cardNode.getComponent("S2101CustomLabel"),this.setPanel.active=!1},e.prototype.start=function(){cc.director.on(c.default.UPDATE_UI,this.updateUI,this)},e.prototype.updateUI=function(){a.default.getIns.isLottery=!0,this.mgr.cardVal<=0?(this.goldLb.string=(this.mgr.score+this.mgr.totalWin)/100+"",this.totleLb.string="0"):(this.goldLb.string=this.mgr.score/100+"",this.totleLb.string=this.mgr.totalWin/100+""),this.cardLb.string=this.mgr.cardVal.toString(),this.curLb.string=this.mgr.curWin/100+"",this.changeBtnState(),this.autoIng&&this.scheduleOnce(function(){a.default.getIns.cardVal>0&&a.default.getIns.send(c.default.S_LOTTERY,"{}")},2)},e.prototype.onShowSetting=function(){a.default.getIns.audio.playSound(1),this.setPanel.active=!0},e.prototype.changeBtnState=function(){this.mgr.cardVal>0?(this.btnPaySprite.spriteFrame=this.txtNext,this.btnStopSprite.node.parent.active=!0,this.autoIng?this.btnStopSprite.spriteFrame=this.txtStop:this.btnStopSprite.spriteFrame=this.txtAuto):(this.btnPaySprite.spriteFrame=this.txtPay,this.btnStopSprite.node.parent.active=!1)},e.prototype.onAutoPlay=function(){a.default.getIns.audio.playSound(1),this.autoIng=!this.autoIng,this.autoIng?(this.btnStopSprite.spriteFrame=this.txtStop,a.default.getIns.isLottery?a.default.getIns.send(c.default.S_LOTTERY,"{}"):this.scratchScript.autoPlay()):this.btnStopSprite.spriteFrame=this.txtAuto},e.prototype.autoPlayOnce=function(){a.default.getIns.audio.playSound(1),this.scratchScript.autoPlay()},e.prototype.resetScratch=function(){this.scratchScript.clearScratch()},e.prototype.payBack=function(){this.updateUI()},e.prototype.loginBack=function(){this.goldLb.string=this.mgr.score/100+"",this.cardLb.string=this.mgr.cardVal.toString(),this.changeBtnState(),this.totleLb.string="0.00",this.curLb.string="0.00"},e.prototype.lotteryBack=function(){this.resetScratch(),this.btnPaySprite.spriteFrame=this.txtAutoScratch,a.default.getIns.isFreePlay()?this.cardLb.string=(this.mgr.cardVal-1).toString():this.cardLb.string=this.mgr.cardVal.toString(),this.scratchScript.setAwardLayout(),this.autoIng&&this.scratchScript.autoPlay()},e.prototype.onDestroy=function(){cc.director.off(c.default.B_LOGIN,this.loginBack,this),cc.director.off(c.default.B_PAY,this.payBack,this),cc.director.off(c.default.B_LOTTERY,this.lotteryBack,this),cc.director.off(c.default.UPDATE_UI,this.updateUI,this)},i([l({type:cc.Node,tooltip:"\u91d1\u5e01\u6570\u91cf"})],e.prototype,"goldNode",void 0),i([l({type:cc.Node,tooltip:"\u5361\u7247\u6570\u91cf"})],e.prototype,"cardNode",void 0),i([l({type:cc.Label,tooltip:"\u603b\u79ef\u5206"})],e.prototype,"totleLb",void 0),i([l({type:cc.Label,tooltip:"\u5f53\u524d\u79ef\u5206"})],e.prototype,"curLb",void 0),i([l({type:cc.Sprite,tooltip:"\u8d2d\u4e70/\u81ea\u52a8\u522e\u5361\u6309\u94ae\u56fe\u7247"})],e.prototype,"btnPaySprite",void 0),i([l({type:cc.SpriteFrame,tooltip:"\u8d2d\u4e70\u63d0\u793a\u56fe\u7247"})],e.prototype,"txtPay",void 0),i([l({type:cc.SpriteFrame,tooltip:"\u81ea\u52a8\u522e\u5361\u63d0\u793a\u56fe\u7247"})],e.prototype,"txtAutoScratch",void 0),i([l({type:cc.SpriteFrame,tooltip:"\u522e\u5361\u63d0\u793a\u56fe\u7247"})],e.prototype,"txtNext",void 0),i([l({type:cc.Sprite,tooltip:"\u81ea\u52a8/\u6682\u505c\u522e\u5361\u63d0\u793a\u56fe\u7247"})],e.prototype,"btnStopSprite",void 0),i([l({type:cc.SpriteFrame,tooltip:"\u81ea\u52a8\u522e\u5361\u63d0\u793a\u56fe\u7247"})],e.prototype,"txtAuto",void 0),i([l({type:cc.SpriteFrame,tooltip:"\u6682\u505c\u81ea\u52a8\u522e\u5361\u63d0\u793a\u56fe\u7247"})],e.prototype,"txtStop",void 0),i([l({type:cc.Node,tooltip:"\u522e\u5361\u8282\u70b9"})],e.prototype,"scratchNode",void 0),i([l({type:cc.Node,tooltip:"\u8bbe\u7f6e\u9762\u677f"})],e.prototype,"setPanel",void 0),i([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr","./S2101Scratch":"S2101Scratch"}],S2101CustomLabel:[function(t,e,o){"use strict";cc._RF.push(e,"e1b79xXP9xGhZkAxvuk3SrH","S2101CustomLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.Enum({LEFT:0,CENTER:1,RIGHT:2}),r=cc.Class({editor:!1,extends:cc.Component,properties:{_layout:{get:function(){var t=this.node.getComponent(cc.Layout);return t||((t=this.node.addComponent(cc.Layout)).type=1),t}},string:{default:"",notify:function(){this._updateWordArt()}},alignType:{type:n,default:n.CENTER,notify:function(){this._checkAnchorX()}},defaultNames:{default:",g"},spriteAtlas:{type:cc.SpriteAtlas,default:null}},onLoad:function(){this._checkAnchorX()},_checkAnchorX:function(){this.alignType===n.CENTER?this.node.anchorX=.5:this.node.anchorX=this.alignType===n.RIGHT?1:0},_updateWordArt:function(){if(!this.spriteAtlas)return cc.log("\u65e0\u6548\u7684 spriteAtlas \u56fe\u96c6\u8d44\u6e90\uff01");this._names=this.defaultNames.split(","),this.setWordArt()},setWordArt:function(){try{for(var t=(""+this.string).split(""),e=this.node.children,o=0,r=0;r<t.length||r<e.length;r++){var i=e[r];if(i||((c=(i=new cc.Node).addComponent(cc.Sprite)).trim=!1,c.sizeMode=cc.Sprite.SizeMode.RAW,c.type=cc.Sprite.Type.SIMPLE),i.parent||(i.parent=this.node),i.active=r<t.length,i.active){var c=i.getComponent(cc.Sprite),a=t[this.alignType!==n.CENTER?t.length-1-r:r];if("."===a&&(a="_"),a=this._names[0]+a,this._names[1]&&(a+=this._names[1]),void 0===a)return void cc.log("\u56fe\u96c6\u8d44\u6e90spriteAtlas \u627e\u4e0d\u5230\u56fe\u7247\u540d\u79f0\uff1a"+a+"\uff01");c.spriteFrame=this.spriteAtlas.getSpriteFrame(""+a),o+=i.width}}o+=(t.length+1)*this._layout.spacingX,this._layout.paddingLeft=this._layout.spacingX,this._layout.paddingRight=this._layout.spacingX,this.node.width=o,this.alignType===n.RIGHT&&(this._layout.horizontalDirection=1),this.alignType===n.LEFT&&(this._layout.horizontalDirection=1),this.alignType===n.CENTER&&(this._layout.horizontalDirection=0)}catch(s){cc.log(s)}}});o.default=r,cc._RF.pop()},{}],S2101EventType:[function(t,e,o){"use strict";cc._RF.push(e,"014afeBYk9P66PstCCx4yS9","S2101EventType"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.S_LOGIN="loginGame",t.B_LOGIN="loginData",t.S_PAY="buyScratch",t.B_PAY="buyData",t.S_LOTTERY="lottery",t.B_LOTTERY="backLottery",t.UPDATE_UI="UpdateUI",t.CHANGE_PAYDATA="ChangePayData",t.SHOW_LABEL="ShowLabel",t.SCRATCH_OVER="Scratch_Over",t.SHOW_AWARDANI="Show_AwardAni",t.SHOW_FREEANI="Show_FreeAni",t.AUTO_SCRATCH_ONE="Auto_Scratch_One",t.UPDATE_COIN="Update_Coin",t}();o.default=n,cc._RF.pop()},{}],S2101GameInfo:[function(t,e,o){"use strict";cc._RF.push(e,"56313oV/NFC7b9MGWpkQGXj","S2101GameInfo");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101Component"),a=t("./S2101GameMgr"),s=t("./S2101MsgItem"),p=cc._decorator,u=p.ccclass,l=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.msgItem=null,e}return r(e,t),e.prototype.onLoad=function(){},e.prototype.onCloseSelf=function(){a.default.getIns.audio.playSound(1),this.node.removeFromParent()},e.prototype.start=function(){for(var t=a.default.getIns.awardList,e=1;e<t.length;e++){var o=t[e],n=cc.instantiate(this.msgItem);this.getNode("panelBG").addChild(n),n.y=-170-50*(e-1),n.getComponent(s.default).initData(o)}},i([l({type:cc.Prefab})],e.prototype,"msgItem",void 0),i([u],e)}(c.default);o.default=d,cc._RF.pop()},{"./S2101Component":"S2101Component","./S2101GameMgr":"S2101GameMgr","./S2101MsgItem":"S2101MsgItem"}],S2101GameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"085d9+e12ZDQb0nsSeiwP0d","S2101GameMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.AwardData=void 0;var n=t("./S2101EventType"),r=function(t,e,o){this.id=t,this.pa=e,this.aw=o};o.AwardData=r;var i=function(){function t(){this.notifyPool=[],this.awardList=[],this.totalWin=0,this.curWin=0,this.awardResult=[],this.isLottery=!0,this.musicOn=!0,this.soundOn=!0,this.subGameMgr=GameConfig.SubGameMgr,this.awardList=[null,new r(1,"1","100,000"),new r(2,"10","10,000"),new r(3,"50","2,000"),new r(4,"200","1,000"),new r(5,"1,000","200"),new r(6,"8,000","100"),new r(7,"50,000","20"),new r(8,"500,000","5"),new r(9,"1,000,000","2"),new r(10,"1,500,000","freeplay")]}return Object.defineProperty(t,"getIns",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.getNotify=function(t,e,o){var n;return void 0===o&&(o=!0),(n=new cc.Event.EventCustom(t,o)).setUserData(e),n},t.prototype.recoverNotify=function(t){t.type="",t.setUserData(null),this.notifyPool.push(t)},t.prototype.isFreePlay=function(){for(var t=0,e=0,o=this.awardResult;e<o.length;e++)10==o[e]&&t++;return t>=3},t.prototype.getAwardCode=function(t){var e=0;return this.awardResult.length>t&&(e=this.awardResult[t]),e},t.prototype.haveAward=function(){for(var t={},e=0,o=this.awardResult;e<o.length;e++)t[r=o[e]]||(t[r]=0),t[r]++;var n=[];for(var r in n[0]=[],n[1]=[],t)t[r]>=2&&n[0].push(r),t[r]>=3&&n[1].push(r);return n},t.prototype.enterGame=function(){this.subGameMgr.subGameNet=this,this.loginDone=!1,this.subGameMgr.sendGameData(t.gameId,n.default.S_LOGIN,"{}")},t.prototype.addNetEvent=function(t,e){var o,r=JSON.parse(e);switch(t){case"loginGameResult":this.score=r.Obj.score,this.cardVal=r.Obj.cardcnt,this.curWin=r.Obj.win,this.totalWin=r.Obj.totalWin,this.loginDone=!0,o=n.default.B_LOGIN;break;case"buyScratchResult":o=n.default.B_PAY,this.score=r.score_after,this.cardVal=r.cardcnt;break;case"lotteryResult":o=n.default.B_LOTTERY,this.isLottery=!1,this.awardResult=r.ResultData,this.cardVal=r.cardcnt,this.curWin=r.win,this.totalWin=r.totalWin}var i=this.getNotify(o);cc.director.dispatchEvent(i)},t.prototype.setMusic=function(){this.musicOn=!this.musicOn,this.musicOn?cc.audioEngine.setMusicVolume(1):cc.audioEngine.setMusicVolume(0)},t.prototype.setSound=function(){this.soundOn=!this.soundOn,this.soundOn?cc.audioEngine.setEffectsVolume(1):cc.audioEngine.setEffectsVolume(0)},t.prototype.send=function(e,o){this.loginDone&&this.subGameMgr.sendGameData(t.gameId,e,o)},t.gameId="2101",t}();o.default=i,cc._RF.pop()},{"./S2101EventType":"S2101EventType"}],S2101Grid:[function(t,e,o){"use strict";cc._RF.push(e,"2cf24K0DMpOvoT2vtMIshni","S2101Grid");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101EventType"),a=t("./S2101GameMgr"),s=cc._decorator,p=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.size=70,e.gridImg=null,e.isTouch=!1,e.scratchOver=!1,e.gridCount=10,e.gridList={},e}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegin,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.passGrid,this)},e.prototype.onTouchBegin=function(){this.isTouch=!0},e.prototype.onTouchEnd=function(){this.isTouch=!1},e.prototype.start=function(){for(var t=0;t<144;t++){var e=Math.floor(t/12),o=t%12,n=cc.instantiate(this.gridImg),r=cc.Color.BLACK;r=e%2==0?t%2==0?cc.Color.BLACK:cc.Color.WHITE:t%2==0?cc.Color.WHITE:cc.Color.BLACK,n.color=r,n.name=t.toString(),n.width=this.size,n.height=this.size,this.node.addChild(n),n.x=o*this.size,n.y=-e*this.size,0!=e&&4!=e&&8!=e&&3!=o&&7!=o&&8!=o?(this.gridCount++,this.gridList[n.name]={node:n,state:!1,pos:[e+1,o+1]}):n.color=cc.Color.GRAY,n.getComponentInChildren(cc.Label).string=e+1+"_"+(o+1)}},e.prototype.initData=function(){var t,e,o,n,r,i,c,a,s,p,u;this.overGrid=((t={})[0]=!1,t[1]=!1,t[2]=!1,t[3]=!1,t[4]=!1,t[5]=!1,t[6]=!1,t[7]=!1,t[8]=!1,t),this.awardTxtGrids=((e={})[0]=((o={})[36]=!1,o[37]=!1,o[38]=!1,o),e[1]=((n={})[40]=!1,n[41]=!1,n[42]=!1,n),e[2]=((r={})[45]=!1,r[46]=!1,r[47]=!1,r),e[3]=((i={})[84]=!1,i[85]=!1,i[86]=!1,i),e[4]=((c={})[88]=!1,c[89]=!1,c[90]=!1,c),e[5]=((a={})[93]=!1,a[94]=!1,a[95]=!1,a),e[6]=((s={})[132]=!1,s[133]=!1,s[134]=!1,s),e[7]=((p={})[136]=!1,p[137]=!1,p[138]=!1,p),e[8]=((u={})[141]=!1,u[142]=!1,u[143]=!1,u),e)},e.prototype.passGrid=function(t){if(this.isTouch&&!this.scratchOver){var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e);o.y*=-1;var n=null;for(var r in this.gridList)if(Object.prototype.hasOwnProperty.call(this.gridList,r)){var i=(d=this.gridList[r]).node.width*d.pos[1],s=d.node.height*d.pos[0];if(i>o.x&&o.x>i-d.node.width&&s>o.y&&o.y>s-d.node.height){n=d.node;break}}if(!n)return;this.gridList[n.name].state=!0;var p=!1,u=void 0;for(var l in this.awardTxtGrids){var d=this.awardTxtGrids[l];for(var h in d)if(h==n.name){d[h]=!0,u=l,p=!0;break}if(p)break}if(p){d=this.awardTxtGrids[u];var f=!0;for(var h in d)if(!d[h]){f=!1;break}if(f){this.overGrid[u]=!0;var y=a.default.getIns.getAwardCode(Number(u)),g=this.findSame(y);if(g>=3){(v=a.default.getIns.getNotify(c.default.SHOW_AWARDANI)).setUserData(y),cc.director.dispatchEvent(v);var _=a.default.getIns.getNotify(c.default.SCRATCH_OVER);cc.director.dispatchEvent(_),this.scratchOver=!0}else if(2==g){var v;(v=a.default.getIns.getNotify(c.default.SHOW_LABEL)).setUserData(y),cc.director.dispatchEvent(v)}}}}},e.prototype.findSame=function(t){var e=0;for(var o in this.overGrid){var n=a.default.getIns.getAwardCode(Number(o)),r=this.overGrid[o];n==t&&r&&e++}return e},e.prototype.clearState=function(){for(var t in this.initData(),this.scratchOver=!1,this.gridList)this.gridList[t].state=!1},e.prototype.touchProgress=function(){var t=0;for(var e in this.gridList)this.gridList[e].state&&t++;return t/this.gridCount},i([u({type:cc.Integer})],e.prototype,"size",void 0),i([u({type:cc.Prefab})],e.prototype,"gridImg",void 0),i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr"}],S2101MsgItem:[function(t,e,o){"use strict";cc._RF.push(e,"c6d73Bvuc5AKZ3lqIGZVr89","S2101MsgItem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101Component"),a=cc._decorator,s=a.ccclass,p=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uid=null,e.prizes=null,e.award=null,e}return r(e,t),e.prototype.onLoad=function(){this.uid=this.getNode("uid").getComponent(cc.Label),this.prizes=this.getNode("prizes").getComponent(cc.Label),this.award=this.getNode("award").getComponent(cc.Label)},e.prototype.initData=function(t){this.uid.string=t.id.toString(),this.prizes.string=t.pa,this.award.string=t.aw},e.prototype.start=function(){},i([s],e)}(c.default));o.default=p,cc._RF.pop()},{"./S2101Component":"S2101Component"}],S2101PayData:[function(t,e,o){"use strict";cc._RF.push(e,"4a382yR1ZlF1L1htc4iL9En","S2101PayData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e,o){this.save=0,this.price=10,this.num=t,this.save=e,this.price=o}return Object.defineProperty(t.prototype,"numStr",{get:function(){var t=" game";return this.num>1&&(t+="s"),this.num+t},enumerable:!1,configurable:!0}),t}();o.default=n,cc._RF.pop()},{}],S2101PayItem:[function(t,e,o){"use strict";cc._RF.push(e,"bc977pmf/5IpbeRgDvDBmou","S2101PayItem");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101Component"),a=t("./S2101EventType"),s=t("./S2101GameMgr"),p=cc._decorator,u=p.ccclass,l=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numLb=null,e.saveLb=null,e.priceLb=null,e.tg=null,e}return r(e,t),e.prototype.onLoad=function(){this.numLb=this.getNode("numLb"),this.saveLb=this.getNode("saveLb"),this.priceLb=this.getNode("priceLb").getComponent(cc.Label),this.tg=this.node.getComponent(cc.Toggle),this.tg.node.on("toggle",this.onToggleChoose,this)},e.prototype.onToggleChoose=function(){var t=s.default.getIns.getNotify(a.default.CHANGE_PAYDATA);t.setUserData(this.data),this.node.dispatchEvent(t)},e.prototype.initData=function(t){this.data=t;var e=this.numLb.getComponent(cc.Label);if(e.string=t.numStr,t.save>0){var o=100*t.save+"%";this.saveLb.getComponent(cc.Label).string="(save "+o+")",this.saveLb.active=!0}else this.saveLb.active=!1;e._forceUpdateRenderData(),this.saveLb.x=this.numLb.x+this.numLb.width+20,this.priceLb.string="$"+(t.price*(1-t.save)).toFixed(2)},e.prototype.start=function(){},e.prototype.onDestroy=function(){},i([u],e)}(c.default));o.default=l,cc._RF.pop()},{"./S2101Component":"S2101Component","./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr"}],S2101Pay:[function(t,e,o){"use strict";cc._RF.push(e,"3b325CChlRAJJTLB9hFvgXF","S2101Pay");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101Component"),a=t("./S2101EventType"),s=t("./S2101GameMgr"),p=t("./S2101PayData"),u=t("./S2101PayItem"),l=cc._decorator,d=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.layerTg=null,e}return r(e,t),e.prototype.onLoad=function(){for(var t=[new p.default(1,0,1),new p.default(5,0,5),new p.default(10,0,10),new p.default(25,.05,25),new p.default(50,.1,50)],e=this.layerTg.children.length,o=0;o<e||o<t.length;o++){var n=cc.instantiate(this.item);n.parent=this.layerTg,n.active=!!t[o],t[o]&&n.getComponent(u.default).initData(t[o])}this.curData=t[0]},e.prototype.start=function(){this.node.on(a.default.CHANGE_PAYDATA,this.changePayData,this)},e.prototype.changePayData=function(t){var e=t.getUserData();this.curData=e},e.prototype.onSendPay=function(){if(s.default.getIns.audio.playSound(1),!(s.default.getIns.cardVal>0)){var t={cardIdx:this.curData.num};s.default.getIns.send(a.default.S_PAY,JSON.stringify(t)),this.node.removeFromParent()}},i([h({type:cc.Prefab,tooltip:"\u8d2d\u4e70\u9009\u9879"})],e.prototype,"item",void 0),i([h({type:cc.Node,tooltip:"toggle\u7236\u8282\u70b9"})],e.prototype,"layerTg",void 0),i([d],e)}(c.default);o.default=f,cc._RF.pop()},{"./S2101Component":"S2101Component","./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr","./S2101PayData":"S2101PayData","./S2101PayItem":"S2101PayItem"}],S2101Scratch:[function(t,e,o){"use strict";cc._RF.push(e,"e0659TnRCFB1pwZNrfe1QbC","S2101Scratch");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101AwardItem"),a=t("./S2101Component"),s=t("./S2101EventType"),p=t("./S2101GameMgr"),u=t("./S2101Grid"),l=cc._decorator,d=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.myMask=null,e.maskBG=null,e.grid=null,e.size=40,e.awardItem=null,e.freeNode=null,e.scratchDone=!1,e.isAutoPlay=!1,e.maskHeight=0,e}return r(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchBegin,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.awardNode=this.getNode("awardNode"),this.gridScript=this.grid.getComponent(u.default);for(var t=0;t<9;t++){var e=cc.instantiate(this.awardItem);e.name="award"+t,this.awardNode.addChild(e);var o=Math.ceil(10*Math.random());e.getComponent(c.default).initData(o)}},e.prototype.setAwardLayout=function(){for(var t=this.awardNode.childrenCount,e=0;e<t;e++){var o=this.awardNode.children[e].getComponent(c.default);if(o instanceof c.default){var n=p.default.getIns.getAwardCode(e);o.initData(n)}}},e.prototype.onEnable=function(){this.freeNode.active=!1,cc.director.on(s.default.SCRATCH_OVER,this.scratchOver,this),cc.director.on(s.default.SHOW_FREEANI,this.showFreeAni,this),cc.director.on(s.default.AUTO_SCRATCH_ONE,this.autoPlayOnce,this)},e.prototype.autoPlayOnce=function(){this.autoPlay()},e.prototype.start=function(){this.clearMask()},e.prototype.onTouchBegin=function(t){var e=t.touch.getLocation();e=this.node.convertToNodeSpaceAR(e),this.addCircle(e)},e.prototype.onTouchMoved=function(t){var e=t.touch.getLocation();e=this.node.convertToNodeSpaceAR(e),this.addCircle(e)},e.prototype.onTouchEnd=function(t){var e=t.touch.getLocation();e=this.node.convertToNodeSpaceAR(e),this.addCircle(e)},e.prototype.addCircle=function(t){var e=this.getGraphics();e.circle(t.x,t.y,this.size),e.fill(),this.gridScript.touchProgress()>=.8&&!this.scratchDone&&(this.scratchDone=!0,cc.log("\u624b\u52a8\u64e6\u9664\u5b8c\u6210"),this.autoScratchDone())},e.prototype.getGraphics=function(){return this.myMask._graphics},e.prototype.autoPlay=function(){this.isAutoPlay=!0},e.prototype.update=function(t){if(this.isAutoPlay){var e=this.maskBG.height*t;this.maskHeight+=e;var o=this.getGraphics();o.rect(0,0,this.maskBG.width,-this.maskHeight),o.fill(),this.maskHeight>=this.maskBG.height&&(this.isAutoPlay=!1,cc.log("\u81ea\u52a8\u64e6\u9664\u5b8c\u6210"),this.autoScratchDone())}},e.prototype.autoScratchDone=function(){this.scratchOver();for(var t=this.awardNode.childrenCount,e=p.default.getIns.haveAward(),o=0;o<t;o++){var n=this.awardNode.children[o].getComponent(c.default);if(n instanceof c.default){var r=n.type;if(-1!=e[1].indexOf(r.toString()))(i=p.default.getIns.getNotify(s.default.SHOW_AWARDANI)).setUserData(r),cc.director.dispatchEvent(i);else if(-1!=e[0].indexOf(r.toString())){var i;(i=p.default.getIns.getNotify(s.default.SHOW_LABEL)).setUserData(r),cc.director.dispatchEvent(i)}}}},e.prototype.showFreeAni=function(){this.freeNode.active=!0,this.freeNode.getComponent(cc.Animation).play("free")},e.prototype.clearScratch=function(){this.scratchDone=!1,this.maskHeight=0,this.gridScript.clearState(),this.getGraphics().clear()},e.prototype.clearMask=function(){var t=this.getGraphics();t.rect(0,0,this.maskBG.width,-this.maskBG.height),t.fill()},e.prototype.scratchOver=function(){this.clearMask();var t=p.default.getIns.getNotify(s.default.UPDATE_UI);cc.director.dispatchEvent(t)},e.prototype.onDestroy=function(){cc.director.off(s.default.SCRATCH_OVER,this.scratchOver,this),cc.director.off(s.default.SHOW_FREEANI,this.showFreeAni,this),cc.director.off(s.default.AUTO_SCRATCH_ONE,this.autoPlayOnce,this)},i([h(cc.Mask)],e.prototype,"myMask",void 0),i([h(cc.Node)],e.prototype,"maskBG",void 0),i([h({type:cc.Node,tooltip:"\u76d1\u89c6\u7f51\u683c\u8282\u70b9"})],e.prototype,"grid",void 0),i([h({tooltip:"\u522e\u5361\u8def\u5f84\u5927\u5c0f",min:20,max:200})],e.prototype,"size",void 0),i([h({type:cc.Prefab,tooltip:"\u4e34\u65f6\u4f7f\u7528"})],e.prototype,"awardItem",void 0),i([h({type:cc.Node,tooltip:"\u514d\u8d39\u73a9\u4e00\u6b21\u7684\u52a8\u753b\u8282\u70b9"})],e.prototype,"freeNode",void 0),i([d],e)}(a.default);o.default=f,cc._RF.pop()},{"./S2101AwardItem":"S2101AwardItem","./S2101Component":"S2101Component","./S2101EventType":"S2101EventType","./S2101GameMgr":"S2101GameMgr","./S2101Grid":"S2101Grid"}],S2101SetPanel:[function(t,e,o){"use strict";cc._RF.push(e,"6ef2fqUi+1NRpWYPViPl4Qs","S2101SetPanel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./S2101BtnLock"),a=t("./S2101GameMgr"),s=cc._decorator,p=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sound=null,e.music=null,e}return r(e,t),e.prototype.onMusic=function(){a.default.getIns.audio.playSound(1),a.default.getIns.setMusic();var t=2;a.default.getIns.musicOn&&(t=1),this.music.getComponent(c.default).setState(t)},e.prototype.onSound=function(){a.default.getIns.audio.playSound(1),a.default.getIns.setSound();var t=2;a.default.getIns.soundOn&&(t=1),this.sound.getComponent(c.default).setState(t)},e.prototype.onClosePanel=function(){a.default.getIns.audio.playSound(1),this.node.active=!1},i([u({type:cc.Sprite,tooltip:"\u97f3\u6548\u6309\u94ae"})],e.prototype,"sound",void 0),i([u({type:cc.Sprite,tooltip:"\u97f3\u4e50\u6309\u94ae"})],e.prototype,"music",void 0),i([p],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./S2101BtnLock":"S2101BtnLock","./S2101GameMgr":"S2101GameMgr"}]},{},["S2101AudioSource","S2101AwardAni","S2101AwardItem","S2101BtnLock","S2101ClickEvent","S2101ClosePanel","S2101Component","S2101CtrlUI","S2101CustomLabel","S2101EventType","S2101GameInfo","S2101GameMgr","S2101Grid","S2101MsgItem","S2101Pay","S2101PayData","S2101PayItem","S2101Scratch","S2101SetPanel"]);