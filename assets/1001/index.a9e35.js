window.__require=function t(e,n,i){function a(s,c){if(!n[s]){if(!e[s]){var l=s.split("/");if(l=l[l.length-1],!e[l]){var r="function"==typeof __require&&__require;if(!c&&r)return r(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){return a(e[s][1][t]||t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<i.length;s++)a(i[s]);return a}({PTSantaAddCoins:[function(t,e){"use strict";cc._RF.push(e,"7f1202dC/1AFJiC7l8M63SA","PTSantaAddCoins");var n=t("PTSantaEventConfig"),i=t("PTSantaUserData"),a=t("PTSantaGameData"),o=t("PTSantaEventManager");t("PTSantaUtil"),t("PlayerInfo"),cc.Class({extends:cc.Component,onLoad:function(){this.initAddCoins()},initAddCoins:function(){var t=this;cc.find("mask",this.node).on("click",this.onClickHideAddCoins,this);var e=cc.find("nodeAdd",this.node);this.labelWinning=cc.find("pnlGameWin/labWin",e).getComponent(cc.Label);var n=[this.onClickAddCoins1,this.onClickAddCoins10,this.onClickAddCoins50,this.onClickAddCoins100,this.onClickAddCoinsAll];this.btnAddGroup=[];for(var a=1;a<=5;a++){var o=cc.find("pnlGroup/item"+a,e);o.on("click",n[a-1],this),this.btnAddGroup.push(o)}i.Bundle.load("resources/image/gamepop",cc.SpriteAtlas,function(n,i){if(!n&&t){cc.find("imgBg",e).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("checkbox_0"),cc.find("pnlGroup",e).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("commonBtn");for(var a=0;a<t.btnAddGroup.length;a++)t.btnAddGroup[a].getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("checkbox_0")}})},onClickHideAddCoins:function(){o.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){},chargeSum:function(t){o.emit(n.PLAY_AUDIO_EF,"btnShow"),this.node.active=!1;var e=0==t?{}:{sum:t};o.emit(n.ADD_USER_COINS,e)},onChangeGameMode:function(){i.GameMode==a.GAME_MODE.FREE&&(this.node.active=!1)},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.SHOW_ADD_USER_COINS,this.showAddCoins,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTSantaAudio:[function(t,e){"use strict";var n;cc._RF.push(e,"546f7MBZBZHqpis3qaivVCM","PTSantaAudio");var i=t("PTSantaEventConfig"),a=t("PTSantaEventManager"),o=t("PTSantaUserData"),s=t("PTSantaUtil");cc.Class({extends:cc.Component,properties:(n={bgmAudio:{type:cc.AudioClip,default:[]},btnShow:cc.AudioClip,btnHide:cc.AudioClip,rollOver:cc.AudioClip,BetButton:cc.AudioClip,FastSpeedButton:cc.AudioClip,LineButton:cc.AudioClip,MaxBetButton:cc.AudioClip,WinLine:cc.AudioClip,SpinButton:cc.AudioClip,StopButton:cc.AudioClip,enterFree:cc.AudioClip,waitBonus:cc.AudioClip,lineAudio:{type:cc.AudioClip,default:[]},itemAudio:{type:cc.AudioClip,default:[]},rollAudio:{type:cc.AudioClip,default:[]},bonus:cc.AudioClip,bonus_end1:cc.AudioClip,bonus_end3:cc.AudioClip,bonus_game:cc.AudioClip,bonus1:cc.AudioClip,free_end1:cc.AudioClip,fs_wildwin:cc.AudioClip,fs_win:cc.AudioClip,gift_box:cc.AudioClip,Jow:cc.AudioClip,Mega:cc.AudioClip,Megaend:cc.AudioClip,Mini:cc.AudioClip,Nice:cc.AudioClip,Niceend:cc.AudioClip,Santa_Claus:cc.AudioClip,scatter_1:cc.AudioClip,scatter_2:cc.AudioClip,Superb:cc.AudioClip,Superbend:cc.AudioClip},n.waitBonus=cc.AudioClip,n.Wild_win=cc.AudioClip,n.Win=cc.AudioClip,n.Win_end=cc.AudioClip,n),onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&this.bgmAudio[t.id]&&(this.bgmID=t.id,o.BGAM_ID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},callAudioPlayEff:function(t){return cc.audioEngine.playEffect(t)},playEf:function(t){0!=this.pInfo.soundEffectControl&&(this[t]?this.audioID[t]=this.callAudioPlayEff(this[t]):"rollSound"!=t?cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",t):this.audioID[t]=this.playRollEffect())},playRollEffect:function(){var t=s.getRandID(0,this.rollAudio.length-1);if(this.rollAudio[t])return this.callAudioPlayEff(this.rollAudio[t])},playLineEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.lineAudio[t]?this.callAudioPlayEff(this.lineAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bLineEffect :",t))},playItemEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.itemAudio[t]?this.callAudioPlayEff(this.itemAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bItemEffect :",t))},stopAudioEf:function(t){this.audioID[t]&&cc.audioEngine.stopEffect(this.audioID[t])},stopMusic:function(){cc.audioEngine.stopMusic()},onEnable:function(){a.addEventListener(i.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),a.addEventListener(i.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),a.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),a.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),a.addEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),a.addEventListener(i.STOP_AUDIO,this.stopAudio,this),a.addEventListener(i.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTSantaAuto:[function(t,e){"use strict";cc._RF.push(e,"e0703Ww+shFhqpMkh+P/A5z","PTSantaAuto");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaUserData");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI()},loadUI:function(){var t=this,e=[this.onClick10,this.onClick20,this.onClick50,this.onClick100,this.onClick200,this.onClick500,this.onClickUM],n=["times 10","times_ 20","times_50","times_100","times_200_","times_500","times_unlimited"];a.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(i,a){if(!i){t.spAtlas=a,cc.find("touchNode",t.node).on("click",t.hide,t),cc.find("pnlAuto",t.node).getComponent(cc.Sprite).spriteFrame=a.getSpriteFrame("frame_auto_times");for(var o=cc.find("pnlAuto/layout",t.node),s=cc.find("pnlAuto/item",t.node),c=0;c<e.length;c++){var l=cc.instantiate(s);o.addChild(l),l.on("click",e[c],t),cc.find("itemImg",l).getComponent(cc.Sprite).spriteFrame=a.getSpriteFrame(n[c])}s.active=!1}})},onClick10:function(){this.onClickAuto(10)},onClick20:function(){this.onClickAuto(20)},onClick50:function(){this.onClickAuto(50)},onClick100:function(){this.onClickAuto(100)},onClick200:function(){this.onClickAuto(200)},onClick500:function(){this.onClickAuto(500)},onClickUM:function(){this.onClickAuto(-1)},onClickAuto:function(t){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.UPDATE_AUTO_COUNT,t),this.hide()},showAuto:function(){this.node.active=!0},hide:function(){this.node.active=!1},onEnable:function(){i.addEventListener(n.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],PTSantaBg:[function(t,e){"use strict";cc._RF.push(e,"9bb39u+w9ZGGJupc84lhXJv","PTSantaBg");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaUserData");cc.Class({extends:cc.Component,properties:{imgNormal:cc.Node,imgFree:cc.Node,imgDe:cc.Node},onLoad:function(){for(var t=this,e=function(e){var n=cc.find(e+"",t.imgFree);e%2==0?cc.tween(n).repeatForever(cc.tween().blink(1,1)).start():cc.tween(n).delay(.5).call(function(){cc.tween(n).repeatForever(cc.tween().blink(1,1)).start()}).start()},n=0;n<=27;n++)e(n)},showTree:function(){cc.tween(this.imgNormal).to(2,{scaleX:1.2,scaleY:1.2}).start(),cc.tween(this.imgDe).to(2,{scaleX:1.1,scaleY:1.1}).start()},hideTree:function(){cc.tween(this.imgNormal).to(2,{scaleX:1,scaleY:1}).start(),cc.tween(this.imgDe).to(2,{scaleX:1,scaleY:1}).start()},onChangeGameMode:function(){this.imgNormal.active=o.GameMode==a.GAME_MODE.NORMAL,this.imgFree.active=o.GameMode==a.GAME_MODE.FREE},onPlayBGAnimation:function(t){t?this.showTree():this.hideTree(),i.emit(n.PLAY_AUDIO_EF,"bonus_end3")},onEnable:function(){i.addEventListener(n.PLAY_BG_ANIMATION,this.onPlayBGAnimation,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],PTSantaBigWin:[function(t,e){"use strict";cc._RF.push(e,"e8f5dUb1ABPEIvHsux1luTd","PTSantaBigWin");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=(t("PTSantaUserData"),t("PTSantaUtil"));cc.Class({extends:cc.Component,properties:{pnlCoins:cc.Node,itemCoin:cc.Node,pnlMain:cc.Node,aniEffect:cc.Node,labGameWin:cc.Node},onLoad:function(){this.level=0,this.addEventListener(),cc.find("New Sprite",this.node).on("click",this.hide,this)},show:function(t){this.node.active=!0,this.level=a.getBigWinRate(t),this.pnlMain.scaleX=.2,this.pnlMain.scaleY=.2,cc.tween(this.pnlMain).to(.2,{scaleX:1,scaleY:1},{easing:"backOut"}).start(),this.level>=3?(i.emit(n.PLAY_AUDIO_EF,"Mega"),this.aniEffect.getComponent(cc.Animation).play("winFnt3")):this.level>=2?(i.emit(n.PLAY_AUDIO_EF,"Superb"),this.aniEffect.getComponent(cc.Animation).play("winFnt2")):(i.emit(n.PLAY_AUDIO_EF,"Nice"),this.aniEffect.getComponent(cc.Animation).play("winFnt1")),this.schedule(this.runCoinsAction,.05,60),this.runLabelAction(t),this.scheduleOnce(this.hide,8)},runCoinsAction:function(){var t=cc.instantiate(this.itemCoin);t.active=!0,this.pnlCoins.addChild(t),t.x=1260*Math.random()-630,t.angle=360*Math.random();var e=400*Math.random()-200;cc.tween(t).by(1,{x:e,y:-900}).call(function(){t.removeFromParent()}).start()},runLabelAction:function(t){var e=Math.ceil(t/61);this.labGameWin.getComponent(cc.Label).string=a.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=e,this.playEnd=!1,this.schedule(this.addNowCoinsAction,.1,60)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.labGameWin.getComponent(cc.Label).string=a.formattingCoins(this.nowCoins),this.nowCoins!=this.winCoins||this.playEnd||(this.playEnd=!0,this.level>=3?(i.emit(n.STOP_AUDIO_EF,"Mega"),i.emit(n.PLAY_AUDIO_EF,"Megaend")):this.level>=2?(i.emit(n.STOP_AUDIO_EF,"Superb"),i.emit(n.PLAY_AUDIO_EF,"Superbend")):(i.emit(n.STOP_AUDIO_EF,"Nice"),i.emit(n.PLAY_AUDIO_EF,"Niceend")))},hide:function(){i.emit(n.STOP_MUSIC),this.callback(),this.unschedule(this.addNowCoinsAction),this.unschedule(this.runCoinsAction),this.unschedule(this.hide),i.emit(n.PLAY_AUDIO_BGM,{id:0}),this.labGameWin.getComponent(cc.Label).string=a.formattingCoins(0),this.node.active=!1},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins)},addEventListener:function(){i.addEventListener(n.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],PTSantaBonusGame:[function(t,e){"use strict";cc._RF.push(e,"f0139ZzKqtDmajGncKZ0q0S","PTSantaBonusGame");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=(t("PTSantaUserData"),t("PTSantaUtil")),s=[{x:-320,y:-135},{x:-160,y:-135},{x:0,y:-135},{x:160,y:-135},{x:320,y:-135},{x:-240,y:10},{x:-80,y:10},{x:80,y:10},{x:240,y:10},{x:-80,y:158},{x:80,y:158},{x:0,y:307}];cc.Class({extends:cc.Component,properties:{labGrand:cc.Label,labMajor:cc.Label,labMinor:cc.Label,labMini:cc.Label,pnlMain:cc.Node,preItem:cc.Prefab},onLoad:function(){var t=this;this.itemList=[];for(var e=function(e){var n=cc.instantiate(t.preItem);t.pnlMain.addChild(n),n.x=s[e].x,n.y=s[e].y,n.getComponent(a.BUNDLE_NAME+"BonusItem").initItem(function(){t.onClickItem(e)}),t.itemList.push(n)},n=0;n<s.length;n++)e(n)},onClickItem:function(t){this.data.getBonus.bonus[this.listIndex]&&(i.emit(n.PLAY_AUDIO_EF,"gift_box"),this.itemList[t].getComponent(a.BUNDLE_NAME+"BonusItem").setItemData(this.data.getBonus.bonus[this.listIndex]),this.listIndex++,this.data.getBonus.bonus[this.listIndex]||this.showWin())},playAnimation:function(t){i.emit(n.PLAY_AUDIO_EF,"bonus"),this.data=t,this.node.active=!0,this.listIndex=0;for(var e=0;e<this.itemList.length;e++)this.itemList[e].getComponent(a.BUNDLE_NAME+"BonusItem").resetItem()},showMain:function(){this.pnlStart.active=!1,this.pnlMain.active=!0;for(var t=0;t<this.itemList.length;t++)this.itemList[t].getComponent(a.BUNDLE_NAME+"BonusItem").resetItem()},showWin:function(){this.scheduleOnce(this.hide,3)},hide:function(){i.emit(n.PLAY_AUDIO_BGM,{id:o.isNormalGame()?0:2}),this.data.callback(),this.node.active=!1},updatePool:function(t){this.labGrand.string="$"+o.formattingCoins(500*t),this.labMajor.string="$"+o.formattingCoins(200*t),this.labMinor.string="$"+o.formattingCoins(50*t),this.labMini.string="$"+o.formattingCoins(15*t)},onLoginGameResult:function(t){1==t.resultid&&this.updatePool(t.Obj.nGamblingWinPool)},onPushGamblingWinPoolResult:function(t){this.updatePool(t)},onEnable:function(){i.addEventListener(n.SHOW_BONUS_GAME,this.playAnimation,this),i.addEventListener(n.ON_PUSH_GAMBLING_WIN_POOL,this.onPushGamblingWinPoolResult,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{}],PTSantaBonusItem:[function(t,e){"use strict";cc._RF.push(e,"80850UiNHBKBKDGPDyrykBB","PTSantaBonusItem");var n=[];n.mini="MINI",n.major="MAJOR",n.minor="MINOR",n.grand="GRAND";var i=t("PTSantaUtil"),a=t("PTSantaEventConfig"),o=t("PTSantaEventManager");cc.Class({extends:cc.Component,properties:{imgItem:cc.Node,aniItem:cc.Node,labCount:cc.Node},onLoad:function(){var t=this;this.aniItem.getComponent(cc.Animation).on("finished",function(){t.showCount()},this)},initItem:function(t){this.callback=t,this.resetItem()},resetItem:function(){this.aniItem.active=!1,this.labCount.active=!1,this.imgItem.active=!0},setItemData:function(t){this.imgItem.active=!1,this.aniItem.active=!0,this.count=t,this.labCount.getComponent(cc.Label).string="number"==typeof t?i.formattingCoins(t):n[t],this.aniItem.getComponent(cc.Animation).play()},showCount:function(){this.labCount.active=!0,this.labCount.y=-30,this.labCount.scaleX=.5,this.labCount.scaleY=.5,"mini"==this.count&&o.emit(a.PLAY_AUDIO_EF,"Mini"),cc.tween(this.labCount).to(.2,{y:-5,scaleX:1,scaleY:1},{easing:"backOut"}).start()},onClickItem:function(){this.aniItem.active||this.callback()}}),cc._RF.pop()},{}],PTSantaBonusTransit:[function(t,e){"use strict";cc._RF.push(e,"0eecaHZ4T9HLIe2HbMJSS2S","PTSantaBonusTransit");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaItemConfig");t("PTSantaUtil"),cc.Class({extends:cc.Component,properties:{aniSanta:cc.Node,imgMask:cc.Node,pnlMain:cc.Node,item:cc.Node},onLoad:function(){var t=this;this.aniSanta.getComponent(cc.Animation).on("finished",function(){cc.tween(t.imgMask).to(.5,{opacity:0}).call(function(){t.data.callback()}).start(),t.aniSanta.active=!1},this)},show:function(t){var e=this;this.node.active=!0,this.aniSanta.active=!0,this.data=t,i.emit(n.PLAY_AUDIO_EF,"bonus_game"),this.imgMask.opacity=255,this.itemList=[];for(var s=0;s<t.sHandCards.length;s++)if(t.sHandCards[s]==o.ItemID.BONUS){var c=cc.instantiate(this.item);this.pnlMain.addChild(c);var l=t.wheelAniItemList[s],r=l.getComponent(a.BUNDLE_NAME+"ItemAni").getItemWheelID();this.itemList[r]=[],this.itemList[r].push(c);var h=l.parent.convertToWorldSpaceAR(l.getPosition()),u=this.pnlMain.convertToNodeSpaceAR(h);c.x=u.x,c.y=u.y}this.aniSanta.getComponent(cc.Animation).play(),this.scheduleOnce(function(){e.playItemAni(0)},1.75),this.scheduleOnce(function(){e.playItemAni(1)},2.35),this.scheduleOnce(function(){e.playItemAni(2)},2.6),this.scheduleOnce(function(){e.playItemAni(3)},2.8),this.scheduleOnce(function(){e.playItemAni(4)},3)},playItemAni:function(t){if(this.itemList[t])for(var e=0;e<this.itemList[t].length;e++){var n=this.itemList[t][e];n.x=n.x+100,n.y=n.y+200,n.angle=60,n.active=!0,cc.tween(n).to(1,{x:n.x-100,y:n.y-200,angle:360}).start()}},hide:function(){this.pnlMain.removeAllChildren(),this.node.active=!1},onEnable:function(){i.addEventListener(n.SHOW_BONUS_TRANSIT_ANI,this.show,this),i.addEventListener(n.HIDE_BONUS_TRANSIT_ANI,this.hide,this)}}),cc._RF.pop()},{}],PTSantaBonusWin:[function(t,e){"use strict";cc._RF.push(e,"90473CqyTFBiL+QStbECm3h","PTSantaBonusWin");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=(t("PTSantaUserData"),t("PTSantaGameData"),t("PTSantaUtil"));cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,labWin:cc.Label},onLoad:function(){this.addEventListener()},show:function(t){this.callback=t.callback,this.node.active=!0,this.labWin.string=a.formattingCoins(t.getBonus.win),this.pnlMain.opacity=0,cc.tween(this.pnlMain).to(.5,{opacity:255}).start(),i.emit(n.PLAY_AUDIO_EF,"bonus_end1"),i.emit(n.PLAY_AUDIO_BGM,{id:5})},toHide:function(){},hide:function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),this.callback(),this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_BONUS_WIN,this.show,this)}}),cc._RF.pop()},{}],PTSantaDownUI:[function(t,e){"use strict";cc._RF.push(e,"6f486bMYsFNebiceqEQZ+JW","PTSantaDownUI");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaUserData"),s=t("PTSantaUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{},onLoad:function(){resizeWinX(this),this.autoCount=0,this.gameWin=0,this.initUI(),o.LoginGameResultData&&this.onLoginGameResult(o.LoginGameResultData)},initBetData:function(){var t=c.getInstant.maxBet/o.Line;this.betLimit=o.slotBetList.length-1;for(var e=0;e<o.slotBetList.length;e++)if(t<o.slotBetList[e]){this.betLimit=e-1;break}this.updateBet(),this.updateTotalBet()},initUI:function(){cc.find("nodeMain",this.node),this.bntHelp=cc.find("bntHelp",this.node),this.bntHelp.on("click",this.onClickHelp,this);var t=cc.find("nodeBet",this.node);this.labTotalBet=cc.find("labContent",t).getComponent(cc.Label),this.btnSub=cc.find("btnSub",t),this.btnSub.on("click",this.onClickDecBet,this),this.btnAdd=cc.find("btnAdd",t),this.btnAdd.on("click",this.onClickAddBet,this);var e=cc.find("nodeWin",this.node);this.labWin=cc.find("labWin",e);var n=cc.find("nodeSpin",this.node);this.btnSpin=cc.find("btnSpin",n),this.btnSpin.on("click",this.onClickRoll,this),this.btnStop=cc.find("btnStop",n),this.btnStop.on("click",this.onClickStop,this),this.labFreeCount=cc.find("labFreeCount",this.btnStop),this.labFreeCount.active=!1,this.btnAuto=cc.find("btnAuto",this.node),this.btnAuto.on("click",this.onClickAuto,this),this.particleNode=cc.find("particleNode",this.btnAuto),cc.tween(this.particleNode).repeatForever(cc.tween().by(1,{angle:360})).start()},onClickRoll:function(){o.Status!=a.GAME_STATE.INIT&&(this.checkCoinsEntries()?o.Status==a.GAME_STATE.LEISURE&&(i.emit(n.PLAY_AUDIO_EF,"SpinButton"),this.banButton(!1),o.Status=a.GAME_STATE.REQUEST,i.emit(n.START_ROLL)):i.emit(n.HAVE_NO_MONEY))},onClickStop:function(){o.LotteryRes.viewarray.nChangeCards&&o.LotteryRes.viewarray.nChangeCards.changes&&o.LotteryRes.viewarray.nChangeCards.changes.length>0||(i.emit(n.PLAY_AUDIO_EF,"StopButton"),this.banButton(!1),i.emit(n.STOP_IMMEDIATELY))},onClickAuto:function(){o.GameMode==a.GAME_MODE.NORMAL&&this.enterAuto(!o.IsAuto)},showAutoList:function(){this.enterAuto(!0)},enterAuto:function(t){o.IsAuto=t,this.particleNode.active=t,t?(this.banButton(!1),this.banBetButtkon(!1),o.Status==a.GAME_STATE.LEISURE&&i.emit(n.START_ROLL)):o.Status==a.GAME_STATE.LEISURE?(this.banButton(!0),this.btnSpin.active=!0,this.btnStop.active=!1):o.Status==a.GAME_STATE.ROLL_END?(this.btnSpin.active=!1,this.btnStop.active=!0):this.banButton(!1)},banBetButtkon:function(t){this.btnSub.getComponent(cc.Button).interactable=t,this.btnAdd.getComponent(cc.Button).interactable=t},banButton:function(t){this.btnSpin.getComponent(cc.Button).interactable=t,this.btnStop.getComponent(cc.Button).interactable=t},onClickHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.SHOW_HELP_VIEW)},onClickMaxBet:function(){this.bet=this.betLimit,this.playBetBtnSound(),this.updateBet()},onClickAddBet:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow")},updateBet:function(){o.BetIndex=this.bet,o.BetValue=o.slotBetList[this.bet]*o.Line,this.updateTotalBet(),i.emit(n.ON_PUSH_GAMBLING_WIN_POOL,o.BetValue)},onClickLine:function(){s.isNormalGame()&&(i.emit(n.PLAY_AUDIO_EF,"LineButton"),i.emit(n.SHOW_LINE,-1))},updateTotalBet:function(){this.labTotalBet.string=s.formattingCoins(o.BetValue),i.emit(n.UPDATE_BET)},checkCoinsEntries:function(){return c.getInstant.playerCoin>=o.BetValue},updateAutoCount:function(t){this.autoCount=t,-1==this.autoCount?(this.imgUnLimited.active=!0,this.labAutoCount.active=!1):(this.imgUnLimited.active=!1,this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount),this.enterAuto(!0)},onStartRoll:function(){this.gameWin=0,this.labWin.getComponent(cc.Label).string=s.formattingCoins(0)},setSpinActive:function(t){if(o.IsAuto||!s.isNormalGame())return this.btnStop.active=!0,void(this.btnSpin.active=!1);this.btnSpin.active=t,this.btnStop.active=!t},onChangeGameStatus:function(){if(o.Status==a.GAME_STATE.LEISURE){if(this.setSpinActive(!0),this.checkCoinsEntries()||(i.emit(n.HAVE_NO_MONEY),this.enterAuto(!1)),!s.isNormalGame())return void i.emit(n.START_ROLL);o.IsAuto?(this.banButton(!1),i.emit(n.START_ROLL)):(this.banButton(!0),this.banBetButtkon(!0))}else o.Status==a.GAME_STATE.REQUEST?(this.banButton(!1),this.banBetButtkon(!1)):o.Status==a.GAME_STATE.ROLL_END?(this.banButton(!0),this.setSpinActive(!1)):o.Status==a.GAME_STATE.RESULT?this.banButton(!1):o.Status==a.GAME_STATE.SHOW_END&&(o.IsAuto||this.banButton(!1))},updageGameWin:function(t){0!=t&&(this.gameWin+=t,this.labWin.getComponent(cc.Label).string=s.formattingCoins(this.gameWin),s.isNormalGame()||(o.FreeWinCoins+=t))},runLabelAction:function(t){var e=Math.ceil(t/31);this.labWin.getComponent(cc.Label).string=s.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=e,this.playEnd=!1,this.schedule(this.addNowCoinsAction,.05,30)},addNowCoinsAction:function(){this.playEnd||(this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.labWin.getComponent(cc.Label).string=s.formattingCoins(this.nowCoins),this.nowCoins==this.winCoins&&(this.playEnd=!0,i.emit(n.STOP_AUDIO_EF,"Wild_win"),i.emit(n.STOP_AUDIO_EF,"fs_wildwin"),i.emit(n.STOP_AUDIO_EF,"Win"),i.emit(n.STOP_AUDIO_EF,"fs_win"),i.emit(n.PLAY_AUDIO_EF,"Win_end")))},resetGameWin:function(t){0!=t&&this.gameWin!=t&&(this.gameWin=t,this.labWin.getComponent(cc.Label).string=s.formattingCoins(this.gameWin),s.isNormalGame()||(o.FreeWinCoins+=t))},onLotteryResult:function(){},onChangeGameMode:function(){o.GameMode==a.GAME_MODE.NORMAL?this.enterAuto(!1):(this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1),this.btnAuto.getComponent(cc.Button).interactable=o.GameMode==a.GAME_MODE.NORMAL,this.particleNode.active=o.GameMode!=a.GAME_MODE.NORMAL,this.labFreeCount.active=o.GameMode!=a.GAME_MODE.NORMAL},onUpdateFreeTimeNow:function(){this.labFreeCount.getComponent(cc.Label).string=o.FreeRemaining},showDownUI:function(){this.node.active=!0},hideDownUI:function(){this.node.active=!1},onLoginGameResult:function(t){if(t.Obj&&t.Obj.betList&&(o.slotBetList=t.Obj.betList),this.bet=0,t.Obj&&t.Obj.betDefault)for(var e=0;e<t.Obj.betList.length;e++)if(t.Obj.betList[e]==t.Obj.betDefault){this.bet=e;break}this.initBetData()},onEnable:function(){i.addEventListener(n.SHOW_DOWN_UP,this.showDownUI,this),i.addEventListener(n.HIDE_DOWN_UP,this.hideDownUI,this),i.addEventListener(n.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.UPDATE_AUTO_COUNT,this.updateAutoCount,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),i.addEventListener(n.UPDATE_GAME_WIN,this.updageGameWin,this),i.addEventListener(n.RESET_GAME_WIN,this.resetGameWin,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTSantaEventConfig:[function(t,e){"use strict";cc._RF.push(e,"c01ebM8yVNBRrL6axZZ82aG","PTSantaEventConfig"),e.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",PLAY_ANIMATION_VIEW:"PLAY_ANIMATION_VIEW",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LINE_AUDIO_EF:"PLAY_LINE_AUDIO_EF",PLAY_ITEM_AUDIO_EF:"PLAY_ITEM_AUDIO_EF",SHOW_AUTO:"SHOW_AUTO",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_YOU_WIN:"SHOW_YOU_WIN",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",SHOW_HELP_VIEW:"SHOW_HELP_VIEW",SHOW_MENU_VIEW:"SHOW_MENU_VIEW",SHOW_ADD_USER_COINS:"SHOW_ADD_USER_COINS",SHOW_BONUS_WIN:"SHOW_BONUS_WIN",SHOW_BONUS_GAME:"SHOW_BONUS_GAME",SHOW_BONUS_TRANSIT_ANI:"SHOW_BONUS_TRANSIT_ANI",HIDE_BONUS_TRANSIT_ANI:"HIDE_BONUS_TRANSIT_ANI",SHOW_UI_UP:"SHOW_UI_UP",HIDE_UI_UP:"HIDE_UI_UP",SHOW_DOWN_UP:"SHOW_DOWN_UP",HIDE_DOWN_UP:"HIDE_DOWN_UP",PLAY_BG_ANIMATION:"PLAY_BG_ANIMATION"},cc._RF.pop()},{}],PTSantaEventManager:[function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0;return function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"0fa44/yKCZDIokmmCLR3eqh","PTSantaEventManager");var o={_eventListeners:[],destroy:function(){o._eventListeners=[]},getEventListenersIndex:function(t,e,n){for(var i=-1,a=0;a<o._eventListeners[t].length;a++){var s=o._eventListeners[t][a];if(s.callBack==e&&(!n||s.target==n)){i=a;break}}return i},addEventListener:function(t,e,n){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var i={callBack:e,target:n};return null==o._eventListeners[t]?o._eventListeners[t]=[i]:-1==o.getEventListenersIndex(t,e,n)&&o._eventListeners[t].push(i),!0}cc.warn("eventName is empty",n)},removeEventListener:function(t,e,n){if(null!=o._eventListeners[t]){var i=o.getEventListenersIndex(t,e,n);-1!=i&&o._eventListeners[t].splice(i,1)}},emit:function(t,e){if(null!=o._eventListeners[t]){for(var i,a=[],s=n(o._eventListeners[t]);!(i=s()).done;){var c=i.value;a.push({callBack:c.callBack,target:c.target})}for(var l=function(){var t=h[r];new Promise(function(){t.callBack.call(t.target,e)})},r=0,h=a;r<h.length;r++)l()}}};e.exports=o,cc._RF.pop()},{}],PTSantaFree:[function(t,e){"use strict";cc._RF.push(e,"861d9Ul3yZN8oh7FBhdP39b","PTSantaFree");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaUserData");cc.Class({extends:cc.Component,properties:{labRemaining:cc.Node,labNow:cc.Node,labAll:cc.Node},onLoad:function(){this.addEventListener()},show:function(){this.node.y=50,cc.tween(this.node).to(.5,{y:0},{easing:"bounceOut"}).start(),this.labNow&&(this.labNow.getComponent(cc.Label).string=a.FreeTimeNow),this.labAll&&(this.labAll.getComponent(cc.Label).string=a.FreeTimeAll),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=a.FreeRemaining)},onUpdateFreeTimeNow:function(){this.labNow&&(this.labNow.getComponent(cc.Label).string=a.FreeTimeNow),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=a.FreeRemaining)},onUpdateFreeTimeAll:function(){this.labAll&&(this.labAll.getComponent(cc.Label).string=a.FreeTimeAll)},addEventListener:function(){i.addEventListener(n.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),i.addEventListener(n.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{}],PTSantaGameData:[function(t,e){"use strict";cc._RF.push(e,"92541xBaANIk5G96WzUd+TZ","PTSantaGameData");e.exports={BUNDLE_NAME:"PTSanta",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,GAME_MODE:{NORMAL:0,FREE:1,FREE2:2},LINE_OFFSET:1},cc._RF.pop()},{}],PTSantaHelp:[function(t,e){"use strict";cc._RF.push(e,"5d8376Gcb9NPqhAIO1ZfEeP","PTSantaHelp");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager");t("PTSantaGameData"),t("PTSantaUserData"),cc.Class({extends:cc.Component,properties:{imgHelp:cc.Sprite,asset:cc.SpriteAtlas},onLoad:function(){this.addEventListener()},show:function(){this.node.active=!0,this.pageIndex=0},setHelpView:function(){this.imgHelp.spriteFrame=this.helpSpriteFrames[this.pageIndex]},onClickNext:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),this.pageIndex++,this.pageIndex>=this.helpSpriteFrames.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.helpSpriteFrames.length-1),this.setHelpView()},onClickHideHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],PTSantaItemAni:[function(t,e){"use strict";cc._RF.push(e,"91579fDm1lCmL+wmCri2SDH","PTSantaItemAni");var n=t("PTSantaItemConfig"),i=(t("PTSantaUserData"),t("PTSantaGameData"),t("PTSantaEventConfig"),t("PTSantaEventManager"),t("PTSantaUtil"),[]);i[n.ItemID.item00]="item00",i[n.ItemID.item01]="item01",i[n.ItemID.item02]="item02",i[n.ItemID.item03]="item03",i[n.ItemID.item04]="item04",i[n.ItemID.item05]="item05",i[n.ItemID.item06]="item06",i[n.ItemID.item07]="item07",i[n.ItemID.item08]="item08",i[n.ItemID.WILD]="itemWild",i[n.ItemID.BONUS]="itemBonus",i[n.ItemID.SCATTER]="itemScatter",cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,itemAni:cc.Node,aniBoom:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){var t=this;this.tweenSelect=cc.tween(this.itemAni).repeatForever(cc.tween().to(.6,{scaleX:1.2,scaleY:1.2}).to(.6,{scaleX:1,scaleY:1})),this.aniBoom.getComponent(cc.Animation).on("finished",function(){t.aniBoom.active=!1},this),this.reset()},initItem:function(t){this.wheelID=t},getItemWheelID:function(){return this.wheelID},changeItem:function(t){this.reset(),this.itemID=t,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[t])},reset:function(){this.itemImg.active=!0,this.itemAni.active=!1,this.tweenSelect.stop()},playSelectAni:function(){this.playItemAni(i[this.itemID])},playWildEnter:function(){this.changeItem(n.ItemID.WILD),this.playSelectAni(),this.aniBoom.active=!0,this.aniBoom.getComponent(cc.Animation).play(),this.tweenSelect.stop(),this.itemAni.scaleX=.2,this.itemAni.scaleY=.2,cc.tween(this.itemAni).to(.3,{scaleX:1,scaleY:1},{easing:"backOut"}).start()},playItemAni:function(t){this.itemAni.active=!0,this.itemImg.active=!1,this.itemID==n.ItemID.BONUS?this.itemAni.y=32:this.itemAni.y=0,this.itemID!=n.ItemID.BONUS&&this.itemID!=n.ItemID.SCATTER&&this.tweenSelect.start(),this.itemAni.getComponent(cc.Animation).stop(),this.itemAni.getComponent(cc.Animation).play(t)},playAniBonus:function(){this.playItemAni(i[this.itemID])}}),cc._RF.pop()},{}],PTSantaItemConfig:[function(t,e){"use strict";cc._RF.push(e,"34831Awo85OVqTVlZUF+zwy","PTSantaItemConfig");var n={item00:0,item01:1,item02:2,item03:3,item04:4,item05:5,item06:6,item07:7,item08:8,WILD:9,SCATTER:10,BONUS:11},i={ITEM_HEIGHT:180,ITEM_WIDTH:200,WHEEL_WIDTH:200,WHEEL_HEIGHT:540,SpriteFramelist:["Icon01_01","Icon02_01","Icon03_01","Icon04_01","Icon05_01","Icon06_01","Icon07_01","Icon08_01","Icon09_01","Icon10_01","Icon12_01","Icon11_01"],ItemID:n,IsBonusID:function(t){return t==n.BONUS},IsWildID:function(t){return t==n.WILD},IsScatter:function(t){return t==n.SCATTER}};e.exports=i,cc._RF.pop()},{}],PTSantaItem:[function(t,e){"use strict";cc._RF.push(e,"d3862FtXhpE3puT6wGD6zbE","PTSantaItem");var n=t("PTSantaUtil"),i=t("PTSantaItemConfig");t("PTSantaUserData"),t("PTSantaGameData"),t("PTSantaEventConfig"),t("PTSantaEventManager"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,aniItem:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.isSelected=!1,this.randImg()},randImg:function(){this.changeItem(n.getRandID(i.ItemID.item00,i.ItemID.item08))},reset:function(){this.aniItem.active=!1,this.itemImg.active=!0,this.isSelected=!1},changeItem:function(t){this.reset(),this.itemID=t;var e=i.SpriteFramelist[t];this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(e)},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return i.IsBonusID(this.itemID)},isScatter:function(){return i.IsScatter(this.itemID)},isWildItem:function(){return i.IsWildID(this.itemID)},rollEnd:function(){},playWildAni:function(){},setItemUnSelect:function(){},playSelectAni:function(){},playItemAni:function(t){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(t)},playAniBonus:function(){this.playItemAni("itemBonus")}}),cc._RF.pop()},{}],PTSantaLineConfig:[function(t,e){"use strict";cc._RF.push(e,"a5b17xc2SNMWZVAQUNGSMfk","PTSantaLineConfig");e.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],PTSantaLineItem:[function(t,e){"use strict";cc._RF.push(e,"0b9aaiA49JOHpICQ35Y8EM4","PTSantaLineItem"),cc.Class({extends:cc.Component,properties:{imgDefault:cc.Node,imgSelect:cc.Node},onLoad:function(){},init:function(t,e){this.imgDefault.getComponent(cc.Sprite).spriteFrame=t,this.imgSelect.getComponent(cc.Sprite).spriteFrame=e},setSelect:function(t){this.imgSelect.active=t}}),cc._RF.pop()},{}],PTSantaLineTabel:[function(t,e){"use strict";cc._RF.push(e,"1d993jAerVJv5nmGBgo16v1","PTSantaLineTabel");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaUserData"),o=t("PTSantaGameData"),s=(t("PTSantaItemConfig"),!0),c=!0;cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,preLineItem:cc.Prefab,itemSpAtlas:cc.SpriteAtlas,lineNode:cc.Node,preLine:cc.Prefab,lineSpAtlas:cc.SpriteAtlas},onLoad:function(){this.itemNode||(c=!1),this.lineNode||(s=!1),this.addEventListener(),this.initLine(),this.initLineItem(),this.reset()},showLineAni:function(t,e){if(Array.isArray(t))return this.showAllSelectLine(t,e),void this.showAllSelectItem(t);this.showLineTabel(t,e)},showLineTabel:function(t,e){t=Number(t)+o.LINE_OFFSET,this.reset(),this.setLineItemSelect(t,!0),this.setLineSelect(t,e)},setLineItemSelect:function(t,e){c&&(this.lineItemList[t].rightItem.getComponent(o.BUNDLE_NAME+"LineItem").setSelect(e),this.lineItemList[t].leftItem.getComponent(o.BUNDLE_NAME+"LineItem").setSelect(e))},setLineSelect:function(t,e){s&&(this.lineList[t].active=!0,this.lineList[t].getComponent(o.BUNDLE_NAME+"Line").setSelect(e))},reset:function(){this.hideAllLineItem(),this.hideAllLine()},hideAllLineItem:function(){if(c)for(var t=1;t<=a.Line;t++)this.setLineItemSelect(t,!1)},showAllSelectItem:function(t){if(c){this.hideAllLineItem();for(var e=0;e<t.length;e++)this.setLineItemSelect(Number(t[e])+o.LINE_OFFSET,!0)}},hideAllLine:function(){if(s)for(var t=1;t<=a.Line;t++)this.lineList[t].active=!1},showAllLine:function(){if(s)for(var t=1;t<=a.Line;t++)this.lineList[t].active=!0,this.lineList[t].getComponent(o.BUNDLE_NAME+"Line").setSelect(0)},showAllSelectLine:function(t,e){if(s){this.hideAllLine();for(var n=0;n<t.length;n++){var i=Number(t[n])+o.LINE_OFFSET;this.lineList[i].active=!0,this.lineList[i].getComponent(o.BUNDLE_NAME+"Line").setSelect(e[n])}}},onStartRoll:function(){this.reset()},showLine:function(t){if(-1==t&&-1==this.showLineIndex||-2==t)return this.showLineIndex=0,void this.hideAllLine();this.showLineIndex=t,this.hideAllLine(),-1!=t?this.lineList[t].active=!0:this.showAllLine()},updateLineBet:function(){},addEventListener:function(){i.addEventListener(n.SHOW_LINE,this.showLine,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.UPDATE_BET,this.updateLineBet,this)},initLineItem:function(){var t=this;if(c){this.lineItemList=[];var e=[5,3,7,8,1,10,9,6,2,4],n=e,i=function(e,n){for(var i=0;i<n.length;i++){var a=cc.instantiate(t.preLineItem);t.itemNode.addChild(a),a.x=e,a.y=-n.length/2*50+50*i+25,a.getComponent(o.BUNDLE_NAME+"LineItem").init(null,null,n[i]),t.lineItemList[n[i]]||(t.lineItemList[n[i]]={}),e>0?(a.x+=i>=5?-2*(i-5):2*(i-4),t.lineItemList[n[i]].rightItem=a):(a.x+=i>=5?2*(i-5):2*-(i-4),t.lineItemList[n[i]].leftItem=a)}};i(-555,e),i(555,n)}},initLine:function(){if(s){this.lineList=[];for(var t=[NaN,{lineY:0},{lineY:105},{lineY:-105},{lineY:0},{lineY:-28},{lineY:35},{lineY:-32},{lineY:84},{lineY:-83}],e=1;e<=a.Line;e++){var n=cc.instantiate(this.preLine);this.lineNode.addChild(n);var i=t[e],c=this.lineSpAtlas.getSpriteFrame(e);n.getComponent(o.BUNDLE_NAME+"Line").init(c,e),n.y=i.lineY,this.lineList[e]=n}}}}),cc._RF.pop()},{}],PTSantaLine:[function(t,e){"use strict";cc._RF.push(e,"8b38f2CeYxAdax8mhJdg3Es","PTSantaLine");var n=t("PTSantaUtil"),i=[NaN,{coinsY:0},{coinsY:0},{coinsY:0},{coinsY:-103},{coinsY:75},{coinsY:-1},{coinsY:1},{coinsY:33},{coinsY:-33}];cc.Class({extends:cc.Component,properties:{imgLine:cc.Sprite,labWin:cc.Node},onLoad:function(){},init:function(t,e){this.imgLine.spriteFrame=t,this.labWin.y=i[e].coinsY},setSelect:function(t){this.labWin.active=t>0,this.labWin.getComponent(cc.Label).string=n.formattingCoins(t)}}),cc._RF.pop()},{}],PTSantaMain:[function(t,e){"use strict";cc._RF.push(e,"a9746IOWZlExoO/v4NREvPe","PTSantaMain");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaUserData"),s=t("PTSantaItemConfig"),c=t("PTSantaUtil");cc.Class({extends:cc.Component,properties:{bgNormal:cc.Node,bgFree:cc.Node,wheelPnl:cc.Node,wheelAniPnl:cc.Node,preWheel:cc.Prefab,preWheelAni:cc.Prefab,pnlMain:cc.Node},onLoad:function(){o.Status=a.GAME_STATE.INIT,o.GameMode=a.GAME_MODE.NORMAL,this.bgFree.active=!1,this.resultList=[],this.initNormalWheel(),this.initAniWheel(),this.initWheelAni(),this.scheduleOnce(function(){},2)},stateCallBack:function(){if(o.Status==a.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),i.emit(n.STOP_AUDIO_EF,"rollSound"),i.emit(n.HIDE_BONUS_TRANSIT_ANI),o.Status=a.GAME_STATE.RESULT,i.emit(n.CHANGE_GAME_STATUS),this.resultList=[],this.resultList=[];for(var t=a.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var s=this.wheelList[e].getComponent(a.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(s[t])}this.showResult()}},showResult:function(){if(o.LotteryRes.viewarray.getBonus.bFlag&&(o.LotteryRes.viewarray.win-=o.LotteryRes.viewarray.getBonus.win),o.LotteryRes.viewarray.win>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",o.LotteryRes.viewarray.win),i.emit(n.PLAY_AUDIO_EF,"Win_end"),i.emit(n.UPDATE_GAME_WIN,o.LotteryRes.viewarray.win),void this.playWinAnim();cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.resetLineAni();for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(a.BUNDLE_NAME+"Wheel").resetItem()},hideGameWin:function(){this.labWin.active=!1},playWinAnim:function(){this.onLineAniOver(),0!=o.LotteryRes.viewarray.nWinLinesDetail.length&&this.playLineAni()},playLineAni:function(){for(var t=o.LotteryRes.viewarray.nWinLinesDetail,e=o.LotteryRes.viewarray.nWinDetail,n=o.LotteryRes.viewarray.nWinLines,i=[],a=0;a<t.length;a++)i=i.concat(t[a]);for(var s=[],c=0;c<n.length;c++)s=s.concat(n[c]);for(var l=0,r=0;r<e.length;r++)l+=e[r];this.linesList={allWinLinesDetail:[i].concat(t,[i]),allWinLines:[s].concat(n,[s]),allWinDetail:[l].concat(e,[l])},this.lineSchedIndex=0,this.onLineSchedUleCallBack(),o.IsAuto||this.schedule(this.onLineSchedUleCallBack,1.5,this.linesList.allWinDetail.length-2,1.5)},resetLineAni:function(){for(var t=0;t<this.wheelAniItemList.length;t++)this.wheelAniItemList[t].getComponent(a.BUNDLE_NAME+"ItemAni").reset(),this.wheelAniItemList[t].active=!1,this.resultList[t]&&(this.resultList[t].active=!0)},onLineSchedUleCallBack:function(){this.resetLineAni();for(var t=this.linesList.allWinLinesDetail[this.lineSchedIndex],e=(this.linesList.allWinLines[this.lineSchedIndex],this.linesList.allWinDetail[this.lineSchedIndex],0);e<t.length;e++){var n=this.resultList[t[e]].getComponent(a.BUNDLE_NAME+"Item").getItemId();this.resultList[t[e]].active=!1,this.wheelAniItemList[t[e]].active=!0,this.wheelAniItemList[t[e]].getComponent(a.BUNDLE_NAME+"ItemAni").changeItem(n),this.wheelAniItemList[t[e]].getComponent(a.BUNDLE_NAME+"ItemAni").playSelectAni()}this.lineSchedIndex,0!=this.lineSchedIndex&&(this.lineSchedIndex,this.linesList.allWinLinesDetail.length),this.lineSchedIndex,this.linesList.allWinLinesDetail.length,this.lineSchedIndex++},onLineAniOver:function(){var t=this;this.scheduleOnce(function(){c.isNormalGame()&&c.checkBigWin(o.LotteryRes.viewarray.win)?t.scheduleOnce(function(){t.showWinView(o.LotteryRes.viewarray.win,function(){i.emit(n.STOP_AUDIO_BGM),t.toGameOver()})},1):t.toGameOver()},o.IsAuto||!c.isNormalGame()?1.5:.2)},toGameOver:function(){var t=this;o.Status!=a.GAME_STATE.SHOW_END&&(o.Status=a.GAME_STATE.SHOW_END,o.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){t.enterFreeGame()},o.LotteryRes.viewarray.win>0?2:0):o.LotteryRes.viewarray.getBonus.bFlag?this.enterBonusGame():this.scheduleOnce(function(){c.isNormalGame()||o.FreeSoltRes.viewarray.frees[o.FreeSoltIndex]?t.onGameOver():t.stopFreeTimes()},.1))},onGameOver:function(){o.Status=a.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},showWinView:function(t,e){i.emit(n.SHOW_BIG_WIN,{coins:t,callback:e})},enterBonusGame:function(){this.playBonusGameAni()},playBonusGameAni:function(){var t=this;i.emit(n.PLAY_AUDIO_EF,"bonus1");for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(a.BUNDLE_NAME+"Item").getItemId()==s.ItemID.BONUS&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(a.BUNDLE_NAME+"ItemAni").changeItem(this.resultList[e].getComponent(a.BUNDLE_NAME+"Item").getItemId()),this.wheelAniItemList[e].getComponent(a.BUNDLE_NAME+"ItemAni").playSelectAni());this.scheduleOnce(function(){t.closeShine(),cc.tween(t.pnlMain).to(.3,{opacity:0}).start(),i.emit(n.HIDE_UI_UP),i.emit(n.HIDE_DOWN_UP),i.emit(n.PLAY_BG_ANIMATION,!0),t.scheduleOnce(function(){i.emit(n.SHOW_BONUS_GAME,{getBonus:o.LotteryRes.viewarray.getBonus,callback:function(){i.emit(n.SHOW_BONUS_WIN,{getBonus:o.LotteryRes.viewarray.getBonus,callback:function(){i.emit(n.PLAY_BG_ANIMATION,!1),t.scheduleOnce(function(){i.emit(n.SHOW_UI_UP),i.emit(n.SHOW_DOWN_UP),cc.tween(t.pnlMain).to(.3,{opacity:255}).start(),i.emit(n.SHOW_BIG_WIN,{coins:o.LotteryRes.viewarray.getBonus.win,callback:function(){i.emit(n.UPDATE_GAME_WIN,o.LotteryRes.viewarray.getBonus.win),t.onGameOver()}})},2)}})}})},1)},3)},stopFreeTimes:function(){var t=this;o.IsFreeSolt=!1,i.emit(n.SHOW_YOU_WIN,{win:o.FreeWinCoins,count:o.FreeTimeAll,callback:function(){o.GameMode=a.GAME_MODE.NORMAL,i.emit(n.CHANGE_GAME_MODE),i.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()}})},enterFreeGame:function(){this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),c.isNormalGame()&&(o.FreeSoltRes=c.extendCopy(o.LotteryRes),o.initFreeData()),o.FreeRemaining+=o.LotteryRes.viewarray.getFreeTime.nFreeTime,o.FreeTimeAll+=o.LotteryRes.viewarray.getFreeTime.nFreeTime,i.emit(n.UPDATE_FREE_TIME_NOW),this.playBonusAni()},playBonusAni:function(){var t=this;this.closeShine(),i.emit(n.PLAY_AUDIO_EF,"Jow");for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(a.BUNDLE_NAME+"Item").getItemId()==s.ItemID.SCATTER&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(a.BUNDLE_NAME+"ItemAni").changeItem(this.resultList[e].getComponent(a.BUNDLE_NAME+"Item").getItemId()),this.wheelAniItemList[e].getComponent(a.BUNDLE_NAME+"ItemAni").playSelectAni());this.scheduleOnce(function(){t.closeShine(),c.isNormalGame()?(o.GameMode=a.GAME_MODE.FREE,i.emit(n.CHANGE_GAME_MODE),i.emit(n.PLAY_AUDIO_BGM,{id:4}),i.emit(n.SHOW_TRANSIT_ANI,{count:o.LotteryRes.viewarray.getFreeTime.nFreeTime,callback:function(){i.emit(n.PLAY_AUDIO_BGM,{id:2}),t.onGameOver()}})):(i.emit(n.UPDATE_FREE_TIME_ALL),t.onGameOver())},4)},toNewWheelRollEnd:function(t){this.wheelList[t].getComponent(a.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t])},onStartRoll:function(){this.stopImmediately=!1,this.closeShine(),this.bonusWheelCount=0,c.isNormalGame()||(o.FreeRemaining--,o.FreeTimeNow++,i.emit(n.UPDATE_FREE_TIME_NOW)),i.emit(n.PLAY_AUDIO_EF,"rollSound")},onStopImmediately:function(){for(var t=0;t<this.wheelList.length;t++)this.toNewWheelRollEnd(t);this.stopImmediately=!0},onLoginGameResult:function(){o.Status=a.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(t){i.emit(n.SET_LINES_VALUE,t.gameDict.betlist.length),i.emit(n.SET_BET_VALUE,t.gameDict.betsum),o.FreeTimeAll=t.gameDict.totalFreeTimes,o.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(o.GameMode=a.GAME_MODE.FREE),i.emit(n.CHANGE_GAME_MODE,t),o.Status=a.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onLotteryResult:function(){var t=this;o.Status=a.GAME_STATE.ROLL_END,i.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(o.LotteryRes.viewarray.nHandCards),this.wheelNetWinData=c.convertNetData(o.LotteryRes.viewarray.nWinCards),this.winItemNetData=c.getWinItemNetData(o.LotteryRes.viewarray.nWinCards,o.LotteryRes.viewarray.nHandCards),o.LotteryRes.viewarray.getBonus.bFlag?i.emit(n.SHOW_BONUS_TRANSIT_ANI,{sHandCards:o.LotteryRes.viewarray.sHandCards,wheelAniItemList:this.wheelAniItemList,callback:function(){t.toNewWheelRollEnd(0)}}):o.LotteryRes.viewarray.nChangeCards&&o.LotteryRes.viewarray.nChangeCards.changes&&o.LotteryRes.viewarray.nChangeCards.changes.length>0?function(){var e=o.LotteryRes.viewarray.nChangeCards.changes;i.emit(n.PLAY_AUDIO_EF,"Santa_Claus");for(var s=function(o){t.scheduleOnce(function(){o%3==0&&i.emit(n.PLAY_AUDIO_EF,"Santa_Claus"),t.wheelAniItemList[e[o]].active=!0,t.wheelAniItemList[e[o]].getComponent(a.BUNDLE_NAME+"ItemAni").playWildEnter(),o==e.length-1&&t.toNewWheelRollEnd(0)},.3*o)},c=0;c<e.length;c++)s(c)}():this.toNewWheelRollEnd(0)},onLotteryErrResult:function(t){cc.log(t),i.emit(n.RESET_WHEEL),o.Status=a.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){this.bgFree.active=o.GameMode==a.GAME_MODE.FREE,this.bgNormal.active=o.GameMode==a.GAME_MODE.NORMAL,o.GameMode==a.GAME_MODE.NORMAL||(o.GameMode,a.GAME_MODE.FREE)},onWheelRollEnd:function(t){var e=this;if(this.wheelList[t].getComponent(a.BUNDLE_NAME+"Wheel").checkBoundItem()>0&&i.emit(n.PLAY_AUDIO_EF,"bonus"),i.emit(n.STOP_AUDIO_EF,"waitBonus"),t!=a.WHEEL_COUNT-1){if(!this.stopImmediately){var o=this.wheelList[t].getComponent(a.BUNDLE_NAME+"Wheel").checkScatterItem();if(this.bonusWheelCount+=o,o>0&&(1==this.bonusWheelCount?i.emit(n.PLAY_AUDIO_EF,"scatter_1"):2==this.bonusWheelCount?i.emit(n.PLAY_AUDIO_EF,"scatter_2"):i.emit(n.PLAY_AUDIO_EF,"scatter_1")),this.bonusWheelCount>=2)return i.emit(n.PLAY_AUDIO_EF,"waitBonus"),void this.scheduleOnce(function(){e.toNewWheelRollEnd(t+1)},1);this.toNewWheelRollEnd(t+1)}}else this.stateCallBack()},onEnable:function(){i.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),i.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},initNormalWheel:function(){this.wheelList=[];for(var t=0;t<a.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheel);this.wheelPnl.addChild(e),this.wheelList.push(e),e.getComponent(a.BUNDLE_NAME+"Wheel").setWheelData(t)}},initAniWheel:function(){this.wheelAniList=[];for(var t=0;t<a.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.wheelAniPnl.addChild(e),this.wheelAniList.push(e),e.getComponent(a.BUNDLE_NAME+"WheelAni").setWheelData(t)}},initWheelAni:function(){this.wheelAniItemList=[];for(var t=a.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var n=this.wheelAniList[e].getComponent(a.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(n[t])}},initLineList:function(){this.lineTable=cc.instantiate(this.preLineTable),this.pnlLine.addChild(this.lineTable)},initFreePnl:function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode),this.freeNode.active=!1}}),cc._RF.pop()},{}],PTSantaNetWheelConfig:[function(t,e){"use strict";cc._RF.push(e,"2abf7OP2F5DX6Kwl6+gi0mX","PTSantaNetWheelConfig");var n=[{freeCount:0,freeTotal:0,userscore:89520,winscore:0,viewarray:{frees:[{getFreeTime:{bFlag:!1},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[2,8,8,8,8,2,2,2,2,8,2,1,2,4,8],sHandCards:[2,8,8,8,2,2,2,2,2,2,2,1,2,4,5],nWinDetail:[],nWinLinesDetail:[],nWinLines:[],win:0},{getFreeTime:{bFlag:!1},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[2,2,2,2,8,2,2,2,2,8,2,1,2,4,8],sHandCards:[2,2,2,2,2,2,2,2,2,2,2,1,2,4,5],nWinDetail:[],nWinLinesDetail:[],nWinLines:[],win:0},{getFreeTime:{bFlag:!1},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[2,2,2,8,8,2,2,2,2,8,2,1,2,4,8],sHandCards:[2,2,2,8,2,2,2,2,2,2,2,1,2,4,5],nWinDetail:[],nWinLinesDetail:[],nWinLines:[],win:0},{getFreeTime:{bFlag:!1},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[2,2,2,2,8,2,2,2,2,8,2,1,2,4,8],sHandCards:[2,2,2,2,2,2,2,2,2,2,2,1,2,4,5],nWinDetail:[],nWinLinesDetail:[],nWinLines:[],win:0},{getFreeTime:{bFlag:!1},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[2,2,2,2,8,2,2,2,2,8,2,1,2,4,8],sHandCards:[2,2,2,2,2,2,2,2,2,2,2,1,2,4,5],nWinDetail:[],nWinLinesDetail:[],nWinLines:[],win:0}],getFreeTime:{bFlag:!0,freeType:2,nFreeTime:5,aFlag:!0,wheels:[30,36,90],win:30},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},sHandCards:[2,2,2,2,2,2,2,2,2,2,2,1,2,4,5],nHandCards:[2,2,2,2,2,2,2,2,2,2,2,1,2,4,5],nWinDetail:[],nWinLinesDetail:[],nWinLines:[],win:0}}],i=0,a={Inint:function(){i=0},GetNetConfig:function(){var t;i>=(t=n).length&&(i=0);var e=t[i];return i++,e}};e.exports=a,cc._RF.pop()},{}],PTSantaNetwork:[function(t,e){"use strict";cc._RF.push(e,"a9ce6h4RZ1D27Az5NUECkrR","PTSantaNetwork");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaUserData"),s=(t("PTSantaItemConfig"),t("PTSantaNetWheelConfig"),t("PlayerInfo"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=s.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},sendNetWorkData:function(t,e){GameConfig.SubGameMgr.sendGameData(GameConfig.curGameId,t,e)},addNetEvent:function(t,e){if("UPDATE_COIN"==t&&i.emit("UPDATE_COIN"),"error"==t)cc.log("socket error"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}});else if("connect_error"==t)cc.log("connect_error"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}});else if("connect_timeout"==t)cc.log("connect_timeout"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}});else if("disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}})}else if("loginGameResult"==t){var a=changeResultJSON_Function(e);if(cc.log("LoginGameResult:",a),"1"!=a.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)}});i.emit(n.ON_LOGIN_GAME_RESULT,a),o.LoginGameResultData=a}else if("lotteryResult"==t){var s=changeResultJSON_Function(e);s.ResultCode&&1==s.ResultCode?(o.LotteryRes=JSON.parse(JSON.stringify(s.ResultData)),i.emit(n.ON_LOTTERY_RESULT)):i.emit(n.ON_LOTTERY_RESULT_ERR)}else if("LoginRoomResult"==t){var c=changeResultJSON_Function(e);cc.log("LoginRoomResult",c)}else if("betResult"==t){var l=changeResultJSON_Function(e);if(cc.log("betResult",l),1!=l.ResultCode)return;i.emit(n.ON_GAMBLE_RESULT,l.ResultData)}else if("pushGamblingWinPool"==t){var r=changeResultJSON_Function(e);1==r.ResultCode&&i.emit(n.ON_PUSH_GAMBLING_WIN_POOL,r.nGamblingWinPool)}else if("chargeAllResult"==t){var h=changeResultJSON_Function(e);cc.log("chargeAllResult",h),i.emit(n.ON_CHARGE_ALL_RESULT,h)}},addEvent:function(){},update:function(){},sendRollData:function(){var t=o.BetValue/o.Line;window.sendNetWorkData("lottery",JSON.stringify({bet:t,line:o.Line}))},onLoginNet:function(){this.addEvent()},onStartRoll:function(){if(o.Status=a.GAME_STATE.REQUEST,i.emit(n.CHANGE_GAME_STATUS),!o.IsFakeSolt)return o.IsFreeSolt?(o.LotteryRes.viewarray=o.FreeSoltRes.viewarray.frees[o.FreeSoltIndex],o.LotteryRes.winscore=o.FreeSoltRes.viewarray.frees[o.FreeSoltIndex].win,o.FreeSoltIndex++,void this.scheduleOnce(function(){i.emit(n.ON_LOTTERY_RESULT)},.5)):void this.sendRollData()},onAddUserCoins:function(t){cc.log("chargeAll =>",t),window.sendNetWorkData("chargeAll",JSON.stringify(t))},onOutGame:function(){var t=this;Common.backHall("Are you sure you want to leave the game?",function(){t.lastSendHeartBeatTime=void 0,GameConfig.SubGameMgr.subGameNet=null,t.isOutGameIng=!0,i.destroy()})},onEnable:function(){i.addEventListener(n.ADD_USER_COINS,this.onAddUserCoins,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.OUT_GAME,this.onOutGame,this),i.addEventListener(n.LOGIN_NET,this.onLoginNet,this)},changeResultJSON_Function:function(t){return cc.sys.isNative,JSON.parse(t)},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],PTSantaScene:[function(t,e){"use strict";cc._RF.push(e,"971135qcnBFOo/EB/CjO669","PTSantaScene");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaUserData"),s=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab,preBonusGame:cc.Prefab,preBonusWin:cc.Prefab,preBonusTransit:cc.Prefab},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.scheduleOnce(function(){},2)},initData:function(){o.slotBetList=s.getInstant.slotBetList,o.slotBetList||(o.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),s.getInstant.maxBet||(s.getInstant.maxBet=2e3),s.getInstant.fixedBet||(s.getInstant.fixedBet=50),o.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),o.BetValue=o.Line},onShowNotMoney:function(){var t=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){},onEnable:function(){i.addEventListener(n.HAVE_NO_MONEY,this.onShowNotMoney,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node),this.labCoinsTip=cc.find("nodeCoinsTip",this.topNode),this.labCoinsTip.active=!1},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIDown(),this.initGameUIUp(),this.initHelp(),this.initBigWin(),this.initTipView(),this.initBonusTransit(),this.initTransit(),this.initYouWin(),this.initBonusGame(),this.initBonusWin()},loadComplete:function(){this.loadCount--,0==this.loadCount&&i.emit(n.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initAutoUI:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(a.BUNDLE_NAME+"Auto"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initBigWin:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initYouWin:function(){var t=cc.instantiate(this.preYouWin);this.topNode.addChild(t),t.active=!1},initGameUIDown:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preDownUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(a.BUNDLE_NAME+"DownUI"),t.gameNode.addChild(i),t.loadComplete()}})},initGameUIUp:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preUpUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);t.gameNode.addChild(i),t.loadComplete()}})},initHelp:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preHelp",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initGameMenu:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(a.BUNDLE_NAME+"Menu"),t.showNode.addChild(i),i.active=!1,t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(a.BUNDLE_NAME+"TipView"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initAddCoins:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preAddCoins",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(a.BUNDLE_NAME+"AddCoins"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initBonusTransit:function(){var t=cc.instantiate(this.preBonusTransit);this.topNode.addChild(t),t.active=!1},initBonusGame:function(){var t=cc.instantiate(this.preBonusGame);this.topNode.addChild(t),t.active=!1},initBonusWin:function(){var t=cc.instantiate(this.preBonusWin);this.topNode.addChild(t),t.active=!1},initTransit:function(){var t=cc.instantiate(this.preTransit);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],PTSantaTipView:[function(t,e){"use strict";cc._RF.push(e,"bd3b4whzyVJiYBIUML7+Wnf","PTSantaTipView");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaUserData"),o=(t("PTSantaGameData"),[]);o[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;a.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,n){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=o[e])},onClickOK:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),this.callback(),this.node.active=!1},onClickHide:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){i.addEventListener(n.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],PTSantaTransit:[function(t,e){"use strict";cc._RF.push(e,"42344LD0/dI8IeLR6wNuybH","PTSantaTransit");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager");t("PTSantaUserData"),t("PTSantaGameData"),t("PTSantaUtil"),cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,labCount:cc.Label,aniIce:cc.Node,aniSnow:cc.Node},onLoad:function(){var t=this;this.aniSnow.getComponent(cc.Animation).on("finished",function(){t.aniSnow.active=!1},this)},show:function(t){this.node.active=!0,this.data=t,this.labCount.string=t.count,i.emit(n.PLAY_AUDIO_EF,"bell_freespins"),this.pnlMain.opacity=0,cc.tween(this.pnlMain).to(.5,{opacity:255}).start(),this.aniSnow.getComponent(cc.Animation).play(),this.aniIce.getComponent(cc.Animation).play()},hide:function(){this.data.callback(),this.node.active=!1},onEnable:function(){i.addEventListener(n.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],PTSantaUpUI:[function(t,e){"use strict";cc._RF.push(e,"3227aff7mNM7qJF4JIqupp0","PTSantaUpUI");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaUserData"),s=t("PTSantaUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{btnHome:cc.Node,labBalance:cc.Label,titleList:{type:cc.Node,default:[]}},onLoad:function(){var t=this;this.labBalance.string=s.formattingCoins(c.getInstant.playerCoin),resizeWinX(this);var e=0;this.schedule(function(){for(var n=0;n<t.titleList.length;n++)t.titleList[n].active=e==n;++e>=t.titleList.length&&(e=0)},5)},onClickMusic:function(){c.getInstant.musicControl=!c.getInstant.musicControl,cc.find("imgOff",this.btnMusic).active=!c.getInstant.musicControl,cc.find("imgOn",this.btnMusic).active=c.getInstant.musicControl,c.getInstant.musicControl?o.GameMode==a.GAME_MODE.NORMAL?i.emit(n.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):i.emit(n.PLAY_AUDIO_BGM,{id:2,isFrist:!0}):i.emit(n.STOP_AUDIO),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickSound:function(){c.getInstant.soundEffectControl=!c.getInstant.soundEffectControl,cc.find("imgOff",this.btnSound).active=!c.getInstant.soundEffectControl,cc.find("imgOn",this.btnSound).active=c.getInstant.soundEffectControl,c.getInstant.soundEffectContro&&i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickHome:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),i.emit(n.OUT_GAME)},onClickMenu:function(){this.pnlMenu.active=!this.pnlMenu.active,i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnShow"),i.emit(n.SHOW_HELP_VIEW)},updageGameWin:function(t){0!=t&&(c.getInstant.playerCoin+=t,this.labBalance.string=s.formattingCoins(c.getInstant.playerCoin))},onChargeAllResult:function(t){t&&(this.hideHandTip(),c.getInstant.playerCoin=t.score?t.score:0,this.labBalance.string=s.formattingCoins(c.getInstant.playerCoin))},onLotteryResult:function(){},hideHandTip:function(){},onHaveNoMoney:function(){},onStartRoll:function(){s.isNormalGame()&&!o.IsFakeSolt&&(c.getInstant.playerCoin-=o.BetValue,this.labBalance.string=s.formattingCoins(c.getInstant.playerCoin))},onChangeGameMode:function(){this.btnHome.getComponent(cc.Button).interactable=o.GameMode==a.GAME_MODE.NORMAL},showUpUI:function(){this.node.active=!0},hideUpUi:function(){this.node.active=!1},UPDATE_COIN:function(){this.labEntries&&(this.labEntries.string=s.formattingCoins(c.getInstant.playerCoin)),this.labBalance&&(this.labBalance.string=s.formattingCoins(c.getInstant.playerCoin))},onEnable:function(){i.addEventListener("UPDATE_COIN",this.UPDATE_COIN,this),i.addEventListener(n.SHOW_UI_UP,this.showUpUI,this),i.addEventListener(n.HIDE_UI_UP,this.hideUpUi,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.UPDATE_GAME_WIN,this.updageGameWin,this),i.addEventListener(n.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),i.addEventListener(n.HAVE_NO_MONEY,this.onHaveNoMoney,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTSantaUserData:[function(t,e){"use strict";cc._RF.push(e,"c064etSN2lP5qybS/seD6Qy","PTSantaUserData");var n={Bundle:null,LotteryRes:null,init:function(t){n.Bundle=t,n.GameMode=0,n.Status=0,n.BetIndex=0,n.BetIndex=0,n.Line=25,n.FakeFreeTime=0,n.AllFakeFreeTime=0,n.isFast=!1,n.FakeSoltIndex=0,n.Multiplier=1,n.IsAuto=!1,n.IsFreeSolt=!1,n.IsFakeSolt=!1},initFreeData:function(){n.FreeTimeNow=0,n.FreeTimeAll=0,n.FreeRemaining=0,n.FreeWinCoins=0,n.IsFreeSolt=!0,n.FreeSoltIndex=0}};e.exports=n,cc._RF.pop()},{}],PTSantaUtil:[function(t,e){"use strict";cc._RF.push(e,"caeaa9mp3FI/I5/qPJ2tcWp","PTSantaUtil");var n=t("PTSantaGameData"),i=t("PTSantaUserData"),a=(t("PTSantaItemConfig"),t("PlayerInfo")),o={convertNetData:function(t){for(var e=[],i=0;i<5;i++)e[i]=[];for(var a in t)e[a%5][n.VERTICAL_ITEM_COUNT-1-parseInt(a/5)]=t[a];return e},splitScore:function(t,e){var n=[],i=Math.floor(t/(2*e));return function t(a){if(1!=e){var o=Math.floor(a/e),s=Math.floor(o+o-o/2);n.push(s+i),e--,t(a-=s)}else n.push(a+i)}(t-i*e),o.disruptList(n)},disruptList:function(t){var e=[];return function n(){if(1!=t.length){var i=o.getRandID(0,t.length-1);e.push(t[i]),t.splice(i,1),n()}else e.push(t[0])}(),e},getItemWheelID:function(t){return t%5},getWheelIDListByItemList:function(t){for(var e=[],n=0;n<t.length;n++){for(var i=o.getItemWheelID(t[n]),a=!0,s=0;s<e.length;s++)if(e[s]==i){a=!1;break}a&&e.push(i)}return e},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,n){for(var i=[],a=0;a<15;a++)n[a]?i[a]=n[a]:i[a]=o.getRandID(t,e);return i},formattingCoins:function(t){return(t/a.getInstant.exchangeRate).toFixed(2)},getRandItemFromList:function(t){return t[o.getRandID(0,t.length-1)]},isNormalGame:function(){return n.GAME_MODE.NORMAL==i.GameMode},getRate:function(t){return t/i.BetValue},getBigWinRate:function(t){var e=o.getRate(t),n=0;return e>=500?n=5:e>=200?n=4:e>=100?n=3:e>=50?n=2:e>=20&&(n=1),n},checkBigWin:function(t){return t/i.BetValue>=20},getItemCount:function(t,e){for(var n=0,i=0;i<t.length;i++)t[i]==e&&n++;return n},checkWinItemID:function(t,e){for(var n=0,i=0;i<t.length;i++)t[i]==e&&n++;return n},getWinItemNetData:function(t,e){for(var n=[],i=0;i<t.length;i++)t[i]&&n.push(e[i]);return n},checkWinItem:function(t,e,n){for(var i=0;i<n.length;i++)if(n[i]==t&&e[i])return!0;return!1},extendCopy:function(t){var e={};for(var n in t)e[n]=t[n];return e}};e.exports=o,cc._RF.pop()},{PlayerInfo:void 0}],PTSantaWheelAni:[function(t,e){"use strict";cc._RF.push(e,"54b6bXFDKFEmpon+tsPKWxC","PTSantaWheelAni");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=(t("PTSantaUserData"),t("PTSantaItemConfig"));cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=o.WHEEL_WIDTH},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getWheelID:function(){return this.wheelId},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(a.BUNDLE_NAME+"ItemAni").reset(),e.active=!1}},setItemmData:function(t,e){for(var n=0;n<this.itemAniList.length;n++)this.itemAniList[n].getComponent(a.BUNDLE_NAME+"ItemAni").changeItem(t[n]);this.pnlItemAni.y=1==e?o.ITEM_HEIGHT/2:0},showWinItem:function(t){for(var e=0;e<t.length;e++)t[e]&&(this.itemAniList[e].active=!0,this.itemAniList[e].getComponent(a.BUNDLE_NAME+"ItemAni").playSelectAni())},isShowBounsEffectIng:function(){return this.aniWild.active},hideBounsEffect:function(){this.aniWild.active=!1},playBonusEffect:function(){this.aniWild.active=!0},onStartRoll:function(){this.resetItem()},onChangeGameMode:function(){},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var t=0;t<a.VERTICAL_ITEM_COUNT;t++){var e=o.ITEM_HEIGHT*t-o.ITEM_HEIGHT,n=cc.instantiate(this.preItemAni);this.itemAniList.push(n),this.pnlItemAni.addChild(n),n.getComponent(a.BUNDLE_NAME+"ItemAni").initItem(this.wheelId),n.y=e,n.active=!1}}}),cc._RF.pop()},{}],PTSantaWheel:[function(t,e){"use strict";cc._RF.push(e,"f4d41GQ6nFPg5P1On+igq6V","PTSantaWheel");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaGameData"),o=t("PTSantaUserData"),s=t("PTSantaItemConfig"),c=t("PTSantaUtil"),l=-s.ITEM_HEIGHT*a.VERTICAL_ITEM_COUNT/2,r=s.ITEM_HEIGHT*(a.VERTICAL_ITEM_COUNT+1)/2;cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node,imgBg:cc.Node,imgBgFree:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=s.WHEEL_WIDTH,this.node.height=s.WHEEL_HEIGHT,this.imgBg.width=s.WHEEL_WIDTH,this.imgBg.height=s.WHEEL_HEIGHT,this.imgBgFree.width=s.WHEEL_WIDTH,this.imgBgFree.height=s.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=s.WHEEL_WIDTH,t.height=s.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(a.BUNDLE_NAME+"Item").isBonusItem()&&t++;return t},checkScatterItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(a.BUNDLE_NAME+"Item").isScatter()&&t++;return t},checkWildItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(a.BUNDLE_NAME+"Item").isWildItem()&&t++;return t},changeToItem:function(t){for(var e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(a.BUNDLE_NAME+"Item").changeItem(t,!1,3-e)},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(a.BUNDLE_NAME+"Item").reset()},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(t){(c.isNormalGame()||4-o.RollFreeCount!=this.wheelId||t)&&(this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset())},onChangeGameMode:function(){this.changeMode(o.GameMode),this.imgBg.active=o.GameMode==a.GAME_MODE.NORMAL,this.imgBgFree.active=o.GameMode==a.GAME_MODE.FREE},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.RESET_WHEEL,this.onResetWheel,this)},onGetNetData:function(t){this.isStopRoll||(this.netIdList=t,this.isStopRoll=!0)},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[],this.isCheckFramed=!1;for(var e=function(e){var n=t.itemList[e],i=cc.tween(n);n.getComponent(a.BUNDLE_NAME+"Item").setItemVericalPos(-1),i.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-s.ITEM_HEIGHT)}).call(function(){if(n.y<l){n.y=r;var o=t.getItemRandID();n.getComponent(a.BUNDLE_NAME+"Item").changeItem(o)}t.isStopRoll&&(i.stop(),t.rollEnd(n,e)),t.isResetRoll&&(i.stop(),t.resetRolePos(n,e))})).start()},n=0;n<this.itemList.length;n++)e(n)},getItemRandID:function(){return c.getRandID(s.ItemID.item00,s.ItemID.item08)},resetIndex:function(){for(var t in this.itemIDIndex=[],s.ItemID)this.itemIDIndex[s.ItemID[t]]=1},getItemSpriteFrameIndex:function(t){if(t==s.ItemID.WILD)return 1==this.itemIDIndex[t]&&(this.itemIDIndex[t]=4),this.itemIDIndex[t]--,this.itemIDIndex[t]},checkFrameIndex:function(){if(!this.isCheckFramed){this.isCheckFramed=!0;var t=0;if(this.netIdList[0]==s.ItemID.WILD){t++;for(var e=1;e<this.netIdList.length&&this.netIdList[e]==s.ItemID.WILD;e++)t++}this.itemIDIndex[s.ItemID.WILD]=t%3+1}},rollEnd:function(t,e){var o=this,c=this;cc.tween(t).repeat(a.VERTICAL_ITEM_COUNT+1,cc.tween().by(.06,{position:cc.v2(0,-s.ITEM_HEIGHT)}).call(function(){if(t.y<l){if(t.y=r,c.itemIndex>=c.netIdList.length){var e=o.getItemRandID();t.getComponent(a.BUNDLE_NAME+"Item").changeItem(e)}else t.getComponent(a.BUNDLE_NAME+"Item").changeItem(c.netIdList[c.itemIndex]),c.resultItemList.push(t);t.getComponent(a.BUNDLE_NAME+"Item").setItemVericalPos(c.itemIndex),c.itemIndex++}})).call(function(){var s=t.getComponent(a.BUNDLE_NAME+"Item").getItemVerticalPos();s=-1==s?a.VERTICAL_ITEM_COUNT+1:s,o.resetRolePos(t,s),e==o.itemList.length-1&&i.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<s.ITEM_HEIGHT+s.ITEM_HEIGHT/2&&t.getComponent(a.BUNDLE_NAME+"Item").rollEnd(),o.itemList.length-1==e&&i.emit(n.ON_WHEEL_ROLL_END,o.wheelId)}).start()},resetRolePos:function(t,e){t.y=s.ITEM_HEIGHT*e-s.ITEM_HEIGHT*(a.VERTICAL_ITEM_COUNT-1)/2},initItem:function(){this.itemList=[];for(var t=0;t<a.VERTICAL_ITEM_COUNT+1;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),this.resetRolePos(e,t),e.getComponent(a.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],PTSantaYouWin:[function(t,e){"use strict";cc._RF.push(e,"567bcvP9udFFYL+XoGhtj56","PTSantaYouWin");var n=t("PTSantaEventConfig"),i=t("PTSantaEventManager"),a=t("PTSantaUserData"),o=t("PTSantaGameData"),s=t("PTSantaUtil");cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,labCount:cc.Label,labWin:cc.Label},onLoad:function(){this.addEventListener()},show:function(t){this.callback=t.callback,this.node.active=!0,this.labCount.string=t.count,this.labWin.string=s.formattingCoins(t.win),this.pnlMain.opacity=0,cc.tween(this.pnlMain).to(.5,{opacity:255}).start(),i.emit(n.PLAY_AUDIO_EF,"free_end1"),i.emit(n.PLAY_AUDIO_BGM,{id:5})},toHide:function(){},hide:function(){var t=this;a.GameMode=o.GAME_MODE.NORMAL,i.emit(n.CHANGE_GAME_MODE),cc.tween(this.pnlMain).to(.5,{opacity:0}).call(function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),t.callback(),t.node.active=!1}).start()},addEventListener:function(){i.addEventListener(n.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["PTSantaAddCoins","PTSantaAuto","PTSantaBigWin","PTSantaDownUI","PTSantaHelp","PTSantaTipView","PTSantaUpUI","PTSantaEventConfig","PTSantaEventManager","PTSantaGameData","PTSantaItemConfig","PTSantaLineConfig","PTSantaNetWheelConfig","PTSantaUserData","PTSantaAudio","PTSantaBg","PTSantaBonusGame","PTSantaBonusItem","PTSantaBonusTransit","PTSantaBonusWin","PTSantaFree","PTSantaItem","PTSantaItemAni","PTSantaLine","PTSantaLineItem","PTSantaLineTabel","PTSantaMain","PTSantaNetwork","PTSantaScene","PTSantaTransit","PTSantaUtil","PTSantaWheel","PTSantaWheelAni","PTSantaYouWin"]);