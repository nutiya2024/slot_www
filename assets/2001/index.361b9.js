window.__require=function e(t,o,n){function r(i,c){if(!o[i]){if(!t[i]){var l=i.split("/");if(l=l[l.length-1],!t[l]){var s="function"==typeof __require&&__require;if(!c&&s)return s(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+i+"'")}i=l}var p=o[i]={exports:{}};t[i][0].call(p.exports,function(e){return r(t[i][1][e]||e)},p,p.exports,e,t,o,n)}return o[i].exports}for(var a="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({JHLConst:[function(e,t,o){"use strict";cc._RF.push(t,"d7846vVFnVDQJmMxaUmPwJD","JHLConst");var n=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,i=(r.property,function(){function e(){this.GameLayer=null,this.LastHeartBeat=999999999999999,this.NFHeartBeat=999999999999998,this.CDHeartBeat=5,this.AUTO=0,this.Recall_0=[],this.Recall_1=[],this.Bets=[],this.GameNet=null,this.History=[],this.Entries=0,this.WinPool=0,this.Winning=0,this.PlayerInfo=null,this.state=-1,this.MapEffects=new Map,this.MapAtlas=new Map,this.UI=null,this.poker=null,this.JPES=0,this.SPEED=0,this.BET=[1,2,3,4,5,6,7,8,10,12,14,17,20,25,30,40,50,60]}var t;return t=e,Object.defineProperty(e,"once",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!1,configurable:!0}),e.destroyInstance=function(){t._instance&&(t._instance=null)},t=n([a],e)}());o.default=i,cc._RF.pop()},{}],JHLEffect:[function(e,t,o){"use strict";cc._RF.push(t,"03db61GkbpDm4QTAzzl1ikY","JHLEffect");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./JHLConst"),c=cc._decorator,l=c.ccclass,s=c.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.light=null,t.an_girl=null,t.an_deng=null,t.an_car=null,t.pat_star=null,t.lb_major=null,t.pokers=[],t.zhongs=[],t.stops=[],t.POOL_INDEX=0,t}return r(t,e),t.prototype.onLoad=function(){this.lb_major=cc.find("lb_major/lb_major",this.node).getComponent("JHLLabel");for(var e=0;e<5;e++){var t=this.node.getChildByName("layer_poker").children[e].getComponent(cc.Sprite);this.pokers.push(t),this.zhongs.push(t.node.getChildByName("zhong").getComponent(cc.Animation));var o=i.default.once.MapEffects.get("zhong_");o.wrapMode=cc.WrapMode.Loop,this.zhongs[e].addClip(o),this.zhongs[e].play(o.name),this.stops.push(t.node.getChildByName("zhang_"+e).getComponent(cc.Animation));var n=i.default.once.MapEffects.get("STOP_");n.wrapMode=cc.WrapMode.Normal,this.stops[e].addClip(n),this.stops[e].node.on(cc.Node.EventType.TOUCH_START,this.onTouchStop,this)}var r=i.default.once.MapEffects.get("putongjiang_");r.wrapMode=cc.WrapMode.Loop,this.an_deng.addClip(r),this.an_deng.play(r.name);var a=i.default.once.MapEffects.get("1_000");a.wrapMode=cc.WrapMode.Loop,this.an_car.addClip(a),this.an_car.play(a.name);var c=i.default.once.MapEffects.get("girl_");c.wrapMode=cc.WrapMode.Loop,this.an_girl.addClip(c),this.an_girl.play(c.name),this.lb_win=cc.find("car/light/lb_win",this.node).getComponent("JHLLabel"),this.reset([0,1,2,3,4])},t.prototype.refreshWinPool=function(){if(0!=i.default.once.WinPool){var e=i.default.once.WinPool/i.default.once.PlayerInfo.exchangeRate;this.lb_major.node.parent.active=!0;var t=[1,.36363,.093,.0216];++this.POOL_INDEX>=t.length&&(this.POOL_INDEX=0),this.lb_major.string="$"+(e*t[this.POOL_INDEX]).toFixed(2),this.lb_major.node.parent.getComponent(cc.Sprite).spriteFrame=i.default.once.UI.getSpriteFrame(""+[15,11,14,13][this.POOL_INDEX])}},t.prototype.reset=function(e){void 0===e&&(e=[]);for(var t=0,o=function(o){n.zhongs[o].node.active=!1,n.stops[o].node.active=!1;var r=n.pokers[o];if(r.node.stopAllActions(),r.node.scale=1,"-1"!=r.spriteFrame.name&&-1==e.indexOf(o)){var a=[.2,.15,.1][i.default.once.SPEED];t=a+.005,r.node.runAction(cc.sequence(cc.scaleTo(a/2,.05,1),cc.callFunc(function(){r.spriteFrame=i.default.once.poker.getSpriteFrame("-1")}),cc.scaleTo(a/2,1,1)))}},n=this,r=0;r<this.pokers.length;r++)o(r);return this.lb_win.node.parent.active=!1,this.an_deng.node.active=!1,this.an_car.node.active=!1,this.light.stopAllActions(),this.light.active=!1,this.resetSelect(),this.resetType(),i.default.once.GameLayer.stopEffect("BigWinScore"),t},t.prototype.resetType=function(){for(var e=0;e<10;e++){var t=this.light.parent.getChildByName("type_"+e);t.getChildByName("bl_1").active=!1,t.getChildByName("bl_1").stopAllActions(),t.getChildByName("type_1").active=!1,t.getChildByName("type_1").stopAllActions()}},t.prototype.refreshBL=function(){for(var e=i.default.once.BET[i.default.once.JPES],t=[2,8,15,30,50,100,150,200,400,800],o=0;o<10;o++){var n=this.light.parent.getChildByName("type_"+o);n.getChildByName("bl_1").x=150,n.getChildByName("bl_0").x=150,n.getChildByName("bl_0").getComponent("JHLLabel").string=n.getChildByName("bl_1").getComponent("JHLLabel").string=i.default.once.GameLayer.changeGold(t[o]*e)}},t.prototype.openPoker=function(e){for(var t=0,o=[.2,.15,.1][i.default.once.SPEED],n=function(n){var a=r.pokers[n];a.node.stopAllActions(),a.node.scale=1,a.spriteFrame.name!=""+e[n]&&(a.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){i.default.once.GameLayer.playEffect("FlipCard")}),cc.scaleTo(o/2,.05,1),cc.callFunc(function(){a.spriteFrame=i.default.once.poker.getSpriteFrame(e[n])}),cc.scaleTo(o/2,1,1))),t+=o)},r=this,a=0;a<this.pokers.length;a++)n(a);return t},t.prototype.showStar=function(e){void 0===e&&(e=!0),this.pat_star.node.active=e,this.pat_star.resetSystem()},t.prototype.onTouchStop=function(e){cc.log("e:"+e);var t=e.target.name.split("zhang_")[1];this.stops[t].node.opacity>0?(this.stops[t].node.opacity=0,i.default.once.GameLayer.playEffect("CancelCard")):(this.stops[t].node.opacity=255,this.stops[t].play("STOP_"),i.default.once.GameLayer.playEffect("ChooseCard"))},t.prototype.showStop=function(e,t){var o=this;if(void 0===e&&(e=[]),void 0===t&&(t=[]),0==e.length){for(var n=[0,0,0,0],r=0;r<t.length;r++){var a=t[r];a>=52?n[r]++:n[Math.floor(a/13)]++}for(r=0;r<n.length;r++)if(n[r]>=3)for(var c=0;c<t.length;c++)(Math.floor(t[c]/13)==r||t[c]>=52)&&e.push(c);if(0==e.length){var l=[[0,1,2,3],[0,1,2,4],[0,1,3,4],[0,2,3,4],[1,2,3,4]],s=[[9,10,11,12,0],[8,9,10,11,12],[7,8,9,10,11],[6,7,8,9,10],[5,6,7,8,9],[4,5,6,7,8],[3,4,5,6,7],[2,3,4,5,6],[1,2,3,4,5]];for(c=0;c<l.length;c++){var p=l[c],u=!1;if(0!=e.length)break;var f=[[],[],[],[]];for(r=0;r<p.length;r++){for(var d=t[p[r]],h=d%13,y=0;y<p.length;y++){var v=t[p[y]]%13;r!=y&&h==v&&d<52&&(u=!0)}for(var g=0;g<s.length;g++)(-1!=s[g].indexOf(h)||d>=52)&&f[r].push(g)}if(!u)for(r=0;r<f[0].length;r++){var _=f[0];if(0!=e.length)break;for(var m=0;m<_.length;m++){var L=0,E=_[m];if(0!=e.length)break;for(var b=0;b<f.length;b++)-1!=f[b].indexOf(E)&&L++;4==L&&(e=p)}}}}if(0==e.length){for(r=0;r<t.length;r++){(C=t[r])>=52&&(e=[r]);break}for(r=0;r<t.length;r++){var C=t[r]%13;if(0!=e.length)break;for(c=0;c<t.length;c++){var O=t[c]%13;if(r!=c&&C==O){e=[r,c];break}}}}}cc.log("winIndex:"+e);var w=0,S=function(t){var n=A.stops[t].node;n.active=!0,n.opacity=0,-1!=e.indexOf(t)&&(n.opacity=1,n.runAction(cc.sequence(cc.delayTime(w),cc.fadeIn(.01),cc.callFunc(function(){o.stops[t].play("STOP_"),i.default.once.GameLayer.playEffect("ChooseCard")}))),w+=.075)},A=this;for(r=0;r<this.stops.length;r++)S(r)},t.prototype.resetSelect=function(){for(var e=0;e<this.stops.length;e++)this.stops[e].node.opacity=0,this.stops[e].node.active=!1},t.prototype.getSelect=function(){for(var e=[],t=0;t<this.stops.length;t++)this.stops[t].node.active&&this.stops[t].node.opacity>0&&e.push(t);return e},t.prototype.showWin=function(e){if(e.win>0){i.default.once.GameLayer.playEffect("SprayCoin"),this.lb_win.node.parent.active=!0,this.lb_win.string=i.default.once.GameLayer.changeGold(e.win);var t=this.light.parent.getChildByName("type_"+(e.winType-1));this.light.y=t.y,this.light.active=!0,t.getChildByName("bl_1").active=!0,t.getChildByName("bl_1").opacity=0,t.getChildByName("type_1").active=!0,t.getChildByName("type_1").opacity=0,this.light.runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.delayTime(.5),cc.fadeOut(.5)))),t.getChildByName("type_1").runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.delayTime(.5),cc.fadeOut(.5)))),t.getChildByName("bl_1").runAction(cc.repeatForever(cc.sequence(cc.fadeIn(.5),cc.delayTime(.5),cc.fadeOut(.5))));for(var o=0;o<this.zhongs.length;o++)this.zhongs[o].node.active=!0,this.zhongs[o].node.opacity=0,-1!=e.winIndex.indexOf(o)&&(this.zhongs[o].node.opacity=255,this.zhongs[o].play("zhong_"));e.isFinal&&(this.pat_star.node.active=!0,this.pat_star.resetSystem())}e.winType>1&&(this.an_car.node.active=!0,i.default.once.GameLayer.playEffect("BigWinScore")),1==e.winType&&(this.an_deng.node.active=!0,i.default.once.GameLayer.playEffect("WinScore"))},a([s(cc.Node)],t.prototype,"light",void 0),a([s(cc.Animation)],t.prototype,"an_girl",void 0),a([s(cc.Animation)],t.prototype,"an_deng",void 0),a([s(cc.Animation)],t.prototype,"an_car",void 0),a([s(cc.ParticleSystem)],t.prototype,"pat_star",void 0),a([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./JHLConst":"JHLConst"}],JHLLabel:[function(e,t){"use strict";cc._RF.push(t,"e617a/eUdhDR4aIGBy2Mg8/","JHLLabel");var o=cc.Enum({LEFT:0,CENTER:1,RIGHT:2});cc.Class({editor:!1,extends:cc.Component,properties:{_layout:{get:function(){var e=this.node.getComponent(cc.Layout);return e||((e=this.node.addComponent(cc.Layout)).type=1),e}},string:{default:"",notify:function(){this._updateWordArt()}},alignType:{type:o,default:o.CENTER,notify:function(){this._checkAnchorX()}},defaultNames:{default:"2"},spriteAtlas:{type:cc.SpriteAtlas,default:null}},onLoad:function(){this._checkAnchorX()},_checkAnchorX:function(){this.alignType===o.CENTER?this.node.anchorX=.5:this.node.anchorX=this.alignType===o.RIGHT?1:0},_updateWordArt:function(){if(!this.spriteAtlas)return cc.log("\u65e0\u6548\u7684 spriteAtlas \u56fe\u96c6\u8d44\u6e90\uff01");this._names=this.defaultNames.split(","),this.setWordArt()},setWordArt:function(){try{for(var e=(""+this.string).split(""),t=this.node.children,n=0,r=0;r<e.length||r<t.length;r++){var a=t[r];if(a||((i=(a=new cc.Node).addComponent(cc.Sprite)).trim=!0,i.sizeMode=cc.Sprite.SizeMode.TRIMMED,i.type=cc.Sprite.Type.SIMPLE),a.parent||(a.parent=this.node),a.active=r<e.length,a.active){var i=a.getComponent(cc.Sprite),c=e[this.alignType!==o.CENTER?e.length-1-r:r];if("."===c&&(c="_"),c=this._names[0]+c,this._names[1]&&(c+=this._names[1]),void 0===c)return void cc.log("\u56fe\u96c6\u8d44\u6e90spriteAtlas \u627e\u4e0d\u5230\u56fe\u7247\u540d\u79f0\uff1a"+c+"\uff01");i.spriteFrame=this.spriteAtlas.getSpriteFrame(""+c),n+=a.width}}n+=(e.length+1)*this._layout.spacingX,this._layout.paddingLeft=this._layout.spacingX,this._layout.paddingRight=this._layout.spacingX,this.node.width=n,this.alignType===o.RIGHT&&(this._layout.horizontalDirection=1),this.alignType===o.LEFT&&(this._layout.horizontalDirection=1),this.alignType===o.CENTER&&(this._layout.horizontalDirection=0)}catch(l){cc.log(l)}}}),cc._RF.pop()},{}],JHLLoading:[function(e,t,o){"use strict";cc._RF.push(t,"8f4a6xSpc5Hg6aidMdmVgXp","JHLLoading");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.GameLoadType=void 0;var i,c=e("../../../Script/utils/Utils"),l=e("./JHLConst");(function(e){e[e.Sprite=0]="Sprite",e[e.Atlas=1]="Atlas",e[e.Skeleton=2]="Skeleton",e[e.ParticleAsset=3]="ParticleAsset",e[e.Prefab=4]="Prefab",e[e.Json=5]="Json"})(i=o.GameLoadType||(o.GameLoadType={}));var s=cc._decorator,p=s.ccclass,u=s.property,f=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.effectsAtals=[],e.poker=null,e.UI=null,e.MusicDic={},e}return r(o,t),o.prototype.onLoad=function(){this.loadFinish()},o.prototype.playBGM=function(t,o){void 0===o&&(o=!0),0!=e("PlayerInfo").getInstant.musicControl&&(t=t||this.MusicDic[404],o&&(this.MusicDic[404]=t),this.play(t,!0,!0))},o.prototype.stopBGM=function(){cc.audioEngine.stopAll()},o.prototype.playEffect=function(t){0!=e("PlayerInfo").getInstant.soundEffectControl&&this.play(t,!1,!1)},o.prototype.stopEffect=function(e){this.MusicDic[e]&&cc.audioEngine.stop(this.MusicDic[e])},o.prototype.play=function(e,t,o){void 0===o&&(o=!1),t&&cc.audioEngine.stopAll();var n=this[e];n&&(this.MusicDic[e]=cc.audioEngine.play(n,t,1))},o.prototype.loadFinish=function(){l.default.once.PlayerInfo=e("PlayerInfo").getInstant;for(var t=[],o=[{key:"1_000",space:40},{key:"girl_",space:25},{key:"putongjiang_",space:40},{key:"zhong_",space:40},{key:"STOP_",space:40},"kongjian_","guang_"],n=["UI","poker"],r=0;r<this.effectsAtals.length;r++)t.push(this.effectsAtals[r].getSpriteFrames());for(r=0;r<n.length;r++){var a=n[r];l.default.once.MapAtlas.set(a,this[a])}for(l.default.once.UI=l.default.once.MapAtlas.get("UI"),l.default.once.poker=l.default.once.MapAtlas.get("poker"),r=0;r<o.length;r++){var c=o[r],s=(a="string"==typeof c?c:c.key,c.space||10),p=this.getAni(t,a,i.Atlas,cc.WrapMode.Default,s);l.default.once.MapEffects.set(a,p)}},o.prototype.getAni=function(e,t,o,n,r,a,i){void 0===n&&(n=cc.WrapMode.Loop),void 0===a&&(a=null),void 0===i&&(i=1),r=r||10;var l=this.findArrayFile(e,t,o);if(l=this.desArray(l,[t]),1!==i){for(var s=[],p=0;p<i;p++)for(var u=0;u<l.length;u++)s.push(l[u]);l=s}var f=c.default.createWithSpriteFrames(l,r,"animateFrameChange",a);return f.name=t,f.wrapMode=n,f},o.prototype.findArrayFile=function(e,t,o){for(var n=[],r=null,a=0;a<e.length;a++){var l=e[a];if(o===i.Atlas)if(l instanceof Array)for(var s=0;s<l.length;s++){var p=l[s];if(-1!==p.name.indexOf(t)){var u=p.name.split(t);c.default.isNumber(u[1])&&n.push(p)}}else-1!==l.name.indexOf(t)&&(u=l.name.split(t),c.default.isNumber(u[1])&&n.push(l));else l.name&&-1!==l.name.indexOf(t)&&(r=l)}return o===i.Atlas?n:r},o.prototype.desArray=function(e,t){void 0===t&&(t=[]);var o=t.concat(["swim","death"]);return e.sort(function(e,t){for(var n=e.name,r="",a=0;a<o.length;a++)if(-1!==n.indexOf(o[a])){r=o[a];break}var i=n.split(r);n=i[i.length-1];var c=t.name,l=c.split(r);c=l[l.length-1];var s=Math.ceil(n),p=Math.ceil(c);return s>p?1:s<p?-1:0}),e},a([u([cc.SpriteAtlas])],o.prototype,"effectsAtals",void 0),a([u(cc.SpriteAtlas)],o.prototype,"poker",void 0),a([u(cc.SpriteAtlas)],o.prototype,"UI",void 0),a([p],o)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../Script/utils/Utils":void 0,"./JHLConst":"JHLConst",PlayerInfo:void 0}],JHLMenu:[function(e,t,o){"use strict";cc._RF.push(t,"744b0Hbu25JvK1/sdLVx8uJ","JHLMenu");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./JHLConst"),c=cc._decorator,l=c.ccclass,s=c.property,p=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_setup=null,e.sp_type=null,e.btnJPESAdd=null,e.btnJPES__=null,e.btnRun=null,e.btnTake=null,e.layerInfo=null,e.layerRule=null,e.lbEntries=null,e.lbWin=null,e.tipShouzhi=null,e.layerRecharge=null,e.layerNetError=null,e.btnNetError=null,e.layerSure=null,e.sp_speed=null,e.lb_count=null,e.layerMore=null,e.layerOptions=null,e.sps=[],e.layerGold=null,e.layerG=null,e.lbJPES=null,e.lb_win=null,e}return r(o,t),o.prototype.onLoad=function(){this.lbJPES=this.node.getChildByName("lb_play").getComponent("JHLLabel"),this.lb_win=cc.find("sp_win/lb_win",this.node).getComponent("JHLLabel");for(var e=0;e<8;e++)this.layerMore.getChildByName("btn_"+e).on("click",this.onChlickedAuto,this);cc.log("JHLConst.once.BET:"+i.default.once.BET),i.default.once.PlayerInfo.slotBetList&&(i.default.once.BET=i.default.once.PlayerInfo.slotBetList),this.layerGold.active=!1,this.layerG.y=0,this.lbEntries.node.y=0},o.prototype.onChlickedAuto=function(e){i.default.once.GameLayer.playEffect("OtherButton");var t=parseInt(e.target.name.split("btn_")[1]);i.default.once.AUTO=[10,20,30,50,70,100,500,999][t],this.layerMore.active=!1,this.refreshAuto(),this.onClickedRun()},o.prototype.refreshAuto=function(){this.lb_count.node.active=i.default.once.AUTO>0,this.lb_count.string=i.default.once.AUTO+""},o.prototype.reset=function(){this.lb_win.node.parent.active=!1,this.btnTake.node.active=!1,this.btnRun.interactable=!0,this.btnJPESAdd.interactable=!0,this.btnJPES__.interactable=!0},o.prototype.showTake=function(e,t){void 0===t&&(t=[]),this.btnTake.node.active=e},o.prototype.showWin=function(e){this.lb_win.node.parent.active=!0,this.lb_win.string=i.default.once.GameLayer.changeGold(e)},o.prototype.onClickedNetError=function(){var e=this;i.default.once.GameLayer.playEffect("OtherButton"),this.btnNetError.interactable=!1,this.btnNetError.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){e.btnNetError.interactable=!0,i.default.once.GameNet.onOutGame()})))},o.prototype.closeNetError=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.btnNetError.node.stopAllActions(),this.showNetError(!1)},o.prototype.showNetError=function(e){cc.isValid(this.node)&&(this.layerNetError.active=e,e&&i.default.once.GameNet.socket.disconnect())},o.prototype.getSameNum=function(e,t){return t.filter(function(t){return t==e}).length},o.prototype.refreshJPES=function(){var e=i.default.once.BET[i.default.once.JPES];this.lbJPES.string=i.default.once.GameLayer.changeGold(e),i.default.once.GameLayer.EffectLayer.refreshBL()},o.prototype.onClickAdd=function(){i.default.once.GameLayer.playEffect("BetButton"),i.default.once.JPES=++i.default.once.JPES>=i.default.once.BET.length?0:i.default.once.JPES,this.refreshJPES(),i.default.once.Result&&!i.default.once.Result.isFinal&&(i.default.once.Result.win>0?this.onClickedTake():(i.default.once.GameLayer.EffectLayer.resetSelect(),i.default.once.GameLayer.EffectLayer.resetType()))},o.prototype.onClick__=function(){i.default.once.GameLayer.playEffect("BetButton"),i.default.once.JPES=--i.default.once.JPES<0?i.default.once.BET.length-1:i.default.once.JPES,this.refreshJPES(),i.default.once.Result&&!i.default.once.Result.isFinal&&(i.default.once.Result.win>0?this.onClickedTake():(i.default.once.GameLayer.EffectLayer.resetSelect(),i.default.once.GameLayer.EffectLayer.resetType()))},o.prototype.onClickedSpeed=function(){i.default.once.GameLayer.playEffect("OtherButton"),++i.default.once.SPEED>2&&(i.default.once.SPEED=0),this.sp_speed.spriteFrame=this.sps[i.default.once.SPEED]},o.prototype.onClickedRun=function(){var e=i.default.once.BET[i.default.once.JPES];if(e>i.default.once.Entries)return this.showHand(),i.default.once.AUTO=0,this.refreshAuto(),void(this.btnRun.interactable=!0);i.default.once.GameLayer.playEffect("OtherButton"),this.btnJPESAdd.interactable=!1,this.btnJPES__.interactable=!1,this.btnRun.interactable=!1,this.btnTake.node.active=!1,this.lb_win.node.parent.active=!1;var t=i.default.once.GameLayer.EffectLayer.getSelect(),o=i.default.once.GameLayer.EffectLayer.reset(t);this.sp_type.spriteFrame=i.default.once.UI.getSpriteFrame("1e6"),this.scheduleOnce(function(){i.default.once.GameNet.requesBet({bet:e,cardArr:t})},o)},o.prototype.onClickedTake=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.btnTake.node.active=!1,i.default.once.GameLayer.EffectLayer.reset([0,1,2,3,4]),i.default.once.GameNet.requesOpen()},o.prototype.onClickMore=function(){i.default.once.GameLayer.playEffect("OtherButton"),i.default.once.AUTO>0?i.default.once.AUTO=0:this.layerMore.active=!0,this.refreshAuto()},o.prototype.onClickCloseMore=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.layerMore.active=!1},o.prototype.onClickMenu=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.layerOptions.active=!this.layerOptions.active},o.prototype.onClickRechargeAdd=function(e,t){t=parseInt(t),i.default.once.GameLayer.playEffect("OtherButton"),i.default.once.GameNet.sendRecharge(t),this.onClickCloseRecharge()},o.prototype.onClickCloseSure=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.layerSure.active=!1},o.prototype.onClickLobby=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.layerSure.active=!0},o.prototype.onClickedExit=function(){i.default.once.GameLayer.playEffect("OtherButton"),Common.backHall("Are you sure you want to leave the game?",function(){i.default.once.GameNet.closeSocket()})},o.prototype.showHand=function(){var e=this;this.tipShouzhi.active=!0,this.tipShouzhi.stopAllActions(),this.tipShouzhi.runAction(cc.sequence(cc.delayTime(3),cc.callFunc(function(){e.tipShouzhi.active=!1})))},o.prototype.onClickRule=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.layerRule.active=!0},o.prototype.onClickCloseRule=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.layerRule.active=!1},o.prototype.refreshInfo=function(){this.lbEntries.string=i.default.once.GameLayer.changeGold(i.default.once.Entries)},o.prototype.onClickOpenRecharge=function(){this.layerRecharge.active=!0,i.default.once.GameLayer.playEffect("OtherButton")},o.prototype.onClickCloseRecharge=function(){i.default.once.GameLayer.playEffect("OtherButton"),this.layerRecharge.active=!1},o.prototype.onClickMusic=function(){i.default.once.GameLayer.playEffect("OtherButton");var t="1f7"==this.sp_setup.spriteFrame.name,o=t?"1f71":"1f7",n=t?0:1;n?cc.audioEngine.resumeAll():cc.audioEngine.pauseAll(),e("PlayerInfo").getInstant.soundEffectControl=n,this.sp_setup.spriteFrame=i.default.once.UI.getSpriteFrame(o)},a([s(cc.Sprite)],o.prototype,"sp_setup",void 0),a([s(cc.Sprite)],o.prototype,"sp_type",void 0),a([s(cc.Button)],o.prototype,"btnJPESAdd",void 0),a([s(cc.Button)],o.prototype,"btnJPES__",void 0),a([s(cc.Button)],o.prototype,"btnRun",void 0),a([s(cc.Button)],o.prototype,"btnTake",void 0),a([s(cc.Node)],o.prototype,"layerInfo",void 0),a([s(cc.Node)],o.prototype,"layerRule",void 0),a([s(cc.Label)],o.prototype,"lbEntries",void 0),a([s(cc.Label)],o.prototype,"lbWin",void 0),a([s(cc.Node)],o.prototype,"tipShouzhi",void 0),a([s(cc.Node)],o.prototype,"layerRecharge",void 0),a([s(cc.Node)],o.prototype,"layerNetError",void 0),a([s(cc.Button)],o.prototype,"btnNetError",void 0),a([s(cc.Node)],o.prototype,"layerSure",void 0),a([s(cc.Sprite)],o.prototype,"sp_speed",void 0),a([s(cc.Label)],o.prototype,"lb_count",void 0),a([s(cc.Node)],o.prototype,"layerMore",void 0),a([s(cc.Node)],o.prototype,"layerOptions",void 0),a([s([cc.SpriteFrame])],o.prototype,"sps",void 0),a([s(cc.Node)],o.prototype,"layerGold",void 0),a([s(cc.Node)],o.prototype,"layerG",void 0),a([l],o)}(cc.Component);o.default=p,cc._RF.pop()},{"./JHLConst":"JHLConst",PlayerInfo:void 0}],JHLNetwork:[function(e,t,o){"use strict";cc._RF.push(t,"77ec2eMoptEC5xJEpPvgtIu","JHLNetwork");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./JHLConst"),c=e("./JHLSecen"),l=cc._decorator,s=l.ccclass,p=l.property,u=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=null,e}return r(o,t),o.prototype.onLoad=function(){i.default.once.GameNet=this,i.default.once.PlayerInfo=e("PlayerInfo").getInstant,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},o.prototype.addNetEvent=function(t,o){var n=this;if("UPDATE_COIN"==t){var r=e("PlayerInfo");return i.default.once.Entries=r.getInstant.playerCoin,void this.view.MenuLayer.refreshInfo()}var a=window.changeResultJSON_Function(o);if("error"==t);else if("connect_error"==t)this.view&&this.view.MenuLayer&&this.view.MenuLayer.showNetError(!0);else if("connect_timeout"==t);else if("disconnect"==t)this.view&&this.view.MenuLayer&&this.view.MenuLayer.showNetError(!0);else if("loginGameResult"==t)1==a.resultid?(i.default.once.Entries=a.Obj.score,i.default.once.History=a.Obj.history_win,i.default.once.BET=a.Obj.coinList,this.view.reset()):this.onOutGame();else if("lotteryResult"==t)if(a&&a.ResultCode>0){var c,l=a.dictAnalyseResult;i.default.once.Result=a.dictAnalyseResult,i.default.once.Entries=a.ResultData.userscore,l.isFinal&&(i.default.once.Entries+=a.ResultData.winscore),this.view.MenuLayer.refreshInfo(),c=this.view.EffectLayer.openPoker(l.nHandCards),this.scheduleOnce(function(){l.isFinal||(l.winIndex.indexOf||(l.winIndex=[]),n.view.EffectLayer.showStop(l.winIndex,l.nHandCards),n.view.MenuLayer.sp_type.spriteFrame=i.default.once.UI.getSpriteFrame("1e7")),l.win>0&&(n.view.EffectLayer.showWin(l),n.view.MenuLayer.showTake(!l.isFinal),n.view.MenuLayer.sp_type.spriteFrame=null,n.view.MenuLayer.showWin(l.win))},c);var s=(l.win,c);i.default.once.AUTO>0&&(s+=1),this.view.MenuLayer.btnRun.node.stopAllActions(),this.view.MenuLayer.btnRun.node.runAction(cc.sequence(cc.delayTime(s),cc.callFunc(function(){i.default.once.AUTO>0?(i.default.once.AUTO--,n.view.MenuLayer.refreshAuto(),n.view.MenuLayer.onClickedRun()):(n.view.MenuLayer.btnRun.interactable=!0,n.view.MenuLayer.btnJPESAdd.interactable=!0,n.view.MenuLayer.btnJPES__.interactable=!0)})))}else this.view.MenuLayer.btnRun.interactable=!0;else"pushGamblingWinPool"==t&&(cc.log("pushGamblingWinPool:",a),1==a.ResultCode&&(i.default.once.WinPool=a.nGamblingWinPool,this.view.EffectLayer.refreshWinPool()))},o.prototype.onOutGame=function(){},o.prototype.closeSocket=function(){},o.prototype.requesBet=function(e){window.sendNetWorkData("lottery",JSON.stringify(e))},o.prototype.requesOpen=function(){window.sendNetWorkData("open",JSON.stringify("[]"))},o.prototype.reqRemoke=function(){},a([p(c.default)],o.prototype,"view",void 0),a([s],o)}(cc.Component);o.default=u,cc._RF.pop()},{"./JHLConst":"JHLConst","./JHLSecen":"JHLSecen",PlayerInfo:void 0}],JHLSecen:[function(e,t,o){"use strict";cc._RF.push(t,"461a8rMAsZBqaFsjg+nasCG","JHLSecen");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var r,a=arguments.length,i=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(i=(a<3?r(i):a>3?r(t,o,i):r(t,o))||i);return a>3&&i&&Object.defineProperty(t,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./JHLConst"),c=e("./JHLEffect"),l=e("./JHLLoading"),s=e("./JHLMenu"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.MenuLayer=null,e.LoadLayer=null,e.EffectLayer=null,e.audio=[],e.MusicDic={},e}return r(o,t),o.prototype.onLoad=function(){i.default.once.GameLayer=this},o.prototype.changeGold=function(e){return(parseFloat(e)/i.default.once.PlayerInfo.exchangeRate).toFixed(2)},o.prototype.start=function(){this.playBGM("NormalBGM")},o.prototype.reset=function(){this.MenuLayer.refreshInfo(),this.MenuLayer.refreshJPES(),this.MenuLayer.reset(),this.EffectLayer.reset()},o.prototype.update=function(e){if((i.default.once.CDHeartBeat-=e)<0&&(i.default.once.CDHeartBeat=5,this.EffectLayer.refreshWinPool()),(Date.now()-i.default.once.LastHeartBeat)/1e3>6)return i.default.once.LastHeartBeat=i.default.once.NFHeartBeat,void this.MenuLayer.showNetError(!0)},o.prototype.playBGM=function(t,o){void 0===o&&(o=!1),0!=e("PlayerInfo").getInstant.musicControl&&(t=t||this.MusicDic[404],o&&(this.MusicDic[404]=t),this.play(t,!0,!0))},o.prototype.stopBGM=function(){cc.audioEngine.stopAll()},o.prototype.playEffect=function(t){0!=e("PlayerInfo").getInstant.soundEffectControl&&this.play(t,!1,!1)},o.prototype.stopEffect=function(e){this.MusicDic[e]&&cc.audioEngine.stop(this.MusicDic[e])},o.prototype.play=function(e,t,o){void 0===o&&(o=!1),t&&cc.audioEngine.stopAll();for(var n=null,r=0;r<this.audio.length;r++)this.audio[r]&&this.audio[r].name==e&&(n=this.audio[r]);n&&(this.MusicDic[e]=o?cc.audioEngine.playMusic(n,t):cc.audioEngine.playEffect(n,t))},o.prototype.onDestroy=function(){i.default.destroyInstance()},a([f(s.default)],o.prototype,"MenuLayer",void 0),a([f(l.default)],o.prototype,"LoadLayer",void 0),a([f(c.default)],o.prototype,"EffectLayer",void 0),a([f([cc.AudioClip])],o.prototype,"audio",void 0),a([u],o)}(cc.Component);o.default=d,cc._RF.pop()},{"./JHLConst":"JHLConst","./JHLEffect":"JHLEffect","./JHLLoading":"JHLLoading","./JHLMenu":"JHLMenu",PlayerInfo:void 0}]},{},["JHLConst","JHLEffect","JHLLabel","JHLLoading","JHLMenu","JHLNetwork","JHLSecen"]);