window.__require=function t(e,o,n){function i(a,l){if(!o[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var c="function"==typeof __require&&__require;if(!l&&c)return c(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({S1114AudioMgr:[function(t,e,o){"use strict";cc._RF.push(e,"05a8cPnCmJKWYc1femFe/kk","S1114AudioMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.S1114SoundType=void 0;var a,l=t("./S1114Const"),r=cc._decorator,c=r.ccclass,u=r.property;(function(t){t[t.showBigAward=0]="showBigAward",t[t.showBigAward2=1]="showBigAward2",t[t.showBigAward3=2]="showBigAward3",t[t.clearCard=3]="clearCard",t[t.showFreeGame=4]="showFreeGame",t[t.activeScatter=5]="activeScatter",t[t.freeGameEnd=6]="freeGameEnd",t[t.scrollEnd=7]="scrollEnd",t[t.replenishCard=8]="replenishCard",t[t.btnSpin=9]="btnSpin",t[t.btnNormal=10]="btnNormal",t[t.btnCancel=11]="btnCancel",t[t.resetScroll=12]="resetScroll",t[t.showFreeGameAgain=13]="showFreeGameAgain",t[t.scatterDown=14]="scatterDown",t[t.wildDown=15]="wildDown",t[t.bonusGameOver=16]="bonusGameOver"})(a=o.S1114SoundType||(o.S1114SoundType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGameBGM=null,e.gameBGM=null,e.showBigAward=null,e.showBigAward2=null,e.showBigAward3=null,e.clearCard=null,e.showFreeGame=null,e.activeScatter=null,e.freeGameEnd=null,e.scrollEnd=null,e.replenishCard=null,e.btnSpin=null,e.btnNormal=null,e.btnCancel=null,e.resetScroll=null,e.showFreeGameAgain=null,e.scatterDown=null,e.wildDown=null,e.bonusGameBgm=null,e.bonusGameOver=null,e.bonusGameBlockStops=[],e.curSound=-1,e.isOpenSound=!0,e.isOpenMusic=!0,e}return i(e,t),Object.defineProperty(e.prototype,"IsOpenSound",{get:function(){return this.isOpenSound},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsOpenMusic",{get:function(){return this.isOpenMusic},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){l.default.ins.audioMgr=this},e.prototype.start=function(){},e.prototype.playSound=function(t){var e=null;switch(t){case a.showBigAward:e=this.showBigAward;break;case a.clearCard:e=this.clearCard;break;case a.showFreeGame:e=this.showFreeGame;break;case a.activeScatter:e=this.activeScatter;break;case a.freeGameEnd:e=this.freeGameEnd;break;case a.scrollEnd:e=this.scrollEnd;break;case a.replenishCard:e=this.replenishCard;break;case a.btnSpin:e=this.btnSpin;break;case a.btnNormal:e=this.btnNormal;break;case a.btnCancel:e=this.btnCancel;break;case a.resetScroll:e=this.resetScroll;break;case a.showFreeGameAgain:e=this.showFreeGameAgain;break;case a.scatterDown:e=this.scatterDown;break;case a.wildDown:e=this.wildDown;break;case a.bonusGameOver:e=this.bonusGameOver;break;case a.showBigAward2:e=this.showBigAward2;break;case a.showBigAward3:e=this.showBigAward3}if(null!=e)return cc.audioEngine.playEffect(e,!1)},e.prototype.playBonusGameBlockStopSound=function(t){var e=cc.audioEngine.playEffect(this.bonusGameBlockStops[t],!1);return t+1>this.bonusGameBlockStops.length-1?[0,e]:[t+1,e]},e.prototype.stopSound=function(t){cc.audioEngine.stopEffect(t)},e.prototype.changeSound=function(t){this.isOpenSound=t,cc.audioEngine.setEffectsVolume(this.isOpenSound?1:0)},e.prototype.changeMusic=function(t){this.isOpenMusic=t,cc.audioEngine.setMusicVolume(this.isOpenMusic?1:0)},e.prototype.playBGM=function(){cc.audioEngine.playMusic(this.gameBGM,!0)},e.prototype.playFreeBGM=function(){cc.audioEngine.playMusic(this.freeGameBGM,!0)},e.prototype.playBonusBGM=function(){cc.audioEngine.playMusic(this.bonusGameBgm,!0)},s([u({type:cc.AudioClip,displayName:"\u514d\u8d39\u5c40bgm"})],e.prototype,"freeGameBGM",void 0),s([u({type:cc.AudioClip,displayName:"bgm"})],e.prototype,"gameBGM",void 0),s([u({type:cc.AudioClip,displayName:"\u89e6\u53d1\u5927\u59561"})],e.prototype,"showBigAward",void 0),s([u({type:cc.AudioClip,displayName:"\u89e6\u53d1\u5927\u59562"})],e.prototype,"showBigAward2",void 0),s([u({type:cc.AudioClip,displayName:"\u89e6\u53d1\u5927\u59563"})],e.prototype,"showBigAward3",void 0),s([u({type:cc.AudioClip,displayName:"\u6d88\u9664\u58f0\u97f3"})],e.prototype,"clearCard",void 0),s([u({type:cc.AudioClip,displayName:"\u6253\u5f00\u89e6\u53d1\u514d\u8d39\u5c40"})],e.prototype,"showFreeGame",void 0),s([u({type:cc.AudioClip,displayName:"\u89e6\u53d1\u514d\u8d39\u5c40"})],e.prototype,"activeScatter",void 0),s([u({type:cc.AudioClip,displayName:"\u514d\u8d39\u5c40\u7ed3\u675f"})],e.prototype,"freeGameEnd",void 0),s([u({type:cc.AudioClip,displayName:"\u6eda\u8f6e\u7ed3\u675f"})],e.prototype,"scrollEnd",void 0),s([u({type:cc.AudioClip,displayName:"\u8865\u5361\u724c"})],e.prototype,"replenishCard",void 0),s([u({type:cc.AudioClip,displayName:"\u62bd\u5361"})],e.prototype,"btnSpin",void 0),s([u({type:cc.AudioClip,displayName:"\u666e\u901a\u6309\u94ae\u70b9\u51fb"})],e.prototype,"btnNormal",void 0),s([u({type:cc.AudioClip,displayName:"\u666e\u901a\u6309\u94ae\u70b9\u51fb\u53d6\u6d88"})],e.prototype,"btnCancel",void 0),s([u({type:cc.AudioClip,displayName:"\u6eda\u8f6e\u91cd\u65b0\u6eda"})],e.prototype,"resetScroll",void 0),s([u({type:cc.AudioClip,displayName:"\u518d\u6b21\u89e6\u53d1\u514d\u8d39\u5c40"})],e.prototype,"showFreeGameAgain",void 0),s([u({type:cc.AudioClip,displayName:"scatter\u843d\u4e0b"})],e.prototype,"scatterDown",void 0),s([u({type:cc.AudioClip,displayName:"wild\u843d\u4e0b"})],e.prototype,"wildDown",void 0),s([u({type:cc.AudioClip,displayName:"bonus game bgm"})],e.prototype,"bonusGameBgm",void 0),s([u({type:cc.AudioClip,displayName:"bonus game \u7ed3\u675f"})],e.prototype,"bonusGameOver",void 0),s([u({type:[cc.AudioClip],displayName:"bonus game \u8f6e\u76d8\u6bcf\u4e00\u4e2a\u505c\u6b62"})],e.prototype,"bonusGameBlockStops",void 0),s([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1114Const":"S1114Const"}],S1114Const:[function(t,e,o){"use strict";cc._RF.push(e,"e0abagakFlLyIu2wlRIYkrU","S1114Const");var n=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.S1114ElementType=void 0;var i=t("PlayerInfo"),s=cc._decorator,a=s.ccclass;s.property,function(t){t[t.bar1=1]="bar1",t[t.bar2=2]="bar2",t[t.bar3=3]="bar3",t[t.y7=4]="y7",t[t.g7=5]="g7",t[t.wild2x=6]="wild2x",t[t.bonus=7]="bonus"}(o.S1114ElementType||(o.S1114ElementType={}));var l=function(){function t(){this.betNumList=[1,2,5,10,20,30,40,60,100,200,500,1e3,2e3,4e3,1e4],this.curBetIdx=0,this.lineNum=1,this.uiScenc=null,this.GameNet=null,this.audioMgr=null,this.loader=null,this.lotteryData={getFreeTime:{bFlag:!1,frees:[],freeType:0,gold_cnt:0,bonus:[],win:0},nHandCards:[],nWinDetail:{},nWinIndexDetail:{},nWinIndexs:[],win:0,score:0}}var e;return e=t,Object.defineProperty(t,"ins",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),t.destroyInstance=function(){e._instance&&(e._instance=null)},t.prototype.getBetSum=function(){return this.lineNum*this.betNumList[this.curBetIdx]},t.prototype.getShowBetSum=function(){return this.getBetSum()/100},t.prototype.getShowBetSumByIdx=function(t){return this.lineNum*this.betNumList[t]/100},t.prototype.getBetMult=function(){return this.curBetIdx+1},t.prototype.getBetNum=function(){return this.betNumList[this.curBetIdx]},t.prototype.getShowBetNumByIdx=function(t){return this.betNumList[t]/100},t.prototype.getShowBetNum=function(){return this.betNumList[this.curBetIdx]/100},t.prototype.getBetPer=function(){return 100},t.prototype.changeBetMult=function(t){var e=this.curBetIdx;t?e++:e--,e>this.betNumList.length-1?e=0:e<0&&(e=this.betNumList.length-1),this.curBetIdx=e},t.prototype.changeBetDefault=function(t){var e=this.betNumList.findIndex(function(e){return e==t});e>=0&&(this.curBetIdx=e)},t.prototype.initLotterData=function(){this.lotteryData.score=i.getInstant.playerCoin},t.prototype.getPlayerScore=function(){return this.lotteryData.score},t.prototype.getShowPlayerScore=function(){return this.getPlayerScore()/100},t.prototype.getLotterWinNum=function(){return this.lotteryData.win/100},t.prototype.randomNum=function(t,e){return Math.floor(Math.random()*(e-t)+t)},t.prototype.goBackHome=function(t){void 0===t&&(t=null),Common.backHall("Are you sure you want to leave the game?",function(){null==t||t()})},t.prototype.checkCanPlay=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var o=t>0?t:this.getBetSum(),n=this.getPlayerScore()>=o;return!n&&e&&this.showNotGoldTips(),n},t.prototype.showNotGoldTips=function(){Common.showMessage("Insufficient Balance")},t.prototype.formatNum=function(t){for(var e=t.toFixed(2),o="",n=0,i=e.length-1;i>=0;i--){var s=e[i];n++,"."==s?(o+="+",n=0):(n%4==0&&(o+="-",n=0),o+=s)}return o.split("").reverse().join("")},t.prototype.formatNum_2=function(t){for(var e=t.toFixed(2),o="",n=0,i=e.length-1;i>=0;i--){var s=e[i];n++,"."==s?(o+=".",n=0):(n%4==0&&(o+=",",n=0),o+=s)}return o.split("").reverse().join("")},t.prototype.formatArr=function(t,e){void 0===e&&(e=5);for(var o=[[]],n=0,i=0,s=0;s<t.length;s++){var a=t[s];o.length<=i&&o.push([]),o[i].push(a),++n>=e&&(n=0,i++)}return o},t.prototype.arr2ScrollData=function(t,e){void 0===e&&(e=5);for(var o=[],n=0,i=0,s=0;s<t.length;s++){var a=t[s];null==o[n]&&o.push([]),o[n].push(a),n++,++i>=e&&(n=0,i=0)}return o},t.prototype.arr2ScrollData2=function(t,e){void 0===e&&(e=5);for(var o=[[]],n=0,i=0,s=0;s<t.length;s++){var a=t[s];null==o[n]&&o.push([]),o[n].push(a),++i>=e&&(n++,i=0)}return o},t.prototype.scrollData2Arr=function(t,e){void 0===e&&(e=5);for(var o=[],n=0,i=0,s=t[0].length*t.length,a=0;a<s;a++){var l=t[n][i];++n>=e&&(n=0,i++),o.push(l)}return o},t.prototype.changeParent=function(t,e,o){void 0===o&&(o=-1);var n=t.convertToWorldSpaceAR(cc.v2(0,0)),i=e.convertToNodeSpaceAR(n);t.parent=e,o>=0&&t.setSiblingIndex(o),t.position=new cc.Vec3(i.x,i.y,0)},t.prototype.playSpineNormal=function(t,e,o,n){void 0===e&&(e="animaiton"),void 0===o&&(o=!1),void 0===n&&(n=null),t.node.active=!0,t.setAnimation(0,e,o),o||t.setCompleteListener(function(){t.node.active=!1,null==n||n()})},e=n([a],t)}();o.default=l,cc._RF.pop()},{PlayerInfo:void 0}],S1114Loader:[function(t,e,o){"use strict";cc._RF.push(e,"5a6b01f01BANIkV08hKZ/eC","S1114Loader");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./S1114Const"),l=cc._decorator,r=l.ccclass,c=l.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconSks=[],e.mIcons=[],e}return i(e,t),e.prototype.onLoad=function(){a.default.ins.loader=this},e.prototype.start=function(){},e.prototype.getIconSk=function(t){return this.iconSks[t-1]},s([c([sp.SkeletonData])],e.prototype,"iconSks",void 0),s([r],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./S1114Const":"S1114Const"}],S1114Network:[function(t,e,o){"use strict";cc._RF.push(e,"1b850Q5BNxN/oCf0clOqOhu","S1114Network");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../Script/utils/Utils"),l=t("./S1114Const"),r=cc._decorator,c=r.ccclass,u=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){l.default.ins.GameNet=this,GameConfig.SubGameMgr.subGameNet=this,this.send("loginGame",JSON.stringify({}))},e.prototype.start=function(){},e.prototype.addNetEvent=function(t,e){var o=null;if("loginGameResult"==t&&(o=window.changeResultJSON_Function(e),cc.log("loginGameResult:",o),1==o.resultid&&(l.default.ins.betNumList=o.Obj.betList,l.default.ins.changeBetDefault(o.Obj.betDefault),l.default.ins.uiScenc.refreshUI())),"lotteryResult"==t){o=window.changeResultJSON_Function(e);var n=a.default.deepCopy(o);cc.log("lotteryResult:",n);var i=l.default.ins.lotteryData,s=o.ResultData.viewarray.nBet,r=i.score-s;cc.log(i.score+"\u5148\u6263"+s+"="+r),l.default.ins.uiScenc.refreshPlayerCoin(r/l.default.ins.getBetPer()),i.nHandCards=o.ResultData.viewarray.nHandCards,i.getFreeTime=o.ResultData.viewarray.getFreeTime,i.nWinDetail=o.ResultData.viewarray.nWinDetail,i.nWinIndexDetail=o.ResultData.viewarray.nWinIndexDetail,i.nWinIndexs=o.ResultData.viewarray.nWinIndexs,i.win=o.ResultData.viewarray.win,i.score=o.ResultData.userscore,i.getFreeTime.frees&&cc.log("free...."+i.getFreeTime.frees.length),l.default.ins.uiScenc.goToPlayGame()}},e.prototype.send=function(t,e){void 0===e&&(e={}),cc.log("send cmd:"+t+",data:"+JSON.stringify(e)),window.sendNetWorkData(t,JSON.stringify(e))},e.prototype.sendLotty=function(t,e){void 0===e&&(e=-1),-1==e?this.send("lottery",{bet:t}):this.send("lottery",{bet:t,game_type:e})},s([c],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../Script/utils/Utils":void 0,"./S1114Const":"S1114Const"}],S1114Scene:[function(t,e,o){"use strict";cc._RF.push(e,"aef04mpCbNKua9XymPz8gRn","S1114Scene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,l,r=t("../../../Script/AcFrame/ui/AcUIHelp"),c=t("./S1114AudioMgr"),u=t("./S1114Const"),p=t("./S1114ScrollView"),h=t("./S1114UIBigAwardPanel"),d=t("./S1114UIBonusItem"),f=t("./S1114UIBonusPanel"),y=t("./S1114UICommonMain"),m=t("./S1114UIFreeAwardPanel"),S=cc._decorator,g=S.ccclass,_=S.property;(function(t){t[t.main=0]="main",t[t.respin=1]="respin",t[t.super_respin=2]="super_respin",t[t.bonus_game=3]="bonus_game"})(a||(a={})),function(t){t[t.none=0]="none",t[t.scroll=1]="scroll",t[t.showBonusGame=2]="showBonusGame"}(l||(l={}));var v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_bonusLayout1=null,e.node_bonusLayout2=null,e.lb_bigBetNum1=null,e.lb_bigBetNum2=null,e.lb_bigBetNum3=null,e.node_respinTitle=null,e.node_superRespinTitle=null,e.sk_bonusgame=null,e.node_bonusgameView=null,e.sk_restScrolls=[],e.uiBonusPanel=null,e.lb_lineWin=null,e.sk_bonusgameLight=null,e.sk_bonusItemLight=null,e.sk_freeSpineTitle=null,e.sk_superRespinTitle=null,e.btn_closeHelpPanel=null,e.node_helpPanel=null,e.uiCommonMain=null,e.ui_scrollViews=[],e.uiBigAwardPanel=null,e.uiFreeAwardPanel=null,e.count=0,e.maxCount=0,e.round=1,e.showRound=0,e.isAutoPlay=!1,e.playCount=0,e.autoPlayCount=0,e.playIndex=0,e.isFreeSpinMode=!1,e.winSum=0,e.gameWinSum=0,e.hasFreeGame=!1,e.isSlow=!1,e.slowIndex=-1,e.gameState=l.none,e.gameModel=a.main,e.uiBonusItems=[],e.restScrollSoundId=-1,e.zj_num=0,e}return i(e,t),e.prototype.onLoad=function(){var t,e;this.uiCommonMain.addClickBtnAddEvent(this.onClickBtnAdd.bind(this)),this.uiCommonMain.addClickBtnSubEvent(this.onClickBtnSub.bind(this)),this.uiCommonMain.addClickBtnHelpEvent(this.onClickBtnHelp.bind(this)),this.uiCommonMain.addClickBtnPlayEvent(this.onClickBtnPlay.bind(this)),this.uiCommonMain.addClickBtSettingEvent(this.onClickBtnSetting.bind(this)),this.uiCommonMain.addClickBtnHomeEvent(this.onClickBtnHome.bind(this)),this.uiCommonMain.addClickBtnPlayFast(this.onClickBtnFast.bind(this)),this.uiCommonMain.addClickBtnMusicEvent(this.onClickBtnMusic.bind(this)),this.uiCommonMain.addClickBtSoundEvent(this.onClickBtnSound.bind(this)),this.uiCommonMain.addClickBtnQuickEvent(this.onClickBtnQuick.bind(this)),this.uiCommonMain.addClickBtnPlayLong(this.onClickBtnPlayLong.bind(this)),this.uiCommonMain.addClickBtnCloseEvent(this.onClickBtnClose.bind(this)),this.uiCommonMain.addClickBtnClickBg(this.onClickBtnClickBg.bind(this)),this.uiCommonMain.openMusic=u.default.ins.audioMgr.IsOpenMusic,this.uiCommonMain.openSound=u.default.ins.audioMgr.IsOpenSound,r.default.instance.addClickEvent(this.btn_closeHelpPanel,this,"onClickBtncloseHelpPanel");for(var o=0;o<this.ui_scrollViews.length;o++)this.ui_scrollViews[o].initData(o,!0,3);var n=this.node_bonusLayout1.getComponentsInChildren(d.default),i=this.node_bonusLayout2.getComponentsInChildren(d.default);(t=this.uiBonusItems).push.apply(t,n),(e=this.uiBonusItems).push.apply(e,i);var s=10;for(o=0;o<this.uiBonusItems.length;o++)this.uiBonusItems[o].initUI(s),s--;this.sk_bonusItemLight.node.active=!1,this.sk_bonusgameLight.node.active=!1,this.hideLineWinNum(),this.hideAllRestScrollAnim(),this.hideBonusGameView(),this.node_respinTitle.active=!1,this.node_superRespinTitle.active=!1,this.uiFreeAwardPanel.hideUI(),this.uiBonusPanel.hideUI(),this.uiBigAwardPanel.hideUI(),u.default.ins.uiScenc=this},e.prototype.start=function(){u.default.ins.initLotterData(),u.default.ins.audioMgr.playBGM();for(var t=0;t<this.ui_scrollViews.length;t++)this.ui_scrollViews[t].reset(!0);this.changeGameState(l.none),this.refreshUI(),this.refreshPlayerCoin()},e.prototype.refreshUI=function(t){void 0===t&&(t=!1),this.uiCommonMain.refreshBetNum(u.default.ins.getShowBetSum()),this.uiCommonMain.refreshPlayState(),this.uiCommonMain.changePlayAutoState(this.isAutoPlay,this.playCount),this.uiCommonMain.refreshFastState(),this.refreshWinSum(),this.refreshBigBetLabel()},e.prototype.refreshPlayerCoin=function(t){void 0===t&&(t=-1),-1==t&&(t=u.default.ins.getShowPlayerScore()),this.uiCommonMain.refreshPlayCoin(t)},e.prototype.refreshWinSum=function(t){void 0===t&&(t=!1),t?this.uiCommonMain.refreshWinNum(this.winSum/u.default.ins.getBetPer(),"TOTAL WIN "):this.uiCommonMain.refreshWinNum(this.winSum/u.default.ins.getBetPer())},e.prototype.refreshBigBetLabel=function(){this.lb_bigBetNum1.string=u.default.ins.formatNum(500*u.default.ins.getShowBetNum()),this.lb_bigBetNum2.string=u.default.ins.formatNum(100*u.default.ins.getShowBetNum()),this.lb_bigBetNum3.string=u.default.ins.formatNum(30*u.default.ins.getShowBetNum())},e.prototype.refreshBonusItems=function(t){for(var e=0;e<this.uiBonusItems.length;e++){var o=this.uiBonusItems[e];o.refreshUI(),o.setGray(t)}},e.prototype.HideBonusItemsGold=function(){for(var t=0;t<this.uiBonusItems.length;t++){var e=this.uiBonusItems[t];e.refreshUI(),e.setScoreGold(!1)}this.sk_bonusItemLight.node.active=!1},e.prototype.goToPlayGame=function(){this.round=1,this.showRound=0,this.isFreeSpinMode=!1,this.playIndex=0,this.winSum=0,this.hasFreeGame=!1,this.uiCommonMain.changeBtnPlayEnble(!0),this.changeGameModel(a.main),this.HideBonusItemsGold(),this.refreshBonusItems(!0),this.playGame(),this.refreshUI()},e.prototype.playGame=function(){this.isSlow=!1,this.playCount--,this.gameWinSum=0,this.uiCommonMain.changePlayState(2);for(var t=this.getHandCard(this.playIndex),e=0;e<this.ui_scrollViews.length;e++){var o=t[e],n=[u.default.ins.randomNum(0,4),o,u.default.ins.randomNum(0,4)];this.goStartScrollView(n,e,!0)}},e.prototype.goStartScrollView=function(t,e,o,n,i){var s=this;void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===i&&(i=0);var a=this.uiCommonMain.getPlayFastState()&&this.slowIndex<0,l=a?2:5;l+=1,l+=i;var r=this.ui_scrollViews[e],c=e+1==7,u=c?5:3,p=c?l+6:l+3*(1+e);a&&(p=l+3),r.reset(),n?r.startAbnormalSlot(t,0,u,p,3,o):r.startSlot(t,0,u,p,o),r.setScrollCompleteCallback(function(t){s.onScrollViewFinsh(t)})},e.prototype.onScrollViewFinsh=function(t){var e=this;if(cc.log("\u7ed3\u675f:"+t),this.count++,this.count>=this.ui_scrollViews.length){cc.log("\u5168\u90e8\u7ed3\u675f:"+this.count),this.stopRestScrollSound(),this.count=0,this.uiCommonMain.changePlayState(3);var o=this.getLotteryData(),n=0;this.gameModel==a.super_respin?(cc.log("super_respin_over..."),n=(o=this.getLotteryData(this.playIndex-1)).getFreeTime.win,this.showSurperBonusItemAnim(this.zj_num)):n=o.win;var i=n>0;cc.log("check win :"+n),i?(this.winSum+=n,this.gameModel==a.super_respin?this.playLightIconsAnimById(u.S1114ElementType.bonus,!1):(this.playLightIconsAnim(),this.refreshWinSum()),this.showLineWinNum(n,function(){e.checkBigAward()||(e.gameModel==a.super_respin?e.uiFreeAwardPanel.showUI(e.winSum):e.checkGameNext())})):this.checkGameNext()}this.hideRestScrollAnim(t)},e.prototype.changeGameModel=function(t){this.gameModel=t},e.prototype.checkGameNext=function(){var t=this.getLotteryData();if(t){var e=t.getFreeTime;this.playIndex++,e.bFlag?(this.playLightIconsAnim(!1),this.isAutoPlay=!1,this.uiCommonMain.changePlayAutoState(this.isAutoPlay,this.playCount),1==e.freeType?this.goRespin():2==e.freeType?this.goSuperRespin():3==e.freeType&&this.goBonusGame()):this.isAutoPlay&&this.playCount>0?this.goToPlay(this.playCount):this.goGameOver()}else this.isAutoPlay&&this.playCount>0?this.goToPlay(this.playCount):this.goGameOver()},e.prototype.goGameOver=function(){this.uiCommonMain.changePlayState(1),this.refreshUI(),this.refreshWinSum(this.gameModel==a.respin),this.refreshPlayerCoin(),cc.error("\u4ec0\u4e48\u90fd\u6ca1\u6709\uff0c\u7ed3\u675f\u4e86")},e.prototype.playLightIconsAnimById=function(t,e){void 0===e&&(e=!0);for(var o=0,n=0;n<this.ui_scrollViews.length;n++)for(var i=this.ui_scrollViews[n].getShowShowItems(),s=0;s<i.length;s++){var a=i[s];(e?[1]:[0,1,2]).includes(s)&&a.id==t?(o++,a.playLightAnim()):(a.stopLightAnim(),a.setGray())}o>0&&u.default.ins.audioMgr.playSound(c.S1114SoundType.clearCard)},e.prototype.playLightIconsAnim=function(t){void 0===t&&(t=!0);var e=0;if(t){var o=this.getLotteryData();if(o){var n=o.nWinIndexs;if(n&&n.length>0)for(var i=0;i<this.ui_scrollViews.length;i++)for(var s=this.ui_scrollViews[i].getShowShowItems(),a=0;a<s.length;a++){var l=s[a];t&&1==a&&n.includes(i+1)?(e++,l.playLightAnim()):(l.stopLightAnim(),l.setGray())}}}else for(i=0;i<this.ui_scrollViews.length;i++){var r=(s=this.ui_scrollViews[i].getShowShowItems())[1];r&&(r.stopLightAnim(),r.setGray(!1))}e>0&&u.default.ins.audioMgr.playSound(c.S1114SoundType.clearCard)},e.prototype.showLineWinNum=function(t,e){var o=this;void 0===e&&(e=null),this.lb_lineWin.string=u.default.ins.formatNum(t/u.default.ins.getBetPer()),this.scheduleOnce(function(){o.hideLineWinNum(),null==e||e()},2)},e.prototype.hideLineWinNum=function(){this.lb_lineWin.string=""},e.prototype.setGrayAllShowItems=function(t){void 0===t&&(t=!0);for(var e=0;e<this.ui_scrollViews.length;e++)for(var o=this.ui_scrollViews[e].getShowShowItems(),n=0;n<o.length;n++)o[n].setGray(t)},e.prototype.goRespin=function(){var t=this;this.changeGameModel(a.respin),cc.log("\u8fdb\u5165respin\u6a21\u5f0f...."),this.showRespineView(function(){t.setGrayAllShowItems(!1);var e=t.getHandCard(t.playIndex-1),o=t.getHandCard(t.playIndex);t.count=0,t.playRestScrollSound();for(var n=0,i=0;i<e.length;i++){var s=e[i],a=o[i];if(s!=u.S1114ElementType.bonus){var l=u.default.ins.randomNum(0,4),r=u.default.ins.randomNum(0,4);t.playRestScrollAnim(i),t.goStartScrollView([l,a,r],i,!0,!0,n),n+=30}else t.count++}})},e.prototype.goSuperRespin=function(){var t=this;this.changeGameModel(a.super_respin),cc.log("\u8fdb\u5165super respin\u6a21\u5f0f...."),this.playLightIconsAnimById(u.S1114ElementType.bonus),this.scheduleOnce(function(){t.showSurperRespineView(function(){t.zj_num=t.getLotteryData(t.playIndex-1).getFreeTime.gold_cnt,cc.log("\u603b\u5171"+t.zj_num+"\u4e2a\u91d1\u7816"),t.refreshBonusItems(!1),u.default.ins.playSpineNormal(t.sk_bonusgameLight);var e=t.getRdSuperRespinCards(t.zj_num);t.count=0;for(var o=0;o<t.ui_scrollViews.length;o++){var n=e.splice(0,2),i=1==n[0]?u.S1114ElementType.bonus:u.S1114ElementType.y7,s=1==n[1]?u.S1114ElementType.bonus:u.S1114ElementType.y7,a=[0,i,s],l=0!=i&&0!=s;t.goStartScrollView(a,o,!l)}})},1.5)},e.prototype.goBonusGame=function(){var t=this;this.changeGameModel(a.bonus_game);var e=this.getLotteryData(this.playIndex-1).getFreeTime.bonus;e?(this.playLightIconsAnimById(u.S1114ElementType.bonus),u.default.ins.audioMgr.playSound(c.S1114SoundType.activeScatter),this.scheduleOnce(function(){t.showBonusGameView(function(){t.uiBonusPanel.showUI(e)})},2)):cc.error("\u6ca1\u6709bonus_game\u7684\u6570\u636e,bonus:"+e)},e.prototype.stopRestScrollSound=function(){u.default.ins.audioMgr.stopSound(this.restScrollSoundId)},e.prototype.playRestScrollSound=function(){this.restScrollSoundId=u.default.ins.audioMgr.playSound(c.S1114SoundType.resetScroll)},e.prototype.showRespineView=function(t){var e=this;u.default.ins.audioMgr.playSound(c.S1114SoundType.showFreeGame),this.node_respinTitle.active=!0,u.default.ins.playSpineNormal(this.sk_freeSpineTitle,"FREERESPIN",!1,function(){e.node_respinTitle.active=!1,t()})},e.prototype.showSurperRespineView=function(t){var e=this;u.default.ins.audioMgr.playSound(c.S1114SoundType.showFreeGame),this.node_superRespinTitle.active=!0,u.default.ins.playSpineNormal(this.sk_superRespinTitle,"XTREMERESPIN",!1,function(){e.node_superRespinTitle.active=!1,t()})},e.prototype.showSurperBonusItemAnim=function(t){if(t>4){var e=this.uiBonusItems[10-t];e&&(this.sk_bonusItemLight.node.active=!0,u.default.ins.changeParent(this.sk_bonusItemLight.node,e.node,1),this.sk_bonusItemLight.node.position=new cc.Vec3(40,0,0),u.default.ins.playSpineNormal(this.sk_bonusItemLight,"animation2",!0),e.setScoreGold(!0))}},e.prototype.showBonusGameView=function(t){var e=this;void 0===t&&(t=null),this.node_bonusgameView.active=!0,u.default.ins.audioMgr.playSound(c.S1114SoundType.showFreeGame),this.sk_bonusgame.node.active=!0,this.sk_bonusgame.setAnimation(0,"animation",!1),this.sk_bonusgame.setCompleteListener(function(){null==t||t(),e.hideBonusGameView()})},e.prototype.hideBonusGameView=function(){this.node_bonusgameView.active=!1},e.prototype.bonusGamePanelComeBack=function(){u.default.ins.audioMgr.playBGM();var t=this.getLotteryData(this.playIndex-1).getFreeTime.win,e=t>0;cc.log("bonusgame over,win:"+t),e&&(this.winSum+=t,this.refreshWinSum(),this.checkBigAward()||this.uiFreeAwardPanel.showUI(t))},e.prototype.freeAwardComeBack=function(){this.checkGameNext()},e.prototype.playRestScrollAnim=function(t){this.sk_restScrolls[t].node.active=!0,this.sk_restScrolls[t].setAnimation(0,"animation",!0)},e.prototype.hideRestScrollAnim=function(t){this.sk_restScrolls[t].node.active=!1},e.prototype.hideAllRestScrollAnim=function(){for(var t=0;t<this.sk_restScrolls.length;t++)this.sk_restScrolls[t].node.active=!1},e.prototype.getRdSuperRespinCards=function(t){for(var e=t,o=[],n=0;n<10;n++){var i=u.default.ins.randomNum(0,2);if(!(10-o.length>e&&e>0))break;1==i&&e--,o.push(i)}if(e>0)for(n=0;n<e;n++)o.push(1);else{var s=10-o.length;for(n=0;n<s;n++)o.push(0)}return o},e.prototype.getLotteryData=function(t){void 0===t&&(t=-1);var e=-1==t?this.playIndex:t;if(e>0){var o=u.default.ins.lotteryData.getFreeTime.frees;return o&&o[e-1]}return u.default.ins.lotteryData},e.prototype.getHandCard=function(t){return void 0===t&&(t=-1),this.getLotteryData(t).nHandCards},e.prototype.checkBigAward=function(){var t=this.gameWinSum/u.default.ins.getBetPer(),e=t/u.default.ins.getShowBetSum();if(cc.log("check big award:"+this.gameWinSum),e<20)return!1;var o=1;return e>=20&&(o=1),e>=40&&(o=2),e>=100&&(o=3),this.uiBigAwardPanel.showUI(t,o),!0},e.prototype.bigAwardComeBack=function(){this.isAutoPlay=!1,this.refreshUI(),this.isFreeSpinMode||this.refreshPlayerCoin(),this.uiCommonMain.changePlayState(),this.gameModel==a.super_respin?this.uiFreeAwardPanel.showUI(this.winSum):this.checkGameNext()},e.prototype.changeGameState=function(t){this.gameState=t},e.prototype.fastAllSlot=function(){for(var t=0;t<this.ui_scrollViews.length;t++)this.ui_scrollViews[t].fastSlot()},e.prototype.goToPlay=function(t){t<=0||u.default.ins.checkCanPlay()&&(t>1&&(this.autoPlayCount=t,this.isAutoPlay=!0),this.uiCommonMain.changeBtnPlayEnble(!1),u.default.ins.audioMgr.playSound(c.S1114SoundType.btnSpin),this.playCount=t,u.default.ins.GameNet.sendLotty(u.default.ins.getBetNum()))},e.prototype.checkBtnPlay=function(){var t=this.uiCommonMain.getPlayState();return 2==t?(this.isAutoPlay?(this.isAutoPlay=!1,this.uiCommonMain.changePlayAutoState(this.isAutoPlay,this.playCount)):(this.uiCommonMain.changePlayState(3),this.fastAllSlot()),!1):3!=t||(u.default.ins.audioMgr.playSound(c.S1114SoundType.btnCancel),!1)},e.prototype.onClickBtnClickBg=function(){this.checkBtnPlay()},e.prototype.onClickBtncloseHelpPanel=function(){this.node_helpPanel.active=!1,u.default.ins.audioMgr.playSound(c.S1114SoundType.btnCancel)},e.prototype.onClickBtnBuyBonus=function(){},e.prototype.onClickBtnSound=function(t){u.default.ins.audioMgr.IsOpenSound?u.default.ins.audioMgr.playSound(c.S1114SoundType.btnCancel):u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal),u.default.ins.audioMgr.changeSound(t)},e.prototype.onClickBtnMusic=function(t){u.default.ins.audioMgr.IsOpenMusic?u.default.ins.audioMgr.playSound(c.S1114SoundType.btnCancel):u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal),u.default.ins.audioMgr.changeMusic(t)},e.prototype.onClickBtnQuick=function(){},e.prototype.onClickBtnHelp=function(){this.node_helpPanel.active=!0,u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal)},e.prototype.onClickBtnFast=function(){this.uiCommonMain.changePlayFastState(!this.uiCommonMain.getPlayFastState()),this.refreshUI(),u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal)},e.prototype.onClickBtnPlay=function(t){this.checkBtnPlay()&&this.goToPlay(t)},e.prototype.onClickBtnPlayLong=function(){},e.prototype.onClickBtnClose=function(){u.default.ins.audioMgr.playSound(c.S1114SoundType.btnCancel)},e.prototype.onClickBtnSetting=function(){u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal)},e.prototype.onClickBtnHome=function(){u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal),u.default.ins.goBackHome()},e.prototype.onClickBtnAdd=function(){u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal),u.default.ins.changeBetMult(!0),this.refreshUI(!0)},e.prototype.onClickBtnSub=function(){u.default.ins.audioMgr.playSound(c.S1114SoundType.btnNormal),u.default.ins.changeBetMult(!1),this.refreshUI(!0)},e.prototype.onDestroy=function(){cc.audioEngine.stopAll(),u.default.destroyInstance()},s([_(cc.Node)],e.prototype,"node_bonusLayout1",void 0),s([_(cc.Node)],e.prototype,"node_bonusLayout2",void 0),s([_(cc.Label)],e.prototype,"lb_bigBetNum1",void 0),s([_(cc.Label)],e.prototype,"lb_bigBetNum2",void 0),s([_(cc.Label)],e.prototype,"lb_bigBetNum3",void 0),s([_(cc.Node)],e.prototype,"node_respinTitle",void 0),s([_(cc.Node)],e.prototype,"node_superRespinTitle",void 0),s([_(sp.Skeleton)],e.prototype,"sk_bonusgame",void 0),s([_(cc.Node)],e.prototype,"node_bonusgameView",void 0),s([_([sp.Skeleton])],e.prototype,"sk_restScrolls",void 0),s([_(f.default)],e.prototype,"uiBonusPanel",void 0),s([_(cc.Label)],e.prototype,"lb_lineWin",void 0),s([_(sp.Skeleton)],e.prototype,"sk_bonusgameLight",void 0),s([_(sp.Skeleton)],e.prototype,"sk_bonusItemLight",void 0),s([_(sp.Skeleton)],e.prototype,"sk_freeSpineTitle",void 0),s([_(sp.Skeleton)],e.prototype,"sk_superRespinTitle",void 0),s([_(cc.Button)],e.prototype,"btn_closeHelpPanel",void 0),s([_(cc.Node)],e.prototype,"node_helpPanel",void 0),s([_(y.default)],e.prototype,"uiCommonMain",void 0),s([_([p.default])],e.prototype,"ui_scrollViews",void 0),s([_(h.default)],e.prototype,"uiBigAwardPanel",void 0),s([_(m.default)],e.prototype,"uiFreeAwardPanel",void 0),s([g],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../../Script/AcFrame/ui/AcUIHelp":void 0,"./S1114AudioMgr":"S1114AudioMgr","./S1114Const":"S1114Const","./S1114ScrollView":"S1114ScrollView","./S1114UIBigAwardPanel":"S1114UIBigAwardPanel","./S1114UIBonusItem":"S1114UIBonusItem","./S1114UIBonusPanel":"S1114UIBonusPanel","./S1114UICommonMain":"S1114UICommonMain","./S1114UIFreeAwardPanel":"S1114UIFreeAwardPanel"}],S1114ScrollItem:[function(t,e,o){"use strict";cc._RF.push(e,"8efcbH2PjhJtack0M4xJgxQ","S1114ScrollItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./S1114AudioMgr"),l=t("./S1114Const"),r=cc._decorator,c=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sk_icon=null,e.mNodeParent=null,e.id=0,e.kuang=0,e.len=1,e.index=0,e.planClear=0,e.count=0,e}return i(e,t),e.prototype.onLoad=function(){this.hideSpine()},e.prototype.start=function(){},e.prototype.setParent=function(t){this.mNodeParent=t},e.prototype.setInfo=function(t){this.id=t,this.setGray(!1),this.node.zIndex=0,this.sk_icon.node.active=this.id>0,this.id&&(this.sk_icon.skeletonData=l.default.ins.loader.getIconSk(this.id))},e.prototype.playLightAnim=function(t){void 0===t&&(t=null),this.sk_icon.paused=!1,this.sk_icon.timeScale=.6,this.sk_icon.setAnimation(0,"animation",!0)},e.prototype.stopLightAnim=function(){this.sk_icon.paused=!0},e.prototype.playScatterLight=function(){this.showScatterAnim("animation2",!0)},e.prototype.playScatterActive=function(){var t=this;this.showScatterAnim("animation3",!0),this.scheduleOnce(function(){t.hideScatterAnim()},1.8)},e.prototype.playClearCardLightByLen=function(){},e.prototype.downOver=function(){this.id==l.S1114ElementType.bonus?l.default.ins.audioMgr.playSound(a.S1114SoundType.scatterDown):this.id==l.S1114ElementType.wild2x?l.default.ins.audioMgr.playSound(a.S1114SoundType.wildDown):l.default.ins.audioMgr.playSound(a.S1114SoundType.scrollEnd)},e.prototype.showScatterAnim=function(t,e){void 0===e&&(e=!1),this.node.zIndex=1},e.prototype.hideScatterAnim=function(){},e.prototype.hideSpine=function(){this.hideScatterAnim()},e.prototype.setGray=function(t){void 0===t&&(t=!0),this.sk_icon.node.color=t?cc.color(75,75,75,255):cc.color(255,255,255,255)},e.prototype.isShow=function(){return this.node.active},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.hideSpine(),this.node.active=!1},s([u(sp.Skeleton)],e.prototype,"sk_icon",void 0),s([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1114AudioMgr":"S1114AudioMgr","./S1114Const":"S1114Const"}],S1114ScrollView:[function(t,e,o){"use strict";cc._RF.push(e,"65dc1qBX3pKHrCN5XdG5lQI","S1114ScrollView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./S1114AudioMgr"),l=t("./S1114Const"),r=t("./S1114ScrollItem"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotsElement=null,e.content=null,e._idx=-1,e._data=[],e.mElSpData=[],e.mTempData=[],e.mSpPoints=[],e.mShowItems=[],e.mNodeEls=null,e.isFinsh=!1,e.moveCount=0,e.match=!1,e.isVertical=!1,e.rowCount=5,e.slotDir=0,e.onScrollComplete=null,e}return i(e,t),e.prototype.setScrollCompleteCallback=function(t){this.onScrollComplete=t},e.prototype.onLoad=function(){this.mNodeEls=new cc.Node("elsContainer"),this.mNodeEls.parent=this.node,this.initElements()},e.prototype.start=function(){},e.prototype.initData=function(t,e,o){void 0===e&&(e=!0),void 0===o&&(o=5),this._idx=t,this.isVertical=e,this.rowCount=o},e.prototype.reset=function(t){void 0===t&&(t=!1);for(var e=0;e<this.mElSpData.length;e++)this.mElSpData[e].node.removeFromParent(!0);this.node.stopAllActions(),this.mNodeEls.stopAllActions(),this.mElSpData=[],this.mTempData=[],this.initElements(t)},e.prototype.initElements=function(t){void 0===t&&(t=!1),this.mNodeEls.setPosition(cc.Vec2.ZERO);for(var e=[],o=0;o<7;o++)e.push(o+1);for(o=0;o<7;o++){var n=Math.floor(Math.random()*e.length);e[n],e.splice(n,1);var i=cc.instantiate(this.slotsElement);i.parent=this.mNodeEls;var s=i.getComponent(r.default);s.node.name="_"+o;var a=l.default.ins.randomNum(1,7);l.default.ins.randomNum(1,4);s.setInfo(a),t||s.setGray(),s.setParent(this.mNodeEls);var c=cc.Vec2.ZERO,u=this.getElGapValue();c=this.isVertical?cc.v2(0,o*u-280+140):cc.v2(o*u-280,0),i.setPosition(c),this.mSpPoints.push(c),this.mElSpData.push(s)}for(o=this.rowCount;o<this.mElSpData.length;o++)this.mElSpData[o].hide()},e.prototype.startSlot=function(t,e,o,n,i){var s=this;void 0===i&&(i=!0),this.stopAllElementsAnim(),this._data=t,this.moveCount=o,this.match=i,this.isFinsh=!1;var a=0;i||(a=70),e+=1;for(var l=5;l<this.mElSpData.length;l++)this.mElSpData[l].show();var r=null,c=this.isVertical?cc.v2(0,-140*o):cc.v2(-140*o,0);if(e==n){var u=cc.moveBy(.3,c),p=cc.moveBy(.08,cc.v2(0,-50)).easing(cc.easeOut(3)),h=cc.moveBy(.1,cc.v2(0,50-a)).easing(cc.easeIn(3)),d=cc.callFunc(function(){});r=cc.sequence(u,p,h,d),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){}))),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){for(var t=0;t<s.mElSpData.length;t++)(t<o||t>s.rowCount+o-1)&&s.mElSpData[t].hide()})))}else r=cc.moveBy(.1,c);this.mNodeEls.runAction(cc.sequence(r,cc.callFunc(function(){for(var a=0;a<o;a++)s.mTempData[a]=s.mElSpData[a];for(a=o;a<7;a++)s.mElSpData[a-o]=s.mElSpData[a];var l=s.mNodeEls.getPosition(),r=o-1;for(a=6;a>=7-o;a--){s.mElSpData[a]=s.mTempData[r],r--;var c=s.isVertical?cc.v2(0,-l.y+s.mSpPoints[a].y):cc.v2(-l.x+s.mSpPoints[a].x,0);s.mElSpData[a].node.setPosition(c)}if(e<n)e==n-1&&s.resetVEles(t),s.startSlot(t,e,o,n,i);else{for(s.mNodeEls.stopAllActions(),a=s.rowCount;a<s.mElSpData.length;a++)s.mElSpData[a].hide();s.flifilterShowItem(),s.goToFinsh()}})))},e.prototype.startAbnormalSlot=function(t,e,o,n,i,s){var r=this;void 0===i&&(i=3),void 0===s&&(s=!0),this.stopAllElementsAnim(),this._data=t,this.moveCount=o,this.match=s,this.isFinsh=!1;var c=0;s||(c=70),e+=1;for(var u=5;u<this.mElSpData.length;u++)this.mElSpData[u].show();var p=null,h=this.isVertical?cc.v2(0,-140*o):cc.v2(-140*o,0);if(e==n){var d=140*o,f=this.isVertical?cc.v2(0,.8*-d):cc.v2(.8*-d,0),y=this.isVertical?cc.v2(0,.7*d):cc.v2(.8*d,0),m=this.isVertical?cc.v2(0,.9*-d):cc.v2(-d,0);cc.log("===="+140*o),cc.log("1:"+.8*-d),cc.log("2:"+.6*d),cc.log("3:"+.8*-d);var S=cc.moveBy(.3,f),g=cc.callFunc(function(){l.default.ins.uiScenc.stopRestScrollSound(),l.default.ins.audioMgr.playSound(a.S1114SoundType.scrollEnd),r.scheduleOnce(function(){l.default.ins.uiScenc.playRestScrollSound()},.05)}),_=(cc.delayTime(1),cc.moveBy(1,y)),v=cc.callFunc(function(){l.default.ins.uiScenc.stopRestScrollSound(),l.default.ins.audioMgr.playSound(a.S1114SoundType.scrollEnd),r.scheduleOnce(function(){l.default.ins.uiScenc.playRestScrollSound()},.05)}),b=cc.moveBy(.2,m);cc.moveBy(.08,cc.v2(0,-50)).easing(cc.easeOut(3)),cc.moveBy(.05,cc.v2(0,50-c)).easing(cc.easeIn(3)),cc.callFunc(function(){}),p=cc.sequence(S,g,_,v,b),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){}))),this.node.runAction(cc.sequence(cc.delayTime(1.4),cc.callFunc(function(){for(var t=0;t<r.mElSpData.length;t++)(t<o||t>r.rowCount+o-1)&&r.mElSpData[t].hide()})))}else p=cc.moveBy(.1,h);this.mNodeEls.runAction(cc.sequence(p,cc.callFunc(function(){for(var a=0;a<o;a++)r.mTempData[a]=r.mElSpData[a];for(a=o;a<7;a++)r.mElSpData[a-o]=r.mElSpData[a];var l=r.mNodeEls.getPosition(),c=o-1;for(a=6;a>=7-o;a--){r.mElSpData[a]=r.mTempData[c],c--;var u=r.isVertical?cc.v2(0,-l.y+r.mSpPoints[a].y):cc.v2(-l.x+r.mSpPoints[a].x,0);r.mElSpData[a].node.setPosition(u)}if(e<n)e==n-1&&r.resetVEles(t),r.startAbnormalSlot(t,e,o,n,i,s);else{for(r.mNodeEls.stopAllActions(),a=r.rowCount;a<r.mElSpData.length;a++)r.mElSpData[a].hide();r.flifilterShowItem(),r.goToFinsh()}})))},e.prototype.replenishScroll=function(t){for(var e=this,o=[],n=[],i=0;i<this.mShowItems.length;i++){var s=this.mShowItems[i];s.isShow()&&n.push(s)}for(var a=this.mNodeEls.getPosition(),l=0,r=0;r<n.length;r++){var c=n[r],u=(c.len-1)*this.getElGapValue()/2,p=(this.isVertical?-a.y:-a.x)+(this.isVertical?this.mSpPoints[r].y:this.mSpPoints[r].x),h=p+u+l;l=h-p+(c.len-1)*this.getElGapValue()/2,o.push({item:c,target:h})}for(i=0;i<o.length;i++){var d=o[i];this.moveTo(d.item.node,d.target)}t&&t.length>0&&this.scheduleOnce(function(){e.replenishNull(t)},.15)},e.prototype.moveTo=function(t,e){this.isVertical?cc.tween(t).to(.1,{y:e}).start():cc.tween(t).to(.1,{x:e}).start()},e.prototype.getElGapValue=function(){return this.isVertical?140:100},e.prototype.getItemDecValue=function(t){return this.isVertical?t.position.y:t.position.x},e.prototype.getItemDecValueIncludeLen=function(t){return this.isVertical?t.position.y+t.height/2:t.position.x+t.width/2},e.prototype.getItemLenHalf=function(t){return this.isVertical?t.height/2:t.width/2},e.prototype.getShowItems=function(){return this.mShowItems},e.prototype.getShowShowItems=function(){for(var t=[],e=0;e<this.mShowItems.length;e++){var o=this.mShowItems[e];o.isShow()&&t.push(o)}return t.sort(function(t,e){return t.node.position.y-e.node.position.y}),t},e.prototype.getHideShowItem=function(){for(var t=0;t<this.mShowItems.length;t++){var e=this.mShowItems[t];if(!e.isShow())return e}return null},e.prototype.resetVEles=function(t){for(var e=[],o=0;o<7;o++)e.push(o+1);for(o=0;o<7;o++){var n=l.default.ins.randomNum(0,7),i=e[n];e.splice(n,1),this.mElSpData[o].setInfo(i)}this.mShowItems=[];var s=0,a=t.length,r=(this.mNodeEls.getPosition(),this.isVertical?3:5);for(o=r;o<r+a;o++){var c=this.mElSpData[o],u=t[s];c.setGray(),c.setInfo(u),this.mShowItems.push(this.mElSpData[o]),s++}},e.prototype.flifilterShowItem=function(){for(var t=0,e=0;e<this.mShowItems.length;e++){var o=this.mShowItems[e];t>=5&&o.hide(),t+=o.len}},e.prototype.sortShowItems=function(){var t=this;this.mShowItems.sort(function(e,o){var n=e.isShow()?1:0,i=o.isShow()?1:0;return n==i?t.isVertical?e.node.position.y-o.node.position.y:e.node.position.x-o.node.position.x:i-n})},e.prototype.replenishNull=function(t){var e=[],o=this.mNodeEls.getPosition(),n=this.getShowShowItems(),i=0;i=n.length>0?this.getItemDecValueIncludeLen(n[n.length-1].node):(this.isVertical?-o.y:-o.x)+(this.isVertical?this.mSpPoints[0].y:this.mSpPoints[0].x)-this.getElGapValue()/2;for(var s=0;s<t.length;s++){var a=t[s],l=this.getHideShowItem();if(l){l.setInfo(a);var r=a[2]*this.getElGapValue()/2,c=r+i;i=c+r;var u=c+500,p=this.isVertical?new cc.Vec3(0,u,0):new cc.Vec3(u,0,0);l.node.position=p,l.show(),e.push({node:l.node,targetY:c})}}for(this.sortShowItems(),s=0;s<e.length;s++){var h=e[s];this.moveTo(h.node,h.targetY)}},e.prototype.stopAllElementsAnim=function(){for(var t=0;t<this.mElSpData.length;t++)this.mElSpData[t]},e.prototype.fastSlot=function(){if(!this.isFinsh){this.isFinsh=!0,this.node.stopAllActions(),this.mNodeEls.stopAllActions();for(var t=0;t<this.mElSpData.length;t++)this.mElSpData[t].hide();var e=0;this.match||(e=70),this.resetVEles(this._data);var o=this.mNodeEls.getPosition();this.mShowItems[0].show(),this.mShowItems[0].node.setPosition(cc.v2(0,-o.y-140+e)),this.mShowItems[1].show(),this.mShowItems[1].node.setPosition(cc.v2(0,0-o.y+e)),this.mShowItems[2].show(),this.mShowItems[2].node.setPosition(cc.v2(0,140-o.y+e)),this.flifilterShowItem(),this.goToFinsh()}},e.prototype.goToFinsh=function(){this.isFinsh=!0;for(var t=0;t<this.mShowItems.length;t++)this.mShowItems[t].downOver();this.onScrollComplete&&this.onScrollComplete(this._idx)},s([p(cc.Prefab)],e.prototype,"slotsElement",void 0),s([p(cc.Node)],e.prototype,"content",void 0),s([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./S1114AudioMgr":"S1114AudioMgr","./S1114Const":"S1114Const","./S1114ScrollItem":"S1114ScrollItem"}],S1114UIBigAwardPanel:[function(t,e,o){"use strict";cc._RF.push(e,"1d438pw7nNMWoRDACIUvnKy","S1114UIBigAwardPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./S1114AudioMgr"),l=t("./S1114Const"),r=cc._decorator,c=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sk_bg=null,e.lb_num=null,e.sk_bgDatas=[],e.par_coin=null,e.info={},e.animTime=4,e.animTween=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.showUI=function(t,e){var o=this;this.node.active=!0;var n;n=3==e?a.S1114SoundType.showBigAward3:2==e?a.S1114SoundType.showBigAward2:a.S1114SoundType.showBigAward;var i=l.default.ins.audioMgr.playSound(n);this.par_coin.resetSystem(),this.sk_bg.skeletonData=this.sk_bgDatas[e-1],this.sk_bg.timeScale=.4,this.sk_bg.setAnimation(0,"animation",!1),this.scheduleOnce(function(){l.default.ins.uiScenc.bigAwardComeBack(),l.default.ins.audioMgr.stopSound(i),o.hideUI()},5),this.info={v:0},this.animTween=cc.tween(this.info).to(this.animTime,{v:t},{progress:function(t,e,n,i){if(o.lb_num){var s=i*e;o.lb_num.string=l.default.ins.formatNum(s)}}}).call(function(){}).start()},e.prototype.hideUI=function(){this.node.active=!1},e.prototype.onDestroy=function(){this.animTween.stop(),this.animTween=null},s([u(sp.Skeleton)],e.prototype,"sk_bg",void 0),s([u(cc.Label)],e.prototype,"lb_num",void 0),s([u([sp.SkeletonData])],e.prototype,"sk_bgDatas",void 0),s([u(cc.ParticleSystem)],e.prototype,"par_coin",void 0),s([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1114AudioMgr":"S1114AudioMgr","./S1114Const":"S1114Const"}],S1114UIBonusItem:[function(t,e,o){"use strict";cc._RF.push(e,"5c099BNr9pIWaziEfNAer+I","S1114UIBonusItem");var n,i,s=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./S1114Const"),r=cc._decorator,c=r.ccclass,u=r.property,p=((i={})[5]=2,i[6]=5,i[7]=10,i[8]=25,i[9]=100,i[10]=1500,i),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_icon=null,e.lb_num=null,e.lb_score=null,e.zj_num=0,e.zj_mult=0,e}return s(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.initUI=function(t){this.zj_num=t,this.zj_mult=p[this.zj_num]||1,this.lb_num.string="x"+t},e.prototype.refreshUI=function(){var t=this.zj_mult*l.default.ins.getShowBetNum();this.lb_score.string=l.default.ins.formatNum_2(t)},e.prototype.setGray=function(t){this.node.opacity=t?180:255},e.prototype.setScoreGold=function(t){this.lb_score.node.color=t?cc.color(250,255,100,255):cc.color(244,249,222,255)},a([u({type:cc.Node,displayName:""})],e.prototype,"node_icon",void 0),a([u({type:cc.Label,displayName:""})],e.prototype,"lb_num",void 0),a([u({type:cc.Label,displayName:""})],e.prototype,"lb_score",void 0),a([c],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./S1114Const":"S1114Const"}],S1114UIBonusPanel:[function(t,e,o){"use strict";cc._RF.push(e,"4cb3eco6X9AQ4RHb5Rg2fvL","S1114UIBonusPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./S1114Const"),l=t("./S1114UIItemGold"),r=cc._decorator,c=r.ccclass,u=r.property,p=[500,2,10,1,3,100,5,20,30,1,3,2,10],h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_bigBetNum1=null,e.lb_bigBetNum2=null,e.lb_bigBetNum3=null,e.node_bg=null,e.lb_sum=null,e.sk_sumLight=null,e.sk_light=null,e.sk_selectLight=null,e.node_golds=null,e.lb_num=null,e.node_light=null,e.node_start=null,e.node_startView=null,e.lb_startSum=null,e.node_resultView=null,e.node_resultLight=null,e.sk_resultLight=null,e.lb_resultSum=null,e.itemGolds=[],e.count=0,e.index=0,e.lastIndex=0,e.lastRecordIndex=0,e.rdCount=0,e.blockSoundIdx=0,e.lastBlockSoundIdx=-1,e.data=[],e.roundIndex=0,e.info={},e.sum=0,e.lastCount=0,e.animTween=null,e}return i(e,t),e.prototype.onLoad=function(){var t,e=this.node_golds.getComponentsInChildren(l.default);(t=this.itemGolds).push.apply(t,e);for(var o=0;o<this.itemGolds.length;o++){var n=this.itemGolds[o];n.initUI(p[o]),n.addLight(this.sk_light.node)}this.sk_light.node.active=!1,this.hideSelectSk(),this.hideSumLightAnim(),this.hideResultView(),this.hideStartView(),cc.tween(this.node_resultLight).by(.2,{angle:-10}).repeatForever().start()},e.prototype.start=function(){},e.prototype.showUI=function(t){cc.log("show bonus game panel,data:"+t),a.default.ins.audioMgr.playBonusBGM(),this.data=t,this.count=t.length,this.node.active=!0,this.node_start.active=!1,this.lastCount=5,this.blockSoundIdx=0,this.lastBlockSoundIdx=-1,this.lastRecordIndex=0,this.sum=0,this.roundIndex=0,this.index=-1,this.lastIndex=-1,this.lb_num.string="",this.refreshUI(),this.initUI(),this.showStartView()},e.prototype.initUI=function(){for(var t=0;t<this.itemGolds.length;t++)this.itemGolds[t].changeSelected(!1)},e.prototype.restItems=function(){for(var t=0;t<this.itemGolds.length;t++)this.itemGolds[t].hideLightAnim()},e.prototype.hideUI=function(){this.node.active=!1},e.prototype.refreshUI=function(){this.lb_sum.node.active=this.sum>0,this.sum>0&&(this.lb_sum.string=this.sum.toString()),this.refreshBigBetLabel()},e.prototype.refreshBigBetLabel=function(){this.lb_bigBetNum1.string=a.default.ins.formatNum(500*a.default.ins.getShowBetNum()),this.lb_bigBetNum2.string=a.default.ins.formatNum(100*a.default.ins.getShowBetNum()),this.lb_bigBetNum3.string=a.default.ins.formatNum(30*a.default.ins.getShowBetNum())},e.prototype.showNum=function(t,e,o){var n=this;void 0===o&&(o=null);var i=this.itemGolds[e].node.convertToWorldSpaceAR(cc.v2(0,0)),s=this.node_bg.convertToNodeSpaceAR(i);this.lb_num.node.position=new cc.Vec3(s.x,s.y,0),this.lb_num.string=t.toString(),this.lb_num.node.scale=0,cc.tween(this.lb_num.node).to(.1,{scale:1}).start(),this.scheduleOnce(function(){n.lb_num.string="",null==o||o()},2)},e.prototype.checkNext=function(){for(var t,e=this,o=this.data[this.roundIndex],n=-1,i=-1,s=0;s<p.length;s++)if(p[s]==o){var a=this.itemGolds[s];if(!a||!a.isSelected){n=s;break}i=s}n<0&&i>=0&&(n=i);var l=this.index;-1==l&&(l=0),t=n>=l?n-l:this.itemGolds.length-(l-n),this.rdCount=0,this.playStart(function(){var o=2*e.itemGolds.length+t;e.info={v:0},e.animTween=cc.tween(e.info).to(12,{v:o},{easing:"sineOut",progress:function(t,o,n,i){var s=i*o,a=Math.floor(s);e.goNext(a)}}).call(function(){var t=e.itemGolds[e.index];t.changeSelected(!0),e.playSelectSk(t.node),e.scheduleOnce(function(){var t=p[e.index];e.sum+=t,e.showNum(t,e.index,function(){e.refreshUI(),e.showSumLightAnim(),e.roundIndex>=e.count-1?(e.itemGolds[e.lastIndex].hideLightAnim(),e.showResultView(),cc.log(e.count+"\u6b21\u7ed3\u675f\u4e86")):e.scheduleOnce(function(){e.roundIndex++,e.lastRecordIndex=e.index,e.blockSoundIdx=0,e.showStartView()},1)})},.5)}).start()})},e.prototype.goNext=function(t){var e=t;if(e!=this.index){if(this.lastRecordIndex>0&&(e+=this.lastRecordIndex),e>this.itemGolds.length-1){var o=Math.floor(e/this.itemGolds.length);this.index=e-this.itemGolds.length*o}else this.index=e;this.lastIndex!=this.index&&(0==this.rdCount||(this.lastIndex>=0&&this.itemGolds[this.lastIndex].hideLightAnim(),this.itemGolds[this.index].playLightAnim(),this.lastIndex=this.index,this.playSound()),this.rdCount++)}},e.prototype.playSound=function(){this.lastBlockSoundIdx>=0&&a.default.ins.audioMgr.stopSound(this.lastBlockSoundIdx);var t=a.default.ins.audioMgr.playBonusGameBlockStopSound(this.blockSoundIdx);this.blockSoundIdx=t[0],this.lastBlockSoundIdx=t[1]},e.prototype.playStart=function(t){var e=this,o=this.index<0?0:this.index,n=this.itemGolds[o].node.convertToWorldSpaceAR(cc.v2(0,0)),i=this.node_bg.convertToNodeSpaceAR(n);this.playSound(),this.node_start.active=!0,this.node_start.scale=1.2,this.node_start.position=new cc.Vec3(i.x,i.y,0),cc.tween(this.node_start).to(.2,{scale:1}).call(function(){e.scheduleOnce(function(){e.node_start.active=!1,null==t||t()},.15)}).start()},e.prototype.playSelectSk=function(t){var e=this;a.default.ins.changeParent(this.sk_selectLight.node,t,3),this.sk_selectLight.node.position=cc.Vec3.ZERO,this.sk_selectLight.node.active=!0,this.sk_selectLight.setAnimation(0,"animation2",!1),this.scheduleOnce(function(){a.default.ins.changeParent(e.sk_selectLight.node,t,3),e.sk_selectLight.node.position=cc.Vec3.ZERO,e.sk_selectLight.setAnimation(0,"animation3",!1),e.scheduleOnce(function(){a.default.ins.changeParent(e.sk_selectLight.node,e.node_bg),e.hideSelectSk()},.8)},1)},e.prototype.hideSelectSk=function(){this.sk_selectLight.node.active=!1},e.prototype.showSumLightAnim=function(){var t=this;this.lb_sum.node.scale=.9,cc.tween(this.lb_sum.node).to(.1,{scale:1}).start(),this.sk_sumLight.node.active=!0,this.sk_sumLight.setAnimation(0,"animation",!1),this.scheduleOnce(function(){t.hideSumLightAnim()},1)},e.prototype.hideSumLightAnim=function(){this.sk_sumLight.node.active=!1},e.prototype.showResultView=function(){var t=this;this.node_resultView.active=!0,this.lb_resultSum.string=this.sum.toString(),this.sk_resultLight.setAnimation(0,"animation2",!1),this.scheduleOnce(function(){t.hideResultView(),a.default.ins.uiScenc.bonusGamePanelComeBack(),t.hideUI()},1.5)},e.prototype.showStartView=function(){var t=this;this.node_startView.active=!0,this.lb_startSum.string=this.lastCount.toString(),this.lastCount--,this.scheduleOnce(function(){t.hideStartView(),t.checkNext()},2)},e.prototype.hideStartView=function(){this.node_startView.active=!1},e.prototype.hideResultView=function(){this.node_resultView.active=!1},e.prototype.onDestroy=function(){this.animTween.stop(),this.animTween=null},s([u({type:cc.Label,displayName:""})],e.prototype,"lb_bigBetNum1",void 0),s([u({type:cc.Label,displayName:""})],e.prototype,"lb_bigBetNum2",void 0),s([u({type:cc.Label,displayName:""})],e.prototype,"lb_bigBetNum3",void 0),s([u({type:cc.Node,displayName:""})],e.prototype,"node_bg",void 0),s([u({type:cc.Label,displayName:""})],e.prototype,"lb_sum",void 0),s([u({type:sp.Skeleton,displayName:""})],e.prototype,"sk_sumLight",void 0),s([u({type:sp.Skeleton,displayName:""})],e.prototype,"sk_light",void 0),s([u({type:sp.Skeleton,displayName:""})],e.prototype,"sk_selectLight",void 0),s([u({type:cc.Node,displayName:""})],e.prototype,"node_golds",void 0),s([u({type:cc.Label,displayName:""})],e.prototype,"lb_num",void 0),s([u({type:cc.Node,displayName:""})],e.prototype,"node_light",void 0),s([u({type:cc.Node,displayName:""})],e.prototype,"node_start",void 0),s([u({type:cc.Node,displayName:""})],e.prototype,"node_startView",void 0),s([u({type:cc.Label,displayName:""})],e.prototype,"lb_startSum",void 0),s([u({type:cc.Node,displayName:""})],e.prototype,"node_resultView",void 0),s([u({type:cc.Node,displayName:""})],e.prototype,"node_resultLight",void 0),s([u({type:sp.Skeleton,displayName:""})],e.prototype,"sk_resultLight",void 0),s([u({type:cc.Label,displayName:""})],e.prototype,"lb_resultSum",void 0),s([c],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./S1114Const":"S1114Const","./S1114UIItemGold":"S1114UIItemGold"}],S1114UICommonMain:[function(t,e,o){"use strict";cc._RF.push(e,"2bb0171dlxIEJ/17un/ct2u","S1114UICommonMain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,l=t("../../../Script/AcFrame/ui/AcUIHelp"),r=cc._decorator,c=r.ccclass,u=r.property,p=[10,20,50,100,200,500];(function(t){t[t.normal=1]="normal",t[t.playing=2]="playing",t[t.disable=3]="disable"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rt_winNum=null,e.rt_playerCoin=null,e.lb_autoPlay=null,e.rt_betNum=null,e.btn_home=null,e.btn_play=null,e.btn_help=null,e.btn_sub=null,e.btn_add=null,e.btn_setting=null,e.btn_fast=null,e.sp_sound=null,e.sp_music=null,e.sp_quick=null,e.btn_sound=null,e.btn_music=null,e.btn_quick=null,e.btn_close=null,e.node_settingPanel=null,e.btn_clickBg=null,e.node_selectAutoCount=null,e.btn_autoCount1=null,e.btn_autoCount2=null,e.btn_autoCount3=null,e.btn_autoCount4=null,e.btn_autoCount5=null,e.btn_autoCount6=null,e.node_inFast=null,e.node_normalBtnPlay=null,e.node_inBtnPlay=null,e.node_disableBtnPlay=null,e.audioOpenIcon=null,e.audioCloseIcon=null,e.callBack_btnAdd=null,e.callBack_btnSub=null,e.callBack_btnHelp=null,e.callBack_btnHome=null,e.callBack_btnSetting=null,e.callBack_btnPlay=null,e.callBack_btnFast=null,e.callBack_btnClickBg=null,e.callBack_btnSound=null,e.callBack_btnMusic=null,e.callBack_btnQuick=null,e.callBack_btnClose=null,e.callBack_btnPlayLongClick=null,e.btn_autoCounts=[],e.touchEnable=!0,e.touchStart=!1,e.touchBtnPlayTimer=0,e.longClickMaxTime=1.1,e.openMusic=!0,e.openSound=!0,e.playState=a.normal,e.fastPlay=!1,e.fastIconPoints=[],e.fastIcons=[],e.fastAnimTimer=0,e}return i(e,t),e.prototype.onLoad=function(){this.btn_autoCounts=[this.btn_autoCount1,this.btn_autoCount2,this.btn_autoCount3,this.btn_autoCount4,this.btn_autoCount5,this.btn_autoCount6],l.default.instance.addClickEvent(this.btn_add,this,"onClickBtnAdd"),l.default.instance.addClickEvent(this.btn_sub,this,"onClickBtnSub"),l.default.instance.addClickEvent(this.btn_help,this,"onClickBtnHelp"),l.default.instance.addClickEvent(this.btn_home,this,"onClickBtnHome"),l.default.instance.addClickEvent(this.btn_setting,this,"onClickBtnSetting"),l.default.instance.addClickEvent(this.btn_fast,this,"onClickBtnFast"),l.default.instance.addClickEvent(this.btn_sound,this,"onClickBtnSound"),l.default.instance.addClickEvent(this.btn_music,this,"onClickBtnMusic"),l.default.instance.addClickEvent(this.btn_quick,this,"onClickBtnQuick"),l.default.instance.addClickEvent(this.btn_close,this,"onClickBtnClose"),l.default.instance.addClickEvent(this.btn_clickBg,this,"onClickBtnClickBg");for(var t=0;t<this.btn_autoCounts.length;t++){var e=this.btn_autoCounts[t];e.node.getComponentInChildren(cc.Label).string="X"+p[t],l.default.instance.addClickEvent(e,this,"onClickBtnAutoCount",t)}for(this.btn_play.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStartBtnPlay,this),this.btn_play.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEndBtnPlay,this),t=0;t<this.node_inFast.childrenCount;t++){var o=this.node_inFast.children[t];this.fastIcons.push(o),this.fastIconPoints.push(o.position)}this.changePlayState(),this.changePlayAutoState(!1),this.changePlayFastState(!1),this.hideSettingPanel(),this.node_selectAutoCount.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){var e;this.touchStart&&(this.touchBtnPlayTimer+=t,this.touchBtnPlayTimer>=this.longClickMaxTime&&(this.touchStart=!1,this.touchBtnPlayTimer=0,this.node_selectAutoCount.active=!0,null===(e=this.callBack_btnPlayLongClick)||void 0===e||e.call(this))),this.playFastAnim(t)},e.prototype.refreshSetting=function(){this.sp_music.spriteFrame=this.getAudioIcon(this.openMusic),this.sp_sound.spriteFrame=this.getAudioIcon(this.openSound),this.sp_quick.spriteFrame=this.getAudioIcon(this.fastPlay)},e.prototype.getAudioIcon=function(t){return t?this.audioOpenIcon:this.audioCloseIcon},e.prototype.showSettingPanel=function(){this.node_settingPanel.active=!0,this.refreshSetting()},e.prototype.hideSettingPanel=function(){this.node_settingPanel.active=!1},e.prototype.refreshWinNum=function(t,e){void 0===e&&(e="WIN "),this.rt_winNum.string="<color=#f9a33>"+e+"</>"+t},e.prototype.refreshPlayCoin=function(t){this.rt_playerCoin.string="<color=#f9a33>CREDIT </>"+t},e.prototype.refreshBetNum=function(t){this.rt_betNum.string="<color=#f9a33>BET\uff1a</c><color=#ffffff>"+t+"</color>"},e.prototype.refreshFastState=function(){this.node_inFast.active=this.fastPlay},e.prototype.playFastAnim=function(t){if(this.fastPlay&&(this.fastAnimTimer+=t,this.fastAnimTimer>=.5)){this.fastAnimTimer=0;for(var e=0;e<this.fastIcons.length;e++){var o,n=this.fastIcons[e];o=e==this.fastIcons.length-1?this.fastIconPoints[0]:this.fastIconPoints[e+1],n.position=o}for(this.fastIconPoints=[],e=0;e<this.fastIcons.length;e++)n=this.fastIcons[e],this.fastIconPoints.push(n.position)}},e.prototype.changePlayState=function(t){void 0===t&&(t=1),this.playState=t,this.refreshPlayState()},e.prototype.changeBtnPlayEnble=function(t){this.touchEnable=t},e.prototype.refreshPlayState=function(){this.node_normalBtnPlay.active=1==this.playState,this.node_inBtnPlay.active=2==this.playState,this.node_disableBtnPlay.active=3==this.playState,this.btn_add.interactable=1==this.playState,this.btn_sub.interactable=1==this.playState,this.btn_fast.interactable=1==this.playState},e.prototype.getPlayState=function(){return this.playState},e.prototype.changePlayAutoState=function(t,e){void 0===e&&(e=0);var o=e>0?e:"";this.lb_autoPlay.string=t?o+" STOP":"HOLD POR OUTO"},e.prototype.changePlayFastState=function(t){this.fastPlay=t,this.refreshFastState()},e.prototype.getPlayFastState=function(){return this.fastPlay},e.prototype.addClickBtnAddEvent=function(t){this.callBack_btnAdd=t},e.prototype.addClickBtnSubEvent=function(t){this.callBack_btnSub=t},e.prototype.addClickBtnHelpEvent=function(t){this.callBack_btnHelp=t},e.prototype.addClickBtnHomeEvent=function(t){this.callBack_btnHome=t},e.prototype.addClickBtSettingEvent=function(t){this.callBack_btnSetting=t},e.prototype.addClickBtnPlayEvent=function(t){this.callBack_btnPlay=t},e.prototype.addClickBtnPlayFast=function(t){this.callBack_btnFast=t},e.prototype.addClickBtnClickBg=function(t){this.callBack_btnClickBg=t},e.prototype.addClickBtSoundEvent=function(t){this.callBack_btnSound=t},e.prototype.addClickBtnMusicEvent=function(t){this.callBack_btnMusic=t},e.prototype.addClickBtnQuickEvent=function(t){this.callBack_btnQuick=t},e.prototype.addClickBtnCloseEvent=function(t){this.callBack_btnClose=t},e.prototype.addClickBtnPlayLong=function(t){this.callBack_btnPlayLongClick=t},e.prototype.onClickBtnAdd=function(){var t;null===(t=this.callBack_btnAdd)||void 0===t||t.call(this)},e.prototype.onClickBtnSub=function(){var t;null===(t=this.callBack_btnSub)||void 0===t||t.call(this)},e.prototype.onClickBtnHelp=function(){var t;null===(t=this.callBack_btnHelp)||void 0===t||t.call(this)},e.prototype.onClickBtnHome=function(){var t;null===(t=this.callBack_btnHome)||void 0===t||t.call(this)},e.prototype.onClickBtnSetting=function(){var t;null===(t=this.callBack_btnSetting)||void 0===t||t.call(this),this.showSettingPanel()},e.prototype.onClickBtnPlay=function(){var t;null===(t=this.callBack_btnPlay)||void 0===t||t.call(this,1)},e.prototype.onClickBtnFast=function(){var t;null===(t=this.callBack_btnFast)||void 0===t||t.call(this)},e.prototype.onClickBtnSound=function(){var t;this.openSound=!this.openSound,null===(t=this.callBack_btnSound)||void 0===t||t.call(this,this.openSound),this.refreshSetting()},e.prototype.onClickBtnMusic=function(){var t;this.openMusic=!this.openMusic,null===(t=this.callBack_btnMusic)||void 0===t||t.call(this,this.openMusic),this.refreshSetting()},e.prototype.onClickBtnQuick=function(){var t;this.fastPlay=!this.fastPlay,null===(t=this.callBack_btnQuick)||void 0===t||t.call(this,this.fastPlay),this.refreshSetting(),this.changePlayFastState(this.fastPlay)},e.prototype.onClickBtnClose=function(){var t;null===(t=this.callBack_btnClose)||void 0===t||t.call(this),this.hideSettingPanel()},e.prototype.onTouchStartBtnPlay=function(){this.touchEnable&&(this.playState==a.normal&&(this.touchStart=!0),this.node_selectAutoCount.active=!1)},e.prototype.onTouchEndBtnPlay=function(){var t,e;if(this.touchEnable){if(this.playState==a.playing)return this.touchStart=!1,this.touchBtnPlayTimer=0,void(null===(t=this.callBack_btnPlay)||void 0===t||t.call(this,0));this.touchStart&&this.touchBtnPlayTimer>=this.longClickMaxTime||this.node_selectAutoCount.active||null===(e=this.callBack_btnPlay)||void 0===e||e.call(this,1),this.touchStart=!1,this.touchBtnPlayTimer=0}},e.prototype.onClickBtnClickBg=function(){var t;null===(t=this.callBack_btnClickBg)||void 0===t||t.call(this),this.node_selectAutoCount.active=!1},e.prototype.onClickBtnAutoCount=function(t,e){var o,n=p[e];null===(o=this.callBack_btnPlay)||void 0===o||o.call(this,n),this.node_selectAutoCount.active=!1},s([u(cc.RichText)],e.prototype,"rt_winNum",void 0),s([u(cc.RichText)],e.prototype,"rt_playerCoin",void 0),s([u(cc.Label)],e.prototype,"lb_autoPlay",void 0),s([u(cc.RichText)],e.prototype,"rt_betNum",void 0),s([u(cc.Button)],e.prototype,"btn_home",void 0),s([u(cc.Button)],e.prototype,"btn_play",void 0),s([u(cc.Button)],e.prototype,"btn_help",void 0),s([u(cc.Button)],e.prototype,"btn_sub",void 0),s([u(cc.Button)],e.prototype,"btn_add",void 0),s([u(cc.Button)],e.prototype,"btn_setting",void 0),s([u(cc.Button)],e.prototype,"btn_fast",void 0),s([u(cc.Sprite)],e.prototype,"sp_sound",void 0),s([u(cc.Sprite)],e.prototype,"sp_music",void 0),s([u(cc.Sprite)],e.prototype,"sp_quick",void 0),s([u(cc.Button)],e.prototype,"btn_sound",void 0),s([u(cc.Button)],e.prototype,"btn_music",void 0),s([u(cc.Button)],e.prototype,"btn_quick",void 0),s([u(cc.Button)],e.prototype,"btn_close",void 0),s([u(cc.Node)],e.prototype,"node_settingPanel",void 0),s([u(cc.Node)],e.prototype,"btn_clickBg",void 0),s([u(cc.Node)],e.prototype,"node_selectAutoCount",void 0),s([u(cc.Button)],e.prototype,"btn_autoCount1",void 0),s([u(cc.Button)],e.prototype,"btn_autoCount2",void 0),s([u(cc.Button)],e.prototype,"btn_autoCount3",void 0),s([u(cc.Button)],e.prototype,"btn_autoCount4",void 0),s([u(cc.Button)],e.prototype,"btn_autoCount5",void 0),s([u(cc.Button)],e.prototype,"btn_autoCount6",void 0),s([u(cc.Node)],e.prototype,"node_inFast",void 0),s([u(cc.Node)],e.prototype,"node_normalBtnPlay",void 0),s([u(cc.Node)],e.prototype,"node_inBtnPlay",void 0),s([u(cc.Node)],e.prototype,"node_disableBtnPlay",void 0),s([u(cc.SpriteFrame)],e.prototype,"audioOpenIcon",void 0),s([u(cc.SpriteFrame)],e.prototype,"audioCloseIcon",void 0),s([c],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Script/AcFrame/ui/AcUIHelp":void 0}],S1114UIFreeAwardPanel:[function(t,e,o){"use strict";cc._RF.push(e,"97ee5CkRKlIkJdW42NSXLT3","S1114UIFreeAwardPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./S1114AudioMgr"),l=t("./S1114Const"),r=cc._decorator,c=r.ccclass,u=r.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sk_bg=null,e.lb_num=null,e.btn_bgClick=null,e.info={},e.animTime=3,e.animTween=null,e.num=0,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.showUI=function(t,e){var o=this;void 0===t&&(t=10),void 0===e&&(e=10),l.default.ins.audioMgr.playSound(a.S1114SoundType.freeGameEnd),this.num=t,this.node.active=!0,this.info={v:0},this.animTween=cc.tween(this.info).to(this.animTime,{v:t},{progress:function(t,e,n,i){if(o.lb_num){var s=i*e;o.lb_num.string=l.default.ins.formatNum(s/l.default.ins.getBetPer())}}}).call(function(){o.sk_bg.setAnimation(0,"animation3",!1),o.sk_bg.setCompleteListener(function(){o.gotoOver()})}).start(),this.sk_bg.setAnimation(0,"animation",!1),this.sk_bg.setCompleteListener(function(){o.sk_bg.setAnimation(0,"animation2",!0)})},e.prototype.gotoOver=function(){var t=this;this.scheduleOnce(function(){l.default.ins.uiScenc.freeAwardComeBack(),t.hideUI()},.3)},e.prototype.hideUI=function(){this.node.active=!1},e.prototype.onClickBtnBgClick=function(){this.animTween.stop(),this.lb_num.string=l.default.ins.formatNum(this.num/l.default.ins.getBetPer()),this.sk_bg.timeScale=1e3},e.prototype.onDestroy=function(){this.animTween.stop(),this.animTween=null},s([u(sp.Skeleton)],e.prototype,"sk_bg",void 0),s([u(cc.Label)],e.prototype,"lb_num",void 0),s([u(cc.Button)],e.prototype,"btn_bgClick",void 0),s([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1114AudioMgr":"S1114AudioMgr","./S1114Const":"S1114Const"}],S1114UIItemGold:[function(t,e,o){"use strict";cc._RF.push(e,"f2037QHpzxAC5r5QMJFnRZq","S1114UIItemGold");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(a=(s<3?i(a):s>3?i(e,o,a):i(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,l=a.ccclass,r=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_light=null,e.lb_num=null,e.num=0,e.sk_light=null,e.nPoints=[],e.flag=!0,e.isSelected=!1,e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.node_light.children.length;t++){var e=this.node_light.getChildByName(""+(t+1));this.nPoints.push(e)}this.schedule(this.refreshLightPoint,1)},e.prototype.start=function(){},e.prototype.initUI=function(t){this.num=t;var e;e=[500,100,30].includes(t)?"":t.toString(),this.lb_num.string=e,this.changeSelected(!1)},e.prototype.addLight=function(t){var e=cc.instantiate(t);e.position=cc.Vec3.ZERO,e.active=!1,this.sk_light=e.getComponent(sp.Skeleton),this.node.addChild(e),e.setSiblingIndex(2)},e.prototype.playLightAnim=function(){this.sk_light.node.active=!0,this.sk_light.setAnimation(0,"animation1",!1)},e.prototype.hideLightAnim=function(){this.sk_light.node.active=!1},e.prototype.changeSelected=function(t){this.isSelected=t,this.node_light.active=this.isSelected},e.prototype.refreshLightPoint=function(){if(this.isSelected){this.flag=!this.flag;for(var t=0;t<this.nPoints.length;t++){this.nPoints[t].scale=0==t||t%2==0?this.flag?1.5:1:this.flag?1:1.5}}},s([r(cc.Node)],e.prototype,"node_light",void 0),s([r(cc.Label)],e.prototype,"lb_num",void 0),s([l],e)}(cc.Component);o.default=c,cc._RF.pop()},{}]},{},["S1114AudioMgr","S1114Const","S1114Loader","S1114Network","S1114Scene","S1114ScrollItem","S1114ScrollView","S1114UIBigAwardPanel","S1114UIBonusItem","S1114UIBonusPanel","S1114UICommonMain","S1114UIFreeAwardPanel","S1114UIItemGold"]);