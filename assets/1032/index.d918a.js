window.__require=function e(i,t,n){function a(l,o){if(!t[l]){if(!i[l]){var c=l.split("/");if(c=c[c.length-1],!i[c]){var r="function"==typeof __require&&__require;if(!o&&r)return r(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+l+"'")}l=c}var h=t[l]={exports:{}};i[l][0].call(h.exports,function(e){return a(i[l][1][e]||e)},h,h.exports,e,i,t,n)}return t[l].exports}for(var s="function"==typeof __require&&__require,l=0;l<n.length;l++)a(n[l]);return a}({MinerAnimationAudio:[function(e,i){"use strict";cc._RF.push(i,"fd508shnO1JvoDBhOPqqxI7","MinerAnimationAudio"),cc.Class({extends:cc.Component,playying:function(){cc.find("Canvas").getComponent("MinerAudio").playyinga()},playyingclose:function(){cc.find("Canvas").getComponent("MinerAudio").playyingclose()}}),cc._RF.pop()},{}],MinerAudio:[function(e,i){"use strict";var t;cc._RF.push(i,"fda8et0izJKUo+kd9UPFkHt","MinerAudio"),cc.Class({extends:cc.Component,properties:(t={bgmAudio:{type:cc.AudioClip,default:[]},buttonClick:{type:cc.AudioClip,default:null},startWheel:{type:cc.AudioClip,default:null},stopWheel:{type:cc.AudioClip,default:null},winEf:{type:[cc.AudioClip],default:[]},bigWinEf:{type:cc.AudioClip,default:null},freeGame:{type:cc.AudioClip,default:null},jia:{type:cc.AudioClip,default:null},speed:{type:cc.AudioClip,default:null},has_fireball:{type:cc.AudioClip,default:null},has_free:{type:cc.AudioClip,default:null},start_free:{type:cc.AudioClip,default:null},stop_special:{type:cc.AudioClip,default:null},firelink_link:{type:cc.AudioClip,default:null},firelink_lock:{type:cc.AudioClip,default:null},firelink_lockfire:{type:cc.AudioClip,default:null},fireball_pass:{type:cc.AudioClip,default:null},fireball_hit:{type:cc.AudioClip,default:null},special_score_stop:{type:cc.AudioClip,default:null},freegameapear:{type:cc.AudioClip,default:null},fireballappear:{type:cc.AudioClip,default:null},freegameActive:{type:cc.AudioClip,default:null},freegameokbutton:{type:cc.AudioClip,default:null},freegamedialogout:{type:cc.AudioClip,default:null},specialwinbg:{type:cc.AudioClip,default:null},winstop:{type:cc.AudioClip,default:null},youwin:{type:cc.AudioClip,default:null},MI_feature_wildin:{type:cc.AudioClip,default:null},fgitem1:{type:cc.AudioClip,default:null},fgitem2:{type:cc.AudioClip,default:null},MI_main_lightningballwin:{type:cc.AudioClip,default:null},MI_miner_hand:{type:cc.AudioClip,default:null},miner_hand:{type:cc.AudioClip,default:null},MI_miner_head:{type:cc.AudioClip,default:null},miner_head:{type:cc.AudioClip,default:null},MI_miner_shoulder:{type:cc.AudioClip,default:null},miner_shoulder:{type:cc.AudioClip,default:null},MI_miner_winsmall1:{type:cc.AudioClip,default:null},MI_miner_winsmall2:{type:cc.AudioClip,default:null},MI_miner_fail:{type:cc.AudioClip,default:null},MI_miner_fail1:{type:cc.AudioClip,default:null},MI_bonus_bonuswin:{type:cc.AudioClip,default:null},MI_miner_failend:{type:cc.AudioClip,default:null},MI_bonus_change:{type:cc.AudioClip,default:null},miner_bonus_change:{type:cc.AudioClip,default:null},MI_bonus_crystalballin_1001:{type:cc.AudioClip,default:null},MI_bonus_crystalballlocate:{type:cc.AudioClip,default:null},MI_bonus_crystalballfly:{type:cc.AudioClip,default:null},MI_bonus_pointin:{type:cc.AudioClip,default:null},MI_bonus_pointlocate:{type:cc.AudioClip,default:null},MI_bonus_pointfly:{type:cc.AudioClip,default:null},MI_bonus_greencrystalin:{type:cc.AudioClip,default:null},MI_bonus_greencrystalfly:{type:cc.AudioClip,default:null},MI_bonus_greencrystallocate:{type:cc.AudioClip,default:null},MI_miner_dig1:{type:cc.AudioClip,default:null},MI_miner_dig2:{type:cc.AudioClip,default:null},miner_dig:{type:cc.AudioClip,default:null},MI_feature_lightoff:{type:cc.AudioClip,default:null}},t.MI_feature_wildin={type:cc.AudioClip,default:null},t.MI_miner_headlamp={type:cc.AudioClip,default:null},t.MI_miner_questionmark={type:cc.AudioClip,default:null},t.MI_miner_lightin={type:cc.AudioClip,default:null},t.miner_lightin={type:cc.AudioClip,default:null},t.MI_feature_fire={type:cc.AudioClip,default:null},t.MI_miner_jump={type:cc.AudioClip,default:null},t.miner_think={type:cc.AudioClip,default:null},t.miner_try_catch_fire={type:cc.AudioClip,default:null},t.miner_in_fire={type:cc.AudioClip,default:null},t.MI_miner_run={type:cc.AudioClip,default:null},t.miner_change_fire_end={type:cc.AudioClip,default:null},t.MI_YouWinact={type:cc.AudioClip,default:null},t.MI_BIGWINact={type:cc.AudioClip,default:null},t.MI_MEGAWINact={type:cc.AudioClip,default:null},t.miner_bigwin={type:cc.AudioClip,default:null},t.miner19={type:cc.AudioClip,default:null},t),onLoad:function(){this.pInfo=e("PlayerInfo").getInstant,window.playEffect=this.playEffect.bind(this)},start:function(){cc.audioEngine.stopAll(),this.playBgm(0)},stopAudio:function(){cc.audioEngine.stopAll()},setVolume:function(e){cc.audioEngine.setMusicVolume(e)},stopBgm:function(){cc.audioEngine.stopMusic()},playBgm:function(e){0!=this.pInfo.musicControl&&(cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[e],!0))},playSpeed:function(){this.playEf(this.speed)},playHasFireball:function(){this.playEf(this.has_fireball)},playHasFree:function(){this.playEf(this.has_free)},playStartFree:function(){this.playEf(this.start_free)},playStopSpecial:function(){this.playEf(this.stop_special)},playLinkFire:function(){this.playEf(this.firelink_link)},playLinkLock:function(){this.playEf(this.firelink_lock)},playLinkLockFire:function(){this.playEf(this.firelink_lockfire)},playFireballPass:function(){this.playEf(this.fireball_pass)},playFireballHit:function(){this.playEf(this.fireball_hit)},playStopWheel:function(){this.playEf(this.stopWheel)},playButtonClick:function(){this.playEf(this.buttonClick)},playStartWheel:function(){this.playEf(this.startWheel)},playjia:function(){},playBW:function(){this.playEf(this.winEf[0])},playFreeGame:function(){this.playEf(this.freeGame)},playEf:function(e){0!=this.pInfo.soundEffectControl&&cc.audioEngine.playEffect(e)},playEffect:function(e){0!=this.pInfo.soundEffectControl&&this[e]&&this.node&&cc.audioEngine.playEffect(this[e])}}),cc._RF.pop()},{PlayerInfo:void 0}],MinerFreeWheel:[function(e,i){"use strict";cc._RF.push(i,"dada0mL1StMmbPaoxS8wJFv","MinerFreeWheel"),cc.Class({extends:cc.Component,properties:{wheelId:0,excludeId:{default:0,displayName:"\u4e0d\u4f1a\u51fa\u73b0\u7684\u6570\u5b57id"}},onLoad:function(){this.audio=cc.director.getScene().getChildByName("Canvas").getChildByName("audio_source").getComponent("WitchAudio"),this.mainObj=cc.director.getScene().getChildByName("Canvas").getComponent("WitchMain"),this.mainObj.freeWheelList[this.wheelId]=this,this.status=0,this.lastResult=[0,0,0,0,0,0],this.rolePbList=[],this.roleIdList=[]},start:function(){this.initWheel()},clearPbs:function(){for(var e in this.rolePbList){var i=this.rolePbList[e];i&&cc.isValid(i)&&(i.removeFromParent(),i.destroy())}},initWheel:function(){this.clearPbs(),this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren();for(var e=0;e<17;e++){var i=this.getRandomId();e<6&&(this.lastResult[e]=i),this.addRole(i)}this.addRole(this.getRandomId()),this.node.y=0,this.mainObj.rollIndex++},startRoll:function(){this.clearPbs(),this.status=1,this.hasFree=!1,this.hasFireball=!1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.zIndex=1,this.node.y=0;var e=0;for(var i in this.lastResult)this.lastResult[i]=0==this.lastResult[i]?this.getRandomId():this.lastResult[i],this.addRole(this.lastResult[i]);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var s=0;s<30*(e+1)-6-n.length-1;s++)this.addRole(this.getRandomId());for(var l in n)this.addRole(n[l]);this.addRole(this.getRandomId());var o=1*(e+1)+.2*this.wheelId;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.1+.2*this.wheelId),cc.callFunc(function(){this.node.runAction(cc.sequence(cc.moveTo(o+.2,cc.v2(this.node.x,475-this.node.height)),cc.moveTo(.1,cc.v2(this.node.x,500-this.node.height)),cc.moveTo(.1,cc.v2(this.node.x,475-this.node.height)),cc.callFunc(this.rollCallBack.bind(this))))},this)))},getRandomId:function(){for(var e=0;0==e;)e=(e=(e=Math.floor(9*Math.random()+1))%2==0?24:Math.floor(9*Math.random()+1))==this.excludeId?0:e;return e},changePbToWild:function(e){for(var i in this.roleIdList){var t=this.roleIdList[i],n=this.rolePbList[i];n&&cc.isValid(n)&&t==e&&n.getComponent(cc.Animation).play("towild")}},addRole:function(e){var i=cc.instantiate(this.mainObj.rolePb[e]);return this.rolePbList.push(i),this.roleIdList.push(e),this.node.addChild(i),i},isFireball:function(e){var i=!1;return e>=10&&e<=23&&(i=!0),e>25&&(i=!0),i},rollCallBack:function(){this.audio.playStopWheel(),this.lastResult=this.roleIdList.slice(-6),this.status=0,this.mainObj.stateCallBack()},stopImmediately:function(){this.lastResult=this.roleIdList.slice(-6),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){this.node.y=475-this.node.height},this))),this.status=0,this.mainObj.stateCallBack()}}),cc._RF.pop()},{}],MinerMain:[function(e,i){"use strict";function t(e,i){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=n(e))||i&&e&&"number"==typeof e.length){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,i){if(e){if("string"==typeof e)return a(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,i):void 0}}function a(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}cc._RF.push(i,"8fb63tp8SFDcKwoiK2CYr/w","MinerMain");var s=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,22,24,26,28,30,32,34,36,38,40],l=[8,12,16,20],o=[0,0,0,0,0,0,0,0,0,0,5,10,25,50,100,150,200,250,500,625,750,1e3,2500],c=[[11,12,13,14,15],[6,7,8,9,10],[16,17,18,19,20],[1,2,3,4,5],[11,7,3,9,15],[6,12,18,14,10],[16,12,8,14,20],[1,7,13,9,5],[6,2,8,4,10],[11,17,13,19,15],[11,12,8,4,5],[6,7,13,19,20],[1,7,8,9,5],[16,12,13,14,20],[11,7,13,19,15],[6,12,8,4,10],[11,17,18,14,10],[6,2,3,9,15],[11,7,8,9,15],[6,12,13,14,10],[6,7,3,9,15],[11,12,18,14,10],[16,12,18,14,20],[1,7,3,9,5],[16,17,13,19,20],[1,2,8,4,5],[11,12,8,14,15],[6,7,13,9,10],[16,17,13,9,10],[1,2,8,14,15],[11,7,13,9,15],[6,12,8,14,10],[6,2,8,14,10],[11,17,13,9,15],[11,17,18,19,15],[6,2,3,4,10],[11,12,13,9,5],[6,7,8,14,20],[16,12,8,4,10],[1,7,13,19,15],[11,7,3,4,5],[6,12,18,19,20],[16,17,18,14,10],[1,2,3,9,15],[1,7,8,14,20],[16,12,13,9,5],[11,7,8,4,5],[6,12,13,19,20],[16,12,18,14,10],[1,7,3,9,15]],r=[{delay:0,endTime:1,drawLine:!1,xOff:310,yOff:760,xLen:310,yLen:0},{delay:0,endTime:1,drawLine:!1,xOff:310,yOff:760,xLen:-310,yLen:0},{delay:.1,endTime:1.1,drawLine:!0,xOff:124,yOff:760,xLen:0,yLen:-760},{delay:0,endTime:1,drawLine:!0,xOff:248,yOff:760,xLen:0,yLen:-760},{delay:0,endTime:1,drawLine:!0,xOff:372,yOff:760,xLen:0,yLen:-760},{delay:.1,endTime:1.1,drawLine:!0,xOff:496,yOff:760,xLen:0,yLen:-760},{delay:1,endTime:2,drawLine:!1,xOff:0,yOff:760,xLen:0,yLen:-760},{delay:1,endTime:2,drawLine:!1,xOff:620,yOff:760,xLen:0,yLen:-760},{delay:1.7,endTime:2.7,drawLine:!1,xOff:0,yOff:760,xLen:0,yLen:-760},{delay:1.7,endTime:2.7,drawLine:!1,xOff:620,yOff:760,xLen:0,yLen:-760},{delay:1.7,endTime:2.7,drawLine:!0,xOff:0,yOff:95,xLen:620,yLen:0},{delay:1.5,endTime:2.5,drawLine:!0,xOff:620,yOff:190,xLen:-620,yLen:0},{delay:1.5,endTime:2.5,drawLine:!0,xOff:0,yOff:285,xLen:620,yLen:0},{delay:1.3,endTime:2.3,drawLine:!0,xOff:620,yOff:380,xLen:-620,yLen:0},{delay:1.3,endTime:2.3,drawLine:!0,xOff:0,yOff:475,xLen:620,yLen:0},{delay:1.1,endTime:2.1,drawLine:!0,xOff:620,yOff:570,xLen:-620,yLen:0},{delay:1.1,endTime:2.1,drawLine:!0,xOff:0,yOff:665,xLen:620,yLen:0},{delay:2.7,endTime:3.7,drawLine:!1,xOff:0,yOff:0,xLen:310,yLen:0},{delay:2.7,endTime:3.7,drawLine:!1,xOff:620,yOff:0,xLen:-310,yLen:0}];cc.Class({extends:cc.Component,properties:{lblUserName:{default:null,type:cc.Label,displayName:"\u7528\u6237\u540d"},lblUserCoin:{default:null,type:cc.Label,displayName:"\u7528\u6237\u91d1\u5e01"},lblUserWinCoin:{default:null,type:cc.Label,displayName:"\u7528\u6237\u8d62\u91d1\u5e01"},lblVersionNum:{default:null,type:cc.Label,displayName:"\u7248\u672c\u53f7"},lblBet:{default:null,type:cc.Label,displayName:"\u5355\u6ce8"},lblLines:{default:null,type:cc.Label,displayName:"\u7ebf\u6570"},lblCurBet:{default:null,type:cc.Label,displayName:"\u672c\u5c40\u603b\u6ce8"},lblWinCoin:{default:null,type:cc.Label,displayName:"\u672c\u5c40\u8d62\u5f97"},lblFireballList:{default:[],type:cc.Label,displayName:"\u8fbe\u5230\u89e3\u9501\u706b\u7403\u663e\u793a"},nodeTip:{default:null,type:cc.Node,displayName:"\u63d0\u793a\u8282\u70b9"},nodelLockList:{default:[],type:cc.Node,displayName:"\u9501\u8282\u70b9"},nodeHelpList:{default:[],type:cc.Node,displayName:"\u5e2e\u52a9\u754c\u9762\u5217\u8868"},lblCoinList:{default:[],type:cc.Label,displayName:"\u5217\u500d\u7387\u663e\u793a"},nodeGameJackpotList:{default:[],type:cc.Node,displayName:"\u6e38\u620f\u5927\u5956\u500d\u7387\u663e\u793a\u8282\u70b9"},rolePb:{default:[],type:cc.Prefab,displayName:"\u6eda\u8f6e\u89d2\u8272Pb"},roleAniPb:{default:[],type:cc.Prefab,displayName:"\u6eda\u8f6e\u89d2\u8272\u52a8\u753bPb"},freePb:{default:[],type:cc.Prefab,displayName:"\u77ff\u77f3Pb"},lbFreeWinCoin:{default:null,type:cc.Label,displayName:"\u514d\u8d39\u8d62\u5f97"},lbBonusCoin:{default:null,type:cc.Label,displayName:"\u514d\u8d39\u5927\u5956\u91d1\u989d"},lbSpecialTimes:{default:null,type:cc.Label,displayName:"\u5269\u4f59\u706b\u8fde\u73af\u6b21\u6570"},lbSpecialWin:{default:null,type:cc.Label,displayName:"\u706b\u8fde\u73af\u5206\u6570"},lbSpecialWinDialog:{default:null,type:cc.Label,displayName:"\u706b\u8fde\u73af\u5bf9\u8bdd\u6846\u5206\u6570"},chargePanel:{default:null,type:cc.Node,displayName:"charge\u754c\u9762"},helpUI:{default:null,type:cc.Node,displayName:"help\u754c\u9762"},settingUI:{default:null,type:cc.Node,displayName:"setting\u754c\u9762"},settingBtn:{default:null,type:cc.Node,displayName:"setting\u6309\u94ae"},fireBall:{default:null,type:cc.Node,displayName:"\u5927\u706b\u7403"},firelinkFrame:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u6846\u67b6"},firelinkWinAnim:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u80dc\u5229\u52a8\u753b"},firelinkGraphics:{default:null,type:cc.Graphics,displayName:"\u706b\u7ebf\u753b\u7ebf"},firelinkPt:{default:null,type:cc.Prefab,displayName:"\u706b\u7ebf\u7c92\u5b50"},firelinkLockFireball:{default:null,type:cc.Prefab,displayName:"\u706b\u7ebf\u56fa\u5b9a\u706b\u7403"},chargeTipsNode:{default:null,type:cc.Node,displayName:"\u5145\u503c\u6307\u5f15"},chargeTipsNodeSingleScore:{default:null,type:cc.Node,displayName:"\u5145\u503c\u6307\u5f15\u5355\u5206"},mainGameNode:{default:null,type:cc.Node,displayName:"\u4e3b\u754c\u9762"},mainGameFrame:{default:null,type:cc.Node,displayName:"\u4e3b\u754c\u9762\u52a8\u753b\u7248"},blinkDownNode:{default:null,type:cc.Node,displayName:"\u4e0b\u6321\u677f"},blinkHoleNode:{default:null,type:cc.Node,displayName:"\u4e0b\u6321\u677f\u5b54"},blinkUpNode:{default:null,type:cc.Node,displayName:"\u4e0a\u6321\u677f"},mainGameMiner:{default:null,type:sp.Skeleton,displayName:"\u4e3b\u754c\u9762\u77ff\u5de5"},mainGameLamp:{default:null,type:sp.Skeleton,displayName:"\u4e3b\u754c\u9762\u77ff\u5de5\u706f"},megaWinNode:{default:null,type:cc.Node,displayName:"\u7279\u5927\u5956\u754c\u9762"},megaWinMiner:{default:null,type:sp.Skeleton,displayName:"\u7279\u5927\u5956\u754c\u9762\u77ff\u5de5"},lbMegaWinCoin:{default:null,type:cc.Label,displayName:"\u7279\u5927\u5956(big)-\u8d62\u5f97"},bigWinNode:{default:null,type:cc.Node,displayName:"\u5927\u5956\u754c\u9762"},bigWinMiner:{default:null,type:sp.Skeleton,displayName:"\u5927\u5956\u754c\u9762\u77ff\u5de5"},lbBigWinCoin:{default:null,type:cc.Label,displayName:"\u5927\u5956(big)-\u8d62\u5f97"},youWinNode:{default:null,type:cc.Node,displayName:"\u5c0f\u5956\u754c\u9762"},lbYouWinCoin:{default:null,type:cc.Label,displayName:"\u5c0f\u5956(you)-\u8d62\u5f97"},speedFrame:{default:null,type:cc.Node,displayName:"\u5feb\u901f\u6846"},topbarNode:{default:null,type:cc.Node,displayName:"\u4e0a\u83dc\u5355\u680f\u754c\u9762"},freeGameNode:{default:null,type:cc.Node,displayName:"\u514d\u8d39\u754c\u9762"},freeGameMinermine:{default:null,type:sp.Skeleton,displayName:"\u514d\u8d39\u754c\u9762\u6316\u77ff\u77ff\u5de5"},freeGameMineraxe:{default:null,type:sp.Skeleton,displayName:"\u514d\u8d39\u754c\u9762\u77ff\u5de5\u7a3f\u5b50"},freeGameMinerstandby:{default:null,type:sp.Skeleton,displayName:"\u514d\u8d39\u754c\u9762\u4f11\u95f2\u77ff\u5de5"},freeLogoInGame:{default:null,type:cc.Node,displayName:"\u514d\u8d39\u6e38\u620f\u5bf9\u8bdd\u6846"},freeBonusNode:{default:null,type:cc.Node,displayName:"\u514d\u8d39\u5927\u5956\u8282\u70b9"},freeWinNode:{default:null,type:cc.Node,displayName:"\u514d\u8d39\u83b7\u5956\u70b9\u6570\u8282\u70b9"},freeLeaveNode:{default:null,type:cc.Node,displayName:"\u514d\u8d39\u9000\u51fa\u6e38\u620f\u8282\u70b9"},aniFlash:{default:null,type:cc.Animation,displayName:"\u95ea\u70c1"},specialGameNode:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u754c\u9762"},specialFireballListNode:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u56fa\u5b9a\u706b\u7403\u754c\u9762"},specialNodeWin:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u80dc\u5229"},specialNodeFrame:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u6846\u67b6"},specialBoard:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u753b\u677f"},specialFbAnim:{default:null,type:cc.Node,displayName:"\u706b\u8fde\u73af\u706b\u7403\u649e\u51fb\u52a8\u753b"},msgBoard:{default:null,type:cc.Node,displayName:"Msg\u753b\u677f"},minerParticals:{default:[],type:cc.ParticleSystem,displayName:"\u77ff\u5de5\u7279\u6548"},minerStones:{default:[],type:cc.Node,displayName:"\u77ff\u5de5\u77f3\u5934\u6309\u94ae"},minerLayer:{default:null,type:cc.Node,displayName:"\u77ff\u5de5\u77f3\u5934\u5c42"},ksBtn:cc.Node,zidongNode:cc.Node,powerBtn:cc.Button,exitBtn:cc.Button,_holdTimeEclipse:0,_holdClick:!1},UPDATE_COIN:function(){this.lblUserCoin&&(this.lblUserCoin.string=Util.formattingCoins(this.playerInfo.playerCoin))},onLoad:function(){if(this.playerInfo=e("PlayerInfo").getInstant,this.net=this.node.getComponent("MinerNetwork"),this.audio=this.node.getChildByName("audio_source").getComponent("MinerAudio"),this.playerInfo.slotBetList)if(this.playerInfo.maxBet&&this.playerInfo.maxBet>1e3){var i=this.playerInfo.maxBet;s=this.playerInfo.slotBetList.filter(function(e){return 50*e<=i})}else s=this.playerInfo.slotBetList;cc.find("Canvas/Slot_Control_01/txt_WINNING")&&(cc.find("Canvas/Slot_Control_01/txt_WINNING").active=!1),cc.find("Canvas/Slot_Control_01/txt_ENTRIES/jia2")&&(cc.find("Canvas/Slot_Control_01/txt_ENTRIES/jia2").active=!1),this.wheelList=[],this.specialUI={},this.specialData={},this.specialWheelList=[],this.freeData={},this.freeWheelList=[],this.winItems={},this.bet=0,this.auto=!1,this.status=0,this.bigWinBoo=!1,this.rollIndex=0,this.bonusLinesNum=0,this.lotteryRes=null,this.freeData.stopFree=!1,this.freeData.freeGameCoin=0,this.freeData.bonusCount=0,this.specialData.specialGameCoin=0,this.bIsFreeGame=!1,this.bIsSpecialGame=!1,this.delayClick=!1,this.turnNum=0,this.helpNum=0,this.btnStatus=0,this.lastTouchedTime=0,this.node.on("touchstart",function(){this.onTouch()},this),this.initUI(),this.initMinerHandler(this.mainGameMiner)},onTouch:function(){this.lastTouchedTime=Date.now(),this.nodeTip.active=!1,this.minerRun(this.mainGameMiner,"idle")},start:function(){if(this.playerInfo.slotBetList)if(this.playerInfo.maxBet&&this.playerInfo.maxBet>1e3){var e=this.playerInfo.maxBet;s=this.playerInfo.slotBetList.filter(function(i){return 50*i<=e})}else s=this.playerInfo.slotBetList;this.playerInfo.slotBetDefault&&-1!=s.indexOf(parseInt(this.playerInfo.slotBetDefault))&&(this.bet=s.indexOf(this.playerInfo.slotBetDefault)),this.lblLines.string=50,this.lblWinCoin.string="0",this.setBet(),this.lblUserName.string=this.playerInfo.playerName,this.lblUserCoin.string=(1*this.playerInfo.playerCoin/this.playerInfo.exchangeRate).toFixed(2),this.lblUserWinCoin.string=this.playerInfo.wins?(1*this.playerInfo.wins/this.playerInfo.exchangeRate).toFixed(2):0,cc.find("Loading")&&(cc.find("Loading").active=!1)},initUI:function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",2):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",2),cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),this.specialUI.lockFBList={}},initMinerHandler:function(e){e.setCompleteListener(function(i){var t=i.animation?i.animation.name:"";"0_Trolley Rush out_All"==t||"05_asthma"==t?cc.assetManager.getBundle(window.BUNDLE_NAME).load("spine/01_Standby",sp.SkeletonData,function(i,t){i?cc.log(i.message||i):(e.skeletonData=t,e.setAnimation(0,"Standby1",!0))}):"4_doubt_to_Look1"==t?this.audio.playEffect("MI_miner_headlamp"):"1_WILD_doubt"==t?(this.audio.playEffect("MI_miner_lightin"),this.audio.playEffect("miner_lightin"),this.isToFire&&this.minerRun(e,"tofire1")):"03_Grasp"==t||"02_With"==t&&this.scheduleOnce(function(){this.mainGameLamp.node.active=!0,this.audio.playEffect("MI_feature_fire"),this.mainGameLamp.setAnimation(0,"03_Grasp_CoalLamp",!1)}.bind(this),.8)}.bind(this))},minerRun:function(e,i,t){var n=this;if(!this.lastMinerAction||this.lastMinerAction!=i||t)switch(this.lastMinerAction=i,i){case"touched":var a=Math.round(2*Math.random());e.setAnimation(0,"Standby3_Click_"+["A","B","C"][a],!1),e.addAnimation(0,"Standby1",!0),0==a?(this.audio.playEffect("MI_miner_hand"),this.audio.playEffect("miner_hand")):1==a?(this.scheduleOnce(function(){n.audio.playEffect("MI_miner_head")},.8),this.audio.playEffect("miner_head")):(this.scheduleOnce(function(){n.audio.playEffect("MI_miner_shoulder")},1.3),this.audio.playEffect("miner_shoulder"));break;case"long":e.setAnimation(0,"Standby2_long over",!1),e.addAnimation(0,"Standby2_long time_loop",!0);break;case"towild":this.isToFire=!1,cc.assetManager.getBundle(window.BUNDLE_NAME).load("spine/02_WILD",sp.SkeletonData,function(i,t){i?cc.log(i.message||i):(e.skeletonData=t,e.setAnimation(0,"1_WILD_doubt",!1),e.addAnimation(0,"2_WILD_think",!1),e.addAnimation(0,"4_doubt_to_Look1",!1),e.addAnimation(0,"5_Look1_L_OnLight",!1),e.addAnimation(0,"5_Look2_L_Standby",!0))});break;case"tofire":this.isToFire=!0,cc.assetManager.getBundle(window.BUNDLE_NAME).load("spine/02_WILD",sp.SkeletonData,function(i,t){i?cc.log(i.message||i):(e.skeletonData=t,e.setAnimation(0,"1_WILD_doubt",!1))});break;case"tofire1":this.isToFire=!0,cc.assetManager.getBundle(window.BUNDLE_NAME).load("spine/07_GrandPreview",sp.SkeletonData,function(i,t){i?cc.log(i.message||i):(e.skeletonData=t,e.setAnimation(0,"02_With",!1),e.addAnimation(0,"03_Grasp",!1))});break;case"lightM":e.setAnimation(0,"5_Look3_middle",!1),e.addAnimation(0,"5_Look4_middle_Standby",!0);break;case"lightR":e.setAnimation(0,"5_Look5_R",!1),e.addAnimation(0,"5_Look6_R_Standby",!0);break;case"tofreegame":cc.assetManager.getBundle(window.BUNDLE_NAME).load("spine/11_MiningLeave",sp.SkeletonData,function(i,t){i?cc.log(i.message||i):(e.skeletonData=t,e.setAnimation(0,"0_Trolley Rush out_All",!1))});break;case"success":e.setAnimation(0,"08_SmallBonus",!1),e.addAnimation(0,"Standby1",!0);break;case"failed":e.setAnimation(0,"2_Mining_Axe",!1);break;case"axe":e.setAnimation(0,"3_Axe_Cutout_1",!1),e.addAnimation(0,"3_Axe_Cutout_2",!1);break;case"loadidle":cc.assetManager.getBundle(window.BUNDLE_NAME).load("spine/01_Standby",sp.SkeletonData,function(i,t){i?cc.log(i.message||i):(e.skeletonData=t,e.setAnimation(0,"Standby1",!0))});break;case"idle":e.setAnimation(0,"Standby1",!0)}},setAutoBtnLabel:function(e){e?this.zidongNode.getChildByName("lb")&&(this.zidongNode.getChildByName("lb").getComponent(cc.Label).string="STOP"):this.zidongNode.getChildByName("lb")&&(this.zidongNode.getChildByName("lb").getComponent(cc.Label).string="AUTO")},openAlert:function(e,i){(cc.find("Loading")&&(cc.find("Loading").active=!1),this&&cc.isValid(this.node)&&this.msgBoard)&&(e||(this.msgBoard.getChildByName("btn_close").active=!1),this.msgBoard.getChildByName("lb_detail").getComponent(cc.Label).string=i||"The Internet is lost! Please login again!",this.msgBoard.active=!0)},getAngle:function(e,i){var t=i.x-e.x,n=i.y-e.y;return cc.v2(t,n).signAngle(cc.v2(1,0))/Math.PI*180+270},switchToSpecialUI:function(){this.mainGameNode.active=!1,this.topbarNode.active=!1,this.specialGameNode.active=!0,this.specialNodeWin&&(this.specialNodeWin.active=!1),this.specialNodeFrame&&(this.specialNodeFrame.active=!0)},clearSpecial:function(){for(var e in this.firelinkGraphics.clear(),this.specialUI.lockFBList)if(this.specialUI.lockFBList[e]){var i=this.specialUI.lockFBList[e];i&&cc.isValid(i)&&(i.removeFromParent(),i.destroy())}this.specialUI.lockFBList={}},startSpecial:function(e){this.specialData.specialGameCoin=e.win,this.specialData.fbNum=Object.keys(e.firelink.startIdx).length,this.specialData.fbLockLv=this.getLockLevel(this.specialData.fbNum),this.specialData.firelink=e.firelink,this.specialData.curTurn=0,this.specialData.specialTimes=3,this.specialData.curPbIdList=e.firelink.startIdx,this.showSpecialAnim(),this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){for(var e in this.clearSpecial(),this.audio.playFireballPass(),this.fireBall.active=!0,this.fireBall.getComponent(cc.Animation).play(),this.firelinkFrame.height=380,this.specialBoard.active=!0,this.specialBoard.opacity=1,this.nodelLockList)this.nodelLockList[e]&&(this.nodelLockList[e].active=!1)}.bind(this)),cc.delayTime(2),cc.callFunc(function(){this.audio.playBgm(1),this.switchToSpecialUI()}.bind(this)),cc.delayTime(2),cc.callFunc(function(){var e=0;this.fireBall.active=!1,this.schedule(function(){this.firelinkFrame.height=e<=19?380+380*e/18:760,e++}.bind(this),.05,20)}.bind(this)),cc.delayTime(1),cc.callFunc(function(){this.drawLine()}.bind(this)),cc.delayTime(4),cc.callFunc(function(){for(var e in cc.log("start special cur pb id list"+JSON.stringify(this.specialData.curPbIdList)),this.specialWheelList)this.specialWheelList[e].initWheel(this.specialData.curPbIdList);this.specialBoard.opacity=255,this.specialLock()}.bind(this)),cc.delayTime(4.2),cc.callFunc(function(){this.specialTryLockFire()}.bind(this)),cc.delayTime(1),cc.callFunc(function(){cc.log("start the auto roll"),this.auto=!0,this.specialSendRoll()}.bind(this))))},drawLine:function(){var e=this,i=.05,t=0,n={};this.audio.playLinkFire();for(var a=function(i){var t=r[i],n=cc.instantiate(e.firelinkPt);n.parent=e.firelinkGraphics.node,n.position=cc.v2(t.xOff,t.yOff),n.getComponent(cc.ParticleSystem).duration=t.endTime,n.getComponent(cc.ParticleSystem).resetSystem(),n.runAction(cc.sequence(cc.hide(),cc.delayTime(t.delay),cc.show(),cc.moveTo(t.endTime-t.delay,cc.v2(t.xOff+t.xLen,t.yOff+t.yLen)),cc.delayTime(.3),cc.callFunc(function(){n.removeFromParent(),n.destroy()}.bind(e))))},s=0;s<r.length;s++)a(s);this.schedule(function(){for(var e=0;e<r.length;e++){var a=r[e];if(a.drawLine)if(a&&a.delay<a.endTime&&a.delay<=t*i&&a.endTime>=t*i){var s=a.xLen/(a.endTime-a.delay),l=a.yLen/(a.endTime-a.delay);if(n[e]){this.firelinkGraphics.moveTo(n[e].x,n[e].y);var o=i*s,c=i*l;this.firelinkGraphics.lineTo(n[e].x+o,n[e].y+c),this.firelinkGraphics.stroke(),n[e]={x:n[e].x+o,y:n[e].y+c}}else this.firelinkGraphics.moveTo(a.xOff,a.yOff),o=(t*i-a.delay)*s,c=(t*i-a.delay)*l,this.firelinkGraphics.lineTo(a.xOff+o,a.yOff+c),this.firelinkGraphics.stroke(),n[e]={x:a.xOff+o,y:a.yOff+c}}else a.endTime<t*i&&(n[e].x!=a.xOff+a.xLen||n[e].y!=a.yOff+a.yLen)&&(this.firelinkGraphics.moveTo(n[e].x,n[e].y),this.firelinkGraphics.lineTo(a.xOff+a.xLen,a.yOff+a.yLen),this.firelinkGraphics.stroke(),n[e]={x:a.xOff+a.xLen,y:a.yOff+a.yLen})}t++}.bind(this),i,120,i)},getLockLevel:function(e){for(var i=0,t=0;t<l.length;t++)e>=l[t]&&(i=t+1);return i},getRealFireballNum:function(e){for(var i=e,t=this.specialData.fbLockLv,n=this.getLockLevel(e);n>t;){for(var a in i=0,this.specialUI.lockFBList)(a-a%5)/5<n+4&&i++;t=n,n=this.getLockLevel(i)}return i},freeLock:function(e){var i=this.getLockLevel(e);for(var t in this.nodelLockList){var n=this.nodelLockList[t];n&&n.active&&(i>t?n.active=!1:this.lblFireballList[t].string=l[t]-e)}},specialLock:function(){var e=this,i=0,t=function(t){var n=e.nodelLockList[t];n&&(l[t]&&l[t]>e.specialData.fbNum?(i++,e.node.runAction(cc.sequence(cc.delayTime(i),cc.callFunc(function(){n.active=!0,this.audio.playLinkLock(),this.lblFireballList[t].string=l[t]-this.specialData.fbNum}.bind(e))))):n.active=!1)};for(var n in this.nodelLockList)t(n)},setFireballNum:function(e,i){if(i>=11&&i<=23){var t=e.getChildByName("lbNum");t&&(t.active=!0,t.getComponent(cc.Label).string=s[this.bet]*o[i-1])}},setLockedFireballNum:function(e,i){if(i>=11&&i<=23){var t=e.getChildByName("lbNum");t&&(t.active=!0,t.getComponent(cc.Label).string=s[this.bet]*o[i-1])}else if(26==i){var n=e.getChildByName("mini");n&&(n.active=!0)}else if(27==i){var a=e.getChildByName("minor");a&&(a.active=!0)}else if(28==i){var l=e.getChildByName("major");l&&(l.active=!0)}else if(29==i){var c=e.getChildByName("mega");c&&(c.active=!0)}},specailLockFire:function(e,i){var t=e%5,n=(e-t)/5,a=cc.instantiate(this.firelinkLockFireball);this.specialUI.lockFBList[e]=a,cc.log("add lock fireball:"+a+"idx:"+e+JSON.stringify(i)),a.parent=this.specialFireballListNode,a.position=cc.v2(125*t+62.5,95*n+47.5),this.setLockedFireballNum(a,i.num),a.getComponent(cc.Animation).play("lightningball_appear1"),this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){a.getComponent(cc.Animation).play()}.bind(this))))},specialTryLockFire:function(){for(var e in this.specialData.curPbIdList)this.specailLockFire(parseInt(e),{num:parseInt(this.specialData.curPbIdList[e])+1})},specialShootScore:function(e){var i=this.specialFbAnim.position,t=e,n=i.sub(t).mag()/5,a=0,s=180/(Math.PI/Math.atan((i.x-t.x)/(i.y-t.y)));i.y>t.y&&(s-=180),this.specialFbAnim.angle=-s,this.schedule(function(){a+=n,this.specialFbAnim.setContentSize(89,a)}.bind(this),.02,5,0)},stopSpecial:function(){this.specialNodeWin.active=!0,cc.log("the final lock level is:"+this.specialData.fbLockLv);var e=this.getRealFireballNum(this.specialData.fbNum);this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){var i=this,t=0,n=0;cc.log("the final lock lv is:"+this.specialData.fbLockLv),cc.log("the final fire ball num is:"+e);var a=function(e){var a=i.specialUI.lockFBList[e],s=parseInt(e)%5,l=(parseInt(e)-s)/5,o=0;a.getChildByName("mini").active?o=parseInt(25e3+100*Math.pow(i.winPool/100,.47)):a.getChildByName("minor").active?o=parseInt(1e5+100*Math.pow(i.winPool/100,.52)):a.getChildByName("major").active?o=parseInt(4e5+100*Math.pow(i.winPool/100,.55)):a.getChildByName("mega").active?o=parseInt(8e5+100*Math.pow(i.winPool/100,.65)):a.getChildByName("lbNum").active&&(o=parseInt(a.getChildByName("lbNum").getComponent(cc.Label).string)),l<i.specialData.fbLockLv+4&&a&&(i.scheduleOnce(function(){this.specialFbAnim.active=!0,this.specialFbAnim.position=this.node.convertToNodeSpaceAR(a.parent.convertToWorldSpaceAR(a.position));var e=cc.v2(0,-505);this.specialShootScore(e)}.bind(i),.1+t),i.scheduleOnce(function(){this.audio.playFireballHit(),this.specialFbAnim.active=!1,this.specialNodeWin.active=!0,this.specialNodeWin.getComponent(cc.Animation).play(),this.specialNodeWin.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){this.specialNodeWin.active=!1,a.opacity=128}.bind(this)))),n+=o,this.lbSpecialWin.string=(1*n/this.playerInfo.exchangeRate).toFixed(2)}.bind(i),.2+t),t++)};for(var s in this.specialUI.lockFBList)a(s)}.bind(this)),cc.delayTime(.5+e+1),cc.callFunc(function(){this.firelinkWinAnim.active=!0,this.lbSpecialWinDialog.string=(1*this.specialData.specialGameCoin/this.playerInfo.exchangeRate).toFixed(2),this.firelinkWinAnim.getComponent(cc.Animation).play(),this.audio.playEffect("specialwinbg"),this.audio.playStopSpecial()}.bind(this)),cc.delayTime(4),cc.callFunc(function(){this.firelinkWinAnim.active=!1,this.aniFlash.play()}.bind(this)),cc.delayTime(.5),cc.callFunc(function(){this.specialFbAnim.active=!1,this.bIsSpecialGame=!1,this.auto=!1,this.setAutoBtnLabel(this.auto),this.specialNodeWin.active=!1,this.topbarNode.active=!0,this.mainGameNode.active=!0,this.specialGameNode.active=!1,this.ksBtn.interactable=!0,this.lbSpecialWin.string=0,this.lbSpecialWinDialog.string=0;for(var e=0;e<20;e++){var i=e%5,t=parseInt(e/5);this.clsoeAnim(i,t)}this.clearAllAnimation(),this.showAllPb(),this.setBtnState(0),this.audio.playBgm(0),this.showBigWin(this.specialData.specialGameCoin)}.bind(this))))},onHeartBeat:function(){this.lastHeartBeatTime=Date.now()},update:function(e){this._holdClick&&(this._holdTimeEclipse++,this._holdTimeEclipse>60&&(this._holdClick=!1,this._holdTimeEclipse=120,this.onCLick(null,"auto"),this._holdTimeEclipse=0)),(0==this.lastTouchedTime||Date.now()-this.lastTouchedTime>3e4)&&(this.nodeTip.active=!0),0!=this.lastTouchedTime&&Date.now()-this.lastTouchedTime>1e4&&this.minerRun(this.mainGameMiner,"long"),parseInt(this.curTime)>=0?this.curTime+=e:this.curTime=0,this.curTime&&this.curTime>2&&(this.curTime=0,parseFloat(this.lblUserCoin.string)*this.playerInfo.exchangeRate<50*s[this.bet]?this.chargeTipsNodeSingleScore&&(this.chargeTipsNodeSingleScore.active=!0):(this.chargeTipsNode.active=!1,this.chargeTipsNodeSingleScore&&(this.chargeTipsNodeSingleScore.active=!1))),(!this.lastSendHeartBeatTime||this.lastSendHeartBeatTime>4)&&(this.lastSendHeartBeatTime=0,this.net.connected&&this.net.socket&&this.net.socket.emit("heart_beat",{}),this.lastHeartBeatTime&&Date.now()-this.lastHeartBeatTime>11e3&&(cc.log("heart beat timeout!!!",this.lastHeartBeatTime),this.lastHeartBeatTime=0,this.openAlert())),this.lastSendHeartBeatTime+=e},chargeAll:function(){},chargeSum:function(){},chargeAllResult:function(){},onCLick:function(e,i){switch(this.audio.playButtonClick(),this.onTouch(),i){case"auto":if(this.bigWinBoo||this.bIsFreeGame||this.bIsSpecialGame||this.delayClick)return;this.auto?(this.auto=!this.auto,this.ksBtn.interactable=!this.auto):(this.auto=!this.auto,this.ksBtn.interactable=!this.auto,this.auto&&0==this.status&&this.sendRoll()),this.setAutoBtnLabel(this.auto);break;case"stopAuto":this.auto=!1,this.zidongNode.active=this.auto,this.ksBtn.interactable=!this.auto,this.setAutoBtnLabel(this.auto);break;case"startfree":this.freeLogoInGame.active=!1,this.audio.playBgm(2),this.audio.playEffect("freegameokbutton"),this.initStones();break;case"charge":if(this.bigWinBoo||this.bIsFreeGame||this.bIsSpecialGame||this.delayClick||this.auto)return;this.chargePanel.active=!0;break;case"charge1":this.chargeSum(1),this.chargePanel.active=!1;break;case"charge2":this.chargeSum(10),this.chargePanel.active=!1;break;case"charge3":this.chargeSum(50),this.chargePanel.active=!1;break;case"charge4":this.chargeSum(100),this.chargePanel.active=!1;break;case"chargeAll":this.chargeAll(),this.chargePanel.active=!1;break;case"closeCharge":this.chargePanel.active=!1;break;case"miner":this.minerRun(this.mainGameMiner,"touched");break;case"stone1":this.onMiningStone(1);break;case"stone2":this.onMiningStone(2);break;case"stone3":this.onMiningStone(3);break;case"stone4":this.onMiningStone(4);break;case"stone5":this.onMiningStone(5);break;case"roll":if(this.bigWinBoo||this.bIsFreeGame||this.bIsSpecialGame||this.delayClick)return;var t=50*s[this.bet];if(parseFloat(this.lblUserCoin.string)*this.playerInfo.exchangeRate<t)return;if(this.ksBtn.interactable=!1,!this.auto)if(0==this.status)this.status=2,this.sendRoll();else if(1==this.status){if(this.lotteryRes.viewarray.getFreeTime.bFlag||this.lotteryRes.viewarray.getFirelink.bFlag)return;this.stopImmediately()}break;case"add":if(this.bigWinBoo||this.bIsFreeGame||this.bIsSpecialGame||this.auto)return;this.audio.playjia(),this.bet+=1,this.bet=this.bet>=s.length?0:this.bet,this.setBet();break;case"dec":if(this.bigWinBoo||this.bIsFreeGame||this.bIsSpecialGame||this.auto)return;this.audio.playjia(),this.bet-=1,this.bet=this.bet>=0?this.bet:s.length-1,this.setBet();break;case"closeBigWin":this.audio.playBgm(0);break;case"help":var n=cc.find("Canvas/com_help").activeInHierarchy;cc.find("Canvas/com_help").active=!n;break;case"setting":this.settingBtn.getComponent(cc.Button).interactable=!1,this.settingBtn.runAction(cc.moveBy(.3,100,0)),this.scheduleOnce(function(){this.settingUI.active=!0}.bind(this),.3);break;case"settingClose":this.settingUI.active=!1,this.settingBtn.getComponent(cc.Button).interactable=!0,this.settingBtn.runAction(cc.moveBy(.3,-100,0));break;case"closeHelp":this.helpUI.active=!1;break;case"closeExit":this.msgBoard.active=!1;break;case"exit":Common.backHall("Are you sure you want to leave the game?",function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",1):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",1),cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE)});break;case"exitGame":cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",1):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",1),cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),cc.director.loadScene(window.hallName);break;case"audio":this.audio.pInfo.musicControl=!this.audio.pInfo.musicControl,this.audio.pInfo.musicControl?this.bIsFreeGame>0?this.audio.playBgm(2):this.bIsSpecialGame?this.audio.playBgm(1):this.audio.playBgm(0):this.audio.stopAudio()}},setBet:function(){this.lblBet.string=(50*s[this.bet]/50*1/this.playerInfo.exchangeRate).toFixed(2),this.lblCurBet.string=(50*s[this.bet]/this.playerInfo.exchangeRate).toFixed(2);var e=50*s[this.bet]/50;this.refreshPool(e)},setBtnState:function(e){this.btnStatus=e,0==e?(this.ksBtn.getChildByName("spin").active=!0,this.ksBtn.getChildByName("stop").active=!1):1==e?(this.ksBtn.getChildByName("spin").active=!1,this.ksBtn.getChildByName("stop").active=!0):2==e?(this.ksBtn.getChildByName("spin").active=!1,this.ksBtn.getChildByName("stop").active=!1):3==e&&(this.ksBtn.getChildByName("spin").active=!1,this.ksBtn.getChildByName("stop").active=!1),this.powerBtn&&(this.powerBtn.interactable=!1)},stateCallBack:function(){var e=0;if(this.bIsSpecialGame){for(var i in this.specialWheelList)if(this.specialWheelList[i].status){e=1;break}}else for(var t in this.wheelList)if(this.wheelList[t].status){e=1;break}this.status=e,0==this.status&&this.showResult()},specialSendRoll:function(){this.lastTouchedTime=Date.now(),this.nodeTip.active=!1,this.lbSpecialTimes.string=this.specialData.specialTimes;var e=cc.find("Canvas/com_help").activeInHierarchy;for(var i in e&&(cc.find("Canvas/com_help").active=!1),this.ksBtn.interactable=!1,this.status=1,this.specialData.curPbIdList=this.specialData.firelink.turns[this.specialData.curTurn],this.specialData.curTurn++,cc.log("special send rool start to roll!!"),this.specialWheelList)this.specialWheelList[i].startRoll(this.specialData.curPbIdList)},showResult:function(){var e=this;if(cc.log("show result"),this.bIsSpecialGame)return this.specialTryLockFire(),this.specialData.specialTimes--,this.lbSpecialTimes.string=this.specialData.specialTimes,void this.scheduleOnce(function(){var i=0;for(var t in e.specialData.curPbIdList)(parseInt(t)-parseInt(t)%5)/5<e.specialData.fbLockLv+4&&i++;if(i>0){e.specialData.specialTimes=3,e.lbSpecialTimes.string=3;var n=e.getRealFireballNum(i+e.specialData.fbNum);e.specialData.fbNum=n,e.freeLock(n),e.specialData.fbLockLv=e.getLockLevel(n),cc.log("the final lock lv is:"+e.specialData.fbLockLv),cc.log("the final fire ball num is:"+n)}e.specialData.firelink.turns[e.specialData.curTurn]?e.auto&&e.specialSendRoll():e.stopSpecial()},1);var i=this.rollIndex;this.setBtnState(0),this.bIsFreeGame&&(this.freeData.freeGameCoin+=this.lotteryRes.winscore),this.bigWinBoo=!0,this.scheduleOnce(function(){i==e.rollIndex&&(e.turnNum+=1,e.playWinAnim(e.turnNum))},.1),this.lotteryRes.viewarray.getFreeTime.bFlag?(this.setBtnState(3),this.bIsFreeGame=!0,this.audio.playStartFree(),this.scheduleOnce(function(){e.startFreeGame(e.lotteryRes.viewarray.getFreeTime.bonus)},1.2+(this.lotteryRes.winscore>0?3:0))):this.lotteryRes.viewarray.getFirelink.bFlag&&(this.setBtnState(3),this.audio.playStartFree(),this.bIsSpecialGame=!0,this.scheduleOnce(function(){e.startSpecial(e.lotteryRes.viewarray.getFirelink)},2+(this.lotteryRes.winscore>0?3:0)))},showBigWin:function(e){cc.log("show big win"+e);var i=0,t=1*e/50;for(var n in this.minerParticals)this.minerParticals[n].node&&(this.minerParticals[n].node.active=!1);this.bigWinBoo=!0,e>1e3*s[this.bet]?(this.audio.playBgm(2),this.audio.playEffect("MI_MEGAWINact"),this.megaWinNode.active=!0,this.minerParticals[8].node.active=!1,this.megaWinNode.getComponent(cc.Animation).play(),this.lbMegaWinCoin.string=0,t/=2,this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.minerParticals[8].node.active=!0,this.minerParticals[8].resetSystem(),this.schedule(function(){i+=t,this.lbMegaWinCoin.string=(1*i/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,99,.1),this.scheduleOnce(function(){this.playerInfo.playerCoin+=parseInt(e),this.lblUserCoin.string=(1*this.playerInfo.playerCoin/this.playerInfo.exchangeRate).toFixed(2),this.megaWinNode.active=!1,this.bigWinBoo=!1,this.audio.playBgm(0)}.bind(this),11)}.bind(this))))):e>500*s[this.bet]?(this.audio.playBgm(3),this.audio.playEffect("MI_BIGWINact"),this.bigWinNode.active=!0,this.minerParticals[7].node.active=!1,this.bigWinNode.getComponent(cc.Animation).play(),this.lbBigWinCoin.string=0,this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){this.minerParticals[7].node.active=!0,this.minerParticals[7].resetSystem(),this.schedule(function(){i+=t,this.lbBigWinCoin.string=(1*i/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,49,.1),this.scheduleOnce(function(){this.playerInfo.playerCoin+=parseInt(e),this.lblUserCoin.string=(1*this.playerInfo.playerCoin/this.playerInfo.exchangeRate).toFixed(2),this.bigWinNode.active=!1,this.bigWinBoo=!1,this.audio.playBgm(0)}.bind(this),6)}.bind(this))))):(this.audio.playBgm(5),this.audio.playEffect("MI_YouWinact"),this.youWinNode.active=!0,this.minerParticals[6].node.active=!1,this.youWinNode.getComponent(cc.Animation).play(),this.lbYouWinCoin.string=0,this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.minerParticals[6].node.active=!0,this.minerParticals[6].resetSystem(),this.schedule(function(){i+=t,this.lbYouWinCoin.string=(1*i/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,49,.1),this.scheduleOnce(function(){this.playerInfo.playerCoin+=parseInt(e),this.lblUserCoin.string=(1*this.playerInfo.playerCoin/this.playerInfo.exchangeRate).toFixed(2),this.youWinNode.active=!1,this.bigWinBoo=!1,this.audio.playBgm(0)}.bind(this),6)}.bind(this)))))},enablePb:function(e,i,t){var n=this.wheelList[e].rolePbList.length,a=this.wheelList[e].rolePbList[n-5+i];a&&cc.isValid(a)&&(a.opacity=t?255:80)},showAllPb:function(){for(var e=0;e<20;e++){var i=e%5,t=parseInt(e/5);this.enablePb(i,t,!0)}},hideAllPb:function(){for(var e=0;e<20;e++){var i=e%5,t=parseInt(e/5);this.enablePb(i,t,!1)}},playWinAnim:function(e){var i,t=this,n=0,a=[];for(var s in cc.log("the lottery result is:"+JSON.stringify(this.lotteryRes)),cc.log("the stop free is:"+this.freeData.stopFree),this.lotteryRes.viewarray.nWinCards)this.lotteryRes.viewarray.nWinCards[s]&&a.push(s);var l=this.lotteryRes.viewarray.nWinLinesDetail,o=this.rollIndex,r=this.bIsFreeGame||this.bIsSpecialGame||this.auto?[a]:[a].concat(l),h=this.auto&&l.length>0?1:0;i=r.length-1,this.lotteryRes.viewarray.getFreeTime.bFlag&&l.length>0&&(n=1);var d=0;if(this.lotteryRes.viewarray.win>0){this.audio.playBW(0),this.bigWinBoo=!0;var u=0,f=1*this.lotteryRes.viewarray.win/5;this.schedule(function(){u+=f,this.lblWinCoin.string=(1*u/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,4,.01),this.scheduleOnce(function(){this.audio.playEffect("winstop"),this.bigWinBoo=!1,this.playerInfo.playerCoin+=parseInt(this.lotteryRes.viewarray.win),this.lblUserCoin.string=(1*this.playerInfo.playerCoin/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.6)}else this.bigWinBoo=!1;this.schedule(function(){if(o==t.rollIndex){for(var e=0;e<20;e++){var i=e%5,n=parseInt(e/5);t.clsoeAnim(i,n)}if(!r[d])return void t.showAllPb();var a=cc.Color.WHITE;if(0!==d){var s=(d-1)%3;a=0===s?cc.Color.RED:1===s?cc.Color.BLUE:cc.Color.GREEN,t.hideAllPb();var l=t.lotteryRes.viewarray.nWinLines[d-1],h=c[l];for(var u in h)i=(h[u]-1)%5,n=parseInt((h[u]-1)/5),t.enablePb(i,n,!0)}else if(r[d]&&r[d].length>0)for(var f in t.hideAllPb(),h=r[d])i=h[f]%5,n=parseInt(h[f]/5),t.enablePb(i,n,!0);else t.showAllPb();for(var m in r[d])i=r[d][m]%5,n=parseInt(r[d][m]/5),t.showAnim(t.wheelList,i,n,t.lotteryRes.viewarray.fMultiple,!1,a);d++}},3,n>0?n:i>0?i+2:0,.033),this.scheduleOnce(function(){e==t.turnNum&&o==t.rollIndex&&t.auto&&!t.getIsFreeGame()&&t.sendRoll()},n>0?1+3*n:(i>0?3*i:.666)+h)},getIsFreeGame:function(){return this.bIsFreeGame||this.bIsSpecialGame},onMiningStone:function(e){var i=this;if(!this.bIsMining){for(var t in this.bIsMining=!0,this.minerStones)this.minerStones[t].active=!1;this.minerStones[e-1].active=!0;var n=this.minerStones[e-1].convertToWorldSpaceAR(cc.v2(0,0)),a=this.freeGameNode.convertToNodeSpaceAR(n);cc.log("on mining stone");var s=this.freeData.actions[this.freeData.curTurn++];switch(this.freeGameMinerstandby.node.active=!1,this.freeGameMinermine.node.active=!0,this.freeGameMinermine.setAnimation(0,"1_Mining_normal",!1),Math.random()>.5?this.audio.playEffect("MI_miner_dig1"):this.audio.playEffect("MI_miner_dig2"),this.audio.playEffect("miner_dig"),this.minerParticals[0].node.active=!0,this.minerParticals[0].node.position=a,this.minerParticals[0].resetSystem(),this.scheduleOnce(function(){i.audio.playEffect("miner_dig"),i.minerParticals[0].resetSystem()},.5),this.scheduleOnce(function(){"exit"==s?(cc.log("on exit!"),this.audio.playEffect("MI_miner_fail"),this.audio.playEffect("MI_miner_fail1"),this.minerRun(this.freeGameMinermine,"failed"),this.scheduleOnce(function(){this.freeGameMineraxe.node.active=!0;var e=this.freeGameMinermine.node.convertToWorldSpaceAR(cc.v2(0,100));this.freeGameMineraxe.node.position=this.freeGameMineraxe.node.parent.convertToNodeSpaceAR(e),this.freeGameMineraxe.node.scale=cc.v2(1.2,1.2),this.freeGameMineraxe.node.runAction(cc.sequence(cc.moveBy(.2,0,200),cc.moveTo(.3,-30,0),cc.callFunc(function(){this.stopFreeTimes()}.bind(this)))),this.minerRun(this.freeGameMineraxe,"axe")}.bind(this),.5)):(cc.log("on act:"+s),this.freeGameMinerstandby.node.active=!0,this.freeGameMinermine.node.active=!1,this.minerParticals[1].node.active=!0,this.minerParticals[1].node.position=a,this.minerParticals[1].resetSystem(),Math.random()>.5?this.audio.playEffect("MI_miner_winsmall1"):this.audio.playEffect("MI_miner_winsmall2"),this.freeGameMinerstandby.node.scaleX=this.freeGameMinermine.node.scaleX,this.freeGameMinerstandby.node.scaleY=this.freeGameMinermine.node.scaleY,this.freeGameMinerstandby.node.position=this.freeGameMinermine.node.position,this.freeGameMinerstandby.node.parent=this.freeGameMinermine.node.parent,this.minerRun(this.freeGameMinerstandby,"success"),this.stoneOut(s,n))}.bind(this),.8),e){case 1:this.freeGameMinermine.node.parent=this.minerLayer.getChildByName("bg2"),this.freeGameMinermine.node.position=cc.v2(-166,-108),this.freeGameMinermine.node.scaleX=1,this.freeGameMinermine.node.scaleY=1;break;case 2:this.freeGameMinermine.node.parent=this.minerLayer.getChildByName("bg1"),this.freeGameMinermine.node.position=cc.v2(-3,-131),this.freeGameMinermine.node.scaleX=.8,this.freeGameMinermine.node.scaleY=.8;break;case 3:this.freeGameMinermine.node.parent=this.minerLayer.getChildByName("bg0"),this.freeGameMinermine.node.position=cc.v2(-44,300),this.freeGameMinermine.node.scaleX=.6,this.freeGameMinermine.node.scaleY=.6;break;case 4:this.freeGameMinermine.node.parent=this.minerLayer.getChildByName("bg1"),this.freeGameMinermine.node.position=cc.v2(114,-131),this.freeGameMinermine.node.scaleX=-.8,this.freeGameMinermine.node.scaleY=.8;break;case 5:this.freeGameMinermine.node.parent=this.minerLayer.getChildByName("bg2"),this.freeGameMinermine.node.position=cc.v2(157,-126),this.freeGameMinermine.node.scaleX=-1,this.freeGameMinermine.node.scaleY=1}}},initStones:function(){for(var e in this.bIsMining=!1,this.minerStones)this.minerStones[e].active=!0;for(var i in this.minerParticals)this.minerParticals[i].node.active=!1},addScoreAnim:function(e,i){var t=parseInt(e.string);NaN==t&&(t=0);var n=1*i/5,a=t;this.schedule(function(){a+=n,e.string=(1*a/this.playerInfo.exchangeRate).toFixed(2)}.bind(this),.1,4,.01)},stoneOut:function(e,i){switch(e){case"item":var t=cc.instantiate(this.freePb[2]);t.parent=this.node,t.position=this.node.convertToNodeSpaceAR(i),t.getComponent(cc.Animation).play(),this.scheduleOnce(function(){this.audio.playEffect("MI_bonus_greencrystalfly");var e=this.freeData.bonusCount%3+1,i=this.freeBonusNode.getChildByName("gem"+e),n=this.freeBonusNode.convertToWorldSpaceAR(i.position);t.runAction(cc.sequence(cc.moveTo(.5,this.node.convertToNodeSpaceAR(n)).easing(cc.easeElasticIn(.5)),cc.callFunc(function(){this.audio.playEffect("MI_bonus_greencrystallocate"),this.freeBonusNode.getComponent(cc.Animation).play(),this.setBonusItem(e),i.getComponent(cc.Animation).play(),t.opacity=0}.bind(this)),cc.delayTime(2),cc.callFunc(function(){this.freeData.bonusCount++,this.freeData.bonusCount%3==0?(this.freeData.freeGameCoin+=this.freeData.bonusNum,this.freeBonusNode.getComponent(cc.Animation).play("add_score"),this.scheduleOnce(function(){this.minerParticals[4].resetSystem()}.bind(this),.5),this.scheduleOnce(function(){this.setBonusItem(0),this.audio.playEffect("MI_bonus_pointlocate"),this.addScoreAnim(this.lbFreeWinCoin,this.freeData.bonusNum)}.bind(this),1),this.scheduleOnce(function(){t.removeFromParent(),t.destroy(),this.initStones()}.bind(this),1.5)):(t.removeFromParent(),t.destroy(),this.initStones())}.bind(this))))}.bind(this),1.5);break;case"double":var n=cc.instantiate(this.freePb[1]);n.parent=this.node,n.position=this.node.convertToNodeSpaceAR(i),n.getComponent(cc.Animation).play(),this.scheduleOnce(function(){this.audio.playEffect("MI_bonus_crystalballfly");var e=this.freeWinNode.convertToWorldSpaceAR(cc.v2(0,0));n.runAction(cc.sequence(cc.moveTo(.5,this.node.convertToNodeSpaceAR(e)).easing(cc.easeElasticIn(.5)),cc.callFunc(function(){this.audio.playEffect("MI_bonus_crystalballlocate"),this.freeWinNode.getComponent(cc.Animation).play(),this.minerParticals[2].resetSystem(),this.minerParticals[3].resetSystem(),n.opacity=0;var e=this.freeData.freeGameCoin;this.freeData.freeGameCoin*=2,this.addScoreAnim(this.lbFreeWinCoin,e)}.bind(this)),cc.delayTime(.6),cc.callFunc(function(){this.initStones(),n.removeFromParent(),n.destroy()}.bind(this))))}.bind(this),1.5);break;default:var a=parseInt(e);if(cc.log("on stone digged:"+a),a>0){var l=cc.instantiate(this.freePb[0]),o=l.getChildByName("num");o&&(o.getComponent(cc.Label).string=(a*s[this.bet]*50/this.playerInfo.exchangeRate).toFixed(2)),l.parent=this.node,l.position=this.node.convertToNodeSpaceAR(i),l.getComponent(cc.Animation).play(),this.scheduleOnce(function(){this.audio.playEffect("MI_bonus_pointfly");var e=this.freeWinNode.convertToWorldSpaceAR(cc.v2(0,0));l.runAction(cc.sequence(cc.moveTo(.5,this.node.convertToNodeSpaceAR(e)).easing(cc.easeElasticIn(.5)),cc.callFunc(function(){this.audio.playEffect("MI_bonus_pointlocate"),this.freeWinNode.getComponent(cc.Animation).play(),this.minerParticals[2].resetSystem(),this.minerParticals[3].resetSystem(),l.opacity=0,this.freeData.freeGameCoin+=a*s[this.bet]*50,this.addScoreAnim(this.lbFreeWinCoin,a*s[this.bet]*50)}.bind(this)),cc.delayTime(.6),cc.callFunc(function(){this.initStones(),l.removeFromParent(),l.destroy()}.bind(this))))}.bind(this),1.5)}}},setBonusItem:function(e){for(var i=0;i<3;i++){this.freeBonusNode.getChildByName("gem"+(i+1)).active=i<e}},setHolePos:function(e,i){var t=this.blinkHoleNode.parent.convertToNodeSpaceAR(e),n=cc.v2(0-t.x,-314-t.y);i?(this.blinkHoleNode.runAction(cc.moveTo(1,t)),this.blinkDownNode.runAction(cc.moveTo(1,n))):(this.blinkHoleNode.position=t,this.blinkDownNode.position=n)},startFreeGame:function(e){cc.log("start free actions is:"+JSON.stringify(e)),this.audio.stopBgm(),this.freeData.freeGameCoin=0,this.freeData.actions=e,this.freeData.bonusNum=500*s[this.bet],this.freeData.bonusCount=0,this.freeData.curTurn=0,this.bIsFreeGame=!0,this.bIsMining=!1,this.ksBtn.active=!1,this.freeGameNode.active=!1,this.freeLogoInGame.active=!1,this.freeGameMineraxe.node.active=!1,this.freeGameMineraxe.node.scale=cc.v2(1,1),this.freeGameMinermine.node.active=!1,this.freeGameMinerstandby.node.active=!0,this.freeGameMinerstandby.node.parent=this.minerLayer,this.freeGameMinerstandby.node.position=cc.v2(56,114),this.freeGameMinerstandby.node.scaleX=1,this.freeGameMinerstandby.node.scaleY=1,this.lbFreeWinCoin.string=0,this.lblWinCoin.string=0,this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){this.audio.playEffect("freegameActive"),this.showBonusAnim()}.bind(this)),cc.delayTime(2),cc.callFunc(function(){this.closeBonusAnim(),this.audio.playEffect("MI_bonus_change"),this.audio.playEffect("miner_bonus_change"),this.minerRun(this.mainGameMiner,"tofreegame")}.bind(this)),cc.delayTime(2),cc.callFunc(function(){this.aniFlash.play()}.bind(this)),cc.delayTime(.5),cc.callFunc(function(){this.mainGameNode.active=!1,this.freeGameNode.active=!0,this.freeGameNode.opacity=255,this.topbarNode.active=!1,this.freeLogoInGame.active=!1,this.lbBonusCoin.string=(1*this.freeData.bonusNum/this.playerInfo.exchangeRate).toFixed(2),this.setBonusItem(0)}.bind(this)),cc.delayTime(.8),cc.callFunc(function(){this.freeLogoInGame.active=!0,this.audio.playEffect("freegamedialogout")}.bind(this))))},stopFreeTimes:function(){cc.log("stopFreeTimes freeGameCoin : ",this.freeData.freeGameCoin),this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){var e=this;this.audio.playBW(0),this.scheduleOnce(function(){e.audio.playEffect("winstop")},2),this.addScoreAnim(this.lbFreeWinCoin,-this.freeData.freeGameCoin),this.addScoreAnim(this.lblWinCoin,this.freeData.freeGameCoin)}.bind(this)),cc.delayTime(1),cc.callFunc(function(){this.freeLeaveNode.active=!0,this.freeLeaveNode.getComponent(cc.Animation).play(),this.audio.playEffect("MI_miner_failend")}.bind(this)),cc.delayTime(1.3),cc.callFunc(function(){this.freeLeaveNode.active=!1,this.aniFlash.play()}.bind(this)),cc.delayTime(.5),cc.callFunc(function(){this.audio.playBgm(0),this.auto=!1,this.bIsFreeGame=!1,this.freeGameNode.active=!1,this.mainGameNode.active=!0,this.topbarNode.active=!0,this.lbFreeWinCoin.string=0,this.ksBtn.active=!0,this.ksBtn.interactable=!0,this.setAutoBtnLabel(this.auto),this.clearAllAnimation(),this.showAllPb(),this.freeData.freeGameCoin>100*s[this.bet]&&this.showBigWin(this.freeData.freeGameCoin)}.bind(this))))},showBonusAnim:function(){for(var e=0;e<5;e++)for(var i=this.wheelList[e].roleIdList.length,t=0;t<4;t++){var n=this.wheelList[e].rolePbList[i-5+t];25==this.wheelList[e].roleIdList[i-5+t]?this.runAnimation("anim",5*t+e,25):n.opacity=80}},showSpecialAnim:function(){for(var e=0;e<5;e++)for(var i=this.wheelList[e].roleIdList.length,t=0;t<4;t++)if(this.isFireball(this.wheelList[e].roleIdList[i-5+t])){var n=this.wheelList[e].rolePbList[i-5+t];n.opacity=255,n.getComponent(cc.Animation).play()}},closeBonusAnim:function(){for(var e=0;e<5;e++)for(var i=this.wheelList[e].roleIdList.length,t=0;t<4;t++){var n=this.wheelList[e].rolePbList[i-5+t];n&&(n.opacity=255),this.wheelList[e].roleIdList[i-5+t]}},isFireball:function(e){var i=!1;return e>=11&&e<=23&&(i=!0),e>25&&(i=!0),i},clearAllAnimation:function(){for(var e in this.winItems){var i=this.winItems[e];i.removeFromParent(),i.destroy()}this.winItems={}},stopAnimation:function(e){this.winItems&&this.winItems[e]&&(this.winItems[e].active=!1)},runAnimation:function(e,i,t){if(this.winItems||(this.winItems={}),!this.winItems[i]){var n=null;(n=25==t?cc.instantiate(this.roleAniPb[2]):24==t?cc.instantiate(this.roleAniPb[1]):cc.instantiate(this.roleAniPb[0]))&&(this.winItems[i]=n,n.parent=this.mainGameFrame,n.position=cc.v2(i%5*125+62.5,(i-i%5)/5*95+42.5))}if(this.winItems[i]){var a=this.winItems[i];switch(a.active=!0,e){case"freeappear":a.getComponent(cc.Animation).play("free");break;case"changetowild":a.getComponent(cc.Animation).play("wild");break;case"anim":a.getComponent(cc.Animation).play()}return a}return null},showAnim:function(e,i,t){var n=e[i].roleIdList.length,a=e[i].rolePbList[n-5+t],s=e[i].roleIdList[n-5+t];a.getChildByName("win")&&(a.getChildByName("win").active=!0),a.getComponent(cc.Animation)&&a.getComponent(cc.Animation).play(),this.runAnimation("anim",5*t+i,s)},clsoeAnim:function(e,i){var t=this.wheelList[e].roleIdList.length,n=this.wheelList[e].rolePbList[t-5+i],a=this.wheelList[e].roleIdList[t-5+i];if(!this.isFireball(this.wheelList[e].roleIdList[t-5+i])){25!=a&&this.stopAnimation(5*i+e);var s=n.getComponent(cc.Animation);s&&s.stop()}},checkRollData:function(e){for(var i,n=t(e);!(i=n()).done;)if(i.value>=this.rolePb.length)return!1;return!0},roll:function(e){if(this.checkRollData(e)){this.playerInfo.playerCoin-=50*s[this.bet],this.lblUserCoin.string=(1*this.playerInfo.playerCoin/this.playerInfo.exchangeRate).toFixed(2),this.setBtnState(1),this.status=1;for(var i=[],t=0;t<5;t++)i[t]=[];for(var n in e)i[n%5][parseInt(n/5)]=e[n];this.bonusLinesNum=0,25!=i[0][0]&&25!=i[0][1]&&25!=i[0][2]&&25!=i[0][3]||(this.bonusLinesNum+=1),25!=i[2][0]&&25!=i[2][1]&&25!=i[2][2]&&25!=i[2][3]||(this.bonusLinesNum+=2);var a=this.lotteryRes.viewarray.nChangeCards;if(a.cards&&a.cards.length>0){this.delayClick=!0,this.audio.playBgm(6),this.setHolePos(cc.v2(1e3,1e3)),this.blinkUpNode.parent.active=!0,this.blinkDownNode.active=!0,this.mainGameLamp.node.active=!1,this.blinkUpNode.parent.getComponent(cc.Animation).play();var l=0,o=0,c=0;for(var r in a.cards){var h=parseInt(a.cards[r])%5;h<2?l++:h>2?c++:o++}this.bonusLinesNum=l+o+c+3,this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){var e=this;this.audio.playEffect("miner_think"),this.scheduleOnce(function(){e.audio.playEffect("MI_miner_questionmark")},.3),this.minerRun(this.mainGameMiner,"towild")}.bind(this)),cc.delayTime(4.5),cc.callFunc(function(){var e=this,i=0,t=!1,n=function(n){parseInt(a.cards[n])%5<2&&(e.scheduleOnce(function(){var e=this.runAnimation("changetowild",a.cards[n],24),i=e.convertToWorldSpaceAR(cc.v2(0,0));this.setHolePos(i,t),!t&&(t=!0),e.active=!1,this.scheduleOnce(function(){this.runAnimation("changetowild",a.cards[n],24)}.bind(this),.3)}.bind(e),.01+3*i),i++)};for(var s in a.cards)n(s);this.scheduleOnce(function(){var e=this;if(this.minerRun(this.mainGameMiner,"lightM"),i=0,t=!1,o){var n=function(n){2==parseInt(a.cards[n])%5&&(e.scheduleOnce(function(){var e=this.runAnimation("changetowild",a.cards[n],24),i=e.convertToWorldSpaceAR(cc.v2(0,0));this.setHolePos(i,t),!t&&(t=!0),e.active=!1,this.scheduleOnce(function(){this.runAnimation("changetowild",a.cards[n],24)}.bind(this),.3)}.bind(e),.01+3*i),i++)};for(var s in a.cards)n(s)}}.bind(this),.5+3.3*l),this.scheduleOnce(function(){var e=this;if(this.minerRun(this.mainGameMiner,"lightL"),i=0,t=!1,c){var n=function(n){parseInt(a.cards[n])%5>2&&(e.scheduleOnce(function(){var e=this.runAnimation("changetowild",a.cards[n],24),i=e.convertToWorldSpaceAR(cc.v2(0,0));this.setHolePos(i,t),!t&&(t=!0),e.active=!1,this.scheduleOnce(function(){this.runAnimation("changetowild",a.cards[n],24)}.bind(this),.3)}.bind(e),.01+3*i),i++)};for(var s in a.cards)n(s)}}.bind(this),.5+3.3*(o+l)),this.scheduleOnce(function(){this.blinkUpNode.parent.active=!1,this.delayClick=!1,this.minerRun(this.mainGameMiner,"loadidle")}.bind(this),.5+3*(o+l+c))}.bind(this))))}else(a.frees&&a.frees.length>0||a.changes&&a.changes.length>0)&&(this.audio.playBgm(6),this.delayClick=!0,this.setHolePos(cc.v2(1e3,1e3)),this.blinkUpNode.parent.active=!0,this.blinkDownNode.active=!0,this.blinkUpNode.parent.getComponent(cc.Animation).play(),this.mainGameLamp.node.active=!1,this.bonusLinesNum=8,this.node.runAction(cc.sequence(cc.delayTime(1.5),cc.callFunc(function(){var e=this;this.audio.playEffect("miner_think"),this.scheduleOnce(function(){e.audio.playEffect("MI_miner_questionmark")},.3),this.scheduleOnce(function(){e.audio.playEffect("miner_try_catch_fire")},3.2),this.minerRun(this.mainGameMiner,"tofire")}.bind(this)),cc.delayTime(6.5),cc.callFunc(function(){this.audio.playEffect("miner_in_fire"),this.audio.playEffect("MI_miner_run"),this.minerParticals[5].node.active=!0,this.blinkDownNode.active=!1,this.mainGameLamp.node.active=!1,this.mainGameNode.getComponent(cc.Animation).play(),this.mainGameMiner.setAnimation(0,"04_panic",!0),this.mainGameMiner.node.runAction(cc.sequence(cc.scaleTo(0,1,1),cc.moveBy(.75,-360,0),cc.scaleTo(0,-1,1),cc.moveBy(1.5,720,0),cc.scaleTo(0,1,1),cc.moveBy(1.5,-720,0),cc.scaleTo(0,-1,1),cc.moveBy(.75,360,0),cc.scaleTo(0,1,1)))}.bind(this)),cc.delayTime(4.5),cc.callFunc(function(){for(var e in this.audio.playEffect("fgitem1"),this.audio.playEffect("miner_change_fire_end"),this.mainGameNode.getComponent(cc.Animation).stop(),this.delayClick=!1,this.blinkUpNode.parent.active=!1,this.minerParticals[5].node.active=!1,this.mainGameMiner.setAnimation(0,"05_asthma",!1),this.wheelList)this.wheelList[e].stopImmediately()}.bind(this)))));for(var d in this.wheelList){var u;(u=this.wheelList[d]).startRoll.apply(u,i[d])}}else alert("\n            \u670d\u52a1\u5668\u83b7\u53d6\u7684\u82b1\u8272\u79cd\u7c7b\u5927\u4e8e\u73b0\u6709\u7684\u82b1\u8272\u79cd\u7c7b\uff01\uff01\uff01\n            \u8bf7\u8054\u7cfb\u670d\u52a1\u5668\u4eba\u5458\u8fdb\u884c\u6570\u636e\u8c03\u6574\uff01")},sendRoll:function(){this.rollIndex++,this.lastTouchedTime=Date.now(),this.nodeTip.active=!1,this.speedFrame.active=!1,this.bonusLinesNum=0,this.lblWinCoin.string=0,this.clearAllAnimation(),this.showAllPb(),cc.find("Canvas/com_help").activeInHierarchy&&(cc.find("Canvas/com_help").active=!1),window.sendNetWorkData("lottery",JSON.stringify({bet:this.bet,nBetList:[50*s[this.bet]]})),this.ksBtn.interactable=!1},stopImmediately:function(){if(!this.auto)for(var e in this.wheelList)this.wheelList[e].stopImmediately()},setPool:function(e){for(var i in this.winPool=parseInt(e),this.lblCoinList[0].string="$"+(e/this.playerInfo.exchangeRate).toFixed(2),this.lblCoinList[1].string="$"+(.5*e/this.playerInfo.exchangeRate).toFixed(2),this.lblCoinList[2].string="$"+(.2*e/this.playerInfo.exchangeRate).toFixed(2),this.lblCoinList[3].string="$"+(.05*e/this.playerInfo.exchangeRate).toFixed(2),this.nodeGameJackpotList){var t=this.nodeGameJackpotList[i];t&&cc.isValid(t)&&(t.getChildByName("jackpot1")&&t.getChildByName("jackpot1").getChildByName("lb_num")&&(t.getChildByName("jackpot1").getChildByName("lb_num").getComponent(cc.Label).string="$"+(8e3+Math.pow(e/100,.65)).toFixed(2)),t.getChildByName("jackpot2")&&t.getChildByName("jackpot2").getChildByName("lb_num")&&(t.getChildByName("jackpot2").getChildByName("lb_num").getComponent(cc.Label).string="$"+(4e3+Math.pow(e/100,.55)).toFixed(2)),t.getChildByName("jackpot3")&&t.getChildByName("jackpot3").getChildByName("lb_num")&&(t.getChildByName("jackpot3").getChildByName("lb_num").getComponent(cc.Label).string="$"+(1e3+Math.pow(e/100,.52)).toFixed(2)),t.getChildByName("jackpot4")&&t.getChildByName("jackpot4").getChildByName("lb_num")&&(t.getChildByName("jackpot4").getChildByName("lb_num").getComponent(cc.Label).string="$"+(250+Math.pow(e/100,.47)).toFixed(2)))}},refreshPool:function(e){this.winPool=e/this.playerInfo.exchangeRate,cc.log("set winpool to:",this.winPool),e/=2,this.lblCoinList[0].string="$"+(500*e).toFixed(2),this.lblCoinList[1].string="$"+(200*e).toFixed(2),this.lblCoinList[2].string="$"+(50*e).toFixed(2),this.lblCoinList[3].string="$"+(15*e).toFixed(2)},onClickHelpExit:function(){this.helpUI.active=!1},onClickAudio:function(e){this.audio.pInfo.musicControl=e.isChecked,this.audio.pInfo.musicControl?this.bIsFreeGame>0?this.audio.playBgm(2):this.bIsSpecialGame?this.audio.playBgm(1):this.audio.playBgm(0):this.audio.stopAudio()}}),cc._RF.pop()},{PlayerInfo:void 0}],MinerNetwork:[function(e,i){"use strict";cc._RF.push(i,"e2721AJ5stMVpUZKht/FTlk","MinerNetwork"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.mainObj=this.node.getComponent("MinerMain"),this.playerInfo=e("PlayerInfo").getInstant,this.audio=this.node.getComponent("MinerAudio"),this.connected=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(e,i){"UPDATE_COIN"==e&&(EventManager.emit("UPDATE_COIN"),this.mainObj.UPDATE_COIN());var t=null;if("error"==e&&(cc.log("socket error"),this.mainObj.openAlert()),"connect_error"==e&&(cc.log("connect_error"),this.mainObj.openAlert()),"connect_timeout"==e&&(cc.log("connect_timeout"),this.mainObj.openAlert()),"disconnect"==e){if(!this.connected)return;cc.log("disconnect"),this.connected=!1,this.mainObj&&this.mainObj.openAlert()}"loginGameResult"==e&&(t=changeResultJSON_Function(i),cc.log("LoginGameResult:",t),cc.log("LoginGameResult:",t),this.playerInfo.playerCoin=t.Obj.score,this.playerInfo.wins=t.Obj.wins,t.Obj.betList?this.playerInfo.slotBetList=t.Obj.betList:this.playerInfo.slotBetList=null,t.Obj.betDefault?this.playerInfo.slotBetDefault=t.Obj.betDefault:this.playerInfo.slotBetDefault=null,1==t.resultid&&this.mainObj.setPool(t.Obj.nGamblingWinPool),this.connected=!0,this.mainObj.start()),"lotteryResult"==e&&((t=changeResultJSON_Function(i)).ResultCode&&1==t.ResultCode?(this.mainObj.lotteryRes=JSON.parse(JSON.stringify(t.ResultData)),this.mainObj.roll(t.ResultData.viewarray.nHandCards)):(this.mainObj.status=0,this.mainObj.auto||(this.mainObj.ksBtn.getComponent(cc.Button).interactable=!0))),"LoginRoomResult"==e&&(t=changeResultJSON_Function(i),cc.log("LoginRoomResult",t)),"pushGamblingWinPool"==e&&(t=changeResultJSON_Function(i),cc.log("pushGamblingWinPool=>",t),1==t.ResultCode&&this.mainObj.refreshPool(t.nGamblingWinPool)),"LoginfreeCountResult"==e&&(t=changeResultJSON_Function(i),cc.log("LoginfreeCountResult:",t),this.mainObj.delayClick=!1,1==t.ResultCode&&t.freeCount>0&&(this.mainObj.freeData.freeTimes=t.freeCount-1,this.mainObj.freeData.freeTotalTimes=t.freeCount-1,this.mainObj.startFreeGame(!1)))},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],MinerSpecialWheel:[function(e,i){"use strict";cc._RF.push(i,"e77c8up96pC6bAnUp/hCWr7","MinerSpecialWheel"),cc.Class({extends:cc.Component,properties:{wheelId:0,excludeId:{default:0,displayName:"\u4e0d\u4f1a\u51fa\u73b0\u7684\u6570\u5b57id"}},onLoad:function(){this.audio=cc.director.getScene().getChildByName("Canvas").getChildByName("audio_source").getComponent("MinerAudio"),this.mainObj=cc.director.getScene().getChildByName("Canvas").getComponent("MinerMain"),this.mainObj.specialWheelList[this.wheelId]=this,this.status=0,this.lastResult=[0,0,0,0,0,0,0,0,0,0],this.rolePbList=[],this.roleIdList=[]},start:function(){this.initWheel()},clearPbs:function(){for(var e in this.rolePbList){var i=this.rolePbList[e];i&&cc.isValid(i)&&(i.removeFromParent(),i.destroy())}},initWheel:function(e){this.clearPbs(),this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren();for(var i=0;i<10;i++){var t=this.getRandomId();i>0&&i<9&&e&&e[String(5*(i-1)+this.wheelId)]&&(t=parseInt(e[String(5*(i-1)+this.wheelId)])+1),this.lastResult[i]=t,this.addRole(t)}this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){this.node.y=855-this.node.height}.bind(this))))},startRoll:function(e){for(var i in this.clearPbs(),this.status=1,this.hasFireball=!1,this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.zIndex=1,this.node.y=0,this.lastResult)this.lastResult[i]=0==this.lastResult[i]?this.getRandomId():this.lastResult[i],this.addRole(this.lastResult[i]);for(var t=0;t<21;t++)this.addRole(this.getRandomId());for(var n=0;n<8;n++){var a=this.getRandomId();n<8&&e[5*n+this.wheelId]&&(a=parseInt(e[5*n+this.wheelId])+1),this.addRole(a)}this.addRole(this.getRandomId());var s=1+.2*this.wheelId;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.1+.2*this.wheelId),cc.callFunc(function(){this.node.runAction(cc.sequence(cc.moveTo(s+.2,cc.v2(this.node.x,855-this.node.height)),cc.moveTo(.1,cc.v2(this.node.x,880-this.node.height)),cc.moveTo(.1,cc.v2(this.node.x,855-this.node.height)),cc.callFunc(this.rollCallBack.bind(this))))},this)))},getRandomId:function(){for(var e=0;0==e;)e=(e=Math.floor(9*Math.random()+1))==this.excludeId?0:e;return e},isFireball:function(e){var i=!1;return e>=10&&e<=23&&(i=!0),e>25&&(i=!0),i},addRole:function(e){var i=cc.instantiate(this.mainObj.rolePb[e]);return this.rolePbList.push(i),this.roleIdList.push(e),this.node.addChild(i),this.isFireball(e)&&this.mainObj.setFireballNum(i,e),i},rollCallBack:function(){this.audio.playStopWheel(),this.lastResult=this.roleIdList.slice(-10),this.status=0,this.mainObj.stateCallBack()},stopImmediately:function(){this.lastResult=this.roleIdList.slice(-10),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){this.node.y=855-this.node.height},this))),this.status=0,this.mainObj.stateCallBack()}}),cc._RF.pop()},{}],MinerWheel:[function(e,i){"use strict";cc._RF.push(i,"4b297iPsmlHVoBAFxgdkYXB","MinerWheel"),cc.Class({extends:cc.Component,properties:{wheelId:0,excludeId:{default:0,displayName:"\u4e0d\u4f1a\u51fa\u73b0\u7684\u6570\u5b57id"}},onLoad:function(){this.audio=cc.director.getScene().getChildByName("Canvas").getChildByName("audio_source").getComponent("MinerAudio"),this.mainObj=cc.director.getScene().getChildByName("Canvas").getComponent("MinerMain"),this.mainObj.wheelList[this.wheelId]=this,this.status=0,this.lastResult=[0,0,0,0,0,0],this.rolePbList=[],this.roleIdList=[],this.cardIdList=[]},start:function(){this.initWheel()},initWheel:function(){this.clearPbs(),this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren();for(var e=0;e<17;e++){var i=this.getRandomId();e<6&&(this.lastResult[e]=i),this.addRole(i)}this.addRole(this.getRandomId()),this.node.y=0,this.mainObj.rollIndex++},startRoll:function(){this.status=1,this.hasFree=!1,this.hasFireball=!1,this.clearPbs(),this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.node.zIndex=1,this.node.y=0;var e=0;if(this.mainObj.bonusLinesNum>3){var i=this.mainObj.bonusLinesNum-3;e=4+3*i}else 3==this.mainObj.bonusLinesNum&&4==this.wheelId&&(e=4.5);for(var t in this.lastResult)this.lastResult[t]=0==this.lastResult[t]?this.getRandomId():this.lastResult[t],this.addRole(this.lastResult[t]);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];for(var l=0;l<30*(e+1)-6-a.length-1;l++)this.addRole(this.getRandomId());for(var o in this.freePbs=[],this.firelinkPbs=[],this.cardIdList=[].concat(a),a)this.addRole(a[o]),25==a[o]&&(this.hasFree=!0,this.freePbs.push(o)),this.isFireball(a[o])&&(this.hasFireball=!0,this.firelinkPbs.push(parseInt(o)));this.addRole(this.getRandomId());var c=1*(e+1)+.2*this.wheelId;this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.1+.2*this.wheelId),cc.callFunc(function(){this.node.runAction(cc.sequence(cc.moveTo(c+.2,cc.v2(this.node.x,475-this.node.height)),cc.moveTo(.1,cc.v2(this.node.x,500-this.node.height)),cc.moveTo(.1,cc.v2(this.node.x,475-this.node.height)),cc.callFunc(this.rollCallBack.bind(this))))},this)))},getRandomId:function(){for(var e=0;0==e;)e=(e=this.mainObj.freeData.freeTimes>0||this.mainObj.freeData.stopFree?(e=Math.floor(11*Math.random()+1))%2==0?24:Math.floor(11*Math.random()+1):Math.floor(10*Math.random()+1))==this.excludeId?0:e;return e},updateRoll:function(e,i){if(this.cardIdList&&this.cardIdList.length>0){for(var t in this.clearPbs(),this.rolePbList=[],this.roleIdList=[],this.node.removeAllChildren(),this.cardIdList[e]=i,this.addRole(this.getRandomId()),this.cardIdList)this.addRole(this.cardIdList[t]);this.addRole(this.getRandomId()),this.lastResult=this.roleIdList.slice(-6),this.node.y=0}},clearPbs:function(){for(var e in this.rolePbList){var i=this.rolePbList[e];i&&cc.isValid(i)&&(i.removeFromParent(),i.destroy())}},addRole:function(e){var i=cc.instantiate(this.mainObj.rolePb[e]);return this.rolePbList.push(i),this.roleIdList.push(e),this.node.addChild(i),this.isFireball(e)&&this.mainObj.setFireballNum(i,e),i},isFireball:function(e){var i=!1;return e>=10&&e<=23&&(i=!0),e>25&&(i=!0),i},rollCallBack:function(){if(this.audio.playStopWheel(),this.lastResult=this.roleIdList.slice(-6),this.status=0,this.mainObj.stateCallBack(),this.hasFree){if(1==this.mainObj.bonusLinesNum&&0==this.wheelId||3==this.mainObj.bonusLinesNum){for(var e in this.freePbs){var i=5*this.freePbs[e]+this.wheelId;this.mainObj.runAnimation("freeappear",i,25)}0==this.wheelId?playEffect("fgitem1"):2==this.wheelId&&playEffect("fgitem2")}}else if(this.hasFireball)for(var t=0;t<this.firelinkPbs.length;t++){var n=parseInt(this.firelinkPbs[t]),a=this.rolePbList.length;this.rolePbList[a-5+n].getComponent(cc.Animation).play("lightningball_appear")}3==this.mainObj.bonusLinesNum&&2==this.wheelId&&(this.audio.playSpeed(),this.mainObj.speedFrame.active=!0),4==this.wheelId&&this.mainObj.speedFrame.active&&(this.mainObj.speedFrame.active=!1)},stopImmediately:function(){this.lastResult=this.roleIdList.slice(-6),this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.delayTime(.01),cc.callFunc(function(){this.node.y=475-this.node.height},this))),this.status=0,4==this.wheelId&&this.mainObj.speedFrame.active&&(this.mainObj.speedFrame.active=!1),this.mainObj.stateCallBack()}}),cc._RF.pop()},{}],TempAnimation_Miner:[function(e,i){"use strict";function t(e,i){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=n(e))||i&&e&&"number"==typeof e.length){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,i){if(e){if("string"==typeof e)return a(e,i);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,i):void 0}}function a(e,i){(null==i||i>e.length)&&(i=e.length);for(var t=0,n=new Array(i);t<i;t++)n[t]=e[t];return n}cc._RF.push(i,"8cb5esPMrtKo5EcuIfjsVp8","TempAnimation_Miner"),cc.Class({extends:cc.Component,properties:{isSkeAnim:{default:!1,displayName:"\u9aa8\u9abc\u52a8\u753b\uff1f"},sketNode:{default:null,type:cc.Node,displayName:"\u9aa8\u9abc\u6570\u636e"},animArray:{default:[],type:cc.String,displayName:"\u52a8\u753b\u5217\u8868"}},onLoad:function(){},start:function(){if(this.isSkeAnim){if(this.sket=this.sketNode.getComponent(sp.Skeleton),!cc.isValid(this.sket))return;this.sket.timeScale=.5,this.stopAnim()}else this.anim=this.getComponent(cc.Animation)},playAnim:function(){if(this.isSkeAnim){if(!cc.isValid(this.sket))return;this.sket.clearTrack(0);for(var e,i=t(this.animArray);!(e=i()).done;){var n=e.value;this.sket.setAnimation(0,n,!0)}}else{if(!cc.isValid(this.anim))return;this.anim.play()}},stopAnim:function(){if(this.isSkeAnim){if(!cc.isValid(this.sket))return;this.sket.clearTracks()}else{if(!cc.isValid(this.anim))return;this.anim.setCurrentTime(0),this.anim.stop()}},onAnimEvent:function(){},onPlayAnimAudio:function(e){"string"==typeof e&&playEffect(e)}}),cc._RF.pop()},{}]},{},["MinerAnimationAudio","MinerAudio","MinerFreeWheel","MinerMain","MinerNetwork","MinerSpecialWheel","MinerWheel","TempAnimation_Miner"]);