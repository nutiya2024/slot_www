window.__require=function t(e,o,i){function n(a,r){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var h=o[a]={exports:{}};e[a][0].call(h.exports,function(t){return n(e[a][1][t]||t)},h,h.exports,t,e,o,i)}return o[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({NetPharaoh:[function(t,e,o){"use strict";cc._RF.push(e,"93275GolYRE7IX6YrSZNYcA","NetPharaoh");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../../Script/mgr/GameMgr"),r=t("../PharaohGame"),c=t("../core/PharaohData"),l=cc._decorator,h=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainGame=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){this.mainGame=this.getComponent(r.default),GameConfig.SubGameMgr.subGameNet=this,o.instance=this,this.send("loginGame",{})},Object.defineProperty(e,"inst",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.addNetEvent=function(t,e){cc.log("cmd "+t+" ");var o=this,i=null;if("error"==t&&cc.log("socket error"),"connect_error"==t){cc.log("connect_error");var n="The Internet is lost!Please login again!";Common.backHall(n,function(){o.mainGame.backHall()})}if("connect_timeout"==t&&cc.log("connect_timeout"),"disconnect"==t&&(n="The Internet is lost!Please login again!",Common.backHall(n,function(){o.mainGame.backHall()})),"loginGameResult"==t)if(i=JSON.parse(e),cc.log(i),1==i.resultid){c.default.initAllvalue(),c.default.betValues=[],c.default.betLine=i.Obj.betDefault/100;for(var s=0;s<i.Obj.betList.length;++s)c.default.betValues.push(i.Obj.betList[s]/100);c.default.coins=i.Obj.score,c.default.scatterNum=i.Obj.scatterCnt,c.default.isfreestart=i.Obj.has_free,this.scheduleOnce(function(){o.mainGame.refushInfo()},.5)}else n="The login failure!Please login again!",Common.backHall(n,function(){o.mainGame.backHall()});"lotteryResult"==t&&(i=JSON.parse(e),cc.log(i),o.endecheck(),i.ResultCode&&1==i.ResultCode?(c.default.isBuyFree&&o.mainGame.freeM.getBuyfree(),o.mainGame.getLottyResult(i.ResultData)):(n="The Internet is lost!Please login again!",Common.backHall(n,function(){o.mainGame.backHall()}))),"buyFreeTypeResult"===t&&(i=JSON.parse(e),cc.log(i),i.ResultCode&&1==i.ResultCode&&o.mainGame.getLottyResult(i.ResultData)),"selectFreeTypeResult"==t&&(i=JSON.parse(e),cc.log("selectFreeTypeResult",i),cc.log(i),i.ResultCode&&1==i.ResultCode&&(c.default.freeTimes=c.default.freeTotal=i.result.nFreeTime,c.default.FreeAllReultList=i.result.frees,o.mainGame.freeM.showFreestart())),"LoginfreeCountResult"==t&&(i=JSON.parse(e)),"pushGamblingWinPool"==t&&(i=JSON.parse(e),cc.log("pushGamblingWinPool:",i),i.ResultCode)},e.prototype.checkNet=function(){var t=this;this.nettween=cc.tween(this.node).delay(10).call(function(){Common.backHall("The Internet is lost!Please login again!",function(){t.mainGame.backHall()})}).start()},e.prototype.endecheck=function(){this.nettween&&(this.nettween.stop(),this.nettween=null)},e.prototype.send=function(t,e){void 0===e&&(e={}),cc.log("send cmd:"+t+",data:"+JSON.stringify(e)),a.default.instance.sendGameData(GameConfig.curGameId,t,JSON.stringify(e))},e.prototype.sendLotty=function(t,e){void 0===e&&(e=!1);var o=[t*=100];c.default.isBuyFree=e,this.send("lottery",{bet:t,nBetList:o,isBuyFree:e})},e.prototype.sendBuyFree=function(t){var e=[t*=100];this.send("buyFreeType",{bet:t,nBetList:e})},e.prototype.sendSelectFree=function(t){this.send("selectFreeType",{type:t})},o=s([h],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../../Script/mgr/GameMgr":void 0,"../PharaohGame":"PharaohGame","../core/PharaohData":"PharaohData"}],PharaohAnilabel:[function(t,e,o){"use strict";cc._RF.push(e,"d944cOJc+FKL4TGcefZO5WS","PharaohAnilabel");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,s=n.ccclass,a=(n.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"inst",{get:function(){return null==this.instance&&(this.instance=new e),this.instance},enumerable:!1,configurable:!0}),t.prototype.playlabel=function(t,e,o,i,n,s,a){var r=this;if(void 0===n&&(n=!1),void 0===s&&(s=""),void 0===a&&(a=!0),t!=e){var c=cc.tween(i.node).to(o,{scaleZ:1},{progress:function(o,c,l,h){var u,f=0;return f=a?Math.floor(t+(e-t)*h):Math.floor(100*(t+(e-t)*h))/100,u=a?n?r.parseCoin(f):f.toString():n?r.parseCoin(f):f.toFixed(2),i.string=s+u,o+(c-o)*h}});c.call(function(){i.string=a?s+(n?r.parseCoin(e):e):s+(n?r.parseCoin(e):e.toFixed(2))}),this.labeltween=c,c.start()}},t.prototype.stopLaeblAni=function(){this.labeltween&&(this.labeltween.stop(),this.labeltween=null)},t.prototype.parseCoin=function(t){if(t<1e3)return t.toFixed(2);var e=Math.floor(t).toString(),o="",i=t.toString().split(".")[1];for(i?1==i.toString().length&&(i+="0"):i="00";e.length>3;)o=","+e.slice(-3)+o,e=e.slice(0,e.length-3);return e&&(o=e+o),o+"."+i},e=i([s],t)}());o.default=a,cc._RF.pop()},{}],PharaohAudioView:[function(t,e,o){"use strict";cc._RF.push(e,"10fb0Hu6olGuK1SiYf0kiiw","PharaohAudioView");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/PharaohQuickUse"),r=t("../core/PharaohData"),c=t("../core/PharaohNotify"),l=t("../manger/PharaohAudio"),h=cc._decorator,u=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicSwitch=null,e.soundSwitch=null,e.quickSwitch=null,e.close=null,e.closebg=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.setIcon(this.musicSwitch,1===l.default.inst._musicVolume),this.setIcon(this.soundSwitch,1===l.default.inst._effectVolume),this.setIcon(this.quickSwitch,r.default.IsTuro),this.musicSwitch.on("click",this.setMusic,this),this.soundSwitch.on("click",this.setSound,this),this.quickSwitch.on("click",this.setQuick,this),this.close.on("click",function(){t.showPanel(!1)},this),this.closebg.on("click",function(){t.showPanel(!1)},this),c.default.addNotify(c.PharaohEvent.QuickRun,this,function(){t.setIcon(t.quickSwitch,r.default.IsTuro)})},e.prototype.setSound=function(){l.default.inst.playEffect("Button_On"),l.default.inst.setAudioStatus(1===l.default.inst._effectVolume?"off":"on"),this.setIcon(this.soundSwitch,1===l.default.inst._effectVolume)},e.prototype.setMusic=function(){l.default.inst.playEffect("Button_On"),l.default.inst.setMusicStatus(1===l.default.inst._musicVolume?"off":"on"),this.setIcon(this.musicSwitch,1===l.default.inst._musicVolume)},e.prototype.setQuick=function(){if(l.default.inst.playEffect("Button_On"),r.default.isfree)return Common.showMessage("The current status cannot be set!");r.default.IsTuro=!r.default.IsTuro,this.setIcon(this.quickSwitch,r.default.IsTuro),c.default.pubNotify(c.PharaohEvent.QuickRun,r.default.IsTuro)},e.prototype.setIcon=function(t,e){var o=t.getChildByName("Label").getComponent(cc.Label),i=t.getChildByName("yuan");o.string=e?"on":"off",o.node.anchorX=e?1:0,i.x=e?30:-30},s([u],e)}(a.default));o.default=f,cc._RF.pop()},{"../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../core/PharaohNotify":"PharaohNotify","../manger/PharaohAudio":"PharaohAudio"}],PharaohAudio:[function(t,e,o){"use strict";cc._RF.push(e,"7c658nAiE9ApaJTcwOrXiAa","PharaohAudio"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){this._musicStatus="on",this._effectStatus="on",this._curMusicId=null,this._curEffectId=-1,this._musicVolume=1,this._effectVolume=1,this._volume=1,this.cacheEffect={},this.audioClips=[];var t=localStorage.getItem("sound");t?(this._musicStatus=t,this.setAudioStatus(t)):this.setAudioStatus("on"),(t=localStorage.getItem("music"))?(this._musicStatus=t,this.setMusicStatus(t)):this.setMusicStatus("on")}return t.prototype.initClips=function(t){this.audioClips=[],cc.log(t);for(var e=0;e<t.length;++e)t[e]&&(this.audioClips[t[e].name]=t[e]);cc.log(this.audioClips)},Object.defineProperty(t,"inst",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._musicStatus},enumerable:!1,configurable:!0}),t.prototype.setAudioStatus=function(t){if(t){if("on"!=t&&"off"!=t)return cc.error("error status");this._effectVolume="on"==t?1:0,cc.audioEngine.setEffectsVolume(this._effectVolume),localStorage.setItem("sound",t)}},t.prototype.setMusicStatus=function(t){if(t){if("on"!=t&&"off"!=t)return cc.error("error status");this._musicVolume="on"==t?1:0,cc.audioEngine.setMusicVolume(this._musicVolume),localStorage.setItem("music",t)}},t.prototype.setEffectStatus=function(t){if("on"!=t&&"off"!=t)return cc.error("error type");this._effectStatus=t,"off"==t&&this.stopAllEffects()},t.prototype.playMusic=function(t,e){if(void 0===e&&(e=!0),t){var o=this.audioClips[t];o&&(this._curMusicId=cc.audioEngine.playMusic(o,e))}},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.playEffect=function(t,e,o,i){void 0===e&&(e=null),void 0===o&&(o=!1),void 0===i&&(i=!1);var n=this.audioClips[t];n&&(this._curEffectId=cc.audioEngine.playEffect(n,o)),this.SetCallBack(this._curEffectId,e),this.cacheEffect[t]=this._curEffectId},t.prototype.SetCallBack=function(t,e){var o=this;cc.audioEngine.setFinishCallback(t,function(){e&&e(),o.clearCache(t)})},t.prototype.clearCache=function(t){for(var e in this.cacheEffect)if(this.cacheEffect.hasOwnProperty(e)&&this.cacheEffect[e]==t){delete this.cacheEffect[e];break}},t.prototype.stopEffect=function(t){t?this.cacheEffect[t]?(cc.audioEngine.stopEffect(this.cacheEffect[t]),delete this.cacheEffect[t]):cc.log("\u6682\u672a\u5b58\u50a8,\u5b58\u50a8\u540e\u53ef\u64cd\u4f5c"):this.stopAllEffects(),this._curEffectId=-1},t.prototype.stopAllEffects=function(){cc.audioEngine.stopAllEffects(),this.cacheEffect={}},t}();o.default=i,cc._RF.pop()},{}],PharaohBigWin:[function(t,e,o){"use strict";cc._RF.push(e,"016d8ifvoBLTJrAAO6coWyM","PharaohBigWin");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../PharaohGame"),r=t("../common/PharaohAnilabel"),c=t("../common/PharaohQuickUse"),l=t("../core/PharaohData"),h=t("../manger/PharaohAudio"),u=cc._decorator,f=u.ccclass,p=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.typeimgs=[],e.ani_bigwin=null,e.btn_closebg=null,e.sp_type=null,e.lb_win=null,e.spine_win=null,e.bigwinscores=[],e.typevalue=0,e.typeaudioname=["Prize_Big","Prize_Mega","Prize_Super"],e}return n(e,t),e.prototype.onLoad=function(){this.maingame=this.node.parent.getComponent(a.default)},e.prototype.start=function(){},e.prototype.initAll=function(t,e){this.lb_win.string="",this.typevalue=0;var o=l.default.currBet/100;this.bigwinscores=[],1===e?this.bigwinscores.push(5*o):2===e&&(this.bigwinscores.push(5*o),this.bigwinscores.push(15*o)),this.bigwinscores.push(t),cc.log(this.bigwinscores),this.btn_closebg.node.active=!0,this.btn_closebg.node.off("click"),this.ani_bigwin.play("bigwininit")},e.prototype.showBigWin=function(t,e,o,i,n){var s=this;if(t){if(cc.log("starttype "+e+" score "+o+" endtype "+i+" =========="),h.default.inst.stopMusic(),this.node.opacity=255,this.sp_type.spriteFrame=null,this.bigwinTween=cc.tween(this.node),0===e){this.initAll(o,i);var a=this.bigwinscores[this.bigwinscores.length-1];this.ani_bigwin.play("showbigwin"),this.spine_win.node.active=!0,this.spine_win.setAnimation(0,"animation",!1),h.default.inst.playEffect("Spin_Button_Sound"),this.scheduleOnce(function(){s.btn_closebg.node.on("click",function(){s.showBigWin(!1,e,a,i,n)},s),s.btn_closebg.interactable=!0},2),this.bigwinTween.delay(.5).call(function(){h.default.inst.playEffect("Big_win")})}else this.spine_win.node.active=!0,this.spine_win.setAnimation(0,"animation",!1),this.ani_bigwin.play("bigwinend");this.sp_type.spriteFrame=this.typeimgs[e];var c=this.bigwinscores[this.typevalue++];this.bigwinTween.delay(.2),this.bigwinTween.call(function(){s.ani_bigwin.play("bigwinloop");var t=0===e?0:o;cc.log("startnum "+t+" nowsore "+c+" ========"),r.default.inst.playlabel(t,c,6.2,s.lb_win,!0,"",!1)}),this.bigwinTween.delay(6.2).call(function(){if(e===i){s.btn_closebg.node.off("click"),s.btn_closebg.interactable=!1;var t=s.bigwinscores[s.bigwinscores.length-1];s.showBigWin(!1,e,t,i,n)}else s.showBigWin(!0,s.typevalue,c,i,n)}),this.bigwinTween.start()}else this.btn_closebg.interactable=!1,this.ani_bigwin.play("bigwinend"),this.sp_type.spriteFrame=this.typeimgs[i],this.spine_win.node.active=!0,this.spine_win.setAnimation(0,"animation",!1),h.default.inst.stopEffect("Big_win"),this.maingame.bigWinEnd(o),h.default.inst.playEffect("Big_win_end"),cc.Tween.stopAllByTarget(this.node),r.default.inst.stopLaeblAni(),this.lb_win.string=r.default.inst.parseCoin(o),cc.tween(this.node).delay(1.5).to(.1,{opacity:0}).call(function(){h.default.inst.playMusic(l.default.isfree?"BGM_FG":"BGM_MG"),s.btn_closebg.node.active=!1,n()}).start()},s([p(cc.SpriteFrame)],e.prototype,"typeimgs",void 0),s([f],e)}(c.default);o.default=d,cc._RF.pop()},{"../PharaohGame":"PharaohGame","../common/PharaohAnilabel":"PharaohAnilabel","../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../manger/PharaohAudio":"PharaohAudio"}],PharaohBottom:[function(t,e,o){"use strict";cc._RF.push(e,"f7ab8pKzE1LzYZPup4xggjt","PharaohBottom");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../PharaohGame"),r=t("../common/PharaohQuickUse"),c=t("../core/PharaohData"),l=t("../core/PharaohNotify"),h=t("../manger/PharaohAudio"),u=cc._decorator,f=u.ccclass,p=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fastimms=[],e.fastidx=0,e.fasticons=[],e.betidx=1,e.isroll=!1,e.downstrs=["FREE SPIN LEFT ","FREE SPINS COMPLETED"],e.upstrs=["GOOD LUCK!","PLACE YOUR BETS!","HOLD SPACE FOR TURBO SPIN"],e.autoButtonList=[],e.autonumlist=[10,20,50,100,200,500],e.holdtime=-1,e.showAutoSelected=!1,e.closeSelBu=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.addbetbu=this.node.getChildByName("addbet").getComponent(cc.Button),this.subbetbu=this.node.getChildByName("subbet").getComponent(cc.Button),this.balance=this.node.getChildByName("scorebg").children[1].getComponent(cc.Label),this.totalwin=this.findNode("totalwin",cc.Label),this.mainGame=this.node.parent.getComponent(a.default),this.spinbu=this.findNode("btn_start",cc.Button),this.stopbu=this.findNode("btn_stop",cc.Button),this.tiplabelup=this.findNode("tiplabelup",cc.Label),this.tiplabeldown=this.findNode("tiplabeldown",cc.Label),this.totalbet=this.findNode("label_bet",cc.Label),this.autolabel=this.findNode("autolabel",cc.Label),this.setbu=this.findNode("setting"),this.helpbu=this.findNode("infobu"),this.fastbu=this.findNode("quickbu"),this.fastbu.children[1].children.forEach(function(e){t.fasticons.push(e.getComponent(cc.Sprite))}),this.closeSelBu=this.findNode("closeSelect"),this.autoGroupNode=this.findNode("autoButtonG"),this.stopauto=this.findNode("btn_auto");for(var e=1;e<7;++e)this.autoButtonList.push(this.autoGroupNode.children[e].getComponent(cc.Button));l.default.addNotify(l.PharaohEvent.CheckWinScore,this,function(){t.startPlayAni()}),l.default.addNotify(l.PharaohEvent.QuickRun,this,this.setQuickIcon),this.fasticontween=cc.tween(this.node).repeatForever(cc.tween(this.node).delay(.3).call(function(){t.setFastIcon(t.fastidx),t.fastidx=(t.fastidx+1)%3}))},e.prototype.start=function(){this.addlistner(),this.SetBalance()},e.prototype.initInfo=function(){this.betidx=c.default.betValues.indexOf(c.default.betLine),-1===this.betidx&&(this.betidx=0),this.totalbet.string=(c.default.betValues[this.betidx]*c.default.AllLineNum).toFixed(2),l.default.pubNotify(l.PharaohEvent.SELECT_MULTPILE,this.betidx)},e.prototype.addlistner=function(){var t=this;this.spinbu.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.spinbu.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.stopbu.node.on("click",this.StopSpin,this),this.addbetbu.node.on("click",function(){t.addBet(1)}),this.subbetbu.node.on("click",function(){t.addBet(-1)});for(var e=function(e){o.autoButtonList[e].node.on("click",function(){t.clickAutoNums(e)},o)},o=this,i=0;i<this.autoButtonList.length;++i)e(i);this.closeSelBu.on("click",function(){t.showAutoSelect(!1)},this),this.helpbu.on("click",function(){h.default.inst.playEffect("Button_On"),t.mainGame.showRule()},this),this.setbu.on("click",function(){h.default.inst.playEffect("Button_On"),t.mainGame.showAudioSetting()},this),this.stopauto.on("click",function(){t.stopAuto()},this),this.fastbu.on("click",function(){if(c.default.isfree)return Common.showMessage("The current status cannot be set!");c.default.IsTuro=!c.default.IsTuro,h.default.inst.playEffect("Button_On"),l.default.pubNotify(l.PharaohEvent.QuickRun,c.default.IsTuro)},this)},e.prototype.ShowTotalwin=function(t,e){void 0===e&&(e=0),this.totalwin.string=(t/100).toFixed(2)},e.prototype.touchStart=function(){this.spinbu.interactable&&(this.holdtime=0,h.default.inst.playEffect("Spin"))},e.prototype.touchEnd=function(){this.spinbu.interactable&&(this.showAutoSelected||(this.holdtime=-1,this.spin()))},e.prototype.setFastIcon=function(t){for(var e=0;e<this.fasticons.length;++e)this.fasticons[e].spriteFrame=this.fastimms[1];this.fasticons[t].spriteFrame=this.fastimms[0]},e.prototype.setQuickIcon=function(t){var e=this.fastbu.children;e[0].active=!t,e[1].active=t,t?this.fasticontween.start():this.fasticontween.stop()},e.prototype.showAutoSelect=function(t){this.showAutoSelected=t,cc.tween(this.autoGroupNode).to(.2,{scaleY:t?1:0}).start()},e.prototype.clickAutoNums=function(t){h.default.inst.playEffect("Button_On"),this.showAutoSelect(!1),cc.log("\u70b9\u51fb\u4e86\u7b2c"+t+"\u4e2a ============"),c.default.isfree||(c.default.AutoNum=this.autonumlist[t],this.stopauto.active=!0,this.showAutoLabel(),this.mainGame.autoGame(!0))},e.prototype.stopAuto=function(){c.default.AutoNum>=0&&(c.default.AutoNum=-1,this.mainGame.autoGame(!1),this.stopauto.active=!1,this.showAutoLabel())},e.prototype.spin=function(){if(cc.log("\u70b9\u51fb\u4e86\u5f00\u59cb\u6309\u94ae============"),this.mainGame.startGame()){if(cc.log("\u53ef\u4ee5\u8f6c\u52a8==========="),this.isroll)return;this.SetSpin(!0),this.isroll=!0}},e.prototype.startPlayAni=function(){this.isroll=!1,this.stopbu.interactable=!1},e.prototype.showAutoLabel=function(){cc.log("showAutoLabel ==PharaohData.AutoNum "+c.default.AutoNum+"======="),c.default.AutoNum>=0?(this.stopauto.active=!0,this.autolabel.string=c.default.AutoNum+" STOP"):(this.autolabel.string="HOLD FOR AUTO",this.stopauto.active=!1)},e.prototype.setTipUp=function(t,e){this.tiplabelup.string=t?this.upstrs[e]:""},e.prototype.setTipDown=function(t,e,o){void 0===e&&(e=-1),void 0===o&&(o=0),this.tiplabeldown.string=t?0===e?this.downstrs[e]+o:this.downstrs[e]:""},e.prototype.StopSpin=function(){this.isroll&&(h.default.inst.playEffect("Spin"),this.isroll=!1,this.mainGame.StopRoll(),this.SetSpin(!1))},e.prototype.SetSpin=function(t){this.spinbu.node.active=!t,this.stopbu.node.active=this.stopbu.interactable=t,this.isroll=t},e.prototype.setCanspin=function(t){this.spinbu.interactable=t,this.addbetbu.interactable=t,this.subbetbu.interactable=t,this.setAutoBuState(t),t||this.showAutoSelect(!1)},e.prototype.setAutoBuState=function(t){for(var e=0;e<this.autoButtonList.length;++e)this.autoButtonList[e].interactable=t},e.prototype.setFreestart=function(t){t&&this.setCanspin(!1)},e.prototype.SetBalance=function(t){void 0===t&&(t=0),this.balance.string=0===t?""+(Math.floor(c.default.coins)/100).toFixed(2):""+(Math.floor(c.default.coins-t)/100).toFixed(2)},e.prototype.SetAuto=function(){c.default.isfree},e.prototype.addBet=function(t){h.default.inst.playEffect("Button_On"),this.betidx+=t,this.betidx<0&&(this.betidx=0),this.betidx>=c.default.betValues.length&&(this.betidx=c.default.betValues.length-1);var e=c.default.betValues[this.betidx]*c.default.AllLineNum;this.totalbet.string=e.toFixed(2),l.default.pubNotify(l.PharaohEvent.SELECT_MULTPILE,this.betidx)},e.prototype.update=function(t){this.holdtime>=0&&(this.holdtime+=t),this.holdtime>=1.5&&(this.showAutoSelect(!0),this.holdtime=-1)},s([p(cc.SpriteFrame)],e.prototype,"fastimms",void 0),s([f],e)}(r.default);o.default=d,cc._RF.pop()},{"../PharaohGame":"PharaohGame","../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../core/PharaohNotify":"PharaohNotify","../manger/PharaohAudio":"PharaohAudio"}],PharaohCenter:[function(t,e,o){"use strict";cc._RF.push(e,"d602cdEtWxOdLNrwPIP8Tiq","PharaohCenter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../PharaohGame"),r=t("../common/PharaohAnilabel"),c=t("../common/PharaohQuickUse"),l=t("../core/PharaohData"),h=t("../core/PharaohNotify"),u=t("../manger/PharaohAudio"),f=t("./PharaohRoll"),p=t("./PharaohWininfo"),d=cc._decorator,m=d.ccclass,y=d.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lightcolor=new cc.Color(255,255,255),e.darkcolor=new cc.Color(125,125,125),e.betAtlas=null,e.wininfonod=null,e.tipinfo0idx=0,e.lb_win=null,e.lb_aniwin=null,e.checkidx=0,e.wininfopool=new cc.NodePool,e.bettoggles=[],e.nowbetidx=0,e.winscorelist=[],e.winbetlist=[],e.lb_way=null,e.allwayNum=1,e.endWaynum=1,e.speedFrame=null,e.speedbgs=[],e.speedani=null,e.isaddspeed=!1,e.scatternumList=[],e.aniparentnod=null,e.powerPosList=[],e.newpowerPosList=[],e.powiconnum=0,e.isAddFree=!1,e}var o;return n(e,t),o=e,Object.defineProperty(e,"inst",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this;this.miangame=this.node.parent.getComponent(a.default),o.instance=this,this.rollM=this.node.getChildByName("columns").getComponent(f.default),h.default.addNotify(h.PharaohEvent.CheckWinScore,this,function(){t.checkidx++,t.checkItemWin(),t.isaddspeed&&(t.showSpeedFrame(-1),t.isaddspeed=!1)}),this.ToggleContainer=this.findNode("ToggleContainer",cc.ToggleContainer),this.ToggleContainer.node.children.forEach(function(e){t.bettoggles.push(e.getComponent(cc.Toggle))}),h.default.addNotify(h.PharaohEvent.Roll_Stop,this,this.checkWay)},e.prototype.start=function(){var t=this;this.setAllbetimg(!1),this.speedFrame.getChildByName("bggroup").children.forEach(function(e){t.speedbgs.push(e)})},e.prototype.getWininfo=function(){return 0===this.wininfopool.size()&&this.recyleWinfo(cc.instantiate(this.wininfonod)),this.wininfopool.get().getComponent(p.default)},e.prototype.recyleWinfo=function(t){this.wininfopool.put(t)},e.prototype.showSpeedFrame=function(t){for(var e=0;e<this.speedbgs.length;++e)this.speedbgs[e].active=!0;t>=0&&(this.speedbgs[t].active=!1,this.speedani.x=this.speedbgs[t].x),this.speedFrame.active=this.speedani.active=t>=0},e.prototype.checkWay=function(t){var e=this.nowReult[t].length;0===t?this.allwayNum=e:(this.allwayNum*=e,this.setWayLabel(this.allwayNum),this.isaddspeed&&this.showSpeedFrame(t))},e.prototype.setWayLabel=function(t){void 0===t&&(t=0),this.lb_way.string=t>0?""+t:"0"},e.prototype.AllrollEnd=function(){if(l.default.winScore>0){var t=l.default.winScore;r.default.inst.playlabel(0,t/100,.5,this.lb_win,!0,"",!1),l.default.winScore<5*l.default.currBet?u.default.inst.playEffect("Small_win_01"):l.default.winScore<10*l.default.currBet?u.default.inst.playEffect("Small_win_02"):u.default.inst.playEffect("Small_win_03"),cc.tween(this.lb_win.node).to(.15,{scale:1.1}).to(.1,{scale:1}).delay(.75).to(.2,{scale:0}).start()}cc.tween(this.node).delay(.5).call(function(){h.default.pubNotify(h.PharaohEvent.ROLL_END)}).delay(.5).start()},e.prototype.changeParent=function(t){var e=this.aniparentnod,o=t.parent.convertToWorldSpaceAR(t.position);t.setParent(e),t.position=e.convertToNodeSpaceAR(o)},e.prototype.checkPowerPos=function(t){var e=!1;this.isAddFree=!1;for(var o=0;o<t.length;++o){var i=t[o];this.newpowerPosList[o]=[];for(var n=this.powerPosList[o],s=[],a=0;a<i.length;++a)i[a][0]===l.default.scatterIconidx+1&&s.push(a);if(s.length-n.length>0){for(a=n.length;a<s.length;++a)this.newpowerPosList[o].push(s[a]),this.powiconnum++,this.powiconnum%3==0&&(this.isAddFree=!0);e=!0}for(n=[],a=0;a<s.length;++a)n.push(s[a]);this.powerPosList[o]=n}return e},e.prototype.playFlyPower=function(t){for(var e=2,o=[],i=0;i<6;++i)for(var n=this.newpowerPosList[i],s=0;s<n.length;++s){var a=n[s];o.push(this.rollM.columns[i].items[a].playPowerAni())}this.miangame.freeM.ShowFreePower(o,this.powiconnum,this.isAddFree),(this.powiconnum%3==0||this.isAddFree)&&(e=6),this.scheduleOnce(function(){t()},e)},e.prototype.checkItemWin=function(){var t=this;cc.log("checkItemWin checkidx "+this.checkidx+" ===========");var e=this.checkidx-1,o=this.getResultlist(l.default.AllIconList[e]);this.endWaynum=1;for(var i=0;i<o.length;++i){var n=o[i].length;this.endWaynum*=n}if(this.checkidx>=l.default.AllIconList.length)l.default.isfree&&this.checkPowerPos(o)?this.playFlyPower(function(){t.AllrollEnd()}):this.AllrollEnd();else{var s=this.newIconList=this.getResultlist(l.default.AllIconList[this.checkidx]);this.playChangeAni(s)}this.setWayLabel(this.endWaynum)},e.prototype.playChangeAni=function(t){var e=this,o=this.checkidx-1;this.rollM.showAllitemFrameAni(o),u.default.inst.playEffect("Prize_01");var i=this.winbetlist[o],n=this.winscorelist[o];cc.log("playChangeAni idx "+o+" winbet "+i+" nowscore "+n+" =======");var s=cc.tween(this.node);s.delay(.5).call(function(){u.default.inst.playEffect("Link"),e.showAllWinline(o),e.rollM.ChangeSymbol(o,t,e.scatternumList[o],e.scatterPosList[o])}).delay(1.5).call(function(){e.nowbetidx<3&&e.nowbetidx++,e.showChangeBetAni(e.nowbetidx)}),s.start()},e.prototype.showAllWinline=function(t){for(var e=this,o=l.default.winiconlen[t],i=[],n=0;n<o.length;++n){var s=o[n],a=this.getWininfo();a.node.active=!0,a.setWinLineInfo(s.icon-1,s.zhou,s.line,s.mark/100,s.odd),a.node.setParent(this.wininfonod.parent),i.push(a.node)}this.scheduleOnce(function(){i.forEach(function(t){e.recyleWinfo(t)})},1)},e.prototype.showChangeBetAni=function(t){var e=this;if(this.stopAllFrameani(),0===t)this.bettoggles[0].isChecked=!0,this.bettoggles[0].getComponent(cc.Animation).play("betshow"),this.getParChildren(this.bettoggles[0].node,"Line_Box01s",cc.Animation).play(),u.default.inst.playEffect("Combo_f");else{if(3===t&&this.bettoggles[3].isChecked)return;var o=this.bettoggles[t-1],i=this.bettoggles[t];u.default.inst.playEffect("Combo_f_x"+(t+1)),o.getComponent(cc.Animation).play("betdispear"),cc.tween(this.node).delay(.15).call(function(){i.getComponent(cc.Animation).play("betshow"),i.isChecked=!0,e.getParChildren(i.node,"Line_Box01s",cc.Animation).play()}).start()}},e.prototype.setRollAddSpeed=function(t){this.rollM.setColumeAddSpeed(t)},e.prototype.stopAllFrameani=function(){for(var t=0;t<4;++t){var e=this.bettoggles[t],o=this.getParChildren(e.node,"Line_Box01s");o.getComponent(cc.Animation).stop(),o.opacity=0}},e.prototype.setAllbetimg=function(t){var e=this;if(this.stopAllFrameani(),t){u.default.inst.playEffect("Guide_Voice"),this.ToggleContainer.enabled=!1;for(var o=[2,4,6,10],i=cc.tween(this.node),n=0,s=0;s<4;++s)i.call(function(){e.bettoggles[n++].isChecked=!0}).delay(.13);var a=0;for(s=0;s<4;++s)i.call(function(){e.bettoggles[a].getComponent(cc.Animation).play("betchange")}).delay(.17).call(function(){var t=e.bettoggles[a];u.default.inst.playEffect("Combo_f"),t.getComponent(cc.Animation).play("betshow"),e.getParChildren(t.node,"betoff",cc.Sprite).spriteFrame=e.betAtlas.getSpriteFrame("fgx"+o[a]+"_off"),e.getParChildren(t.node,"betlight",cc.Sprite).spriteFrame=e.betAtlas.getSpriteFrame("fgx"+o[a++])}).delay(.25);i.call(function(){e.ToggleContainer.enabled=!0,e.bettoggles[0].isChecked=!0,e.getParChildren(e.bettoggles[0].node,"Line_Box01s",cc.Animation).play(),u.default.inst.stopEffect("Guide_Voice")}),i.start()}else{var r=[1,2,3,5];for(s=0;s<4;++s){var c=this.bettoggles[s];0===s&&(c.isChecked=!0,this.getParChildren(c.node,"Line_Box01s",cc.Animation).play(),c.getComponent(cc.Animation).play("betshow")),this.getParChildren(c.node,"betoff",cc.Sprite).spriteFrame=this.betAtlas.getSpriteFrame("mgx"+r[s]+"_off"),this.getParChildren(c.node,"betlight",cc.Sprite).spriteFrame=this.betAtlas.getSpriteFrame("mgx"+r[s])}}},e.prototype.FreeStart=function(){cc.log("\u663e\u793a\u521d\u59cb\u500d\u7387 ============"),this.nowbetidx=0,this.setAllbetimg(!0),this.powiconnum=0},e.prototype.FreeEnd=function(){this.nowbetidx=0,this.setAllbetimg(!1)},e.prototype.setAllIconBg=function(){this.rollM.setAllIconBg()},e.prototype.stopAllani=function(){this.rollM.stopAllcolumnani()},e.prototype.showAlliconLight=function(t){this.rollM.setIconlight(t)},e.prototype.playScatterani=function(t){this.rollM.playscatter(t)},e.prototype.initAll=function(){this.setWayLabel(),this.nowbetidx=0,this.checkidx=0,this.allwayNum=1,this.showChangeBetAni(0),this.isaddspeed=!1,this.isAddFree=!1;for(var t=0;t<6;++t)this.powerPosList[t]=[],this.newpowerPosList[t]=[]},e.prototype.runRoll=function(){this.nowReult=this.getResultlist(l.default.AllIconList[0]),this.getscoreNbet(),this.rollM.RollAllcolumn(!0,this.nowReult)},e.prototype.stopRoll=function(){this.rollM.stopAllcolumn()},e.prototype.getscoreNbet=function(){this.winbetlist=[],this.winscorelist=[],this.scatterPosList=[],this.scatternumList=[];for(var t=l.default.AllIconList.length-1,e=0;e<t;++e){for(var o=l.default.winiconlen[e],i=0,n=0;n<o.length;++n)0===n&&this.winbetlist.push(o[n].odd),i+=o[n].mark/100;this.winscorelist.push(i)}for(e=0;e<=t;++e){var s=0,a=this.getResultlist(l.default.AllIconList[e]),r=[];for(n=0;n<a.length;++n){o=[];for(var c=a[n],h=0;h<c.length;++h)c[h][0]===l.default.scatterIconidx&&(s++,o.push(h));r.push(o)}this.scatterPosList.push(r),this.scatternumList.push(s)}cc.log(" this.winscorelist "+this.winscorelist+" "),cc.log("this.winbetlist "+this.winbetlist+" ")},e.prototype.getResultlist=function(t){for(var e=[],o=0;o<t.length;++o){for(var i=[],n=t[o],s=n.length,a=0;a<s;++a)i.push(this.getNewList(n[a])),i[a][0]--;e[o]=i}return e},e.prototype.getNewList=function(t){for(var e=[],o=0;o<t.length;++o)e.push(t[o]);return e},s([y(cc.SpriteAtlas)],e.prototype,"betAtlas",void 0),o=s([m],e)}(c.default);o.default=g,cc._RF.pop()},{"../PharaohGame":"PharaohGame","../common/PharaohAnilabel":"PharaohAnilabel","../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../core/PharaohNotify":"PharaohNotify","../manger/PharaohAudio":"PharaohAudio","./PharaohRoll":"PharaohRoll","./PharaohWininfo":"PharaohWininfo"}],PharaohColumn:[function(t,e,o){"use strict";cc._RF.push(e,"6075eCr6DpNoaCunQ6qTZan","PharaohColumn");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/PharaohQuickUse"),r=t("../core/PharaohData"),c=t("../core/PharaohNotify"),l=t("../manger/PharaohAudio"),h=t("./PharaohItem"),u=cc._decorator,f=u.ccclass,p=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e.index=-1,e.symidx=[],e.randmlist=[],e.runRoll=!1,e.maxS=0,e.rollheight=1524,e.moves=0,e.speed=4e3,e.isStop=!0,e.result=[],e.freerandmlist=[],e.itemnum=14,e.lineitemnum=0,e.isaddspeed=!1,e.isrealrun=!0,e}return n(e,t),e.prototype.onLoad=function(){this.mask=this.getComponent(cc.Mask)},e.prototype.initColumn=function(t,e){for(var o=this,i=0;i<r.default.wildIconidx-1;++i)this.randmlist.push(i);this.index=t,this.rollM=e,this.freerandmlist=this.getNumlist(this.randmlist),this.stopAddSpeedTween=cc.tween(this.node).delay(.5*t).call(function(){o.isaddspeed=!1}),this.initItems()},e.prototype.initItems=function(){var t=this.node.children[0];this.items.push(t.getComponent(h.default)),this.items[0].initItem(0,this);for(var e=1;e<this.itemnum;++e){var o=cc.instantiate(t);o.parent=t.parent,this.items.push(o.getComponent(h.default)),this.items[e].initItem(e,this)}},e.prototype.setitemicon=function(t){cc.log(t),this.mask.enabled=!1;for(var e=0;e<this.itemnum;++e)if(e<t.length){var o=t[e];this.items[e].setStopInfo(o,t.length)}else this.items[e].node.active=!1},e.prototype.getRandidx=function(t){var e=this.randmlist,o=[],i=Math.floor(Math.random()*(e.length-1));return o.push(e[i]),o.push(0),o.push(t),o},e.prototype.setAddSpeed=function(){this.runRoll&&(this.isaddspeed=!0,this.stopAddSpeedTween.start())},e.prototype.setRealRun=function(){this.isrealrun=!0},e.prototype.setItems=function(t,e){this.mask.enabled=!0;for(var o=0;o<this.itemnum;++o)this.items[o].node.active=!0;var i;for(cc.log(t),this.lineitemnum=t.length,this.symidx=[],i=this.index+3,this.maxS=r.default.Lineheight/this.lineitemnum*(this.lineitemnum+1)*i,o=0;o<i;++o){for(var n=[],s=0;s<this.lineitemnum+1;++s)n[s]=this.getRandidx(this.lineitemnum);this.symidx[o]=n}for(this.result=this.symidx[i]=this.getresultlist(t,this.lineitemnum+1),o=0;o<this.itemnum;++o)o<this.lineitemnum+1?this.items[o].SetIconRun(this.result[o],t.length):this.items[o].SetIconRun([],t.length);this.isrealrun=e,this.isStop=!1,this.runRoll=!0},e.prototype.showItemFrameani=function(t){for(var e=0;e<t.length;++e)this.items[t[e]].showFrameani()},e.prototype.playItemChange=function(t,e,o){var i=this;void 0===o&&(o=0);var n=0;this.result=this.getresultlist(e,this.itemnum),this.mask.enabled=!0;for(var s=!1,a=0;a<this.itemnum;++a){var c=this.items[a];if(c.node.active=!0,-1!==t.indexOf(a))if(c.setIconcolor(!0),1===c.frametype||2===c.frametype){var h=c.index;n>0&&(h=c.index-n,c.setmoveIcon(n));var u=e[h][0];c.playChangeSym(e[h]),u!==r.default.wildIconidx&&(s=!0)}else n++,c.playFadeAni();else if(n>0){var f=function(){};a===this.itemnum-1&&(f=function(){l.default.inst.playEffect("Reel_Stop"),i.moveEnd()}),h=c.index-n,c.setStopInfo(this.result[h],this.lineitemnum),c.setmoveIcon(n,f)}}s&&l.default.inst.playEffect("change"),this.scheduleOnce(function(){i.moveAllIcon(),i.lineitemnum=e.length},1)},e.prototype.moveAllIcon=function(){for(var t=this,e=0;e<this.itemnum;++e)this.items[e].playMoveIcon();this.scheduleOnce(function(){t.moveEnd()},1)},e.prototype.moveEnd=function(){this.mask.enabled=!0;for(var t=0;t<this.itemnum;++t){var e=this.items[t];e.node.active=!0,e.stopAni(),e.setStopInfo(this.result[t],this.lineitemnum),e.setStopRunpos(),e.stopToShow(!1)}},e.prototype.setItemsBg=function(){for(var t=0;t<this.itemnum;++t)this.items[t].setBgIcon()},e.prototype.getresultlist=function(t,e){for(var o=[],i=0;i<e;++i)i<t.length?o.push(t[i]):o.push(this.getRandidx(e));return o},e.prototype.getNumlist=function(t){var e=[];return t.forEach(function(t){e.push(t)}),e},e.prototype.setAllitempos=function(){for(var t=0;t<this.lineitemnum+1;++t)this.items[t].setStopRunpos()},e.prototype.stopRoll=function(){if(this.runRoll){this.stopAddSpeedTween.stop(),this.isaddspeed=!1,this.isStop=!0,this.runRoll=!1;for(var t=0;t<this.lineitemnum+1;++t)this.items[t].setStopInfo(this.result[t],this.lineitemnum);this.backToTarget()}},e.prototype.backToTarget=function(t){var e=this;void 0===t&&(t=!1),this.setAllitempos(),this.moves=0;var o=this;cc.tween(o.node).by(.2,{y:-20}).by(.2,{y:20}).call(function(){5==e.index&&c.default.pubNotify(c.PharaohEvent.CheckWinScore),o.playStopani()}).start(),c.default.pubNotify(c.PharaohEvent.Roll_Stop,this.index),l.default.inst.playEffect("Reel_Stop")},e.prototype.playStopani=function(){this.mask.enabled=!1;for(var t=0;t<this.itemnum;++t)t<this.lineitemnum?this.items[t].stopToShow():this.items[t].node.active=!1},e.prototype.setoneitem=function(t,e){this.items[e].setIconcolor(t)},e.prototype.setItemlight=function(t){for(var e=0;e<this.lineitemnum+1;++e)this.setoneitem(t,e)},e.prototype.playsymani=function(t,e){void 0===e&&(e=0),this.setoneitem(!0,t),this.items[t].playAni(e)},e.prototype.stopSymani=function(){for(var t=0;t<this.itemnum;++t)this.items[t].stopAllEffect()},e.prototype.update=function(t){if(!this.isStop&&this.runRoll){var e=t*this.speed*(this.isaddspeed?1.5:1);!this.isaddspeed&&this.isrealrun&&(this.moves+=e),this.moves>this.maxS&&(e+=this.maxS-this.moves,this.runRoll=!1,this.isStop=!0);for(var o=0;o<this.lineitemnum+1;++o)this.items[o].updateItem(e,this.isaddspeed,this.isrealrun);this.isStop&&this.backToTarget()}},s([f],e)}(a.default));o.default=p,cc._RF.pop()},{"../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../core/PharaohNotify":"PharaohNotify","../manger/PharaohAudio":"PharaohAudio","./PharaohItem":"PharaohItem"}],PharaohData:[function(t,e,o){"use strict";cc._RF.push(e,"8d0a7IBRFlPKpb9cijRxPrg","PharaohData"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.initAllvalue=function(){this.freewinscore=this.scatterNum=this.freeTimes=0,this.isfree=this.isfreestart=this.IsTuro=!1,this.betLine=1,this.AutoNum=-1},t.coins=0,t.betLine=1,t.newBetLine=0,t.currBet=0,t.winScore=0,t.avatar="",t.language="zh-ch",t.winscorelist=[],t.username="",t.password="",t.token="",t.connectSuccess=!1,t.nickname="",t.ID="",t.gamesign="",t.caijinPool=[0,0,0,0],t.freeTimes=0,t.freeTotal=0,t.Freebet=0,t.FreeWin=0,t.caishenNum=0,t.freewinscore=0,t.isfreestart=!1,t.isfreeinfree=!1,t.isfree=!1,t.selectType=8,t.canUseOther=!1,t.symreslut=[],t.symrealresult=[],t.winicon=[],t.winiconlen=[],t.winlineidxs=[],t.result=[],t.caijin=[],t.multiple=1,t.serverScore=0,t.isFirst=!1,t.tempCaijin=[0,0,0,0],t.jackpotwin=0,t.jacktype=0,t.winningscore=0,t.jpvalue=5,t.user_id=4,t.photo_index=7,t.betValues=[.01,.02,.05,.1,.2,.3,.4,.6,1,2,5,10,20,30,50],t.iconsNum=13,t.Lineheight=732,t.wildIconidx=10,t.scatterIconidx=11,t.freeSelectType=-1,t.FreeAllReultList=[],t.AllLineNum=20,t.AllIconList=[],t.scatterNum=0,t.IsTuro=!1,t.AutoNum=-1,t.WinlineBet=[],t.isBuyFree=!1,t.scatterShowedNum=0,t}();o.default=i,cc._RF.pop()},{}],PharaohFree:[function(t,e,o){"use strict";cc._RF.push(e,"93905OGyFxKzb+BqFbzavvd","PharaohFree");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../PharaohGame"),r=t("../common/PharaohAnilabel"),c=t("../common/PharaohQuickUse"),l=t("../core/PharaohData"),h=t("../core/PharaohNotify"),u=t("../manger/PharaohAudio"),f=t("../network/NetPharaoh"),p=cc._decorator,d=p.ccclass,m=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_freeleft=null,e.toplogo=null,e.freeendnod=null,e.lb_freewin=null,e.lb_endfree=null,e.freeget=null,e.lb_getfree=null,e.freeframe=null,e.spine_freestart=null,e.brandFg=null,e.powernodes=[],e.lb_upnum=null,e.lb_addpayup=null,e.flypower=null,e.addfree=null,e.addfreeParticle=null,e.ani_addlight=null,e.flypowerPool=new cc.NodePool,e.lb_byfree=null,e.btn_buyfree=null,e.buyfreeValue=0,e.btn_yes=null,e.btn_no=null,e.buyfreeconfirm=null,e.lb_buyfreecon=null,e.spine_frame=null,e.spine_addbg=null,e.spine_end=null,e.spine_light=null,e.collectlight=null,e.spinecollect=null,e.lb_mininum=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.mainGame=this.node.parent.getComponent(a.default),this.findNode("powergroup").children.forEach(function(e){t.powernodes.push(e)}),h.default.addNotify(h.PharaohEvent.SELECT_MULTPILE,this,this.updataBuyScore)},e.prototype.start=function(){var t=this;this.btn_buyfree.node.on("click",this.checkBuyFree,this),this.btn_yes.node.on("click",this.sendBuyFree,this),this.btn_no.node.on("click",function(){t.showBuyFree(!1)},this)},e.prototype.updataBuyScore=function(t){var e=l.default.betValues[t]*l.default.AllLineNum;this.buyfreeValue=40*e,this.lb_byfree.string="Cost:"+this.buyfreeValue,this.lb_buyfreecon.string=""+this.buyfreeValue},e.prototype.setBufreeState=function(t){this.btn_buyfree.interactable=t},e.prototype.checkBuyFree=function(){l.default.coins>=100*this.buyfreeValue?this.showBuyFree(!0):Common.showMessage("The current score is not enough for a bet!")},e.prototype.showBuyFree=function(t){this.btn_no.interactable=this.btn_yes.interactable=t,cc.tween(this.buyfreeconfirm).to(.2,{scale:t?1:0}).start()},e.prototype.sendBuyFree=function(){this.btn_no.interactable=this.btn_yes.interactable=!1,l.default.coins-=100*this.buyfreeValue,this.mainGame.setStartState(),this.mainGame.bottomM.SetBalance(),f.default.inst.sendLotty(l.default.betLine,!0)},e.prototype.getBuyfree=function(){this.setBufreeState(!1),this.showBuyFree(!1)},e.prototype.recycleFlyPower=function(t){this.flypowerPool.put(t)},e.prototype.getFlyPower=function(){0===this.flypowerPool.size()&&this.recycleFlyPower(cc.instantiate(this.flypower));var t=this.flypowerPool.get();return t.active=!0,t.setParent(this.flypower.parent),t},e.prototype.ShowFreePower=function(t,e,o){for(var i=this,n=function(e){var o=s.getFlyPower();o.position=o.parent.convertToNodeSpaceAR(t[e]),cc.tween(o).delay(.5).to(1,{position:cc.v3()}).call(function(){i.recycleFlyPower(o)}).start()},s=this,a=0;a<t.length;++a)n(a);u.default.inst.playEffect("FlyBug");var r=cc.tween(this.node);r.delay(1.5).call(function(){i.setCollectPower(e,o)}),o&&r.call(function(){u.default.inst.playEffect("FG_way_up"),i.spine_frame.node.active=!0;var t=i.spine_frame.setAnimation(0,"liudong",!1);i.spine_frame.setTrackCompleteListener(t,function(){i.setCollectPower(e),i.showAddFree()})}),r.start()},e.prototype.setCollectPower=function(t,e){void 0===e&&(e=!1),this.collectlight.active=this.spinecollect.active=!1;var o=Math.floor(t/3),i=t%3;if(e&&0===i){this.collectlight.active=this.spinecollect.active=!0;for(var n=0;n<3;++n)this.powernodes[n].active=!0}else for(this.spinecollect.active=i>1,this.collectlight.active=i>0,n=0;n<3;++n)this.powernodes[n].active=n<i;o>5&&(o=5);var s=Math.pow(3+o,6);s>117649&&(s=117649);var a=Math.pow(Math.abs(2+o),6);this.lb_mininum.string=a+" mininum",this.lb_upnum.string=""+s,this.lb_addpayup.string=""+a},e.prototype.showGetfree=function(t,e){var o=this;l.default.IsTuro=!1,h.default.pubNotify(h.PharaohEvent.QuickRun,l.default.IsTuro),this.lb_upnum.string="722",this.lb_addpayup.string="722",this.lb_mininum.string="64 mininum",this.lb_getfree.string=""+t,this.lb_endfree.string=""+e,u.default.inst.playMusic("BGM_FG"),u.default.inst.playEffect("Free_02"),this.setCollectPower(0),this.freeget.active=this.brandFg.active=this.spine_freestart.node.active=!0,this.toplogo.active=!1;var i=this.spine_freestart.setAnimation(0,"jinzita",!1);this.spine_freestart.setTrackCompleteListener(i,function(){cc.tween(o.freeframe).to(.2,{scale:1.75}).delay(2.15).to(.15,{scale:0}).call(function(){o.showFreestart()}).start(),o.spine_freestart.node.active=!1})},e.prototype.showFreestart=function(){var t=this;this.setFreeinfo(l.default.freeTimes),this.mainGame.showFreeBg(!0),cc.Tween.stopAllByTarget(this.node),cc.log("showFreestart ====PharaohData.freeTimes "+l.default.freeTimes+"========"),u.default.inst.playEffect("FreeGame_Go"),this.mainGame.freewin=0,l.default.isfree=!0,l.default.winScore=0,this.freeget.active=!1,u.default.inst.stopEffect("FG_Go"),cc.tween(this.node).call(function(){t.mainGame.centerM.FreeStart()}).delay(2.5).call(function(){t.mainGame.checkStartGame()}).start()},e.prototype.showAddFree=function(){var t=this;this.addfreeParticle.active=!0,cc.tween(this.addfreeParticle).to(.3,{position:cc.v3(-740,420)}).delay(.3).to(.9,{position:cc.v3()}).start(),cc.tween(this.node).delay(1.5).call(function(){cc.tween(t.addfree).to(.2,{scale:1}).start(),cc.tween(t.spine_addbg.node).to(.3,{scale:3}).start();var e=t.spine_addbg.setAnimation(0,"bg",!1);t.spine_addbg.setTrackCompleteListener(e,function(){t.spine_addbg.setAnimation(0,"bg_xunhuan",e)}),l.default.freeTimes+=2,t.addfreeParticle.active=!1,t.addfreeParticle.position=cc.v3(-740,305)}).delay(1.5).call(function(){t.spine_light.node.active=!0;var e=t.spine_light.setAnimation(0,"saoguang",!1);t.spine_light.setTrackCompleteListener(e,function(){t.spine_light.setAnimation(0,"diguang",!0)}),t.ani_addlight.play(),t.setFreeinfo(l.default.freeTimes),cc.tween(t.addfree).to(.2,{scale:0}).start(),cc.tween(t.spine_addbg.node).to(.2,{scale:1}).start()}).start()},e.prototype.showFreeend=function(t){var e=this;this.setFreeinfo(-1),this.toplogo.active=!0,this.spine_light.node.active=!1,u.default.inst.playEffect("FG_End"),t>0?r.default.inst.playlabel(0,t,2.8,this.lb_freewin,!0,"",!1):this.lb_freewin.string="0",this.freeendnod.scale=1,this.spine_end.node.active=!0;var o=cc.tween(this.freeendnod).to(3,{scale:1.2}).call(function(){var t=e.spine_end.setAnimation(0,"jiewei",!1);e.spine_end.setTrackCompleteListener(t,function(){cc.tween(e.freeendnod).to(.15,{scale:0}).call(function(){e.freeEnd()}).start(),e.spine_end.node.active=!1})}),i=this.spine_end.setAnimation(0,"chuxian",!1);this.spine_end.setTrackCompleteListener(i,function(){e.spine_end.setAnimation(0,"chixu",!0),o.start()})},e.prototype.freeEnd=function(){u.default.inst.stopEffect("FG_End"),this.setCollectPower(0),this.brandFg.active=!1,this.mainGame.showFreeEnd(),l.default.freeTotal=0},e.prototype.setFreeinfo=function(t){this.lb_freeleft.node.parent.active=t>=0,t>=0&&(this.lb_freeleft.string=t+"")},s([d],e)}(c.default));o.default=m,cc._RF.pop()},{"../PharaohGame":"PharaohGame","../common/PharaohAnilabel":"PharaohAnilabel","../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../core/PharaohNotify":"PharaohNotify","../manger/PharaohAudio":"PharaohAudio","../network/NetPharaoh":"NetPharaoh"}],PharaohGame:[function(t,e,o){"use strict";cc._RF.push(e,"b0bfb0Gu39Ltp/taAS4pKjI","PharaohGame");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./common/PharaohQuickUse"),r=t("./core/PharaohData"),c=t("./core/PharaohNotify"),l=t("./manger/PharaohAudio"),h=t("./network/NetPharaoh"),u=t("./view/PharaohAudioView"),f=t("./view/PharaohBottom"),p=t("./view/PharaohCenter"),d=t("./view/PharaohRule"),m=t("./view/PharaohFree"),y=t("./view/PharaohBigWin"),g=t("./core/PharaohPayTable"),b=cc._decorator,_=b.ccclass,w=(b.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollItems=0,e.auto=!1,e.winLines=[],e.freeTimes=0,e.isCanClick=!0,e.isScrollScore=!1,e.isTouchStart=!1,e.isCheckMutiple=!0,e.isPlayroll=!1,e.canspin=!0,e.scatternum=0,e.centerM=null,e.wildPosList=[],e.wildAniPosList=[],e.winmaxid=-1,e.showScatterNum=0,e.freewildnum=0,e.startScatterlist=[],e.freeResultidx=0,e.addFreenum=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;g.default.initPaytable();var e=window.BUNDLE_NAME;cc.assetManager.loadBundle(e,function(e,o){o.loadDir("music",cc.AudioClip,function(){},function(e,o){cc.log(o),t.scheduleOnce(function(){l.default.inst.initClips(o),l.default.inst.playMusic("BGM_MG")},.5)})}),c.default.init(),this.init(),this.quickstoptween=cc.tween(this.node).delay(.4).call(function(){t.StopRoll()})},e.prototype.init=function(){this.bigwinview=this.findNode("superwin",y.default),this.freeTimes=0,this.audioSetView=this.findNode("audiopanel",u.default),this.backbu=this.findNode("back",cc.Button),this.bottomM=this.node.getChildByName("bottom").getComponent(f.default),this.freeM=this.node.getChildByName("freepanel").getComponent(m.default),this.ruleNode=this.findNode("gamerule",d.default),this.mainbg=this.node.getChildByName("mainbg"),this.center=this.node.getChildByName("center"),this.freebg=this.node.getChildByName("freebg"),this.centerM=this.center.getComponent(p.default)},e.prototype.backHall=function(){c.default.init()},e.prototype.confirmback=function(){var t=this;cc.log("\u70b9\u51fb\u4e86\u8fd4\u56de\u6309\u94ae=========="),Common.backHall("Are you sure you want to leave the game?",function(){t.backHall()})},e.prototype.start=function(){this.addListener(),this.freeM.setBufreeState(!1),this.bottomM.setCanspin(!1),this.backbu.node.on("click",this.confirmback,this)},e.prototype.refushInfo=function(){this.setBottomState(),this.bottomM.SetBalance(),this.bottomM.initInfo(),this.freeM.setBufreeState(!0)},e.prototype.addListener=function(){c.default.addNotify(c.PharaohEvent.ROLL_END,this,this.checkGameOver),c.default.addNotify(c.PharaohEvent.SELECT_MULTPILE,this,this.updateBetLine),c.default.addNotify(c.PharaohEvent.Roll_Stop,this,this.Rollstop),c.default.addNotify(c.PharaohEvent.GetResult,this,this.updateResult)},e.prototype.checkSuperWin=function(t){if(cc.log("\u68c0\u6d4b\u5927\u5956========="),r.default.winScore>=5*r.default.currBet){var e=r.default.winScore/r.default.currBet,o=Math.floor(r.default.winScore)/100;this.bottomM.stopAuto(),e<15?this.bigwinview.showBigWin(!0,0,o,0,t):e<30?this.bigwinview.showBigWin(!0,0,o,1,t):this.bigwinview.showBigWin(!0,0,o,2,t)}else t()},e.prototype.checkStartGame=function(){this.canspin=!0,r.default.AutoNum>=0&&!r.default.isfree&&r.default.AutoNum--,this.bottomM.showAutoLabel(),this.auto=r.default.AutoNum>=0,this.auto||r.default.isfree?this.startGame():this.setStartStatu(!0)},e.prototype.showFreeBg=function(t){this.freebg.active=t},e.prototype.resetSpin=function(){},e.prototype.getLottyResult=function(t){r.default.coins=t.userscore;var e=t.viewarray.model.hand;if(r.default.isfreestart=e.freeTimes>0,r.default.isfreestart){var o=t.viewarray.model.smallgame;r.default.freeTimes=e.freeTimes,r.default.FreeAllReultList=o,r.default.freeTotal=r.default.FreeAllReultList.length,r.default.FreeWin=t.viewarray.model.freeMark,r.default.winScore=t.winscore-r.default.FreeWin,this.freewin=0}else r.default.winScore=Math.floor(100*t.winscore)/100;for(var i=e.mGamePic,n=0;n<i.length;++n)r.default.AllIconList.push(i[n]);r.default.winiconlen=e.mOdds,r.default.winlineidxs=e.mXiaochu,this.updateResult()},e.prototype.getFreeResult=function(t){cc.log(t),this.addFreenum=0,r.default.AllIconList=[];for(var e=t.mGamePic,o=0;o<e.length;++o)r.default.AllIconList.push(e[o]);this.addFreenum=t.freeCount,r.default.winiconlen=t.mOdds,r.default.winlineidxs=t.mXiaochu,r.default.winScore=Math.floor(100*t.mark)/100,r.default.isfreeinfree=this.addFreenum>0,this.freewin+=t.mark,this.freewin=Math.floor(100*this.freewin)/100,this.updateResult()},e.prototype.updateResult=function(){this.scatterlist=[],this.wildPosList=[],this.startScatterlist=[],this.scatternum=0,this.freewildnum=0,this.bottomM.SetSpin(!0),r.default.isfree&&(this.freeTimes=r.default.freeTimes,this.freeM.setFreeinfo(this.freeTimes),this.bottomM.stopbu.interactable=!1),this.startScatterlist=this.getScattetlist(r.default.AllIconList[0],!1),this.scatterlist=this.getScattetlist(r.default.AllIconList[r.default.AllIconList.length-1],!0),this.centerM.runRoll(),this.isPlayroll=!0,r.default.IsTuro&&this.quickstoptween.start()},e.prototype.Rollstop=function(t){if(!r.default.IsTuro&&this.isPlayroll){if(this.scatternum>=3&&this.showScatterNum>=0){var e=this.startScatterlist[t];cc.log(e);var o=e.length;this.showScatterNum+=o,this.showScatterNum>=3&&(this.showScatterNum=-1,t<5&&(l.default.inst.playEffect("Reel_Quick"),this.centerM.setRollAddSpeed(t+1,this.startScatterlist)))}5===t&&l.default.inst.stopEffect("Reel_Quick")}},e.prototype.getScattetlist=function(t,e){for(var o=[],i=0;i<6;++i){for(var n=t[i],s=[],a=n.length,c=0;c<a;++c)n[c][0]-1===r.default.scatterIconidx&&(s.push(c),e&&this.scatternum++);o.push(s)}return o},e.prototype.bigWinEnd=function(){r.default.isfree||r.default.isfreestart?r.default.isfreestart?(this.bottomM.ShowTotalwin(r.default.winScore),this.bottomM.SetBalance(r.default.FreeWin)):this.bottomM.ShowTotalwin(this.freewin):(this.bottomM.ShowTotalwin(r.default.winScore),this.bottomM.SetBalance())},e.prototype.checkGameOver=function(){var t=this;if(this.isPlayroll=!1,cc.log("checkGameOver========= PharaohData.freeTimes "+r.default.freeTimes),r.default.winScore<5*r.default.currBet&&(r.default.isfree||r.default.isfreestart?r.default.isfreestart?(this.bottomM.ShowTotalwin(r.default.winScore),this.bottomM.SetBalance(r.default.FreeWin)):this.bottomM.ShowTotalwin(this.freewin):(this.bottomM.ShowTotalwin(r.default.winScore),this.bottomM.SetBalance())),r.default.isfreestart)this.checkSuperWin(function(){t.bottomM.stopAuto(),r.default.isfree=!0,r.default.isfreestart=!1,l.default.inst.playEffect("Scatter_bell"),t.centerM.stopAllani();for(var e=0;e<t.scatterlist.length;++e)cc.log("scatterlist "+t.scatterlist[e]+" ");t.centerM.playScatterani(t.scatterlist),cc.tween(t.node).delay(3).call(function(){t.centerM.stopAllani(),l.default.inst.stopEffect("Scatter_bell"),t.freeM.showGetfree(r.default.freeTimes,r.default.freeTotal)}).start(),t.freewin=0});else if(r.default.isfree)if(r.default.freeTimes>0){var e=.25;this.scheduleOnce(function(){t.checkSuperWin(function(){t.checkStartGame()})},e)}else this.scheduleOnce(function(){t.checkSuperWin(function(){r.default.isfree=!1,t.freeM.showFreeend(Math.floor(r.default.FreeWin/100)),t.freewin=0})},2);else e=.25,this.scheduleOnce(function(){t.checkSuperWin(function(){t.checkStartGame()})},e)},e.prototype.StopRoll=function(){this.isPlayroll&&(this.isPlayroll=!1,this.centerM.stopRoll())},e.prototype.setBottomState=function(){this.setStartStatu(!0),this.auto=!1,this.canspin=!0},e.prototype.setStartState=function(){r.default.AllIconList=[],this.winLines=[],r.default.result=[],r.default.symrealresult=[],r.default.winlineidxs=[],r.default.winiconlen=[],this.centerM.stopAllani(),this.bottomM.setCanspin(!1),this.showScatterNum=0,r.default.WinlineBet=[],this.centerM.initAll(),r.default.scatterShowedNum=0},e.prototype.startGame=function(){if(cc.log("isPlayroll "+this.isPlayroll+" canspin "+this.canspin+" =========="),!this.canspin)return!1;if(this.canspin=!1,this.isPlayroll)return!1;if(this.isPlayroll=!0,this.setStartState(),r.default.isfree){cc.log("\u8fdb\u884c\u514d\u8d39\u6e38\u620f=============== ");var t=r.default.FreeAllReultList[this.freeResultidx++];return--r.default.freeTimes,cc.log("freeTimes "+r.default.freeTimes+" ==========="),this.getFreeResult(t),!0}return r.default.coins>=r.default.currBet?(r.default.coins=Math.floor(100*(r.default.coins-r.default.currBet))/100,this.bottomM.SetBalance(),this.bottomM.ShowTotalwin(0),this.freeM.setBufreeState(!1),h.default.inst.sendLotty(r.default.betLine),!0):(Common.showMessage("The current score is not enough for a bet!"),this.bottomM.stopAuto(),this.setBottomState(),!1)},e.prototype.showFreeEnd=function(){this.winLines=[],this.centerM.FreeEnd(),this.freeTimes=0,this.freeResultidx=0,this.bottomM.SetBalance(),this.showFreeBg(!1),this.centerM.setAllIconBg(),this.checkStartGame(),l.default.inst.playMusic("BGM_MG")},e.prototype.updateBetLine=function(t){var e=r.default.betValues[t];r.default.newBetLine=e,this.updateBetLineInfo(e)},e.prototype.checkBetLine=function(){this.updateBetLineInfo(r.default.newBetLine)},e.prototype.updateBetLineInfo=function(t){r.default.newBetLine=t,r.default.betLine=t,r.default.currBet=t*r.default.AllLineNum*100},e.prototype.autoGame=function(t){this.isTouchStart=!0,this.auto=t,this.auto&&!this.isPlayroll&&(r.default.AutoNum--,this.startGame(),this.bottomM.showAutoLabel())},e.prototype.setStartStatu=function(t){this.bottomM.setCanspin(t),this.bottomM.SetSpin(!t),this.isPlayroll=!t,this.freeM.setBufreeState(t)},e.prototype.showAudioSetting=function(){this.audioSetView.showPanel(!0)},e.prototype.showRule=function(){this.ruleNode.showPanel(!0)},e.prototype.onDestroy=function(){cc.audioEngine.stopAll()},s([_],e)}(a.default));o.default=w,cc._RF.pop()},{"./common/PharaohQuickUse":"PharaohQuickUse","./core/PharaohData":"PharaohData","./core/PharaohNotify":"PharaohNotify","./core/PharaohPayTable":"PharaohPayTable","./manger/PharaohAudio":"PharaohAudio","./network/NetPharaoh":"NetPharaoh","./view/PharaohAudioView":"PharaohAudioView","./view/PharaohBigWin":"PharaohBigWin","./view/PharaohBottom":"PharaohBottom","./view/PharaohCenter":"PharaohCenter","./view/PharaohFree":"PharaohFree","./view/PharaohRule":"PharaohRule"}],PharaohItem:[function(t,e,o){"use strict";cc._RF.push(e,"c5b246oV3dFoLhwNwt8J6PO","PharaohItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/PharaohQuickUse"),r=t("../core/PharaohData"),c=t("../core/PharaohNotify"),l=t("../manger/PharaohAudio"),h=t("./PharaohCenter"),u=cc._decorator,f=u.ccclass,p=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_icon=null,e.iconrunAtla=null,e.specilrunAtlas=null,e.symlightatlas=[],e.sp_frame=null,e.index=-1,e.result=-1,e.lightcolor=new cc.Color(255,255,255),e.darkcolor=new cc.Color(125,125,125),e.moveS=0,e.isRun=!1,e.topy=0,e.bottomy=0,e.jumpy=0,e.itemheight=0,e.spine_boom=null,e.iconlength=0,e.frametype=0,e.ani_wild=null,e.ani_fade=null,e.ani_shake=null,e.spine_change=null,e.IconGroupList=[],e.spine_scatter=null,e.ischananiparent=!1,e.winIconColor=[cc.color(157,36,38),cc.color(62,74,151),cc.color(209,224,100),cc.color(196,111,65),cc.color(173,58,163),cc.color(142,167,184),cc.color(125,48,11),cc.color(53,142,57),cc.color(125,25,26),cc.color(85,23,192),cc.color(254,179,47),cc.color(254,179,47)],e.sp_anisym=null,e.anisymscales=[3.5,3.5,3.5,3,2.5,2.5],e.spine_collect=null,e.winframe=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.paybu=this.getComponent(cc.Button),this.paybu.node.on("click",function(){c.default.pubNotify(c.PharaohEvent.ShowPayTable,t)},this)},e.prototype.initItem=function(t,e){this.index=t,this.coloumn=e,this.node.zIndex=7-t+1},e.prototype.start=function(){},e.prototype.setLinenum=function(t){this.iconlength=t,this.itemheight=this.node.height=r.default.Lineheight/t,this.bottomy=-r.default.Lineheight/2+this.node.height/2,this.starty=this.node.y=this.bottomy+this.node.height*this.index,this.topy=this.bottomy+r.default.Lineheight,this.moveS=this.topy-this.starty,this.jumpy=this.node.height+r.default.Lineheight,this.spine_boom.node.scale=(9-t)/2,this.spine_change.node.scale=this.spine_collect.node.scale=(9-t)/2+1,this.sp_anisym.node.scale=this.anisymscales[t-2]},e.prototype.setBgIcon=function(){},e.prototype.playAni=function(t){if(void 0===t&&(t=0),this.result===r.default.scatterIconidx){this.sp_icon.node.active=!1,this.spine_scatter.node.active=!0;var e=0===t?"_m":"";this.spine_scatter.setAnimation(0,"shine_"+(8-this.iconlength)+e,!0),this.ischananiparent||(this.ischananiparent=!0,h.default.inst.changeParent(this.node))}},e.prototype.showFrameani=function(){this.ischananiparent||(this.ischananiparent=!0,h.default.inst.changeParent(this.node)),this.setIconcolor(!0),this.winframe.opacity=255,this.ani_shake.play(),cc.tween(this.node).to(.4,{scale:1.1}).start()},e.prototype.playChangeSym=function(t){var e=this;this.IconGroupList=t;var o=t[0];if(this.stopAni(),this.ischananiparent||(this.ischananiparent=!0,h.default.inst.changeParent(this.node)),this.result=o,this.frametype=t[1],o===r.default.wildIconidx)this.showFrame(),this.playFadeAni(),this.node.scale=1,cc.tween(this.node).delay(.33).call(function(){e.ani_wild.play()}).delay(.3).call(function(){e.updateIcon(o)}).start();else{this.showFrame(),this.sp_icon.node.active=!1,this.spine_change.timeScale=.75,this.spine_change.node.active=!0;var i=this.spine_change.setAnimation(0,"xuanwo",!1);this.spine_change.setTrackCompleteListener(i,function(){e.updateIcon(o),e.stopToShow(!1),e.sp_icon.node.active=!0,e.spine_change.node.active=!1})}},e.prototype.playFadeAni=function(){var t=this;this.frametype=0,this.stopAni(),this.ischananiparent||(this.ischananiparent=!0,h.default.inst.changeParent(this.node)),4===this.result?this.sp_anisym.spriteFrame=this.symlightatlas[1].getSpriteFrame("symbol_04_Light"):this.result<10?this.sp_anisym.spriteFrame=this.symlightatlas[0].getSpriteFrame("symbol_0"+this.result+"_Light"):this.sp_anisym.spriteFrame=this.symlightatlas[0].getSpriteFrame("symbol_"+this.result+"_Light_0"+this.iconlength),this.sp_anisym.node.color=this.winIconColor[this.result],this.ani_fade.play(),this.scheduleOnce(function(){t.spine_boom.node.active=!0;var e=t.spine_boom.setAnimation(0,"baozha",!1);t.spine_boom.setTrackCompleteListener(e,function(){t.spine_boom.node.active=!1}),t.sp_icon.node.active=!1,t.node.scale=1},.33)},e.prototype.setmoveIcon=function(t,e){void 0===e&&(e=null);var o=.5/this.iconlength*t,i=this.starty-t*this.itemheight;this.moveIcontween=cc.tween(this.node).to(o,{y:i}).by(.15,{y:-10}).by(.1,{y:10}).call(function(){e&&e()})},e.prototype.playMoveIcon=function(){this.ischananiparent&&(this.ischananiparent=!1,this.node.scale=1,this.restParent()),this.moveIcontween&&this.moveIcontween.start(),this.moveIcontween=null},e.prototype.setStopRunpos=function(){this.frametype=this.IconGroupList[1],this.setItemy(this.starty),this.updateIcon(this.result,!0),this.showFrame()},e.prototype.stopAni=function(){this.winframe.opacity=0,this.ani_shake.stop(),this.ischananiparent&&(this.ischananiparent=!1,this.restParent()),this.spine_scatter.node.active=!1,this.sp_icon.node.active=!0,this.sp_frame.node.active=!1},Object.defineProperty(e.prototype,"getWorldpos",{get:function(){return this.node.parent.convertToWorldSpaceAR(this.node.position)},enumerable:!1,configurable:!0}),e.prototype.playPowerAni=function(){var t=this;return this.spine_collect.node.active=!0,this.spine_collect.setAnimation(0,"xuanzhuan",!0),this.spine_collect.timeScale=2,this.scheduleOnce(function(){t.spine_collect.node.active=!1,t.updateIcon(t.result,!1)},.5),this.getWorldpos},Object.defineProperty(e.prototype,"ItemIsLeft",{get:function(){return this.coloumn.index<3||6===this.coloumn.index&&this.index<=1},enumerable:!1,configurable:!0}),e.prototype.restParent=function(){var t=this.getWorldpos,e=this.coloumn.node;this.node.setParent(e),this.node.position=e.convertToNodeSpaceAR(t)},e.prototype.stopAllEffect=function(){this.stopAni(),this.moveIcontween=null,this.node.scale=1,this.sp_frame.node.active=!1,this.setIconcolor(!0)},e.prototype.setIconcolor=function(t){this.sp_icon.node.color=t?this.lightcolor:this.darkcolor},e.prototype.setStopInfo=function(t,e){this.result=t[0],this.frametype=t[1],this.IconGroupList=t,this.setLinenum(e),this.updateIcon(this.result,!0)},e.prototype.updateIcon=function(t,e){if(void 0===e&&(e=!0),this.stopAni(),this.sp_icon.node.active=!0,t<=r.default.scatterIconidx){var o=t<10?"0"+t:""+t;this.sp_icon.spriteFrame=this.iconrunAtla.getSpriteFrame("symbol_"+o+"_"+(this.iconlength-1))}else{var i=e?"":"_gray";this.sp_icon.spriteFrame=this.specilrunAtlas.getSpriteFrame("symbol_13"+i+"_"+(this.iconlength-1))}this.showFrame()},e.prototype.setItemy=function(t){this.node.y=t},e.prototype.setItemx=function(t){this.node.x=t},e.prototype.showFrame=function(){if(this.sp_frame.node.active=1===this.frametype||2===this.frametype,1===this.frametype||2===this.frametype){var t=2===this.frametype?"symbol_f_gold":"symbol_f_silver";this.sp_frame.spriteFrame=this.iconrunAtla.getSpriteFrame(t)}},e.prototype.SetIconRun=function(t,e){t.length>0?(this.IconGroupList=t,this.result=t[0],this.isRun=!0,this.node.zIndex=8-this.index,this.seticonZindex()):this.sp_icon.node.active=!1,this.setLinenum(e)},e.prototype.seticonZindex=function(){},e.prototype.stopToShow=function(t){void 0===t&&(t=!0),this.isRun=!1,this.moveS=this.topy-this.starty,this.node.scale=1,this.showFrame(),t&&this.result>=r.default.wildIconidx&&(this.result===r.default.scatterIconidx?(this.playAni(1),this.node.zIndex=10,r.default.scatterShowedNum<3&&r.default.scatterShowedNum++,l.default.inst.playEffect("Scatter"+r.default.scatterShowedNum)):l.default.inst.playEffect("Wild"))},e.prototype.updateItem=function(t,e,o){if(this.isRun){var i;!e&&o&&(this.moveS+=t);var n=this.node.y-t;n=this.topy+(n-this.topy)%this.jumpy,i=Math.floor(this.moveS/this.jumpy),this.setItemy(n);var s=this.coloumn.symidx[i][this.index],a=s[0];this.frametype=s[1],this.updateIcon(a,!0)}},s([p(cc.SpriteAtlas)],e.prototype,"iconrunAtla",void 0),s([p(cc.SpriteAtlas)],e.prototype,"specilrunAtlas",void 0),s([p(cc.SpriteAtlas)],e.prototype,"symlightatlas",void 0),s([f],e)}(a.default);o.default=d,cc._RF.pop()},{"../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../core/PharaohNotify":"PharaohNotify","../manger/PharaohAudio":"PharaohAudio","./PharaohCenter":"PharaohCenter"}],PharaohNotify:[function(t,e,o){"use strict";cc._RF.push(e,"8b8583Di4dAB4MWmcsN0ezT","PharaohNotify");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a},n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var s=arguments[e],a=0,r=s.length;a<r;a++,n++)i[n]=s[a];return i};Object.defineProperty(o,"__esModule",{value:!0}),o.PharaohEvent=void 0;var s=cc._decorator,a=s.ccclass,r=(s.property,function(){function t(){}return t.init=function(){this.actions=[]},t.addNotify=function(t,e,o){var i=this.actions[t];i||(i=[]);var n={action:o,tar:e};i.push(n),this.actions[t]=i},t.pubNotify=function(t,e){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var s=this.actions[t];if(s)for(var a=0;a<s.length;++a){var r=s[a].tar,c=s[a].action;c.call.apply(c,n([r,e],o))}},t.actions=[],i([a],t)}());o.default=r,function(t){t[t.Login_result=0]="Login_result",t[t.GetResult=1]="GetResult",t[t.Roll_Stop=2]="Roll_Stop",t[t.ROLL_END=3]="ROLL_END",t[t.SELECT_MULTPILE=4]="SELECT_MULTPILE",t[t.ShowTip=5]="ShowTip",t[t.QuickRun=6]="QuickRun",t[t.ShowPayTable=7]="ShowPayTable",t[t.CheckWinScore=8]="CheckWinScore",t[t.ShowHall=9]="ShowHall",t[t.Logout=10]="Logout",t[t.Change_Type=11]="Change_Type",t[t.Change_Info=12]="Change_Info",t[t.Change_Score=13]="Change_Score",t[t.Updata_Jackpot=14]="Updata_Jackpot",t[t.BackstageChangeScore=15]="BackstageChangeScore",t[t.WaitSelect=16]="WaitSelect",t[t.SelectOne=17]="SelectOne",t[t.SelectLine=18]="SelectLine"}(o.PharaohEvent||(o.PharaohEvent={})),cc._RF.pop()},{}],PharaohPayTable:[function(t,e,o){"use strict";cc._RF.push(e,"f9eecfYPBFO4b4jD/OhtD26","PharaohPayTable");var i=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,s=n.ccclass,a=(n.property,function(){function t(){}return t.initPaytable=function(){for(var t=0;t<this.iconpaynums.length;++t){for(var e=new Map,o=this.iconpaynums[t],i=0;i<o.length;++i)e.set(6-i,o[i]);this.paytables[t]=e}},t.getIconPay=function(t,e){return this.paytables[t].get(e)},t.iconpaynums=[[.5,.3,.2,.1],[.5,.3,.2,.1],[.6,.5,.3,.2],[.6,.5,.3,.2],[1,.6,.4,.3],[2,1,.6,.4],[2,1,.6,.4],[3,2,1,.5],[3,2,1,.5],[5,3,2,1,.4]],t.paytables=[],i([s],t)}());o.default=a,cc._RF.pop()},{}],PharaohQuickUse:[function(t,e,o){"use strict";cc._RF.push(e,"2c63fGPlR5Nv6KTS/yJTZ0G","PharaohQuickUse");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onEnable=function(){this.bindComponent()},e.prototype.bindComponent=function(){for(var t in this)if(null===this[t]){var e=t.split("_")[0],o=t.split("_")[1];switch(e){case"ani":this[t]=this.findNode(t,cc.Animation);break;case"spine":case"dra":this[t]=this.findNode(t,sp.Skeleton);break;case"btn":this[t]=this.findNode(t,cc.Button);break;case"sp":this[t]=this.findNode(t,cc.Sprite);break;case"edit":this[t]=this.findNode(t,cc.EditBox);break;case"lb":this[t]=this.findNode(t,cc.Label);break;case"rich":this[t]=this.findNode(t,cc.RichText);break;case"user":this[t]=this.findNode(t).getComponent(o);break;case t:this[t]=this.findNode(t)}}},e.prototype.onLoad=function(){},e.prototype.getComponentCh=function(t,e,o){return t.getChildByName(e).getComponent(o)},e.prototype.getChildren=function(t,e,o){void 0===o&&(o=null);var i=null,n=this.getNodebyname(this.node,t);return n&&(i=this.getNodebyname(n,e)),i&&o?i.getComponent(o):i},e.prototype.getParChildren=function(t,e,o){return void 0===o&&(o=null),o?t.getChildByName(e).getComponent(o):t.getChildByName(e)},e.prototype.findNode=function(t,e){void 0===e&&(e=null);var o=null;return(o=this.getNodebyname(this.node,t))&&e?o.getComponent(e):o},e.prototype.getNodebyname=function(t,e){var o=t.children,i=t.getChildByName(e);if(0!=o.length){if(i)return i;for(var n=0;n<o.length;++n)i||(i=this.getNodebyname(o[n],e));if(i)return i}},e.prototype.showPanel=function(t){this.node.active=t,this.node.opacity=t?255:0},e.prototype.getNumber=function(t,e){return Math.floor(t*Math.pow(10,e))/Math.pow(10,e)},e.prototype.selectIconac=function(){},e.prototype.start=function(){},e.prototype.onDestroy=function(){cc.Tween.stopAllByTarget(this.node)},s([r],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],PharaohRoll:[function(t,e,o){"use strict";cc._RF.push(e,"38f1cCipwRE54+xBT+HSnoM","PharaohRoll");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../core/PharaohData"),r=t("../core/PharaohNotify"),c=t("../manger/PharaohAudio"),l=t("./PharaohColumn"),h=cc._decorator,u=h.ccclass,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.columns=[],e}return n(e,t),e.prototype.onLoad=function(){var t=this,e=0;this.node.children.forEach(function(o){var i=o.getComponent(l.default);i.initColumn(e,t),t.columns[e++]=i})},e.prototype.start=function(){this.initAllicon()},e.prototype.initAllicon=function(){for(var t=0;t<this.columns.length;++t){for(var e=[],o=0;o<3;++o)e.push([Math.floor(Math.random()*(a.default.wildIconidx-1)),0,3]);this.columns[t].setitemicon(e)}},e.prototype.setColumeAddSpeed=function(t){for(var e=t;e<this.columns.length;++e)this.columns[e].setAddSpeed()},e.prototype.setAllIconBg=function(){for(var t=0;t<this.columns.length;++t)this.columns[t].setItemsBg()},e.prototype.setColumeReal=function(){for(var t=0;t<this.columns.length;++t)this.columns[t].setRealRun()},e.prototype.stopAllcolumn=function(){for(var t=0;t<this.columns.length;++t)this.columns[t].stopRoll()},e.prototype.stopAllcolumnani=function(t){void 0===t&&(t=!0),t&&cc.Tween.stopAllByTarget(this.node);for(var e=0;e<this.columns.length;++e)this.columns[e].stopSymani()},e.prototype.setIconlight=function(t){for(var e=0;e<this.columns.length;++e)this.columns[e].setItemlight(t)},e.prototype.playscatter=function(t,e,o){void 0===e&&(e=0),void 0===o&&(o=0);for(var i=0;i<this.columns.length;++i){var n=t[i];if(n.length>0)for(var s=0;s<n.length;++s)this.columns[i].playsymani(n[s],e)}},e.prototype.showAllitemFrameAni=function(t){this.setIconlight(!1);for(var e=this.getnowAnilist(this.winlineidx[t]),o=0;o<this.columns.length;++o)e[o]&&this.columns[o].showItemFrameani(e[o])},e.prototype.getnowAnilist=function(t){for(var e=[],o=0;o<t.length;++o){var i=t[o],n=i[0]-1;e[n]||(e[n]=[]),e[n].push(i[1]-1)}return e},e.prototype.ChangeSymbol=function(t,e,o){var i=this;void 0===o&&(o=0);for(var n=this.getnowAnilist(this.winlineidx[t]),s=0;s<this.columns.length;++s)n[s]&&this.columns[s].playItemChange(n[s],e[s],o);var a=cc.tween(this.node).delay(1).call(function(){c.default.inst.playEffect("Num_01"),i.setIconlight(!0)});a.delay(1.2).call(function(){r.default.pubNotify(r.PharaohEvent.CheckWinScore)}),a.start()},e.prototype.startPlayAni=function(){},e.prototype.playAllsymani=function(){},e.prototype.RollAllcolumn=function(t,e){void 0===t&&(t=!0),this.winlineidx=a.default.winlineidxs;for(var o=0;o<this.columns.length;++o)this.columns[o].setItems(e[o],t)},s([u],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../core/PharaohData":"PharaohData","../core/PharaohNotify":"PharaohNotify","../manger/PharaohAudio":"PharaohAudio","./PharaohColumn":"PharaohColumn"}],PharaohRule:[function(t,e,o){"use strict";cc._RF.push(e,"21b87nFw2xMPIyNZZgHjeDQ","PharaohRule");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/PharaohQuickUse"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_close=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){var t=this;this.btn_close.node.on("click",function(){t.showPanel(!1)},this)},e.prototype.moverule=function(){},s([c],e)}(a.default));o.default=l,cc._RF.pop()},{"../common/PharaohQuickUse":"PharaohQuickUse"}],PharaohWininfo:[function(t,e,o){"use strict";cc._RF.push(e,"602f0u5vSVNH67lUuKdeXMR","PharaohWininfo");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),s=this&&this.__decorate||function(t,e,o,i){var n,s=arguments.length,a=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,o,a):n(e,o))||a);return s>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/PharaohQuickUse"),r=t("../core/PharaohData"),c=t("../core/PharaohPayTable"),l=cc._decorator,h=l.ccclass,u=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconatlas=null,e.sp_icon=null,e.lb_iconlen=null,e.lb_pay=null,e.lb_line=null,e.lb_score=null,e.lb_winbet=null,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setWinLineInfo=function(t,e,o,i,n){var s=t<10?"0"+t:""+t;this.sp_icon.spriteFrame=this.iconatlas.getSpriteFrame("symbol_"+s+"_6"),this.lb_iconlen.string=""+e,this.lb_score.string="= "+i.toFixed(2),this.lb_winbet.node.active=n>1,n>1?(this.lb_winbet.string="X"+n,cc.tween(this.lb_winbet.node).to(.15,{scale:1.5}).to(.1,{scale:1}).start()):this.lb_winbet.string="";var a=c.default.getIconPay(t,e)*r.default.currBet/100;this.lb_pay.string=""+a,this.lb_line.string=""+o},s([u(cc.SpriteAtlas)],e.prototype,"iconatlas",void 0),s([u(cc.Sprite)],e.prototype,"sp_icon",void 0),s([u(cc.Label)],e.prototype,"lb_iconlen",void 0),s([u(cc.Label)],e.prototype,"lb_pay",void 0),s([u(cc.Label)],e.prototype,"lb_line",void 0),s([u(cc.Label)],e.prototype,"lb_score",void 0),s([u(cc.Label)],e.prototype,"lb_winbet",void 0),s([h],e)}(a.default);o.default=f,cc._RF.pop()},{"../common/PharaohQuickUse":"PharaohQuickUse","../core/PharaohData":"PharaohData","../core/PharaohPayTable":"PharaohPayTable"}]},{},["PharaohGame","PharaohAnilabel","PharaohQuickUse","PharaohData","PharaohNotify","PharaohPayTable","PharaohAudio","NetPharaoh","PharaohAudioView","PharaohBigWin","PharaohBottom","PharaohCenter","PharaohColumn","PharaohFree","PharaohItem","PharaohRoll","PharaohRule","PharaohWininfo"]);