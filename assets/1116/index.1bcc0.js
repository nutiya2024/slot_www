window.__require=function t(e,i,o){function n(r,c){if(!i[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var u=i[r]={exports:{}};e[r][0].call(u.exports,function(t){return n(e[r][1][t]||t)},u,u.exports,t,e,i,o)}return i[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({DogHAnilabel:[function(t,e,i){"use strict";cc._RF.push(e,"5a298rp+rhA7oSOlU1DEhtA","DogHAnilabel");var o=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var n=cc._decorator,s=n.ccclass,r=(n.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"inst",{get:function(){return null==this.instance&&(this.instance=new e),this.instance},enumerable:!1,configurable:!0}),t.prototype.playlabel=function(t,e,i,o,n,s){var r=this;if(void 0===n&&(n=!1),void 0===s&&(s=""),t!=e){var c=cc.tween(o.node).to(i,{scaleZ:1},{progress:function(i,c,a,l){var u=Math.floor(t+(e-t)*l),h=n?r.parseCoin(u):u;return o.string=s+h,i+(c-i)*l}});c.call(function(){o.string=s+(n?r.parseCoin(e):e)}),this.labeltween=c,c.start()}},t.prototype.stopLaeblAni=function(){this.labeltween&&(this.labeltween.stop(),this.labeltween=null)},t.prototype.parseCoin=function(t){if(t<1e3)return t.toFixed(2);var e=Math.floor(t).toString(),i="",o=t.toString().split(".")[1];for(o?1==o.toString().length&&(o+="0"):o="00";e.length>3;)i=","+e.slice(-3)+i,e=e.slice(0,e.length-3);return e&&(i=e+i),i+"."+o},e=o([s],t)}());i.default=r,cc._RF.pop()},{}],DogHAudioView:[function(t,e,i){"use strict";cc._RF.push(e,"7cf857UmJVMnbVmTpLT6A/8","DogHAudioView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/DogHQuickUse"),c=t("../core/DogHData"),a=t("../core/DogHNotify"),l=t("../manger/DogHAudio"),u=cc._decorator,h=u.ccclass,f=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.switchicons=[],e}return n(e,t),e.prototype.onLoad=function(){this.musicicon=this.findNode("musicSwitch",cc.Sprite),this.soundicon=this.findNode("soundSwitch",cc.Sprite),this.quickicon=this.findNode("quickSwitch",cc.Sprite),this.close=this.findNode("close"),this.closebg=this.findNode("clickbg")},e.prototype.start=function(){var t=this;this.setIcon(0,1===l.default.inst._musicVolume),this.setIcon(1,1===l.default.inst._effectVolume),this.setIcon(2,c.default.IsTuro),this.musicicon.node.on("click",this.setMusic,this),this.soundicon.node.on("click",this.setSound,this),this.quickicon.node.on("click",this.setQuick,this),this.close.on("click",function(){t.showPanel(!1)},this),this.closebg.on("click",function(){t.showPanel(!1)},this),a.default.addNotify(a.DogHEvent.QuickRun,this,function(){t.setIcon(2,c.default.IsTuro)})},e.prototype.setSound=function(){l.default.inst.playEffect("clicksound"),l.default.inst.setAudioStatus(1===l.default.inst._effectVolume?"off":"on"),this.setIcon(1,1===l.default.inst._effectVolume)},e.prototype.setMusic=function(){l.default.inst.playEffect("clicksound"),l.default.inst.setMusicStatus(1===l.default.inst._musicVolume?"off":"on"),this.setIcon(0,1===l.default.inst._musicVolume)},e.prototype.setQuick=function(){if(l.default.inst.playEffect("clicksound"),c.default.isfree)return Common.showMessage("The current status cannot be set!");c.default.IsTuro=!c.default.IsTuro,this.setIcon(2,c.default.IsTuro),a.default.pubNotify(a.DogHEvent.QuickRun,c.default.IsTuro)},e.prototype.setIcon=function(t,e){var i=this.switchicons[e?0:1];0==t?this.musicicon.spriteFrame=i:1===t?this.soundicon.spriteFrame=i:this.quickicon.spriteFrame=i},s([f(cc.SpriteFrame)],e.prototype,"switchicons",void 0),s([h],e)}(r.default);i.default=p,cc._RF.pop()},{"../common/DogHQuickUse":"DogHQuickUse","../core/DogHData":"DogHData","../core/DogHNotify":"DogHNotify","../manger/DogHAudio":"DogHAudio"}],DogHAudio:[function(t,e,i){"use strict";cc._RF.push(e,"f11ccEK/mhLoLRKKpub9nMk","DogHAudio"),Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(){this._musicStatus="on",this._effectStatus="on",this._curMusicId=null,this._curEffectId=-1,this._musicVolume=1,this._effectVolume=1,this._volume=1,this.cacheEffect={},this.audioClips=[];var t=localStorage.getItem("sound");t?(this._musicStatus=t,this.setAudioStatus(t)):this.setAudioStatus("on"),(t=localStorage.getItem("music"))?(this._musicStatus=t,this.setMusicStatus(t)):this.setMusicStatus("on")}return t.prototype.initClips=function(t){this.audioClips=[];for(var e=0;e<t.length;++e)t[e]&&(this.audioClips[t[e].name]=t[e])},Object.defineProperty(t,"inst",{get:function(){return this._instance||(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._musicStatus},enumerable:!1,configurable:!0}),t.prototype.setAudioStatus=function(t){if(t){if("on"!=t&&"off"!=t)return cc.error("error status");this._effectVolume="on"==t?1:0,cc.audioEngine.setEffectsVolume(this._effectVolume),localStorage.setItem("sound",t)}},t.prototype.setMusicStatus=function(t){if(t){if("on"!=t&&"off"!=t)return cc.error("error status");this._musicVolume="on"==t?1:0,cc.audioEngine.setMusicVolume(this._musicVolume),localStorage.setItem("music",t)}},t.prototype.setEffectStatus=function(t){if("on"!=t&&"off"!=t)return cc.error("error type");this._effectStatus=t,"off"==t&&this.stopAllEffects()},t.prototype.playMusic=function(t,e){if(void 0===e&&(e=!0),t){var i=this.audioClips[t];i&&(this._curMusicId=cc.audioEngine.playMusic(i,e))}},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.playEffect=function(t,e,i,o){void 0===e&&(e=null),void 0===i&&(i=!1),void 0===o&&(o=!1);var n=this.audioClips[t];n&&(this._curEffectId=cc.audioEngine.playEffect(n,i)),this.SetCallBack(this._curEffectId,e),this.cacheEffect[t]=this._curEffectId},t.prototype.SetCallBack=function(t,e){var i=this;cc.audioEngine.setFinishCallback(t,function(){e&&e(),i.clearCache(t)})},t.prototype.clearCache=function(t){for(var e in this.cacheEffect)if(this.cacheEffect.hasOwnProperty(e)&&this.cacheEffect[e]==t){delete this.cacheEffect[e];break}},t.prototype.stopEffect=function(t){t?this.cacheEffect[t]?(cc.audioEngine.stopEffect(this.cacheEffect[t]),delete this.cacheEffect[t]):cc.log("\u6682\u672a\u5b58\u50a8,\u5b58\u50a8\u540e\u53ef\u64cd\u4f5c"):this.stopAllEffects(),this._curEffectId=-1},t.prototype.stopAllEffects=function(){cc.audioEngine.stopAllEffects(),this.cacheEffect={}},t}();i.default=o,cc._RF.pop()},{}],DogHBottom:[function(t,e,i){"use strict";cc._RF.push(e,"4fd71b1xWRHgr9+Gs2iNJt6","DogHBottom");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../DoghGame"),c=t("../common/DogHAnilabel"),a=t("../common/DogHQuickUse"),l=t("../core/DogHData"),u=t("../core/DogHNotify"),h=t("../manger/DogHAudio"),f=cc._decorator,p=f.ccclass,d=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betidx=1,e.isroll=!1,e.downstrs=["FREE SPIN LEFT ","FREE SPINS COMPLETED"],e.upstrs=["GOOD LUCK!","PLACE YOUR BETS!","HOLD SPACE FOR TURBO SPIN"],e.iconsps=null,e.aniIdx=0,e.fastimgs=[],e.autoButtonList=[],e.autonumlist=[10,20,50,100,200,500],e.holdtime=-1,e.showAutoSelected=!1,e.closeSelBu=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.addbetbu=this.node.getChildByName("addbet").getComponent(cc.Button),this.subbetbu=this.node.getChildByName("subbet").getComponent(cc.Button),this.balance=this.node.getChildByName("scorebg").children[1].getComponent(cc.Label),this.totalwin=this.findNode("totalwin",cc.Label),this.mainGame=this.node.parent.getComponent(r.default),this.spinbu=this.findNode("btn_start",cc.Button),this.stopbu=this.findNode("btn_stop",cc.Button),this.tiplabelup=this.findNode("tiplabelup",cc.Label),this.tiplabeldown=this.findNode("tiplabeldown",cc.Label),this.totalbet=this.findNode("label_bet",cc.Label),this.autolabel=this.findNode("autolabel",cc.Label),this.setbu=this.findNode("setting"),this.helpbu=this.findNode("infobu"),this.winnum=this.findNode("winnum",cc.Label),this.winicon=this.findNode("winicon",cc.Sprite),this.wintextlabel=this.findNode("winlabeltext",cc.Label),this.fastbu=this.findNode("quickbu"),this.closeSelBu=this.findNode("closeSelect"),this.autoGroupNode=this.findNode("autoButtonG"),this.stopauto=this.findNode("btn_auto");for(var e=1;e<7;++e)this.autoButtonList.push(this.autoGroupNode.children[e].getComponent(cc.Button));u.default.addNotify(u.DogHEvent.ROLL_END,this,function(){t.startPlayAni()}),u.default.addNotify(u.DogHEvent.QuickRun,this,this.setQuickIcon),this.winAniTween=cc.tween(this.node).repeatForever(cc.tween(this.node).call(function(){t.playOneIconAni(t.aniIdx),t.aniIdx++,t.aniIdx>l.default.AllWinLineInfo.length&&(t.aniIdx=0)}).delay(1.5))},e.prototype.start=function(){this.addlistner(),this.SetBalance()},e.prototype.initInfo=function(){this.betidx=l.default.betValues.indexOf(l.default.betLine),-1===this.betidx&&(this.betidx=0),this.totalbet.string=(l.default.betValues[this.betidx]*l.default.AllLineNum).toFixed(2),u.default.pubNotify(u.DogHEvent.SELECT_MULTPILE,this.betidx)},e.prototype.addlistner=function(){var t=this;this.spinbu.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.spinbu.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.stopbu.node.on("click",this.StopSpin,this),this.addbetbu.node.on("click",function(){t.addBet(1)}),this.subbetbu.node.on("click",function(){t.addBet(-1)});for(var e=function(e){i.autoButtonList[e].node.on("click",function(){t.clickAutoNums(e)},i)},i=this,o=0;o<this.autoButtonList.length;++o)e(o);this.closeSelBu.on("click",function(){t.showAutoSelect(!1)},this),this.helpbu.on("click",function(){h.default.inst.playEffect("clicksound"),t.mainGame.showRule()},this),this.setbu.on("click",function(){h.default.inst.playEffect("clicksound"),t.mainGame.showAudioSetting()},this),this.stopauto.on("click",function(){t.stopAuto()},this),this.fastbu.on("click",function(){if(l.default.isfree)return Common.showMessage("The current status cannot be set!");l.default.IsTuro=!l.default.IsTuro,h.default.inst.playEffect("clicksound"),u.default.pubNotify(u.DogHEvent.QuickRun,l.default.IsTuro)},this)},e.prototype.ShowTotalwin=function(t,e){void 0===e&&(e=0),this.totalwin.string=(t/100).toFixed(2)},e.prototype.touchStart=function(){this.spinbu.interactable&&(this.holdtime=0,h.default.inst.playEffect("spinsound"))},e.prototype.touchEnd=function(){this.spinbu.interactable&&(this.showAutoSelected||(this.holdtime=-1,this.spin()))},e.prototype.setQuickIcon=function(t){var e=this.fastbu.children;e[0].active=!t,e[1].active=t},e.prototype.showAutoSelect=function(t){this.showAutoSelected=t,cc.tween(this.autoGroupNode).to(.2,{scaleY:t?1:0}).start()},e.prototype.clickAutoNums=function(t){h.default.inst.playEffect("clicksound"),this.showAutoSelect(!1),cc.log("\u70b9\u51fb\u4e86\u7b2c"+t+"\u4e2a ============"),l.default.isfree||(l.default.AutoNum=this.autonumlist[t],this.stopauto.active=!0,this.showAutoLabel(),this.mainGame.autoGame(!0))},e.prototype.stopAuto=function(){l.default.AutoNum>=0&&(l.default.AutoNum=-1,this.mainGame.autoGame(!1),this.stopauto.active=!1,this.showAutoLabel())},e.prototype.spin=function(){if(cc.log("\u70b9\u51fb\u4e86\u5f00\u59cb\u6309\u94ae============"),this.mainGame.startGame()){if(cc.log("\u53ef\u4ee5\u8f6c\u52a8==========="),this.isroll)return;this.SetSpin(!0),this.isroll=!0}},e.prototype.startPlayAni=function(){cc.log("startPlayAni"),this.isroll=!1,this.stopbu.interactable=!1,l.default.AllWinLineInfo.length>0&&(this.aniIdx=0,this.winAniTween.start())},e.prototype.stopAni=function(){this.aniIdx=-1,this.winAniTween.stop(),cc.Tween.stopAllByTarget(this.node),this.showIconWin(!1)},e.prototype.playOneIconAni=function(t){if(!(this.aniIdx<0)&&0!=l.default.AllWinLineInfo.length)if(this.showIconWin(!1),0===t||1===l.default.AllWinLineInfo.length)this.showIconWin(!0,l.default.winScore);else{var e=l.default.AllWinLineInfo[t-1];this.showIconWin(!0,e.totalwin,e.iconidx,e.iconnum,e.linenum)}},e.prototype.showIconWin=function(t,e,i,o,n){if(void 0===e&&(e=-1),void 0===i&&(i=-1),void 0===o&&(o=-1),void 0===n&&(n=-1),t)if(i>=0){this.winnum.string=o+"X";var s=13-i,r=s<10?"0"+s:""+s;this.winicon.spriteFrame=this.iconsps.getSpriteFrame("s_symbol_"+r),this.winicon.node.active=!0;var c="PAYS "+(e/100).toFixed(2)+" ";n>1&&(c+="ON "+n+" WAYS"),this.wintextlabel.string=c}else this.wintextlabel.string="GAME PAYS "+(e/100).toFixed(2);else this.winicon.node.active=!1,this.winicon.spriteFrame=null,this.winnum.string=this.wintextlabel.string=""},e.prototype.showAutoLabel=function(){cc.log("showAutoLabel ==DogHData.AutoNum "+l.default.AutoNum+"======="),l.default.AutoNum>=0?(this.stopauto.active=!0,this.autolabel.string=l.default.AutoNum+" STOP"):(this.autolabel.string="HOLD FOR AUTO",this.stopauto.active=!1)},e.prototype.setTipUp=function(t,e){this.tiplabelup.string=t?this.upstrs[e]:""},e.prototype.setTipDown=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=0),this.tiplabeldown.string=t?0===e?this.downstrs[e]+i:this.downstrs[e]:""},e.prototype.StopSpin=function(){this.isroll&&(this.isroll=!1,this.mainGame.StopRoll(),this.SetSpin(!1))},e.prototype.SetSpin=function(t){this.spinbu.node.active=!t,this.stopbu.node.active=this.stopbu.interactable=t,this.isroll=t},e.prototype.setCanspin=function(t){this.spinbu.interactable=t,this.addbetbu.interactable=t,this.subbetbu.interactable=t,this.setAutoBuState(t),t||this.showAutoSelect(!1)},e.prototype.setAutoBuState=function(t){for(var e=0;e<this.autoButtonList.length;++e)this.autoButtonList[e].interactable=t},e.prototype.setFreestart=function(t){t&&this.setCanspin(!1)},e.prototype.SetBalance=function(t){void 0===t&&(t=0),0===t?this.balance.string=""+(Math.floor(l.default.coins)/100).toFixed(2):(c.default.inst.playlabel(l.default.coins,l.default.coins+t,2.5,this.balance),l.default.coins+=t)},e.prototype.SetAuto=function(){l.default.isfree},e.prototype.addBet=function(t){h.default.inst.playEffect("clicksound"),this.betidx+=t,this.betidx<0&&(this.betidx=0),this.betidx>=l.default.betValues.length&&(this.betidx=l.default.betValues.length-1);var e=l.default.betValues[this.betidx]*l.default.AllLineNum;this.totalbet.string=e.toFixed(2),u.default.pubNotify(u.DogHEvent.SELECT_MULTPILE,this.betidx)},e.prototype.update=function(t){this.holdtime>=0&&(this.holdtime+=t),this.holdtime>=1.5&&(this.showAutoSelect(!0),this.holdtime=-1)},s([d(cc.SpriteAtlas)],e.prototype,"iconsps",void 0),s([d(cc.SpriteFrame)],e.prototype,"fastimgs",void 0),s([p],e)}(a.default);i.default=m,cc._RF.pop()},{"../DoghGame":"DoghGame","../common/DogHAnilabel":"DogHAnilabel","../common/DogHQuickUse":"DogHQuickUse","../core/DogHData":"DogHData","../core/DogHNotify":"DogHNotify","../manger/DogHAudio":"DogHAudio"}],DogHCenter:[function(t,e,i){"use strict";cc._RF.push(e,"63705m4MNdGpKrW2Nk80OUW","DogHCenter");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../core/DogHData"),c=t("../manger/DogHAudio"),a=t("./DogHRoll"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bggroup=null,e.anigroup=null,e.spinYnums=[164,103,100,54,43,36],e.betspinYnums=[50,25,18,5,0,-5],e.wilditems=[],e.wildPosList=[],e.wildAniPosList=[],e.lineNums=[0,0,0,0,0,0],e.showedwildlist=[0,0,0,0,0,0],e.freewildnum=0,e}var i;return n(e,t),i=e,Object.defineProperty(e,"inst",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){i.instance=this,this.rollM=this.node.getChildByName("columns").getComponent(a.default);for(var t=this.node.getChildByName("wildcolums").children,e=0;e<t.length;++e){var o=t[e].children;this.wilditems[e]=o;for(var n=0;n<o.length;++n)o[n].zIndex=7-n}},e.prototype.start=function(){},e.prototype.changeParent=function(t,e){var i=0===e?this.bggroup:this.anigroup,o=t.parent.convertToWorldSpaceAR(t.position);t.setParent(i),t.position=i.convertToNodeSpaceAR(o)},e.prototype.setRollAddSpeed=function(t){this.rollM.setColumeAddSpeed(t)},e.prototype.clearShowWilded=function(){this.showedwildlist=[0,0,0,0,0,0],this.lineNums=[0,0,0,0,0,0],this.freewildnum=0},e.prototype.setShowWildAni=function(){if(1===r.default.freeSelectType){this.closeAllWildAni();for(var t=0;t<6;++t){var e=r.default.symrealresult[t].length,i=this.wildPosList[t],o=[];if(i.length>0){for(var n=0;n<i.length;++n){var s=e-1-i[n],c=r.default.symrealresult[t][s]-r.default.wildIconidx+1;o.push(c)}var a=this.lineNums[t];this.showLineWildAni(e,t,i,o,a,this.showedwildlist[t])}this.lineNums[t]=e,1===r.default.freeSelectType&&(this.showedwildlist[t]=i.length)}}else this.setRainWildani()},e.prototype.setRainWildani=function(){for(var t=this,e=0,i=cc.tween(this.node),o=0;o<6;++o){var n=1.5*this.wildPosList[o].length;i.call(function(){var i=r.default.symrealresult[e].length,o=t.wildPosList[e],n=0,s=cc.tween(t.node);if(o.length>0){for(var c=0;c<o.length;++c)s.call(function(){var s=i-1-o[n];cc.log("numidx "+e+" idx "+n+" realpos "+s+" =========");var c=r.default.symrealresult[e][s]-r.default.wildIconidx+1;t.showLineWildAni(i,e,[o[n]],[c]),n++}).delay(1.45);s.start()}}).delay(n).call(function(){e++})}i.call(function(){t.rollM.setColumeReal()}),i.start()},e.prototype.showLineWildAni=function(t,e,i,o,n,s){void 0===n&&(n=0),void 0===s&&(s=0);for(var c=this.wilditems[e],a=0;a<c.length;++a)c[a].height=r.default.Lineheight/t;for(a=0;a<i.length;++a){var l,u=c[i[a]];l=a<s?n:0,this.showOneItemSpinani(u,t,o[a],!1,l)}},e.prototype.playAllLineWildAni=function(){for(var t=0;t<6;++t){var e=r.default.symrealresult[t].length;this.lineNums[t]=e;var i=this.wildAniPosList[t],o=[];if(i.length>0){for(var n=0;n<i.length;++n){var s=e-1-i[n],c=r.default.symrealresult[t][s]-r.default.wildIconidx+1;o.push(c)}this.playLineWildAni(e,t,i,o)}}},e.prototype.playLineWildAni=function(t,e,i,o){for(var n=this.wilditems[e],s=0;s<i.length;++s){var r=n[i[s]];this.showOneItemSpinani(r,t,o[s],!0)}},e.prototype.closeAllWildAni=function(){cc.log("\u5173\u95ed\u6240\u6709\u7684wild\u52a8\u753b");for(var t=0;t<this.wilditems.length;++t)for(var e=this.wilditems[t],i=0;i<e.length;++i)e[i].opacity=0,e[i].children.forEach(function(t){t.active=!1})},e.prototype.showOneItemSpinani=function(t,e,i,o,n){void 0===n&&(n=0),cc.log("showOneItemSpinani lineNum "+e+" bet "+i+" loop "+o);var s=t.children[0].getComponent(sp.Skeleton),r=t.children[1].getComponent(sp.Skeleton);s.node.active=r.node.active=!0,s.timeScale=r.timeScale=1,o?(cc.log("\u64ad\u653e\u4e2d\u7ebf\u52a8\u753b============"),s.setAnimation(0,"win_"+e,!0),i>1?r.setAnimation(0,"win_x"+i+"_"+e+"_in",!0):r.setAnimation(0,"win_wild_"+e+"_in",!0)):(s.node.y=this.spinYnums[e-2],r.node.y=this.betspinYnums[e-2],0===n?(c.default.inst.playEffect("wildicon"),cc.log("\u64ad\u653e\u51fa\u73b0\u52a8\u753b"),s.setAnimation(0,"win_"+e+"_appear",!1),i>1?r.setAnimation(0,"win_x"+i+"_"+e+"_appear",!1):r.setAnimation(0,"win_wild_"+e+"_appear",!1)):(s.timeScale=r.timeScale=0,s.setAnimation(0,"win_"+e,!1),i>1?r.setAnimation(0,"win_x"+i+"_"+e+"_out",!1):r.setAnimation(0,"win_wild_"+e+"_out",!1)),t.opacity=255)},e.prototype.setAllIconBg=function(){this.rollM.setAllIconBg()},e.prototype.stopAllani=function(){this.rollM.stopAllcolumnani()},e.prototype.showAlliconLight=function(t){this.rollM.setIconlight(t)},e.prototype.playScatterani=function(t){this.rollM.playscatter(t)},e.prototype.runRoll=function(t,e,i){r.default.isfree?(this.wildPosList=t,this.wildAniPosList=e,this.setShowWildAni(),2===r.default.freeSelectType?this.rollM.RollAllcolumn(0===i):this.rollM.RollAllcolumn()):this.rollM.RollAllcolumn()},e.prototype.stopRoll=function(){this.rollM.stopAllcolumn()},s([h(cc.Node)],e.prototype,"bggroup",void 0),s([h(cc.Node)],e.prototype,"anigroup",void 0),i=s([u],e)}(cc.Component);i.default=f,cc._RF.pop()},{"../core/DogHData":"DogHData","../manger/DogHAudio":"DogHAudio","./DogHRoll":"DogHRoll"}],DogHColumn:[function(t,e,i){"use strict";cc._RF.push(e,"34bfbsqRYFE2pNHb6fm6U7B","DogHColumn");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/DogHQuickUse"),c=t("../core/DogHData"),a=t("../core/DogHNotify"),l=t("../manger/DogHAudio"),u=t("./DogHItem"),h=cc._decorator,f=h.ccclass,p=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.items=[],e.index=-1,e.symidx=[],e.randmlist=[],e.runRoll=!1,e.maxS=0,e.rollheight=1015,e.moves=0,e.speed=4500,e.isStop=!0,e.result=[],e.freerandmlist=[],e.itemnum=8,e.lineitemnum=0,e.isaddspeed=!1,e.isrealrun=!0,e}return n(e,t),e.prototype.onLoad=function(){this.mask=this.getComponent(cc.Mask),this.initItems()},e.prototype.initColumn=function(t,e){for(var i=this,o=0;o<c.default.iconsNum;++o)this.randmlist.push(o);this.index=t,this.rollM=e,0!=t&&4!=t||this.randmlist.splice(11,1),this.freerandmlist=this.getNumlist(this.randmlist),this.freerandmlist.splice(0,6),this.stopAddSpeedTween=cc.tween(this.node).delay(.5*t).call(function(){i.isaddspeed=!1})},e.prototype.initItems=function(){var t=this.node.children[0];this.items.push(t.getComponent(u.default)),this.items[0].initItem(0,this);for(var e=1;e<this.itemnum;++e){var i=cc.instantiate(t);i.parent=t.parent,this.items.push(i.getComponent(u.default)),this.items[e].initItem(e,this)}},e.prototype.setitemicon=function(t){cc.log(t),this.mask.enabled=!1,this.result=this.getresultmnum(t);for(var e=0;e<this.items.length;++e)e<t.length?(this.items[e].setLinenum(t.length),this.items[e].updateIcon(t[e],!0)):this.items[e].node.active=!1},e.prototype.getRandidx=function(){if(c.default.isfree)return t=Math.floor(Math.random()*(this.freerandmlist.length-1)),this.freerandmlist[t];var t=Math.floor(Math.random()*(this.randmlist.length-1));return this.randmlist[t]},e.prototype.getresultmnum=function(t,e){void 0===e&&(e=!1);for(var i=[],o=t.length,n=0;n<o+1;++n)n<=o?i.push(t[n]):e?i.push(Math.floor(6*Math.random())):i.push(this.getRandidx());return i},e.prototype.setAddSpeed=function(){this.runRoll&&(this.isaddspeed=!0,this.stopAddSpeedTween.start())},e.prototype.setRealRun=function(){this.isrealrun=!0},e.prototype.setItems=function(t,e){this.mask.enabled=!0;for(var i=0;i<this.items.length;++i)this.items[i].node.active=!0;cc.log(t),this.lineitemnum=t.length,this.symidx=[],this.maxS=c.default.Lineheight/this.lineitemnum*(this.lineitemnum+1)*(this.index+3);var o=this.index+3;for(i=0;i<o;++i){for(var n=[],s=0;s<this.lineitemnum+1;++s)n[s]=this.getRandidx();this.symidx[i]=n}for(this.result=this.symidx[o]=this.getresultlist(t,this.lineitemnum+1),i=0;i<this.items.length;++i)i<this.lineitemnum+1?this.items[i].SetIconRun(this.result[i],t.length):this.items[i].SetIconRun(-1,t.length);this.isrealrun=e,this.isStop=!1,this.runRoll=!0},e.prototype.setItemsBg=function(){for(var t=0;t<this.items.length;++t)this.items[t].setBgIcon()},e.prototype.getresultlist=function(t,e){for(var i=[],o=0;o<e;++o)o<t.length?i.push(t[o]):i.push(this.getRandidx());return i},e.prototype.getNumlist=function(t){var e=[];return t.forEach(function(t){e.push(t)}),e},e.prototype.setAllitempos=function(){for(var t=0;t<this.lineitemnum+1;++t)this.items[t].setStopRunpos()},e.prototype.stopRoll=function(){if(this.runRoll){this.stopAddSpeedTween.stop(),this.isaddspeed=!1,this.isStop=!0,this.runRoll=!1;for(var t=0;t<this.lineitemnum+1;++t)this.items[t].updateIcon(this.result[t],!0);this.backToTarget()}},e.prototype.backToTarget=function(t){var e=this;void 0===t&&(t=!1),this.setAllitempos(),this.moves=0;var i=this;cc.tween(i.node).to(.2,{y:i.node.y-20}).to(.2,{y:i.node.y}).call(function(){5==e.index&&(a.default.pubNotify(a.DogHEvent.ROLL_END),i.rollM.startPlayAni()),i.playStopani()}).start(),a.default.pubNotify(a.DogHEvent.Roll_Stop,this.index),l.default.inst.playEffect("rullstop")},e.prototype.playStopani=function(){this.mask.enabled=!1;for(var t=0;t<this.items.length;++t)t<this.lineitemnum?this.items[t].stopToShow():this.items[t].node.active=!1},e.prototype.setoneitem=function(t,e){this.items[e].setIconcolor(t)},e.prototype.setItemlight=function(t){for(var e=0;e<this.lineitemnum+1;++e)this.setoneitem(t,e)},e.prototype.playsymani=function(t){this.setoneitem(!0,t),this.items[t].playAni()},e.prototype.stopSymani=function(t){for(var e=0;e<this.items.length;++e)this.items[e].stopAllEffect(t)},e.prototype.update=function(t){if(!this.isStop&&this.runRoll){var e=t*this.speed*(c.default.IsTuro?2:1)*(this.isaddspeed?1.5:1);!this.isaddspeed&&this.isrealrun&&(this.moves+=e),this.moves>this.maxS&&(e+=this.maxS-this.moves,this.runRoll=!1,this.isStop=!0);for(var i=0;i<this.lineitemnum+1;++i)this.items[i].updateItem(e,this.isaddspeed,this.isrealrun);this.isStop&&this.backToTarget()}},s([f],e)}(r.default));i.default=p,cc._RF.pop()},{"../common/DogHQuickUse":"DogHQuickUse","../core/DogHData":"DogHData","../core/DogHNotify":"DogHNotify","../manger/DogHAudio":"DogHAudio","./DogHItem":"DogHItem"}],DogHData:[function(t,e,i){"use strict";cc._RF.push(e,"ee29dQjMXxGNanxEYIsOucX","DogHData"),Object.defineProperty(i,"__esModule",{value:!0}),i.WinLineInfo=void 0;var o=function(){function t(){}return t.initAllvalue=function(){this.freewinscore=this.scatterNum=this.freeTimes=0,this.isfree=this.isfreestart=this.IsTuro=!1,this.betLine=1,this.AutoNum=-1},t.coins=0,t.betLine=1,t.newBetLine=0,t.currBet=0,t.winScore=0,t.avatar="",t.language="zh-ch",t.winscorelist=[],t.username="",t.password="",t.token="",t.connectSuccess=!1,t.nickname="",t.ID="",t.gamesign="",t.caijinPool=[0,0,0,0],t.freeTimes=0,t.freeTotal=0,t.Freebet=0,t.FreeWin=0,t.caishenNum=0,t.freewinscore=0,t.isfreestart=!1,t.isfreeinfree=!1,t.isfree=!1,t.selectType=8,t.canUseOther=!1,t.symreslut=[],t.symrealresult=[],t.winicon=[],t.winiconlen=[],t.winlineidxs=[],t.result=[],t.caijin=[],t.multiple=1,t.serverScore=0,t.isFirst=!1,t.tempCaijin=[0,0,0,0],t.jackpotwin=0,t.jacktype=0,t.winningscore=0,t.jpvalue=5,t.user_id=4,t.photo_index=7,t.betValues=[.01,.02,.05,.1,.2,.3,.4,.6,1,2,5,10,20,30,50],t.iconsNum=13,t.Lineheight=690,t.wildIconidx=11,t.scatterIconidx=14,t.freeSelectType=-1,t.FreeAllReultList=[],t.AllLineNum=20,t.AllWinLineInfo=[],t.scatterNum=0,t.IsTuro=!1,t.AutoNum=-1,t}();i.default=o;i.WinLineInfo=function(){this.iconPosList=[]},cc._RF.pop()},{}],DogHItem:[function(t,e,i){"use strict";cc._RF.push(e,"4e831f05mdMLYAqRUi2+fte","DogHItem");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/DogHQuickUse"),c=t("../core/DogHData"),a=t("../manger/DogHAudio"),l=t("./DogHCenter"),u=cc._decorator,h=u.ccclass,f=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.iconrunAtlas=[],e.iconbg=null,e.iconbgAtlas=[],e.wildbetAtlas=null,e.index=-1,e.result=-1,e.lightcolor=new cc.Color(255,255,255),e.darkcolor=new cc.Color(125,125,125),e.topy=0,e.bottomy=0,e.jumpy=0,e.itemheight=203,e.moveS=0,e.isRun=!1,e.spinAnis=[],e.J10_spinYnums=[178,106,72,55,46,33],e.Gt_spinYnums=[173,115,86,70,59,48],e.Xq_spinYnums=[165,108,80,67,54,45],e.Q_spinYnums=[133,90,67,55,45,38],e.KA_spinYnums=[150,100,76,60,48,44],e.betspinYnums=[50,25,18,5,0,-5],e.lineNum=0,e.beticon=null,e.bgparent=null,e.ischananiparent=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.spinaniG=this.findNode("spinaniG"),this.spinaniG.children.forEach(function(e){t.spinAnis.push(e.getComponent(sp.Skeleton))}),this.iconbg.node.zIndex=0},e.prototype.initItem=function(t,e){this.index=t,this.coloumn=e,this.node.zIndex=7-t+1,this.setLinenum(2)},e.prototype.start=function(){},e.prototype.setLinenum=function(t){this.lineNum=t,this.node.height=c.default.Lineheight/this.lineNum,this.bottomy=-c.default.Lineheight/2+this.node.height/2,this.starty=this.node.y=this.bottomy+this.node.height*this.index,this.topy=this.bottomy+c.default.Lineheight,this.moveS=this.topy-this.starty,this.jumpy=this.node.height+c.default.Lineheight,this.setBgIcon()},e.prototype.setBgIcon=function(){this.iconbg.spriteFrame=this.iconbgAtlas[c.default.isfree?1:0].getSpriteFrame("s_"+this.lineNum+"x")},e.prototype.playAni=function(){if(this.icon.node.active=!1,this.result>=c.default.wildIconidx&&this.result<=c.default.wildIconidx+2){if(c.default.isfree)return;var t=this.spinAnis[11],e=this.spinAnis[13],i=this.result-c.default.wildIconidx+1;t.node.active=e.node.active=!0,t.setAnimation(0,"win_"+this.lineNum,!0),1===i?e.setAnimation(0,"win_wild_"+this.lineNum+"_in",!0):e.setAnimation(0,"win_x"+i+"_"+this.lineNum+"_in",!0),this.ischananiparent||(this.ischananiparent=!0,t.node.y=this.J10_spinYnums[this.lineNum-2],e.node.y=this.betspinYnums[this.lineNum-2],l.default.inst.changeParent(t.node,1),l.default.inst.changeParent(e.node,1))}else{if(t=void 0,(t=this.result===c.default.scatterIconidx?this.spinAnis[12]:this.spinAnis[this.result]).node.active=!0,!this.ischananiparent){this.ischananiparent=!0;var o;o=2===this.result?this.Q_spinYnums[this.lineNum-2]:3===this.result||4===this.result?this.KA_spinYnums[this.lineNum-2]:5===this.result?this.Gt_spinYnums[this.lineNum-2]:6===this.result?this.Xq_spinYnums[this.lineNum-2]:this.J10_spinYnums[this.lineNum-2],t.node.y=o,l.default.inst.changeParent(t.node,1)}t.setAnimation(0,"win_"+this.lineNum,!0)}},e.prototype.changParent=function(t,e){var i=0===e?this.bgparent:this.spinaniG,o=t.parent.convertToWorldSpaceAR(t.position);t.setParent(i),t.position=i.convertToNodeSpaceAR(o)},e.prototype.setStopRunpos=function(){this.setItemy(this.starty)},e.prototype.stopAni=function(t){var e=this;this.spinAnis.forEach(function(i){i.node.active=!1,t&&e.ischananiparent&&e.changParent(i.node,1)}),this.icon.node.active=!0,t&&(this.ischananiparent=!1)},e.prototype.getWorldpos=function(){return this.node.convertToWorldSpaceAR(this.node.position)},e.prototype.stopAllEffect=function(t){this.stopAni(t),this.setIconcolor(!0),t&&this.changParent(this.iconbg.node,0)},e.prototype.setIconcolor=function(){},e.prototype.updateIcon=function(t,e){if(void 0===e&&(e=!1),this.beticon.node.active=!1,t<c.default.wildIconidx){var i=13-t,o=i<10?"0"+i:""+i,n=e?"s_"+o+"_normal_":"s_"+o+"_blurred_";this.icon.spriteFrame=this.iconrunAtlas[t].getSpriteFrame(n+this.lineNum)}else if(t===c.default.scatterIconidx)n=e?"s_01_normal_":"s_01_blurred_",this.icon.spriteFrame=this.iconrunAtlas[12].getSpriteFrame(n+this.lineNum);else if(n=e?"s_02_normal_":"s_02_blurred_",this.icon.spriteFrame=this.iconrunAtlas[11].getSpriteFrame(n+this.lineNum),t!==c.default.wildIconidx){var s=t===c.default.wildIconidx+1?"s_2x_normal_":"s_3x_normal_";this.beticon.spriteFrame=this.wildbetAtlas.getSpriteFrame(s+this.lineNum),this.beticon.node.active=!0}},e.prototype.setItemy=function(t){this.node.y=t},e.prototype.SetIconRun=function(t,e){this.setLinenum(e),t>=0?(this.result=t,this.isRun=!0,this.node.zIndex=8-this.index,this.seticonZindex()):this.icon.node.active=!1},e.prototype.seticonZindex=function(){this.result>4&&(this.result<=6?this.node.zIndex=15-this.index:this.result>6&&this.result<=10?this.node.zIndex=22-this.index:this.result===c.default.scatterIconidx?this.node.zIndex=36-this.index:this.node.zIndex=29-this.index)},e.prototype.stopToShow=function(){this.isRun=!1,this.moveS=this.topy-this.starty,this.result==c.default.scatterIconidx?a.default.inst.playEffect("scatter0"):this.result>=c.default.wildIconidx+1&&!c.default.isfree&&a.default.inst.playEffect("wildicon"),l.default.inst.changeParent(this.iconbg.node,0)},e.prototype.updateItem=function(t,e,i){if(this.isRun){!e&&i&&(this.moveS+=t);var o=this.node.y-t;o=this.topy+(o-this.topy)%this.jumpy;var n=Math.floor(this.moveS/this.jumpy),s=this.coloumn.symidx[n][this.index];this.updateIcon(s,n===this.coloumn.symidx.length-1),this.setItemy(o)}},s([f(cc.Sprite)],e.prototype,"icon",void 0),s([f(cc.SpriteAtlas)],e.prototype,"iconrunAtlas",void 0),s([f(cc.Sprite)],e.prototype,"iconbg",void 0),s([f(cc.SpriteAtlas)],e.prototype,"iconbgAtlas",void 0),s([f(cc.SpriteAtlas)],e.prototype,"wildbetAtlas",void 0),s([f(cc.Sprite)],e.prototype,"beticon",void 0),s([h],e)}(r.default);i.default=p,cc._RF.pop()},{"../common/DogHQuickUse":"DogHQuickUse","../core/DogHData":"DogHData","../manger/DogHAudio":"DogHAudio","./DogHCenter":"DogHCenter"}],DogHNotify:[function(t,e,i){"use strict";cc._RF.push(e,"324b4rnqzpKd61XuzHe083D","DogHNotify");var o=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r},n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],r=0,c=s.length;r<c;r++,n++)o[n]=s[r];return o};Object.defineProperty(i,"__esModule",{value:!0}),i.DogHEvent=void 0;var s=cc._decorator,r=s.ccclass,c=(s.property,function(){function t(){}return t.init=function(){this.actions=[]},t.addNotify=function(t,e,i){var o=this.actions[t];o||(o=[]);var n={action:i,tar:e};o.push(n),this.actions[t]=o},t.pubNotify=function(t,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=this.actions[t];if(s)for(var r=0;r<s.length;++r){var c=s[r].tar,a=s[r].action;a.call.apply(a,n([c,e],i))}},t.actions=[],o([r],t)}());i.default=c,function(t){t[t.Login_result=0]="Login_result",t[t.GetResult=1]="GetResult",t[t.Roll_Stop=2]="Roll_Stop",t[t.ROLL_END=3]="ROLL_END",t[t.SELECT_MULTPILE=4]="SELECT_MULTPILE",t[t.ShowTip=5]="ShowTip",t[t.QuickRun=6]="QuickRun",t[t.ShowHall=7]="ShowHall",t[t.Logout=8]="Logout",t[t.Change_Type=9]="Change_Type",t[t.Change_Info=10]="Change_Info",t[t.Change_Score=11]="Change_Score",t[t.Updata_Jackpot=12]="Updata_Jackpot",t[t.BackstageChangeScore=13]="BackstageChangeScore",t[t.WaitSelect=14]="WaitSelect",t[t.SelectOne=15]="SelectOne",t[t.SelectLine=16]="SelectLine"}(i.DogHEvent||(i.DogHEvent={})),cc._RF.pop()},{}],DogHQuickUse:[function(t,e,i){"use strict";cc._RF.push(e,"0706b4X+nBDtLSyCp5E6hSE","DogHQuickUse");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,a=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onEnable=function(){this.bindComponent()},e.prototype.bindComponent=function(){for(var t in this)if(null===this[t]){var e=t.split("_")[0],i=t.split("_")[1];switch(e){case"ani":this[t]=this.findNode(t,cc.Animation);break;case"spine":case"dra":this[t]=this.findNode(t,sp.Skeleton);break;case"btn":this[t]=this.findNode(t,cc.Button);break;case"sp":this[t]=this.findNode(t,cc.Sprite);break;case"edit":this[t]=this.findNode(t,cc.EditBox);break;case"lb":this[t]=this.findNode(t,cc.Label);break;case"user":this[t]=this.findNode(t).getComponent(i);break;case t:this[t]=this.findNode(t)}}},e.prototype.onLoad=function(){},e.prototype.getComponentCh=function(t,e,i){return t.getChildByName(e).getComponent(i)},e.prototype.getChildren=function(t,e,i){void 0===i&&(i=null);var o=null,n=this.getNodebyname(this.node,t);return n&&(o=this.getNodebyname(n,e)),o&&i?o.getComponent(i):o},e.prototype.findNode=function(t,e){void 0===e&&(e=null);var i=null;return(i=this.getNodebyname(this.node,t))&&e?i.getComponent(e):i},e.prototype.getNodebyname=function(t,e){var i=t.children,o=t.getChildByName(e);if(0!=i.length){if(o)return o;for(var n=0;n<i.length;++n)o||(o=this.getNodebyname(i[n],e));if(o)return o}},e.prototype.showPanel=function(t){this.node.active=t,this.node.opacity=t?255:0},e.prototype.getNumber=function(t,e){return Math.floor(t*Math.pow(10,e))/Math.pow(10,e)},e.prototype.selectIconac=function(){},e.prototype.start=function(){},e.prototype.onDestroy=function(){cc.Tween.stopAllByTarget(this.node)},s([c],e)}(cc.Component));i.default=a,cc._RF.pop()},{}],DogHRoll:[function(t,e,i){"use strict";cc._RF.push(e,"5f7e7NNQyVM65Nhgtqy6w7m","DogHRoll");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../core/DogHData"),c=t("../manger/DogHAudio"),a=t("./DogHColumn"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.columns=[],e.linenums=[],e.aniIdx=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this,e=0;this.node.children.forEach(function(i){var o=i.getComponent(a.default);o.initColumn(e,t),t.columns[e++]=o}),this.winAniTween=cc.tween(this.node).repeatForever(cc.tween(this.node).call(function(){t.playOneIconAni(t.aniIdx),t.aniIdx++,t.aniIdx>r.default.AllWinLineInfo.length&&(t.aniIdx=0)}).delay(1.5))},e.prototype.start=function(){this.initAllicon()},e.prototype.initAllicon=function(){if(r.default.symrealresult.length>0)for(var t=0;t<this.columns.length;++t){for(var e=r.default.symrealresult[t],i=[],o=e.length-1;o>=0;--o)i.push(e[o]);this.columns[t].setitemicon(i)}else for(t=0;t<this.columns.length;++t){for(i=[],o=2;o>=0;--o)i.push(Math.floor(Math.random()*(r.default.iconsNum-1)));this.columns[t].setitemicon(i)}},e.prototype.playOneIconAni=function(t){if(this.stopAllcolumnani(!1),!(this.aniIdx<0))if(0===t)this.playAllsymani();else{for(var e=r.default.AllWinLineInfo[t-1],i=e.iconPosList,o=0;o<i.length;++o)for(var n=i[o],s=0;s<n.length;++s)this.columns[o].playsymani(n[s]);e.iconidx<=10&&e.iconidx>=7&&c.default.inst.playEffect("iconaudio"+e.iconidx)}},e.prototype.setColumeAddSpeed=function(t){for(var e=t;e<this.columns.length;++e)this.columns[e].setAddSpeed()},e.prototype.setAllIconBg=function(){for(var t=0;t<this.columns.length;++t)this.columns[t].setItemsBg()},e.prototype.setColumeReal=function(){for(var t=0;t<this.columns.length;++t)this.columns[t].setRealRun()},e.prototype.RollAllcolumn=function(t){void 0===t&&(t=!0),this.winlineidx=r.default.winlineidxs,this.aniIdx=0,this.linenums=[];var e=this.getResultlist();this.linenums.push(e.length);for(var i=0;i<this.columns.length;++i)this.columns[i].setItems(e[i],t)},e.prototype.stopAllcolumn=function(){for(var t=0;t<this.columns.length;++t)this.columns[t].stopRoll()},e.prototype.stopAllcolumnani=function(t){void 0===t&&(t=!0),t&&(this.aniIdx=-1,cc.Tween.stopAllByTarget(this.node));for(var e=0;e<this.columns.length;++e)this.columns[e].stopSymani(t)},e.prototype.setIconlight=function(t){for(var e=0;e<this.columns.length;++e)this.columns[e].setItemlight(t)},e.prototype.playscatter=function(t){for(var e=0;e<this.columns.length;++e){var i=t[e];if(i.length>0)for(var o=0;o<i.length;++o)this.columns[e].playsymani(i[o])}},e.prototype.startPlayAni=function(){r.default.AllWinLineInfo.length>0&&(c.default.inst.playEffect("winline"),this.aniIdx=0,this.winAniTween.start())},e.prototype.playAllsymani=function(){if(r.default.AllWinLineInfo.length>0)for(var t=0;t<this.columns.length;++t)for(var e=this.winlineidx[t],i=e.length,o=0;o<i;++o)e[o]&&this.columns[t].playsymani(i-o-1)},e.prototype.getResultlist=function(){for(var t=[],e=0;e<this.columns.length;++e){for(var i=[],o=r.default.symrealresult[e],n=o.length,s=0;s<n;++s)i[s]=o[n-1-s];t[e]=i}return t},s([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../core/DogHData":"DogHData","../manger/DogHAudio":"DogHAudio","./DogHColumn":"DogHColumn"}],DogHRule:[function(t,e,i){"use strict";cc._RF.push(e,"f00b5Mw5wJKQJClLNNp5Ia3","DogHRule");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/DogHQuickUse"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ruleimgs=[],e.ruleidx=0,e.maxidx=2,e}return n(e,t),e.prototype.onLoad=function(){this.leftbu=this.findNode("left"),this.rightbu=this.findNode("right"),this.close=this.findNode("close"),this.rulesp=this.findNode("ruleimg",cc.Sprite)},e.prototype.start=function(){var t=this;this.leftbu.on("click",function(){t.moverule(-1)},this),this.rightbu.on("click",function(){t.moverule(1)},this),this.close.on("click",function(){t.showPanel(!1)},this)},e.prototype.moverule=function(t){this.ruleidx+=t,this.ruleidx<0&&(this.ruleidx=this.maxidx),this.ruleidx>this.maxidx&&(this.ruleidx=0),this.rulesp.spriteFrame=this.ruleimgs[this.ruleidx]},s([l(cc.SpriteFrame)],e.prototype,"ruleimgs",void 0),s([a],e)}(r.default);i.default=u,cc._RF.pop()},{"../common/DogHQuickUse":"DogHQuickUse"}],DogHTipView:[function(t,e,i){"use strict";cc._RF.push(e,"67042G+j95HxZPeY86S9mwZ","DogHTipView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../common/DogHQuickUse"),c=t("../core/DogHNotify"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.content=this.findNode("content",cc.Label),this.close=this.findNode("btn_close"),this.okbu=this.findNode("btn_ok")},e.prototype.start=function(){var t=this;c.default.addNotify(c.DogHEvent.ShowTip,this,this.showTipText),this.close.on("click",function(){t.showPanel(!1)},this)},e.prototype.showPanel=function(t){this.node.scale=t?1:0},e.prototype.showTipText=function(t,e){var i=this;void 0===e&&(e=null),cc.log("\u663e\u793a\u5f39\u7a97 "+t),this.showPanel(!0),this.content.string=t,this.okbu.off("click"),this.okbu.on("click",function(){e&&e(),i.showPanel(!1)},this)},s([l],e)}(r.default));i.default=u,cc._RF.pop()},{"../common/DogHQuickUse":"DogHQuickUse","../core/DogHNotify":"DogHNotify"}],DoghFree:[function(t,e,i){"use strict";cc._RF.push(e,"859219CXDlC6aFzoDGNhnqT","DoghFree");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../DoghGame"),c=t("../common/DogHAnilabel"),a=t("../common/DogHQuickUse"),l=t("../core/DogHData"),u=t("../core/DogHNotify"),h=t("../manger/DogHAudio"),f=t("../network/NetDogH"),p=cc._decorator,d=p.ccclass,m=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buyfreeValue=0,e.leftfreenums=[7,12,15,20],e.rightfreenums=[15,18,25,30],e}return n(e,t),e.prototype.onLoad=function(){this.leftnum=this.findNode("freeleft",cc.Label),this.change=this.findNode("change",sp.Skeleton),this.mainGame=this.node.parent.getComponent(r.default),this.youwin=this.findNode("freewin"),this.scorelabel=this.findNode("freescore",cc.Label),this.buyfreebu=this.findNode("buyfree",cc.Button),this.buyfreespin=this.findNode("buyspine",sp.Skeleton),this.buyfreelabel=this.findNode("buyscore",cc.Label),this.buyendnod=this.findNode("buyendlabel"),this.buyfreecon=this.findNode("buyconfirm"),this.buyfreeconlabel=this.findNode("buyconscore",cc.Label),this.conSpinani=this.findNode("conbgspine",sp.Skeleton),this.yesbu=this.findNode("yesbutton",cc.Button),this.nobu=this.findNode("nobutton",cc.Button),this.nospine=this.findNode("spinno",sp.Skeleton),this.yesspine=this.findNode("spinyes",sp.Skeleton),this.freeselect=this.findNode("getfree"),this.leftfreelabel=this.findNode("leftlabel",cc.Label),this.rightfreelabel=this.findNode("rightlabel",cc.Label),this.leftspine=this.findNode("leftspine",sp.Skeleton),this.rightspine=this.findNode("rightspine",sp.Skeleton),this.leftbu=this.findNode("left",cc.Button),this.rightbu=this.findNode("right",cc.Button),this.infreelabel=this.findNode("infreelabel",cc.Label),u.default.addNotify(u.DogHEvent.SELECT_MULTPILE,this,this.updateBuyScore)},e.prototype.start=function(){var t=this;this.buyfreebu.node.on("click",this.buyfreegame,this),this.yesbu.node.on("click",this.sendBuyFree,this),this.nobu.node.on("click",this.cancelBuyFree,this),this.leftbu.node.on("click",function(){t.clickFree(1)},this),this.rightbu.node.on("click",function(){t.clickFree(2)},this)},e.prototype.updateBuyScore=function(t){var e=l.default.betValues[t]*l.default.AllLineNum;this.buyfreeValue=Math.floor(100*e),this.buyfreelabel.string=""+this.buyfreeValue,this.buyfreeconlabel.string=""+this.buyfreeValue},e.prototype.setbuyFreeState=function(t,e){void 0===e&&(e=!1),this.buyfreebu.interactable=t,this.buyfreelabel.node.parent.active=!e,this.buyendnod.active=e},e.prototype.buyfreegame=function(){h.default.inst.playEffect("buyfree"),l.default.coins>=100*this.buyfreeValue?this.showBuyFree():(Common.showMessage("The current score is not enough for a bet!"),this.mainGame.setBottomState())},e.prototype.showBuyFree=function(){var t=this;this.buyfreecon.active=!0,this.buyfreeconlabel.node.parent.active=!1;var e=this.conSpinani.setAnimation(0,"center_in",!1);this.conSpinani.setTrackCompleteListener(e,function(){t.conSpinani.setAnimation(0,"center_loop",!0),t.buyfreeconlabel.node.parent.active=!0,t.yesbu.interactable=t.nobu.interactable=!0})},e.prototype.cancelBuyFree=function(){var t=this;h.default.inst.playEffect("buyfree"),this.yesbu.interactable=this.nobu.interactable=!1;var e=this.nospine.setAnimation(0,"cancel_button",!1);this.nospine.setTrackCompleteListener(e,function(){t.buyfreeconlabel.node.parent.active=!1;var e=t.conSpinani.setAnimation(0,"center_out",!1);t.conSpinani.setTrackCompleteListener(e,function(){t.buyfreecon.active=!1})})},e.prototype.sendBuyFree=function(){var t=this;this.yesbu.interactable=this.nobu.interactable=!1;var e=this.yesspine.setAnimation(0,"accept_button",!1);this.yesspine.setTrackCompleteListener(e,function(){l.default.coins-=100*t.buyfreeValue,t.mainGame.setStartState(),t.mainGame.bottomM.SetBalance(),f.default.inst.sendBuyFree(l.default.betLine)})},e.prototype.getBuyFree=function(){var t=this;this.setbuyFreeState(!1,!0),this.buyfreeconlabel.node.parent.active=!1;var e=this.conSpinani.setAnimation(0,"center_out",!1);this.conSpinani.setTrackCompleteListener(e,function(){t.buyfreecon.active=!1})},e.prototype.showGetfree=function(t){var e=this;l.default.IsTuro=!1,u.default.pubNotify(u.DogHEvent.QuickRun,l.default.IsTuro),this.setbuyFreeState(!1,!0),h.default.inst.playMusic("freeselectbg"),h.default.inst.playEffect("showfreeselect"),this.freeselect.active=!0,this.leftbu.node.active=this.leftbu.interactable=this.rightbu.node.active=this.rightbu.interactable=!1,this.leftfreelabel.string=""+this.leftfreenums[t-3],this.rightfreelabel.string=""+this.rightfreenums[t-3];var i=this.leftspine.setAnimation(0,"in",!1);this.leftspine.setTrackCompleteListener(i,function(){e.leftspine.setAnimation(0,"loop",!0),e.leftbu.node.active=e.leftbu.interactable=!0,cc.log("this.leftbu.node.active "+e.leftbu.node.active)});var o=this.rightspine.setAnimation(0,"in",!1);this.rightspine.setTrackCompleteListener(o,function(){e.rightspine.setAnimation(0,"loop",!0),e.rightbu.node.active=e.rightbu.interactable=!0})},e.prototype.clickFree=function(t){h.default.inst.playEffect("clickfreetype"),cc.log("\u70b9\u51fb\u4e86"+t+" ==========="),this.leftbu.interactable=this.rightbu.interactable=!1;var e=1===t?"sticky_wild_free_spins_selection":"normal_free_spin_selection";this.leftspine.setAnimation(0,e,!1),this.rightspine.setAnimation(0,e,!1),l.default.freeSelectType=t,f.default.inst.sendSelectFree(t)},e.prototype.showFreestart=function(){var t=this;cc.log("showFreestart ====DogHData.freeTimes "+l.default.freeTimes+"========"),h.default.inst.playMusic("freebgmusic"),this.mainGame.freewin=0,l.default.isfree=!0,this.infreelabel.string="IN "+l.default.freeTimes+" FREE SPINS",this.leftbu.node.active=this.leftbu.interactable=this.rightbu.node.active=this.rightbu.interactable=!1;var e=this.leftspine.setAnimation(0,"out",!1);this.leftspine.setTrackCompleteListener(e,function(){t.freeselect.active=!1}),this.rightspine.setAnimation(0,"out",!1),cc.tween(this.node).delay(1).call(function(){l.default.winScore=0,h.default.inst.playEffect("changebg"),t.change.node.active=!0,t.change.setAnimation(0,"dhme_transition",!1)}).delay(1.5).call(function(){t.mainGame.centerM.setAllIconBg(),t.mainGame.showFreeBg(!0)}).delay(1).call(function(){t.setFreeinfo(l.default.freeTimes),t.mainGame.checkStartGame()}).start()},e.prototype.showFreeend=function(t){var e=this;this.setFreeinfo(-1),this.youwin.active=!0,this.scorelabel.string="",this.scorelabel.node.parent.active=!1,l.default.coins+=t;var i=this.youwin.getComponent(sp.Skeleton),o=i.setAnimation(0,"dhme_banner_in",!1);i.setTrackCompleteListener(o,function(){e.scorelabel.node.parent.active=!0,i.setAnimation(0,"dhme_banner_loop",!0),t>0?c.default.inst.playlabel(0,Math.floor(t)/100,3,e.scorelabel):e.scorelabel.string="0",e.freeEnd()}),h.default.inst.playEffect("freeend")},e.prototype.freeEnd=function(){var t=this;l.default.freeTotal=0;var e,i=this.youwin.getComponent(sp.Skeleton);this.scheduleOnce(function(){t.scorelabel.string="",t.scorelabel.node.parent.active=!1,h.default.inst.playEffect("changebg"),t.change.node.active=!0,t.change.setAnimation(0,"dhme_transition",!1),e=i.setAnimation(0,"dhme_banner_out",!1),i.setTrackCompleteListener(e,function(){t.youwin.active=!1,t.mainGame.showFreeEnd(),t.setbuyFreeState(!0)}),h.default.inst.stopEffect("freeend")},4.5)},e.prototype.setFreeinfo=function(t){this.leftnum.node.active=t>=0,t>=0&&(this.leftnum.string=t+"")},s([d],e)}(a.default));i.default=m,cc._RF.pop()},{"../DoghGame":"DoghGame","../common/DogHAnilabel":"DogHAnilabel","../common/DogHQuickUse":"DogHQuickUse","../core/DogHData":"DogHData","../core/DogHNotify":"DogHNotify","../manger/DogHAudio":"DogHAudio","../network/NetDogH":"NetDogH"}],DoghGame:[function(t,e,i){"use strict";cc._RF.push(e,"f2e04RqI4xEianjNisKbrWx","DoghGame");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("./common/DogHAnilabel"),c=t("./common/DogHQuickUse"),a=t("./core/DogHData"),l=t("./core/DogHNotify"),u=t("./manger/DogHAudio"),h=t("./network/NetDogH"),f=t("./view/DogHAudioView"),p=t("./view/DogHBottom"),d=t("./view/DogHCenter"),m=t("./view/DogHRule"),g=t("./view/DoghFree"),y=cc._decorator,b=y.ccclass,v=(y.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rollItems=0,e.auto=!1,e.winLines=[],e.freeTimes=0,e.isCanClick=!0,e.isScrollScore=!1,e.isTouchStart=!1,e.isCheckMutiple=!0,e.isPlayroll=!1,e.canspin=!0,e.scatternum=0,e.centerM=null,e.superwinspinnames=["nice","mega","superb","sensational"],e.megawaynum=0,e.wildPosList=[],e.wildAniPosList=[],e.winmaxid=-1,e.showScatterNum=0,e.freewildnum=0,e}return n(e,t),e.prototype.onLoad=function(){var t=this,e=window.BUNDLE_NAME;cc.assetManager.loadBundle(e,function(e,i){i.loadDir("music",cc.AudioClip,function(){},function(e,i){cc.log(i),t.scheduleOnce(function(){u.default.inst.initClips(i),u.default.inst.playMusic("mainbgmusic")},.5)})}),l.default.init(),this.init()},e.prototype.init=function(){this.supinwinspin=this.findNode("big_win",sp.Skeleton),this.supinwinlabel=this.findNode("winlabel",cc.Label),this.superwinclose=this.findNode("supinwinclose",cc.Button),this.megalabel=this.findNode("megalabel",cc.Label),this.freeTimes=0,this.audioSetView=this.findNode("audiopanel",f.default),this.backbu=this.findNode("back",cc.Button),this.bottomM=this.node.getChildByName("bottom").getComponent(p.default),this.freeM=this.node.getChildByName("freepanel").getComponent(g.default),this.ruleNode=this.findNode("gamerule",m.default),this.mainbg=this.node.getChildByName("mainbg"),this.center=this.node.getChildByName("center"),this.freebg=this.node.getChildByName("freebg"),this.centerM=this.center.getComponent(d.default)},e.prototype.backHall=function(){l.default.init()},e.prototype.confirmback=function(){var t=this;cc.log("\u70b9\u51fb\u4e86\u8fd4\u56de\u6309\u94ae=========="),Common.backHall("Are you sure you want to leave the game?",function(){t.backHall()})},e.prototype.start=function(){this.addListener(),this.freeM.setbuyFreeState(!1),this.bottomM.setCanspin(!1),this.backbu.node.on("click",this.confirmback,this)},e.prototype.refushInfo=function(){this.setBottomState(),this.bottomM.SetBalance(),this.bottomM.initInfo(),a.default.isfreestart&&(a.default.isfreestart=!1,this.bottomM.setCanspin(!1),this.freeM.showGetfree(a.default.scatterNum))},e.prototype.addListener=function(){l.default.addNotify(l.DogHEvent.ROLL_END,this,this.checkGameOver),l.default.addNotify(l.DogHEvent.SELECT_MULTPILE,this,this.updateBetLine),l.default.addNotify(l.DogHEvent.Roll_Stop,this,this.Rollstop),l.default.addNotify(l.DogHEvent.GetResult,this,this.updateResult)},e.prototype.checkSuperWin=function(t){if(cc.log("\u68c0\u6d4b\u5927\u5956========="),a.default.winScore>=20*a.default.currBet){var e=a.default.winScore/a.default.currBet,i=Math.floor(a.default.winScore)/100;e<40?this.showSupinWin(!0,0,i,t):e<100?this.showSupinWin(!0,1,i,t):e<200?this.showSupinWin(!0,2,i,t):this.showSupinWin(!0,3,i,t)}else t()},e.prototype.checkStartGame=function(){this.canspin=!0,a.default.AutoNum>=0&&!a.default.isfree&&a.default.AutoNum--,this.bottomM.showAutoLabel(),this.auto=a.default.AutoNum>=0,this.auto||a.default.isfree?this.startGame():this.setStartStatu(!0)},e.prototype.showFreeBg=function(t){this.freebg.active=t},e.prototype.resetSpin=function(){},e.prototype.getLottyResult=function(t){a.default.coins=t.userscore,a.default.winScore=Math.floor(100*t.winscore)/100,a.default.isfreestart=t.viewarray.getFreeTime.bFlag,a.default.symrealresult=[];for(var e=0;e<6;++e){var i=t.viewarray.nHandCards[e];a.default.symrealresult[e]=[];for(var o=0;o<i.length;++o)a.default.symrealresult[e].push(i[o]-1)}a.default.winiconlen=t.viewarray.allLineWinDetail,a.default.winlineidxs=t.viewarray.nWinCards,this.updateResult()},e.prototype.updateResult=function(){this.bottomM.SetSpin(!0),a.default.isfree&&(this.freeTimes=a.default.freeTimes,this.freeM.setFreeinfo(this.freeTimes),this.bottomM.stopbu.interactable=!1),this.getwinlineidx(),this.getScattetlist(),this.centerM.runRoll(this.wildPosList,this.wildAniPosList,this.freewildnum),this.isPlayroll=!0},e.prototype.getWinLineInfo=function(t){var e=new a.WinLineInfo;e.iconidx=t;for(var i=0,o=0,n=a.default.winiconlen,s=3,r=0;r<n.length;++r)n[r].card-1==t&&(i++,o+=n[r].win,n[r].length>s&&(s=n[r].length));var c=[],l=0;for(r=0;r<s;++r){for(var u=a.default.symrealresult[r],h=u.length,f=[],p=0;p<h;++p)if(u[p]===t||u[p]>=a.default.wildIconidx&&u[p]<=a.default.wildIconidx+2){var d=h-p-1;f.push(d),l++}c.push(f)}return e.linenum=i,e.totalwin=o,e.iconPosList=c,e.iconnum=l,e},e.prototype.getWinInfoExist=function(t){var e=a.default.AllWinLineInfo;if(0===e.length)return!1;for(var i=0;i<e.length;++i)if(e[i].iconidx===t)return!0;return!1},e.prototype.getwinlineidx=function(){var t=[];this.winmaxid=-1;for(var e=0;e<6;++e)t[e]=[],this.wildAniPosList[e]=[];var i=0;for(e=0;e<a.default.winiconlen.length;++e)(l=a.default.winiconlen[e]).card>this.winmaxid&&(this.winmaxid=l.card),i<l.length&&(i=l.length);if(a.default.isfree&&i>0)for(e=1;e<i;++e)for(var o=a.default.symrealresult[e],n=o.length,s=0;s<n;++s)if(o[s]>=a.default.wildIconidx&&o[s]<=a.default.wildIconidx+2){var r=n-s-1,c=this.wildAniPosList[e];-1===c.indexOf(r)&&c.push(r)}for(e=0;e<a.default.winiconlen.length;++e){var l=a.default.winiconlen[e];this.getWinInfoExist(l.card-1)||a.default.AllWinLineInfo.push(this.getWinLineInfo(l.card-1))}},e.prototype.showSupinWin=function(t,e,i,o){var n=this;if(t){this.bottomM.stopAuto(),u.default.inst.playEffect("bigwin"+e),e>1&&u.default.inst.playEffect("cheer"),this.superwinclose.node.parent.active=!0,this.superwinclose.interactable=!1;var s=this.superwinspinnames[e]+"_start",c=this.supinwinspin.setAnimation(0,s,!1);this.supinwinspin.setTrackCompleteListener(c,function(){var t=n.superwinspinnames[e]+"_loop";n.supinwinspin.setAnimation(0,t,!0)}),this.superwinclose.node.off("click");var l=3*(e+1);r.default.inst.playlabel(0,i,l,this.supinwinlabel,!0),this.scheduleOnce(function(){n.superwinclose.interactable=!0,n.superwinclose.node.on("click",function(){n.showSupinWin(!1,e,i,o)},n)},3)}else cc.log("\u70b9\u51fb\u4e86\u5173\u95ed\u5927\u5956\u754c\u9762=========="),u.default.inst.stopEffect("bigwin"+e),r.default.inst.stopLaeblAni(),this.superwinclose.interactable=!1,this.supinwinlabel.string=r.default.inst.parseCoin(i),a.default.isfree?this.bottomM.ShowTotalwin(this.freewin):(this.bottomM.ShowTotalwin(a.default.winScore),a.default.coins+=i,this.bottomM.SetBalance()),this.scheduleOnce(function(){n.supinwinlabel.string="";var t=n.superwinspinnames[e]+"_end",i=n.supinwinspin.setAnimation(0,t,!1);n.supinwinspin.setTrackCompleteListener(i,function(){n.superwinclose.node.parent.active=!1,o()})},1)},e.prototype.Rollstop=function(t){if(0===t?this.megawaynum=a.default.symrealresult[t].length:this.megawaynum*=a.default.symrealresult[t].length,this.megalabel.string=""+this.megawaynum,this.scatternum>=2&&this.showScatterNum>=0){var e=this.scatterlist[t];cc.log(e);var i=e.length;this.showScatterNum+=i,this.showScatterNum>=2&&(this.showScatterNum=-1,u.default.inst.playEffect("addspeed"),t<5&&this.centerM.setRollAddSpeed(t+1))}5===t&&u.default.inst.stopEffect("addspeed")},e.prototype.getScattetlist=function(){this.scatterlist=[],this.wildPosList=[],this.scatternum=0,this.freewildnum=0;for(var t=0;t<6;++t){for(var e=[],i=[],o=a.default.symrealresult[t],n=o.length,s=0;s<n;++s){var r=o[s];r===a.default.scatterIconidx&&(e.push(n-s-1),this.scatternum++),r>=a.default.wildIconidx&&r<=a.default.wildIconidx+2&&(i.push(n-s-1),a.default.isfree&&this.freewildnum++)}this.scatterlist[t]=e,this.wildPosList[t]=i}},e.prototype.checkGameOver=function(){var t=this;if(this.isPlayroll=!1,cc.log("checkGameOver========= DogHData.freeTimes "+a.default.freeTimes),a.default.winScore<20*a.default.currBet&&(a.default.isfree?this.bottomM.ShowTotalwin(this.freewin):(this.bottomM.ShowTotalwin(a.default.winScore),a.default.coins+=a.default.winScore)),this.bottomM.SetBalance(),a.default.isfreestart)this.checkSuperWin(function(){t.bottomM.stopAuto(),a.default.isfree=!0,a.default.isfreestart=!1,u.default.inst.playEffect("clock"),t.centerM.stopAllani(),t.centerM.playScatterani(t.scatterlist),cc.tween(t.node).delay(2.5).call(function(){t.freeM.showGetfree(t.scatternum)}).start(),t.freewin=0});else if(a.default.isfree)if(this.centerM.playAllLineWildAni(),a.default.freeTimes>0){var e=.5;a.default.AllWinLineInfo.length>0&&(e+=1),this.scheduleOnce(function(){t.checkSuperWin(function(){t.checkStartGame()})},e)}else this.scheduleOnce(function(){t.checkSuperWin(function(){a.default.isfree=!1,t.freeM.showFreeend(t.freewin),t.freewin=0})},2);else e=.5,a.default.AllWinLineInfo.length>0&&(e+=1),this.scheduleOnce(function(){t.checkSuperWin(function(){t.checkStartGame()})},e)},e.prototype.StopRoll=function(){this.isPlayroll&&(this.isPlayroll=!1,this.centerM.stopRoll())},e.prototype.setBottomState=function(){this.setStartStatu(!0),this.auto=!1,this.canspin=!0},e.prototype.setStartState=function(){a.default.AllWinLineInfo=[],this.winLines=[],a.default.result=[],a.default.symrealresult=[],this.centerM.stopAllani(),this.bottomM.stopAni(),this.bottomM.setCanspin(!1),this.megalabel.string="0",this.showScatterNum=0},e.prototype.startGame=function(){if(cc.log("isPlayroll "+this.isPlayroll+" canspin "+this.canspin+" =========="),!this.canspin)return!1;if(this.canspin=!1,this.isPlayroll)return!1;if(this.isPlayroll=!0,this.setStartState(),a.default.isfree){2===a.default.freeSelectType&&this.centerM.closeAllWildAni(),cc.log("\u8fdb\u884c\u514d\u8d39\u6e38\u620f=============== ");var t=a.default.FreeAllReultList[a.default.freeTotal-a.default.freeTimes];return--a.default.freeTimes,cc.log("freeTimes "+a.default.freeTimes+" ==========="),this.getFreeResult(t),!0}return a.default.coins>=a.default.currBet?(a.default.coins=Math.floor(100*(a.default.coins-a.default.currBet))/100,this.bottomM.SetBalance(),this.bottomM.ShowTotalwin(0),this.freeM.setbuyFreeState(!1),h.default.inst.sendLotty(a.default.betLine),!0):(Common.showMessage("The current score is not enough for a bet!"),this.bottomM.stopAuto(),this.setBottomState(),!1)},e.prototype.getFreeResult=function(t){cc.log(t),a.default.symrealresult=[];for(var e=0;e<6;++e){var i=t.nHandCards[e];a.default.symrealresult[e]=[];for(var o=0;o<i.length;++o)a.default.symrealresult[e].push(i[o]-1)}cc.log(a.default.symrealresult),a.default.winiconlen=t.allLineWinDetail,a.default.winlineidxs=t.nWinCards,a.default.winScore=Math.floor(100*t.win)/100,this.freewin+=t.win,this.freewin=Math.floor(100*this.freewin)/100,this.updateResult()},e.prototype.showFreeEnd=function(){this.winLines=[],this.freeTimes=0,this.bottomM.SetBalance(),this.showFreeBg(!1),this.centerM.clearShowWilded(),this.centerM.closeAllWildAni(),this.centerM.setAllIconBg(),this.checkStartGame(),u.default.inst.playMusic("bgmusic")},e.prototype.updateBetLine=function(t){var e=a.default.betValues[t];a.default.newBetLine=e,this.updateBetLineInfo(e)},e.prototype.checkBetLine=function(){this.updateBetLineInfo(a.default.newBetLine)},e.prototype.updateBetLineInfo=function(t){a.default.newBetLine=t,a.default.betLine=t,a.default.currBet=t*a.default.AllLineNum*100},e.prototype.autoGame=function(t){this.isTouchStart=!0,this.auto=t,this.auto&&!this.isPlayroll&&(a.default.AutoNum--,this.startGame(),this.bottomM.showAutoLabel())},e.prototype.setStartStatu=function(t){this.bottomM.setCanspin(t),this.bottomM.SetSpin(!t),this.isPlayroll=!t,this.freeM.setbuyFreeState(t)},e.prototype.showAudioSetting=function(){this.audioSetView.showPanel(!0)},e.prototype.showRule=function(){this.ruleNode.showPanel(!0)},s([b],e)}(c.default));i.default=v,cc._RF.pop()},{"./common/DogHAnilabel":"DogHAnilabel","./common/DogHQuickUse":"DogHQuickUse","./core/DogHData":"DogHData","./core/DogHNotify":"DogHNotify","./manger/DogHAudio":"DogHAudio","./network/NetDogH":"NetDogH","./view/DogHAudioView":"DogHAudioView","./view/DogHBottom":"DogHBottom","./view/DogHCenter":"DogHCenter","./view/DogHRule":"DogHRule","./view/DoghFree":"DoghFree"}],NetDogH:[function(t,e,i){"use strict";cc._RF.push(e,"8ed6bREypRMWbTMc4q+yK5y","NetDogH");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__decorate||function(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../../../Script/mgr/GameMgr"),c=t("../DoghGame"),a=t("../core/DogHData"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainGame=null,e}var i;return n(e,t),i=e,e.prototype.onLoad=function(){this.mainGame=this.getComponent(c.default),GameConfig.SubGameMgr.subGameNet=this,i.instance=this,this.send("loginGame",{})},Object.defineProperty(e,"inst",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.addNetEvent=function(t,e){cc.log("cmd "+t+" ");var i=this,o=null;if("error"==t&&cc.log("socket error"),"connect_error"==t){cc.log("connect_error");var n="The Internet is lost!Please login again!";Common.backHall(n,function(){i.mainGame.backHall()})}if("connect_timeout"==t&&cc.log("connect_timeout"),"disconnect"==t&&(n="The Internet is lost!Please login again!",Common.backHall(n,function(){i.mainGame.backHall()})),"loginGameResult"==t)if(o=JSON.parse(e),cc.log(o),1==o.resultid){a.default.initAllvalue(),a.default.betValues=[],a.default.betLine=o.Obj.betDefault/100;for(var s=0;s<o.Obj.betList.length;++s)a.default.betValues.push(o.Obj.betList[s]/100);a.default.coins=o.Obj.score,a.default.scatterNum=o.Obj.scatterCnt,a.default.isfreestart=o.Obj.has_free,this.scheduleOnce(function(){i.mainGame.refushInfo()},.5)}else n="The login failure!Please login again!",Common.backHall(n,function(){i.mainGame.backHall()});"lotteryResult"==t&&(o=JSON.parse(e),cc.log(o),i.endecheck(),o.ResultCode&&1==o.ResultCode?i.mainGame.getLottyResult(o.ResultData):(n="The Internet is lost!Please login again!",Common.backHall(n,function(){i.mainGame.backHall()}))),"buyFreeTypeResult"===t&&(o=JSON.parse(e),cc.log(o),o.ResultCode&&1==o.ResultCode&&(i.mainGame.getLottyResult(o.ResultData),i.mainGame.freeM.getBuyFree())),"selectFreeTypeResult"==t&&(o=JSON.parse(e),cc.log("selectFreeTypeResult",o),cc.log(o),o.ResultCode&&1==o.ResultCode&&(a.default.freeTimes=a.default.freeTotal=o.result.nFreeTime,a.default.FreeAllReultList=o.result.frees,i.mainGame.freeM.showFreestart())),"LoginfreeCountResult"==t&&(o=JSON.parse(e)),"pushGamblingWinPool"==t&&(o=JSON.parse(e),cc.log("pushGamblingWinPool:",o),o.ResultCode)},e.prototype.checkNet=function(){var t=this;this.nettween=cc.tween(this.node).delay(10).call(function(){Common.backHall("The Internet is lost!Please login again!",function(){t.mainGame.backHall()})}).start()},e.prototype.endecheck=function(){this.nettween&&(this.nettween.stop(),this.nettween=null)},e.prototype.send=function(t,e){void 0===e&&(e={}),cc.log("send cmd:"+t+",data:"+JSON.stringify(e)),r.default.instance.sendGameData(GameConfig.curGameId,t,JSON.stringify(e))},e.prototype.sendLotty=function(t){var e=[t*=100];this.send("lottery",{bet:t,nBetList:e})},e.prototype.sendBuyFree=function(t){var e=[t*=100];this.send("buyFreeType",{bet:t,nBetList:e})},e.prototype.sendSelectFree=function(t){this.send("selectFreeType",{type:t})},i=s([u],e)}(cc.Component));i.default=h,cc._RF.pop()},{"../../../../Script/mgr/GameMgr":void 0,"../DoghGame":"DoghGame","../core/DogHData":"DogHData"}]},{},["DoghGame","DogHAnilabel","DogHQuickUse","DogHData","DogHNotify","DogHAudio","NetDogH","DogHAudioView","DogHBottom","DogHCenter","DogHColumn","DogHItem","DogHRoll","DogHRule","DogHTipView","DoghFree"]);