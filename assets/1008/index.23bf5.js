window.__require=function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({PT10XAddCoins:[function(t,e){"use strict";cc._RF.push(e,"746f7B+DnRFlbGllXQNBcnA","PT10XAddCoins");var i=t("PT10XEventConfig"),n=t("PT10XUserData"),o=t("PT10XEventManager");t("PT10XUtil"),t("PlayerInfo"),cc.Class({extends:cc.Component,onLoad:function(){this.initAddCoins()},initAddCoins:function(){var t=this;cc.find("mask",this.node).on("click",this.onClickHideAddCoins,this);var e=cc.find("nodeAdd",this.node);this.labelWinning=cc.find("pnlGameWin/labWin",e).getComponent(cc.Label);var i=[this.onClickAddCoins1,this.onClickAddCoins10,this.onClickAddCoins50,this.onClickAddCoins100,this.onClickAddCoinsAll];this.btnAddGroup=[];for(var o=1;o<=5;o++){var s=cc.find("pnlGroup/item"+o,e);s.on("click",i[o-1],this),this.btnAddGroup.push(s)}n.Bundle.load("resources/image/gamepop",cc.SpriteAtlas,function(i,n){if(!i&&t){cc.find("imgBg",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0"),cc.find("pnlGroup",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("commonBtn");for(var o=0;o<t.btnAddGroup.length;o++)t.btnAddGroup[o].getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0")}})},onClickHideAddCoins:function(){o.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){},chargeSum:function(t){o.emit(i.PLAY_AUDIO_EF,"btnShow"),this.node.active=!1;var e=0==t?{}:{sum:t};o.emit(i.ADD_USER_COINS,e)},onEnable:function(){o.addEventListener(i.SHOW_ADD_USER_COINS,this.showAddCoins,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PT10XAnimation:[function(t,e){"use strict";cc._RF.push(e,"0e5b08GKQpKk6O7kKgWvJAM","PT10XAnimation");var i=t("PT10XEventConfig"),n=t("PT10XEventManager");t("PT10XGameData"),t("PT10XUserData"),cc.Class({extends:cc.Component,properties:{aniDiamond:cc.Node},onLoad:function(){this.aniDiamond.active=!1},playDiamondAni:function(t){var e=this;this.aniDiamond.active=!0,n.emit(i.PLAY_AUDIO_EF,"ZuanShi");var o=this.node.convertToNodeSpaceAR(t.or),s=this.node.convertToNodeSpaceAR(t.to);this.aniDiamond.x=o.x,this.aniDiamond.y=o.y,this.aniDiamond.scaleX=.5,this.aniDiamond.scaleY=.5,cc.tween(this.aniDiamond).to(.2,{x:0,y:0}).to(1,{scaleX:1,scaleY:1}).delay(.2).to(1,{scaleX:.1,scaleY:.1,x:s.x,y:s.y}).call(function(){n.emit(i.STOP_AUDIO_EF,"ZuanShi"),n.emit(i.PLAY_AUDIO_EF,"ZuanShiEnd"),e.aniDiamond.active=!1,t.callback()}).start()},onEnable:function(){n.addEventListener(i.PLAY_DIAMOND_ANI,this.playDiamondAni,this)}}),cc._RF.pop()},{}],PT10XAudio:[function(t,e){"use strict";cc._RF.push(e,"fe0b54qkmJOgr82NERCjWzQ","PT10XAudio");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XUserData"),s=t("PT10XUtil");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},btnShow:cc.AudioClip,btnHide:cc.AudioClip,rollOver:cc.AudioClip,bigwinsegment:cc.AudioClip,bigwinwfx_end:cc.AudioClip,en_us_amazing:cc.AudioClip,en_us_awesome:cc.AudioClip,en_us_excellent:cc.AudioClip,en_us_impossible:cc.AudioClip,en_us_unbelievable:cc.AudioClip,BetButton:cc.AudioClip,FastSpeedButton:cc.AudioClip,LastPageButton:cc.AudioClip,LineButton:cc.AudioClip,MaxBetButton:cc.AudioClip,WinLine:cc.AudioClip,SpinButton:cc.AudioClip,StopButton:cc.AudioClip,lineAudio:{type:cc.AudioClip,default:[]},itemAudio:{type:cc.AudioClip,default:[]},rollAudio:{type:cc.AudioClip,default:[]},fxbigwinchange1:cc.AudioClip,fxbigwinchange2:cc.AudioClip,fxbigwinchange3:cc.AudioClip,fxbigwinend:cc.AudioClip,fxsymbolswin:cc.AudioClip,fxwinlarge:cc.AudioClip,fxwinmedium:cc.AudioClip,fxwinninglines:cc.AudioClip,fxwinsmall:cc.AudioClip},onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&this.bgmAudio[t.id]&&(this.bgmID=t.id,o.BGAM_ID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},callAudioPlayEff:function(t){return cc.audioEngine.playEffect(t)},playEf:function(t){0!=this.pInfo.soundEffectControl&&this[t]&&(this.audioID[t]=this.callAudioPlayEff(this[t]))},playRollEffect:function(){var t=s.getRandID(0,this.rollAudio.length-1);return this.callAudioPlayEff(this.rollAudio[t])},playLineEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.lineAudio[t]?this.callAudioPlayEff(this.lineAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bLineEffect :",t))},playItemEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.itemAudio[t]?this.callAudioPlayEff(this.itemAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bItemEffect :",t))},stopAudioEf:function(t){this.audioID[t]&&cc.audioEngine.stopEffect(this.audioID[t])},stopMusic:function(){cc.audioEngine.stopMusic()},onEnable:function(){n.addEventListener(i.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),n.addEventListener(i.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),n.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.addEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),n.addEventListener(i.STOP_AUDIO,this.stopAudio,this),n.addEventListener(i.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PT10XAuto:[function(t,e){"use strict";cc._RF.push(e,"d7a98jDzG9E2ILrrY1B3NNw","PT10XAuto");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XUserData");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI()},loadUI:function(){var t=this,e=[this.onClick10,this.onClick50,this.onClick100,this.onClick200,this.onClickUM],i=["count10","count50","count100","count200","countUM"];o.Bundle.load("resources/image/Atlas_GameUI",cc.SpriteAtlas,function(n,o){if(!n){t.spAtlas=o,cc.find("touchNode",t.node).on("click",t.hide,t);for(var s=cc.find("pnlAuto/layout",t.node),a=cc.find("pnlAuto/item",t.node),c=0;c<e.length;c++){var r=cc.instantiate(a);s.addChild(r),r.on("click",e[c],t),cc.find("itemImg",r).getComponent(cc.Sprite).spriteFrame=o.getSpriteFrame(i[c])}a.active=!1}})},onClick10:function(){this.onClickAuto(10)},onClick20:function(){this.onClickAuto(20)},onClick50:function(){this.onClickAuto(50)},onClick100:function(){this.onClickAuto(100)},onClick200:function(){this.onClickAuto(200)},onClick500:function(){this.onClickAuto(500)},onClickUM:function(){this.onClickAuto(-1)},onClickAuto:function(t){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.UPDATE_AUTO_COUNT,t),this.hide()},showAuto:function(){this.node.active=!0},hide:function(){this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],PT10XBg:[function(t,e){"use strict";cc._RF.push(e,"9573aKStrtGk7NaVXFZv/NK","PT10XBg");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XGameData"),s=t("PT10XUserData");cc.Class({extends:cc.Component,properties:{imgNormal:cc.Node,imgFree:cc.Node},onLoad:function(){this.imgFree.active=!1},onChangeGameMode:function(){this.imgNormal.active=s.GameMode==o.GAME_MODE.NORMAL,this.imgFree.active=s.GameMode==o.GAME_MODE.FREE},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],PT10XBigWin:[function(t,e){"use strict";cc._RF.push(e,"136deSCa0tB/Jbc/Y3eGudI","PT10XBigWin");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=(t("PT10XUserData"),t("PT10XUtil")),s=["NICE","BIG","HUGE","SUPER"],a=[.2,.1,.06,.03];cc.Class({extends:cc.Component,properties:{aniWin:cc.Node,coins:cc.Node,pnlCoins:cc.Node},onLoad:function(){this.initUI(),this.level=0,this.addEventListener()},initUI:function(){var t=this;this.aniWin.getComponent(sp.Skeleton).setCompleteListener(function(e){"into"==e.animation.name?t.aniWin.getComponent(sp.Skeleton).setAnimation(0,"standby",!0):e.animation.name})},playWin:function(){this.aniWin.getComponent(sp.Skeleton).setSkin(s[this.level]),this.aniWin.getComponent(sp.Skeleton).setAnimation(0,"into",!1)},show:function(t){var e=this;this.node.active=!0,n.emit(i.PLAY_AUDIO_EF,"BigWin"),this.level=o.getBigWinRate(t),this.playWin(),this.schedule(this.playCoins,a[this.level],parseInt(5/a[this.level])),this.scheduleOnce(function(){e.aniWin.getComponent(sp.Skeleton).setAnimation(0,"out",!1),e.scheduleOnce(e.hide,2)},9)},hide:function(){n.emit(i.STOP_MUSIC),this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),n.emit(i.STOP_AUDIO_EF,"Bangup"+this.levelSound+"_QUIETER"),n.emit(i.STOP_AUDIO_EF,"bigwinsegment"),n.emit(i.PLAY_AUDIO_BGM,{id:0}),this.node.active=!1},playCoins:function(){this.coins.y=-450;var t=cc.instantiate(this.coins);this.pnlCoins.addChild(t),this.rundCoinsAction(t)},rundCoinsAction:function(t){t.y=-450;var e=1200*Math.random()-600,i=800*Math.random(),n=e/3+e,o=i/3,s=n;cc.tween(t).bezierTo(3,cc.v2(e,i),cc.v2(n,o),cc.v2(s,-400)).call(function(){t.removeFromParent()}).start()},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins)},addEventListener:function(){n.addEventListener(i.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],PT10XDownUI:[function(t,e){"use strict";cc._RF.push(e,"938bee5ARxGcq4CZb2zMrdb","PT10XDownUI");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XGameData"),s=t("PT10XUserData"),a=t("PT10XUtil"),c=t("PlayerInfo"),r=[];r[0]="btnRun",r[2]="btnStop",r[3]="btnStop",r[4]="btnRun";var l=new cc.Color(255,255,255),h=new cc.Color(132,132,132),u=[50,93,136];cc.Class({extends:cc.Component,properties:{imgRateSelect:cc.Node,btnRateAdd:cc.Node,btnRateSub:cc.Node,labRate:cc.Label,labBalance:cc.Label,labWin:cc.Label,btnAdd:cc.Node,btnSub:cc.Node,labTotalBet:cc.Label,btnSpin:cc.Node,imgUnLimited:cc.Node,labAutoCount:cc.Node,tipAuto:cc.Node,tipStop:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){resizeWinX(this),this.bet=0,this.rate=0,this.autoCount=0,this.gameWin=0,this.initSpinTouchEvent(),this.updateRate(),this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.imgUnLimited.active=!1,this.labAutoCount.active=!1,this.tipStop.active=!1},update:function(t){this.startTouch&&0==this.spinState&&(this.touchTimeDonw+=t,this.touchTimeDonw>=1&&(this.startTouch=!1,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(r[this.spinState]),this.btnSpin.color=l,this.showAutoList()))},changeSpinBtnState:function(t){if(this.spinState=t,4==t)return this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(r[t]),void(this.btnSpin.color=h);this.tipAuto.active=0==t,this.tipStop.active=2==t,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(r[t]),this.btnSpin.color=l},initSpinTouchEvent:function(){var t=this;this.startTouch=!1,this.touchTimeDonw=0,this.spinState=0,this.btnSpin.on(cc.Node.EventType.TOUCH_START,function(){s.Status!=o.GAME_STATE.INIT&&4!=t.spinState&&a.isNormalGame()&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.spAtlas.getSpriteFrame(r[t.spinState]),t.btnSpin.color=h,t.touchTimeDonw=0,t.startTouch=!0)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_END,function(){t.startTouch&&(0==t.spinState?(n.emit(i.PLAY_AUDIO_EF,"SpinButton"),t.onClickRoll()):2==t.spinState?(n.emit(i.PLAY_AUDIO_EF,"StopButton"),n.emit(i.STOP_IMMEDIATELY),t.changeSpinBtnState(4)):3==t.spinState&&(n.emit(i.PLAY_AUDIO_EF,"StopButton"),t.enterAuto(!1))),t.startTouch=!1,4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.spAtlas.getSpriteFrame(r[t.spinState]),t.btnSpin.color=l)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_CANCEL,function(){4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.spAtlas.getSpriteFrame(r[t.spinState]),t.btnSpin.color=l),t.startTouch=!1},this)},onClickRoll:function(){s.Status!=o.GAME_STATE.INIT&&(this.checkCoinsEntries()?s.Status==o.GAME_STATE.LEISURE&&(s.Status=o.GAME_STATE.REQUEST,n.emit(i.START_ROLL)):n.emit(i.HAVE_NO_MONEY))},showAutoList:function(){n.emit(i.PLAY_AUDIO_EF,"StopButton"),n.emit(i.SHOW_AUTO)},enterAuto:function(t){s.IsAuto=t,t?(this.banButton(!1),this.banBetButtkon(!1),this.changeSpinBtnState(3),s.Status==o.GAME_STATE.LEISURE&&n.emit(i.START_ROLL)):(this.autoCount=0,this.labAutoCount.active=!1,this.imgUnLimited.active=!1,s.Status==o.GAME_STATE.LEISURE?this.changeSpinBtnState(0):s.Status==o.GAME_STATE.ROLL_END?this.changeSpinBtnState(2):this.changeSpinBtnState(4))},enterLeisure:function(){this.checkCoinsEntries()||(n.emit(i.HAVE_NO_MONEY),this.enterAuto(!1)),a.isNormalGame()?s.IsAuto?0==this.autoCount?this.enterAuto(!1):n.emit(i.START_ROLL):(this.banButton(!0),this.banBetButtkon(!0)):s.IsAuto?n.emit(i.START_ROLL):this.enterAuto(!0)},banBetButtkon:function(t){s.IsAuto&&t||(this.btnRateAdd.getComponent(cc.Button).interactable=t,this.btnRateSub.getComponent(cc.Button).interactable=t,this.btnSub.getComponent(cc.Button).interactable=t,this.btnAdd.getComponent(cc.Button).interactable=t)},banButton:function(t){s.IsAuto||(t?s.Status==o.GAME_STATE.LEISURE&&this.changeSpinBtnState(0):this.changeSpinBtnState(4))},onClickAddRate:function(){this.rate++,n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.rate=this.rate>2?0:this.rate,this.updateRate()},onClickSubRate:function(){this.rate--,n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.rate=this.rate<0?2:this.rate,this.updateRate()},updateRate:function(){this.imgRateSelect.x=u[this.rate],s.Rate=this.rate+1,this.labRate.string=s.Rate+"x",this.updateBet()},onClickAddBet:function(){this.bet+=1,this.bet=this.bet>=o.GAME_BET.length?0:this.bet,this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.bet-=1,this.bet=this.bet<0?o.GAME_BET.length-1:this.bet,this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow")},updateBet:function(){s.BetIndex=this.bet,s.BetValue=o.GAME_BET[this.bet]*s.Rate*s.Line,this.updateTotalBet(),n.emit(i.ON_PUSH_GAMBLING_WIN_POOL,s.BetValue)},updateTotalBet:function(){this.labTotalBet.string=a.formattingCoins(s.BetValue),n.emit(i.UPDATE_BET)},checkCoinsEntries:function(){return c.getInstant.playerCoin>=s.BetValue},updateAutoCount:function(t){this.autoCount=t,-1==this.autoCount?(this.imgUnLimited.active=!0,this.labAutoCount.active=!1):(this.imgUnLimited.active=!1,this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount),this.enterAuto(!0)},onStartRoll:function(){this.autoCount>0&&(this.autoCount--,this.labAutoCount.getComponent(cc.Label).string=this.autoCount),this.banButton(!1),this.banBetButtkon(!1),this.gameWin=0,this.labWin.string=a.formattingCoins(0),c.getInstant.playerCoin-=s.BetValue,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin)},onChangeGameStatus:function(){s.Status==o.GAME_STATE.LEISURE?this.enterLeisure():s.Status==o.GAME_STATE.RESULT&&(s.IsAuto||this.changeSpinBtnState(4))},updageGameWin:function(t){0!=t&&(c.getInstant.playerCoin+=t,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.labWin.string=a.formattingCoins(t))},resetGameWin:function(t){0!=t&&this.gameWin},onLotteryResult:function(){this.banButton(!0),s.IsAuto||this.changeSpinBtnState(2)},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?this.enterAuto(!1):(this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1,this.updateAutoCount(-1))},UPDATE_COIN:function(){this.labEntries&&(this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin)),this.labBalance&&(this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin))},onLoginGameResult:function(t){t.Obj&&t.Obj.betList&&(o.GAME_BET=t.Obj.betList,this.updateBet())},onEnable:function(){n.addEventListener("UPDATE_COIN",this.UPDATE_COIN,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.UPDATE_AUTO_COUNT,this.updateAutoCount,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.addEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.addEventListener(i.RESET_GAME_WIN,this.resetGameWin,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PT10XEventConfig:[function(t,e){"use strict";cc._RF.push(e,"f2d0djHMD1MXJwUaYsoTWQc","PT10XEventConfig"),e.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ADD_FAKE_FREE:"ADD_FAKE_FREE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",UPDATE_DIAMOND:"UPDATE_DIAMOND",PLAY_DIAMOND_ANI:"PLAY_DIAMOND_ANI",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LINE_AUDIO_EF:"PLAY_LINE_AUDIO_EF",PLAY_ITEM_AUDIO_EF:"PLAY_ITEM_AUDIO_EF",SHOW_AUTO:"SHOW_AUTO",PLAY_ANIMATION:"PLAY_ANIMATION",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_YOU_WIN:"SHOW_YOU_WIN",SHOW_FREE_VIEW:"SHOW_FREE_VIEW",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",SHOW_HELP_VIEW:"SHOW_HELP_VIEW",SHOW_MENU_VIEW:"SHOW_MENU_VIEW",SHOW_ADD_USER_COINS:"SHOW_ADD_USER_COINS"},cc._RF.pop()},{}],PT10XEventManager:[function(t,e){"use strict";function i(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}cc._RF.push(e,"93fe7K9dwJP0oSRn9+EXMHq","PT10XEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(t,e,i){for(var n=-1,o=0;o<s._eventListeners[t].length;o++){var a=s._eventListeners[t][o];if(a.callBack==e&&(!i||a.target==i)){n=o;break}}return n},addEventListener:function(t,e,i){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:e,target:i};return null==s._eventListeners[t]?s._eventListeners[t]=[n]:-1==s.getEventListenersIndex(t,e,i)&&s._eventListeners[t].push(n),!0}cc.warn("eventName is empty",i)},removeEventListener:function(t,e,i){if(null!=s._eventListeners[t]){var n=s.getEventListenersIndex(t,e,i);-1!=n&&s._eventListeners[t].splice(n,1)}},emit:function(t,e){if(null!=s._eventListeners[t]){for(var n,o=[],a=i(s._eventListeners[t]);!(n=a()).done;){var c=n.value;o.push({callBack:c.callBack,target:c.target})}for(var r=function(){var t=h[l];new Promise(function(){t.callBack.call(t.target,e)})},l=0,h=o;l<h.length;l++)r()}}};e.exports=s,cc._RF.pop()},{}],PT10XFakeFree:[function(t,e){"use strict";cc._RF.push(e,"664cemaSkhAjb0d63z+pt0k","PT10XFakeFree");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XGameData"),s=t("PT10XUserData");cc.Class({extends:cc.Component,properties:{nodeMain:cc.Node,labCount:cc.Label,nodeAni:cc.Node},onLoad:function(){this.addEventListener(),this.labCount.string=0},updateTime:function(){this.labCount.string=s.FakeFreeTime},newFree:function(t,e){var i=this,n=cc.instantiate(this.nodeMain);cc.find("labCount",n).getComponent(cc.Label).string="+1",this.nodeAni.addChild(n);var o=this.node.convertToNodeSpaceAR(t);n.x=o.x,n.y=o.y,cc.tween(n).delay(1).to(.5,{x:0,y:0}).call(function(){n.removeFromParent(),i.scheduleOnce(function(){e()},.5),s.FakeFreeTime++,s.AllFakeFreeTime++,i.labCount.string=s.FakeFreeTime,cc.tween(i.nodeMain).to(.02,{x:7,y:7}).to(.02,{x:-7,y:-7}).to(.02,{x:7,y:-7}).to(.02,{x:-7,y:7}).to(.02,{x:0,y:0}).start()}).start()},onAddFakeFree:function(t){this.node.active=!0,this.newFree(t.pos,t.callback)},onStartRoll:function(){o.GAME_MODE.FAKE_FREE==s.GameMode&&(s.FakeFreeTime--,this.updateTime())},addEventListener:function(){n.addEventListener(i.ADD_FAKE_FREE,this.onAddFakeFree,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this)}}),cc._RF.pop()},{}],PT10XFree:[function(t,e){"use strict";cc._RF.push(e,"2b869Xv4UpDeqR7gOnISxRu","PT10XFree");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=(t("PT10XGameData"),t("PT10XUserData"));cc.Class({extends:cc.Component,properties:{labNow:cc.Node,labAll:cc.Node},onLoad:function(){this.addEventListener()},show:function(){this.labNow.getComponent(cc.Label).string=o.FreeRemaining},onUpdateFreeTimeNow:function(){this.labNow.getComponent(cc.Label).string=o.FreeRemaining},onUpdateFreeTimeAll:function(){},addEventListener:function(){n.addEventListener(i.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),n.addEventListener(i.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{}],PT10XGameData:[function(t,e){"use strict";cc._RF.push(e,"fc86fzz4bxCxqkm6iRk0gqO","PT10XGameData");e.exports={BUNDLE_NAME:"PT10X",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:3,GAME_MODE:{NORMAL:0,FREE:1,FAKE_FREE:2},LINE_OFFSET:1,GAME_BET:[3,15,30,60,90,120,150,180,210,240,270,300]},cc._RF.pop()},{}],PT10XHelp:[function(t,e){"use strict";cc._RF.push(e,"43f38b4GeVB6qyP8Wtpl7Bw","PT10XHelp");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=["help01","help02","help03","help04"];cc.Class({extends:cc.Component,properties:{nodeState:cc.Node,item:cc.Node,imgHelp:cc.Sprite,spAtlas:cc.SpriteAtlas},onLoad:function(){this.addEventListener(),this.itemList=[];for(var t=0;t<o.length;t++){var e=cc.instantiate(this.item);this.nodeState.addChild(e),this.itemList.push(e)}this.item.active=!1},show:function(){this.node.active=!0,this.pageIndex=0,this.setHelpView()},setHelpView:function(){this.imgHelp.spriteFrame=this.spAtlas.getSpriteFrame(o[this.pageIndex]);for(var t=0;t<this.itemList.length;t++)cc.find("imgOn",this.itemList[t]).active=this.pageIndex==t},onClickNext:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.pageIndex++,this.pageIndex>=this.itemList.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.itemList.length-1),this.setHelpView()},onClickHideHelp:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],PT10XItemAni:[function(t,e){"use strict";cc._RF.push(e,"cec03DLgsJCRK04hAObMZpm","PT10XItemAni");var i=t("PT10XItemConfig"),n=(t("PT10XUserData"),t("PT10XGameData"),[]);n[i.ItemID.item00]="itemRed7",n[i.ItemID.item01]="itemBlue7",n[i.ItemID.item02]="itemGreen7",n[i.ItemID.item03]="itemGreen77",n[i.ItemID.item04]="itemGreen777",n[i.ItemID.WILD]="itemWild",n[i.ItemID.BONUS]="itemBonus",cc.Class({extends:cc.Component,properties:{imgItem:cc.Node,aniItem:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.reset()},changeItem:function(t){this.itemID=t,this.reset(),this.imgItem.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[t])},IsWildID:function(){return i.IsWildID(this.itemID)},reset:function(){this.imgItem.active=!0,this.aniItem.active=!1},playSelectAni:function(){},playItemAni:function(t){this.aniItem.active=!0,this.imgItem.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(t)},playAniBonus:function(){this.playItemAni(n[this.itemID])}}),cc._RF.pop()},{}],PT10XItemConfig:[function(t,e){"use strict";cc._RF.push(e,"53f44ml8GlM56jInmAx+5Ch","PT10XItemConfig");var i={itemNull:0,itemNull1:1,item00:2,item01:3,item02:4,item03:5,item04:6,item05:7,item06:8,WILD:9},n={ITEM_HEIGHT:252,ITEM_WIDTH:250,WHEEL_WIDTH:250,WHEEL_HEIGHT:756,SpriteFramelist:[null,null,"item00","item01","item02","item03","item04","item05","item06","item07"],ItemID:i,IsBonusID:function(t){return t==i.BONUS},IsWildID:function(t){return t==i.WILD}};e.exports=n,cc._RF.pop()},{}],PT10XItem:[function(t,e){"use strict";cc._RF.push(e,"b0d8djy5ahB14AjGXJH1tdZ","PT10XItem");var i=t("PT10XUtil"),n=t("PT10XItemConfig"),o=(t("PT10XUserData"),t("PT10XGameData"),t("PT10XEventConfig"),t("PT10XEventManager"),[]);o[n.ItemID.item00]="yt",o[n.ItemID.item01]="bar",o[n.ItemID.item02]="bar2",o[n.ItemID.item03]="bar3",o[n.ItemID.item04]="bar7",o[n.ItemID.item05]="7",o[n.ItemID.WILD]="3x",o[n.ItemID.BONUS]="10x",cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,aniItem:cc.Node,aniList:{type:cc.Node,default:[]},spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.randImg()},randImg:function(){this.reset(),this.changeItem(i.getRandID(n.ItemID.item00,n.ItemID.WILD))},reset:function(){this.aniItem.active=!1,this.itemImg.active=!0;for(var t=0;t<this.aniList.length;t++)this.aniList[t]&&(this.aniList[t].active=!1)},changeItem:function(t){this.reset(),this.itemID=t,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[t])},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return n.IsBonusID(this.itemID)},isWildItem:function(){return n.IsWildID(this.itemID)},rollEnd:function(){},playWildAni:function(){},playSelectAni:function(){this.itemImg.active=!1,this.aniList[this.itemID].active=!0,this.aniList[this.itemID].getComponent(sp.Skeleton).setAnimation(0,"animation",!0)},playItemAni:function(){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(o[this.itemID])},playAniBonus:function(){}}),cc._RF.pop()},{}],PT10XLineConfig:[function(t,e){"use strict";cc._RF.push(e,"64b21vN9npPzKz1/R5JpZZb","PT10XLineConfig");e.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],PT10XLineItem:[function(t,e){"use strict";cc._RF.push(e,"53a85WQaMNP6KsvVlbUfApB","PT10XLineItem"),cc.Class({extends:cc.Component,properties:{imgDefault:cc.Node,imgSelect:cc.Node},onLoad:function(){},init:function(t,e){this.imgDefault.getComponent(cc.Sprite).spriteFrame=t,this.imgSelect.getComponent(cc.Sprite).spriteFrame=e},setSelect:function(t){this.imgSelect.active=t}}),cc._RF.pop()},{}],PT10XLineTabel:[function(t,e){"use strict";cc._RF.push(e,"8283f6AjlJHSbPMqKohV1OQ","PT10XLineTabel");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XUserData"),s=t("PT10XGameData");t("PT10XItemConfig"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,preLineItem:cc.Prefab,itemSpAtlas:cc.SpriteAtlas,lineNode:cc.Node,preLine:cc.Prefab,lineSpAtlas:cc.SpriteAtlas},onLoad:function(){this.addEventListener(),this.initLine(),this.initLineItem(),this.reset()},showLineAni:function(t,e){if(Array.isArray(t))return this.showAllSelectLine(t,e),void this.showAllSelectItem(t);this.showLineTabel(t,e)},showLineTabel:function(t,e){t=Number(t)+s.LINE_OFFSET,n.emit(i.PLAY_LINE_AUDIO_EF,t),this.reset(),this.setLineItemSelect(t,!0),this.lineList[t].active=!0,this.lineList[t].getComponent(s.BUNDLE_NAME+"Line").setSelect(e)},setLineItemSelect:function(t,e){this.lineItemList[t].rightItem.getComponent(s.BUNDLE_NAME+"LineItem").setSelect(e),this.lineItemList[t].leftItem.getComponent(s.BUNDLE_NAME+"LineItem").setSelect(e)},reset:function(){this.hideAllLineItem(),this.hideAllLine()},hideAllLineItem:function(){for(var t=1;t<=o.Line;t++)this.setLineItemSelect(t,!1)},showAllSelectItem:function(t){this.hideAllLineItem();for(var e=0;e<t.length;e++)this.setLineItemSelect(Number(t[e])+s.LINE_OFFSET,!0)},hideAllLine:function(){for(var t=1;t<=o.Line;t++)this.lineList[t].active=!1},showAllLine:function(){for(var t=1;t<=o.Line;t++)this.lineList[t].active=!0,this.lineList[t].getComponent(s.BUNDLE_NAME+"Line").setSelect(0)},showAllSelectLine:function(t,e){this.hideAllLine();for(var i=0;i<t.length;i++){var n=Number(t[i])+s.LINE_OFFSET;this.lineList[n].active=!0,this.lineList[n].getComponent(s.BUNDLE_NAME+"Line").setSelect(e[i])}},onStartRoll:function(){this.reset()},showLine:function(t){if(-1==t&&-1==this.showLineIndex||-2==t)return this.showLineIndex=0,void this.hideAllLine();this.showLineIndex=t,this.hideAllLine(),-1!=t?this.lineList[t].active=!0:this.showAllLine()},updateLineBet:function(){},addEventListener:function(){n.addEventListener(i.SHOW_LINE,this.showLine,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.UPDATE_BET,this.updateLineBet,this)},initLineItem:function(){var t=this;this.lineItemList=[];var e=[5,3,7,9,1,8,6,2,4],i=e,n=function(e,i,n){for(var o=0;o<i.length;o++){var a=cc.instantiate(t.preLineItem);t.itemNode.addChild(a),a.x=e,a.y=n[o];var c=t.itemSpAtlas.getSpriteFrame("lineNum"+i[o]),r=t.itemSpAtlas.getSpriteFrame("lineNumLiang"+i[o]);a.getComponent(s.BUNDLE_NAME+"LineItem").init(c,r),t.lineItemList[i[o]]||(t.lineItemList[i[o]]={}),e>0?t.lineItemList[i[o]].rightItem=a:t.lineItemList[i[o]].leftItem=a}};n(-427,e,[-137,-105,-74,-31,0,32,75,106,138]),n(427,i,[-137,-104,-72,-30,2,33,74,106,138])},initLine:function(){this.lineList=[];for(var t=[NaN,{lineY:0},{lineY:105},{lineY:-105},{lineY:0},{lineY:-28},{lineY:35},{lineY:-32},{lineY:84},{lineY:-83}],e=1;e<=o.Line;e++){var i=cc.instantiate(this.preLine);this.lineNode.addChild(i);var n=t[e],a=this.lineSpAtlas.getSpriteFrame(e);i.getComponent(s.BUNDLE_NAME+"Line").init(a,e),i.y=n.lineY,this.lineList[e]=i}}}),cc._RF.pop()},{}],PT10XLine:[function(t,e){"use strict";cc._RF.push(e,"1d883H0RClFcJKZQC6i85Ep","PT10XLine");var i=t("PT10XUtil"),n=[NaN,{coinsY:0},{coinsY:0},{coinsY:0},{coinsY:-103},{coinsY:75},{coinsY:-1},{coinsY:1},{coinsY:33},{coinsY:-33}];cc.Class({extends:cc.Component,properties:{imgLine:cc.Sprite,labWin:cc.Node},onLoad:function(){},init:function(t,e){this.imgLine.spriteFrame=t,this.labWin.y=n[e].coinsY},setSelect:function(t){this.labWin.active=t>0,this.labWin.getComponent(cc.Label).string=i.formattingCoins(t)}}),cc._RF.pop()},{}],PT10XMain:[function(t,e){"use strict";var i;cc._RF.push(e,"112945f/hJNlYNriwwvcxLE","PT10XMain");var n=t("PT10XEventConfig"),o=t("PT10XEventManager"),s=t("PT10XGameData"),a=t("PT10XUserData"),c=(t("PT10XItemConfig"),t("PT10XUtil"));cc.Class(((i={extends:cc.Component,properties:{pnlLine:cc.Node,preLineTable:cc.Prefab,bgNormal:cc.Node,bgFree:cc.Node,wheelPnl:cc.Node,wheelAniPnl:cc.Node,pnlFree:cc.Node,preFree:cc.Prefab,preWheel:cc.Prefab,preWheelAni:cc.Prefab},onLoad:function(){a.Status=s.GAME_STATE.INIT,a.GameMode=s.GAME_MODE.NORMAL,this.resultList=[],this.initNormalWheel()},stateCallBack:function(){if(a.Status==s.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),o.emit(n.STOP_AUDIO_EF,"rollSound"),a.Status=s.GAME_STATE.RESULT,o.emit(n.CHANGE_GAME_STATUS),this.resultList=[];for(var t=s.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelList[e].getComponent(s.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(i[t])}this.showResult()}},showResult:function(){if(a.LotteryRes.winscore>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",a.LotteryRes.winscore),o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.winscore),o.emit(n.PLAY_AUDIO_EF,"fxwinninglines"),void this.playWinAnim();cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},resetLineAni:function(){},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.resetLineAni();for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").resetItem()},playWinAnim:function(){0!=a.LotteryRes.viewarray.nWinLinesDetail.length?this.playLineAni():this.onLineAniOver()},playLineAni:function(){for(var t=this,e=a.LotteryRes.viewarray.nWinLinesDetail,i=a.LotteryRes.viewarray.nWinDetail,s=a.LotteryRes.viewarray.nWinLines,c=[],r=0;r<e.length;r++)c=c.concat(e[r]);for(var l=[],h=0;h<s.length;h++)l=l.concat(s[h]);for(var u=0,d=0;d<i.length;d++)u+=i[d];this.linesList={allWinLinesDetail:[c].concat(e,[c]),allWinLines:[l].concat(s,[l]),allWinDetail:[u].concat(i,[u])},this.lineSchedIndex=0,this.onLineSchedUleCallBack(),a.IsAuto?this.scheduleOnce(function(){o.emit(n.SHOW_YOU_WIN,{count:a.LotteryRes.winscore,callback:function(){t.onLineAniOver()}})},1.5):this.schedule(this.onLineSchedUleCallBack,1.5,this.linesList.allWinDetail.length-2,1.5)}}).resetLineAni=function(){for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").resetItem()},i.onLineSchedUleCallBack=function(){var t=this;this.resetLineAni();for(var e=this.linesList.allWinLinesDetail[this.lineSchedIndex],i=(this.linesList.allWinLines[this.lineSchedIndex],this.linesList.allWinDetail[this.lineSchedIndex],c.getBigWinRate(a.LotteryRes.viewarray.win),0);i<e.length;i++)this.resultList[e[i]].getComponent(s.BUNDLE_NAME+"Item").playSelectAni();this.lineSchedIndex,this.lineSchedIndex,0!=this.lineSchedIndex&&(this.lineSchedIndex,this.linesList.allWinLinesDetail.length),this.lineSchedIndex==this.linesList.allWinLinesDetail.length-1&&o.emit(n.SHOW_YOU_WIN,{count:a.LotteryRes.winscore,callback:function(){t.onLineAniOver()}}),this.lineSchedIndex++},i.playWinCardAni=function(){for(var t=a.LotteryRes.viewarray.nWinCards,e=0;e<t.length;e++)t[e]&&this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").playSelectAni()},i.onLineAniOver=function(){var t=this;this.scheduleOnce(function(){c.isNormalGame()&&c.checkBigWin(a.LotteryRes.winscore)?t.scheduleOnce(function(){o.emit(n.STOP_AUDIO_BGM),t.toGameOver()},1):t.toGameOver()},.2)},i.toGameOver=function(){var t=this;if(a.Status!=s.GAME_STATE.SHOW_END){a.Status=s.GAME_STATE.SHOW_END;var e=a.LotteryRes.viewarray.getFreeTime;e&&e.bFlag?this.scheduleOnce(function(){t.enterFreeGame()},1):this.scheduleOnce(function(){c.isNormalGame()||0!=a.LotteryRes.freeCount?t.onGameOver():t.stopFreeTimes()},.1)}},i.onGameOver=function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},i.showWinView=function(t,e){c.checkBigWin(t)?o.emit(n.SHOW_BIG_WIN,{coins:t,callback:e}):e()},i.stopFreeTimes=function(){var t=this;cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),a.IsFreeSolt=!1,o.emit(n.SHOW_YOU_WIN,{count:a.FreeWinCoins,callback:function(){t.showWinView(a.FreeWinCoins,function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()})}})},i.enterFreeGame=function(){this.closeShine(),c.isNormalGame()&&(a.FreeSoltRes=c.extendCopy(a.LotteryRes),a.initFreeData()),a.FreeRemaining+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,a.FreeTimeAll+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,o.emit(n.UPDATE_FREE_TIME_NOW),o.emit(n.UPDATE_FREE_TIME_ALL),this.playBonusAni(),cc.log("\u514d\u8d39\u8f6c=\u300b")},i.playBonusAni=function(){var t=this;o.emit(n.PLAY_AUDIO_EF,"ScatterSymbol4");for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()&&this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").playAniBonus();this.scheduleOnce(function(){c.isNormalGame()?(t.closeShine(),o.emit(n.PLAY_AUDIO_BGM,{id:2}),o.emit(n.SHOW_TRANSIT_ANI,{count:a.LotteryRes.viewarray.getFreeTime.nFreeTime,callback:function(){t.onGameOver()}})):t.onGameOver()},3)},i.toNewWheelRollEnd=function(t){this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t])},i.onStartRoll=function(){this.stopImmediately=!1,this.closeShine(),this.bonusWheelCount=0,c.isNormalGame()||(a.FreeRemaining--,a.FreeTimeNow++,o.emit(n.UPDATE_FREE_TIME_NOW)),o.emit(n.PLAY_AUDIO_EF,"rollSound")},i.onStopImmediately=function(){for(var t=0;t<this.wheelList.length;t++)this.toNewWheelRollEnd(t);this.stopImmediately=!0},i.onLoginGameResult=function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},i.onLoginFreeCountResult=function(t){o.emit(n.SET_LINES_VALUE,t.gameDict.betlist.length),o.emit(n.SET_BET_VALUE,t.gameDict.betsum),a.FreeTimeAll=t.gameDict.totalFreeTimes,a.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(a.GameMode=s.GAME_MODE.FREE),o.emit(n.CHANGE_GAME_MODE,t),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},i.getChangesWheelList=function(){var t=[];if(!a.LotteryRes.viewarray.nChangeCards.changes)return t;for(var e=a.LotteryRes.viewarray.nChangeCards.changes,i=0;i<e.length;i++){var n=c.getItemWheelID(e[i]);t.includes(n)||t.push(n)}return t},i.onLotteryResult=function(){a.Status=s.GAME_STATE.ROLL_END,o.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(a.LotteryRes.viewarray.nHandCards),this.wheelNetWinData=c.convertNetData(a.LotteryRes.viewarray.nWinCards),a.isFast?this.onStopImmediately():this.toNewWheelRollEnd(0)},i.onLotteryErrResult=function(t){cc.log(t),o.emit(n.RESET_WHEEL),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},i.onChangeGameMode=function(){this.nodeFree.active=a.GameMode==s.GAME_MODE.FREE,this.bgFree.active=a.GameMode==s.GAME_MODE.FREE,this.bgNormal.active=a.GameMode==s.GAME_MODE.NORMAL,a.GameMode==s.GAME_MODE.NORMAL||a.GameMode==s.GAME_MODE.FREE&&this.nodeFree.getComponent(s.BUNDLE_NAME+"Free").show()},i.onWheelRollEnd=function(t){t!=s.WHEEL_COUNT-1?this.stopImmediately||this.toNewWheelRollEnd(t+1):this.stateCallBack()},i.onEnable=function(){o.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),o.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},i.initNormalWheel=function(){this.wheelList=[];for(var t=0;t<s.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheel);this.wheelPnl.addChild(e),this.wheelList.push(e),e.getComponent(s.BUNDLE_NAME+"Wheel").setWheelData(t)}},i.initAniWheel=function(){},i.initWheelAni=function(){},i.initLineList=function(){this.lineTable=cc.instantiate(this.preLineTable),this.pnlLine.addChild(this.lineTable)},i.initFree=function(){var t=cc.instantiate(this.preFree);this.pnlFree.addChild(t),t.active=!1,this.nodeFree=t},i)),cc._RF.pop()},{}],PT10XNetWheelConfig:[function(t,e){"use strict";cc._RF.push(e,"70b0a8PCBZKN57YtPf4nBwT","PT10XNetWheelConfig");var i=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nChangeCards:{},nWinCards:[!1,!1,!1],nHandCards:[6,0,4],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nChangeCards:{},nWinCards:[!1,!1,!0],nHandCards:[0,5,8],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}}],n=0,o={Inint:function(){n=0},GetNetConfig:function(){var t;n>=(t=i).length&&(n=0);var e=t[n];return n++,e}};e.exports=o,cc._RF.pop()},{}],PT10XNetwork:[function(t,e){"use strict";cc._RF.push(e,"4e3d50n9PxNSo25bJrjvqyr","PT10XNetwork");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XGameData"),s=t("PT10XUserData"),a=t("PT10XItemConfig"),c=(t("PT10XNetWheelConfig"),t("PlayerInfo")),r=!1,l=0;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=c.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){if("UPDATE_COIN"==t&&n.emit("UPDATE_COIN"),"error"==t)cc.log("socket error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});else if("connect_error"==t)cc.log("connect_error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});else if("connect_timeout"==t)cc.log("connect_timeout"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});else if("disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})}else if("loginGameResult"==t){var o=changeResultJSON_Function(e);if(cc.log("LoginGameResult:",o),"1"!=o.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});n.emit(i.ON_LOGIN_GAME_RESULT,o),s.LoginGameResultData=o}else if("lotteryResult"==t){var c=changeResultJSON_Function(e);if(c.ResultCode&&1==c.ResultCode){if(s.LotteryRes=JSON.parse(JSON.stringify(c.ResultData)),r){for(var h=0,u=0;u<s.LotteryRes.viewarray.nHandCards.length;u++)s.LotteryRes.viewarray.nHandCards[u]==a.ItemID.BONUS&&h++;if(cc.log("bouns count",h,"TEST_INDEX",l),h>=3)return r=!1,void n.emit(i.ON_LOTTERY_RESULT);s.LotteryRes.viewarray.getFreeTime.bFlag||(cc.log(s.LotteryRes.viewarray.getFreeTime),this.sendRollData(),l++)}r||n.emit(i.ON_LOTTERY_RESULT)}else n.emit(i.ON_LOTTERY_RESULT_ERR)}else if("LoginRoomResult"==t){var d=changeResultJSON_Function(e);cc.log("LoginRoomResult",d)}else if("betResult"==t){var m=changeResultJSON_Function(e);if(cc.log("betResult",m),1!=m.ResultCode)return;n.emit(i.ON_GAMBLE_RESULT,m.ResultData)}else if("LoginfreeCountResult"==t){var E=changeResultJSON_Function(E);cc.log("LoginfreeCountResult:",E),1==E.ResultCode&&(E.freeType=Number(E.freeType))}else if("pushGamblingWinPool"==t){var p=changeResultJSON_Function(e);1==p.ResultCode&&n.emit(i.ON_PUSH_GAMBLING_WIN_POOL,p.nGamblingWinPool)}},sendRollData:function(){for(var t=[],e=s.BetValue/s.Rate,i=0;i<s.Line;i++)t.push(e/s.Line);cc.log("lottery=>",JSON.stringify({bet:s.BetIndex,nBetList:t,betType:s.Rate})),window.sendNetWorkData("lottery",JSON.stringify({bet:s.BetIndex,nBetList:t,betType:s.Rate}))},onLoginNet:function(){},onStartRoll:function(){s.Status=o.GAME_STATE.REQUEST,n.emit(i.CHANGE_GAME_STATUS),this.sendRollData()},onAddUserCoins:function(){},onOutGame:function(){var t=this;Common.backHall("Are you sure you want to leave the game?",function(){t.isOutGameIng=!0,n.destroy()})},onEnable:function(){n.addEventListener(i.ADD_USER_COINS,this.onAddUserCoins,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.OUT_GAME,this.onOutGame,this),n.addEventListener(i.LOGIN_NET,this.onLoginNet,this)},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],PT10XScene:[function(t,e){"use strict";cc._RF.push(e,"71d46Ym82BFN7sX1Ps20Ni6","PT10XScene");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XGameData"),s=t("PT10XUserData");t("PlayerInfo"),cc.Class({extends:cc.Component,properties:{preDonwUI:cc.Prefab,preUPUI:cc.Prefab,preGameUIMain:cc.Prefab,preHelp:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.scheduleOnce(function(){},2),this.labCoinsTip.active=!1},initData:function(){s.slotBetList||(s.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),s.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),s.BetValue=s.Line},onShowNotMoney:function(){var t=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){},onEnable:function(){n.addEventListener(i.HAVE_NO_MONEY,this.onShowNotMoney,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIDown(),this.initGameUIUp(),this.initHelp(),this.initTipView(),this.initAddCoins(),this.initAutoUI(),this.initYouWin()},loadComplete:function(){this.loadCount--,0==this.loadCount&&n.emit(i.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initAutoUI:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"Auto"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initBigWin:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"BigWin"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initYouWin:function(){var t=cc.instantiate(this.preYouWin);this.topNode.addChild(t),t.active=!1},initGameUIDown:function(){var t=cc.instantiate(this.preDonwUI);this.gameNode.addChild(t)},initGameUIUp:function(){var t=cc.instantiate(this.preUPUI);this.gameNode.addChild(t)},initHelp:function(){var t=cc.instantiate(this.preHelp);this.topNode.addChild(t),t.active=!1},initGameMenu:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"Menu"),t.showNode.addChild(n),n.active=!1,t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"TipView"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initAddCoins:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preAddCoins",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"AddCoins"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initAnimation:function(){var t=cc.instantiate(this.preAnimation);this.topNode.addChild(t)},initTransit:function(){var t=cc.instantiate(this.preTransit);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],PT10XTipView:[function(t,e){"use strict";cc._RF.push(e,"0fe29Sgd2NNv6RByZoiJJ+W","PT10XTipView");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XUserData"),s=(t("PT10XGameData"),[]);s[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;o.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,i){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=s[e])},onClickOK:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.callback(),this.node.active=!1},onClickHide:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){n.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],PT10XTransit:[function(t,e){"use strict";cc._RF.push(e,"7fad4t605tL0YXR5VpNDx1n","PT10XTransit");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XUserData"),s=t("PT10XGameData");cc.Class({extends:cc.Component,properties:{imgMask:cc.Node,imgFree:cc.Node},onLoad:function(){},show:function(t){var e=this;this.data=t,this.node.active=!0,this.imgFree.scaleX=.2,this.imgFree.scaleY=.2,cc.tween(this.imgFree).to(1,{scaleX:1,scaleY:1},{easing:"expoOut"}).call(function(){o.GameMode=s.GAME_MODE.FREE,n.emit(i.CHANGE_GAME_MODE)}).start(),this.scheduleOnce(function(){e.hide()},4)},hide:function(){this.data.callback(),this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],PT10XUpUI:[function(t,e){"use strict";cc._RF.push(e,"1e5238tlHNFDqntcAMt6maA","PT10XUpUI");var i=t("PT10XEventConfig"),n=t("PT10XEventManager");t("PT10XGameData"),t("PT10XUserData"),t("PT10XUtil"),t("PlayerInfo"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){resizeWinX(this)},onClickHome:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),n.emit(i.OUT_GAME)},onClickHelp:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.SHOW_HELP_VIEW)},onEnable:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],PT10XUserData:[function(t,e){"use strict";cc._RF.push(e,"a532bRbeQlFsJfFEoO1unnG","PT10XUserData");var i={Bundle:null,LotteryRes:null,init:function(t){i.Bundle=t,i.GameMode=0,i.Status=0,i.BetIndex=0,i.Line=3,i.BetValue=3,i.Rate=1,i.FakeFreeTime=0,i.AllFakeFreeTime=0,i.isFast=!1,i.FakeSoltIndex=0,i.IsAuto=!1,i.IsFreeSolt=!1,i.IsFakeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeRemaining=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};e.exports=i,cc._RF.pop()},{}],PT10XUtil:[function(t,e){"use strict";cc._RF.push(e,"ef5dbTfjXNDSpy9pSengP3z","PT10XUtil");var i=t("PT10XGameData"),n=t("PT10XUserData"),o=(t("PT10XItemConfig"),t("PlayerInfo")),s={convertNetData:function(t){for(var e=[],i=0;i<3;i++)e[i]=[];for(var n in t)e[n%3][2-parseInt(n/3)]=t[n];return e},getItemWheelID:function(t){return t%5},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,i){for(var n=[],o=0;o<15;o++)i[o]?n[o]=i[o]:n[o]=s.getRandID(t,e);return n},formattingCoins:function(t){return(t/o.getInstant.exchangeRate).toFixed(2)},getRandItemFromList:function(t){return t[s.getRandID(0,t.length-1)]},getRandItemID:function(t){var e=parseInt(Math.random()*t.length);return e>=t.length&&(e=t.length-1),e<=0&&(e=0),e},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},getRate:function(t){return t/n.BetValue},getBigWinRate:function(t){var e=s.getRate(t),i=0;return e>=500?i=4:e>=200?i=3:e>=100?i=2:e>=50?i=1:e>=20&&(i=0),i},checkBigWin:function(t){return t/n.BetValue>=20},getItemCount:function(t,e){for(var i=0,n=0;n<t.length;n++)t[n]==e&&i++;return i},checkWinItem:function(t,e,i){for(var n=0;n<i.length;n++)if(i[n]==t&&e[n])return!0;return!1},updateSetString:function(t,e,i,n,o,s){var a=0,c=Math.ceil(t/n);i.string=e;var r=0;s.schedule(function(){(a+=c)>t&&(a=t),i.string=a+e,++r==n+1&&o()},.02,n)},extendCopy:function(t){var e={};for(var i in t)e[i]=t[i];return e}};e.exports=s,cc._RF.pop()},{PlayerInfo:void 0}],PT10XWheelAni:[function(t,e){"use strict";cc._RF.push(e,"b8ea7FBVW5MTaCZtoFyiwa1","PT10XWheelAni");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XGameData"),s=t("PT10XUserData"),a=t("PT10XItemConfig");cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=a.WHEEL_WIDTH},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(o.BUNDLE_NAME+"ItemAni").reset(),e.active=!1}},setItemmData:function(t){this.itemAniList[0].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(t[0])},showWinItem:function(t){for(var e=0;e<t.length;e++)t[e]&&(this.itemAniList[e].active=!0,this.itemAniList[e].getComponent(o.BUNDLE_NAME+"ItemAni").playSelectAni())},hideBounsEffect:function(){},playBonusEffect:function(){},onStartRoll:function(){this.resetItem()},onChangeGameMode:function(){this.imgWild.active=s.GameMode==o.GAME_MODE.FREE},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];var t=cc.instantiate(this.preItemAni);this.itemAniList.push(t),this.pnlItemAni.addChild(t),t.active=!1}}),cc._RF.pop()},{}],PT10XWheel:[function(t,e){"use strict";cc._RF.push(e,"c8116+F/VVPHKzdrsvSOXKW","PT10XWheel");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XGameData"),s=t("PT10XUserData"),a=t("PT10XItemConfig");t("PT10XUtil"),cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize(),this.wheelType=0},initWheelSize:function(){this.node.width=a.WHEEL_WIDTH,this.node.height=a.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=a.WHEEL_WIDTH,t.height=a.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=this.getResultList(),i=0;i<e.length;i++)e[i].getComponent(o.BUNDLE_NAME+"Item").isBonusItem()&&t++;return t},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(o.BUNDLE_NAME+"Item").reset()},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},getWheelType:function(){return this.wheelType},showItemMask:function(){},reset:function(){for(var t=0;t<this.itemList.length;t++)this.itemList[t].active=!0},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(s.GameMode)},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.addEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){n.removeEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.removeEventListener(i.START_ROLL,this.onStartRoll,this),n.removeEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.removeEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(t){this.netIdList=t,this.isStopRoll=!0},hideWinItem:function(){},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var i=t.itemList[e],n=cc.tween(i);i.getComponent(o.BUNDLE_NAME+"Item").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){i.y<-a.ITEM_HEIGHT-a.ITEM_HEIGHT/2&&(i.y=3*a.ITEM_HEIGHT-a.ITEM_HEIGHT,i.getComponent(o.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(n.stop(),t.rollEnd(i,e)),t.isResetRoll&&(n.stop(),t.resetRolePos(i,e))})).start()},i=0;i<this.itemList.length;i++)e(i)},rollEnd:function(t,e){var s=this,c=this;cc.tween(t).repeat(4,cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){t.y<-a.ITEM_HEIGHT-a.ITEM_HEIGHT/2&&(t.y=3*a.ITEM_HEIGHT-a.ITEM_HEIGHT,c.itemIndex>=c.netIdList.length?t.getComponent(o.BUNDLE_NAME+"Item").randImg():(t.getComponent(o.BUNDLE_NAME+"Item").changeItem(c.netIdList[c.itemIndex]),c.resultItemList.push(t)),t.getComponent(o.BUNDLE_NAME+"Item").setItemVericalPos(c.itemIndex),c.itemIndex++)})).call(function(){var c=t.getComponent(o.BUNDLE_NAME+"Item").getItemVerticalPos();c=-1==c?3:c,t.y=c*a.ITEM_HEIGHT-a.ITEM_HEIGHT,e==s.itemList.length-1&&n.emit(i.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<a.ITEM_HEIGHT+a.ITEM_HEIGHT/2&&t.getComponent(o.BUNDLE_NAME+"Item").rollEnd(),s.itemList.length-1==e&&n.emit(i.ON_WHEEL_ROLL_END,s.wheelId)}).start()},resetRolePos:function(t,e){t.y=a.ITEM_HEIGHT*e-a.ITEM_HEIGHT},initItem:function(){this.itemList=[];for(var t=0;t<4;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),this.resetRolePos(e,t),e.getComponent(o.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],PT10XYouWin:[function(t,e){"use strict";cc._RF.push(e,"b9d7b5g3DtJToLMn7RQxWlA","PT10XYouWin");var i=t("PT10XEventConfig"),n=t("PT10XEventManager"),o=t("PT10XUserData"),s=(t("PT10XGameData"),t("PT10XUtil"));cc.Class({extends:cc.Component,properties:{labWin:cc.Node,coins:cc.Node,ani:cc.Node},onLoad:function(){var t=this;this.addEventListener(),this.ani.getComponent(sp.Skeleton).setCompleteListener(function(e){"into-bigwin"==e.animation.name?t.ani.getComponent(sp.Skeleton).setAnimation(0,"standby-bigwin",!0):"into-megawin"==e.animation.name?t.ani.getComponent(sp.Skeleton).setAnimation(0,"standby-megawin",!0):"into-epicwin"==e.animation.name?t.ani.getComponent(sp.Skeleton).setAnimation(0,"standby-epicwin",!0):"out-epicwin"!=e.animation.name&&"out-bigwin"!=e.animation.name&&"out-megawin"!=e.animation.name||(t.ani.active=!1)})},show:function(t){this.callback=t.callback,this.node.active=!0,this.nowCoins=0,this.addCoins=o.BetValue,this.winCoins=t.count,this.labWin.getComponent(cc.Label).string=s.formattingCoins(0),this.playEnd=!1,this.levelBigWin=!1,this.levelMegaWin=!1,this.levelEpicWin=!1,this.ani.active=!1,this.coins.active=!1,this.winCoins<=20*o.BetValue?this.stopCoinsAction():(n.emit(i.PLAY_AUDIO_EF,"fxbigwincountup"),this.schedule(this.addNowCoinsAction,.1)),this.nowCoins>=300*o.BetValue?n.emit(i.PLAY_AUDIO_EF,"fxwinlarge"):this.nowCoins>=100*o.BetValue?n.emit(i.PLAY_AUDIO_EF,"fxwinmedium"):n.emit(i.PLAY_AUDIO_EF,"fxwinsmall"),this.labWin.y=0,this.labWin.scaleX=.1,this.labWin.scaleY=.1,cc.tween(this.labWin).to(.3,{scaleX:1,scaleY:1},{easing:"expoOut"}).start()},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.labWin.getComponent(cc.Label).string=s.formattingCoins(this.nowCoins),this.nowCoins>=300*o.BetValue?this.showEpicWin():this.nowCoins>=100*o.BetValue?this.showMegaWin():this.nowCoins>=20*o.BetValue&&this.showBigWin(),this.nowCoins==this.winCoins&&this.stopCoinsAction()},showBigWin:function(){this.levelBigWin||(this.levelBigWin=!0,n.emit(i.PLAY_AUDIO_BGM,{id:1}),this.labWin.y=-210,cc.tween(this.labWin).to(.2,{scaleX:1.2,scaleY:1.2},{easing:"expoOut"}).to(.2,{scaleX:1,scaleY:1},{easing:"expoOut"}).start(),n.emit(i.PLAY_AUDIO_EF,"fxbigwinchange1"),this.coins.active=!0,this.ani.active=!0,this.ani.getComponent(sp.Skeleton).setAnimation(0,"into-bigwin",!1))},showMegaWin:function(){this.levelMegaWin||(this.levelMegaWin=!0,n.emit(i.PLAY_AUDIO_EF,"fxbigwinchange2"),cc.tween(this.labWin).to(.2,{scaleX:1.2,scaleY:1.2},{easing:"expoOut"}).to(.2,{scaleX:1,scaleY:1},{easing:"expoOut"}).start(),this.ani.getComponent(sp.Skeleton).setAnimation(0,"into-megawin",!1))},showEpicWin:function(){this.levelEpicWin||(this.levelEpicWin=!0,n.emit(i.PLAY_AUDIO_EF,"fxbigwinchange3"),cc.tween(this.labWin).to(.2,{scaleX:1.2,scaleY:1.2},{easing:"expoOut"}).to(.2,{scaleX:1,scaleY:1},{easing:"expoOut"}).start(),this.ani.getComponent(sp.Skeleton).setAnimation(0,"into-epicwin",!1))},stopCoinsAction:function(){var t=this;if(!this.playEnd){this.playEnd=!0,this.unschedule(this.addNowCoinsAction),this.labWin.getComponent(cc.Label).string=s.formattingCoins(this.winCoins);var e=function(){n.emit(i.STOP_MUSIC),n.emit(i.PLAY_AUDIO_EF,"fxbigwinend"),t.scheduleOnce(function(){n.emit(i.PLAY_AUDIO_BGM,{id:0})},3)};this.levelEpicWin?(this.ani.getComponent(sp.Skeleton).setAnimation(0,"out-epicwin",!1),e()):this.levelMegaWin?(this.ani.getComponent(sp.Skeleton).setAnimation(0,"out-megawin",!1),e()):this.levelBigWin&&(this.ani.getComponent(sp.Skeleton).setAnimation(0,"out-bigwin",!1),e()),this.scheduleOnce(function(){t.hide()},1)}},hide:function(){this.callback(),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["PT10XAddCoins","PT10XAuto","PT10XBigWin","PT10XDownUI","PT10XTipView","PT10XUpUI","PT10XEventConfig","PT10XEventManager","PT10XGameData","PT10XItemConfig","PT10XLineConfig","PT10XNetWheelConfig","PT10XUserData","PT10XAnimation","PT10XAudio","PT10XBg","PT10XFakeFree","PT10XFree","PT10XHelp","PT10XItem","PT10XItemAni","PT10XLine","PT10XLineItem","PT10XLineTabel","PT10XMain","PT10XNetwork","PT10XScene","PT10XTransit","PT10XUtil","PT10XWheel","PT10XWheelAni","PT10XYouWin"]);