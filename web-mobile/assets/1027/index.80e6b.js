window.__require=function e(t,i,n){function a(o,c){if(!i[o]){if(!t[o]){var r=o.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+o+"'")}o=r}var h=i[o]={exports:{}};t[o][0].call(h.exports,function(e){return a(t[o][1][e]||e)},h,h.exports,e,t,i,n)}return i[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<n.length;o++)a(n[o]);return a}({BubbleBathAnimation:[function(e,t){"use strict";cc._RF.push(t,"f5317rN8Z5FhLU42pnU0M+M","BubbleBathAnimation"),e("BubbleBathUtil");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node},onLoad:function(){var e=this;this.itemImg.getComponent(cc.Animation).on("finished",function(){e.callback(),e.itemImg.active=!1},this),this.addEventListener()},show:function(e){this.callback=e.callback,this.itemImg.active=!0,15==e.count?this.itemImg.getComponent(cc.Animation).play("fg_freespin15"):this.itemImg.getComponent(cc.Animation).play("fg_freespin10")},addEventListener:function(){n.addEventListener(i.PLAY_ANIMATION_ANI,this.show,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathUtil:"BubbleBathUtil"}],BubbleBathAudio:[function(e,t){"use strict";cc._RF.push(t,"174eaChQPpET7pGqlG1kyfs","BubbleBathAudio");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},startWheel:cc.AudioClip,stopWheel:cc.AudioClip,btnShow:cc.AudioClip,btnHide:cc.AudioClip,inFreeTime:cc.AudioClip,showLine:cc.AudioClip,winLine:cc.AudioClip,rollOver:cc.AudioClip,listen:cc.AudioClip,bonus:cc.AudioClip,x2:cc.AudioClip},onLoad:function(){this.pInfo=e("PlayerInfo").getInstant,this.bgmID=0},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(e){0!=this.pInfo.musicControl&&(this.bgmID!=e.id||e.isFrist)&&(this.bgmID=e.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[e.id],!0))},playEf:function(e){if(0!=this.pInfo.soundEffectControl)switch(e){case"startWheel":this.callAudioPlayEff(this.startWheel);break;case"stopWheel":this.callAudioPlayEff(this.stopWheel);break;case"btnShow":this.callAudioPlayEff(this.btnShow);break;case"btnHide":this.callAudioPlayEff(this.btnHide);break;case"inFreeTime":this.callAudioPlayEff(this.inFreeTime);break;case"showLine":this.callAudioPlayEff(this.showLine);break;case"winLine":this.callAudioPlayEff(this.winLine);break;case"rollOver":this.callAudioPlayEff(this.rollOver);break;case"listen":this.callAudioPlayEff(this.listen);break;case"bonus":this.callAudioPlayEff(this.bonus);break;case"x2":this.callAudioPlayEff(this.x2);break;default:cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",e)}},callAudioPlayEff:function(e){cc.audioEngine.playEffect(e)},onEnable:function(){n.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.addEventListener(i.STOP_AUDIO,this.stopAudio,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",PlayerInfo:void 0}],BubbleBathBigWin:[function(e,t){"use strict";cc._RF.push(t,"2d83d4bRH9EI7hIJc/axFPP","BubbleBathBigWin");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathUserData"),s=e("BubbleBathUtil"),o=[cc.v2(-308,175),cc.v2(-115,100),cc.v2(10,170),cc.v2(314,92),cc.v2(46,90)],c=[cc.v2(-321,174),cc.v2(-154,114),cc.v2(20,175),cc.v2(324,92),cc.v2(104,90)],r=[cc.v2(-416,215),cc.v2(-200,129),cc.v2(80,200),cc.v2(389,98),cc.v2(34,112)];cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.addEventListener()},initUI:function(){this.initEffectCoins(),this.initWin(),this.initFreeBg(),cc.find("New Sprite",this.node).on("click",this.hide,this)},initEffectCoins:function(){this.effectCoins=cc.find("coins",this.node),this.coinsGroup=[this.effectCoins],this.nodeCoin=cc.find("nodeCoins",this.node);for(var e=0;e<60;e++){var t=cc.instantiate(this.effectCoins);this.nodeCoin.addChild(t),this.coinsGroup.push(t),t.getComponent(cc.Animation).play().wrapMode=cc.WrapMode.Loop}},initWin:function(){var e=this;this.pnlWin=cc.find("pnlWin",this.node),a.Bundle.load("resources/image/BigWin",cc.SpriteFrame,function(t,i){t?cc.log(t):(e.imgWin=cc.find("imgYouWin",e.pnlWin),e.imgWin.getComponent(cc.Sprite).spriteFrame=i,e.initWinTween())}),a.Bundle.load("resources/image/big_win",cc.SpriteAtlas,function(t,i){t?cc.log(t):(e.imgBigWin=cc.find("imgBigWin",e.pnlWin),e.imgBigWin.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("MegaWin"),e.bigWinEffect=cc.find("imgBigWinEffect",e.node),e.bigWinEffect.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("MegaWin_Frame_Light_50%"),e.initBigWinTween())}),a.Bundle.load("resources/image/mega_win",cc.SpriteAtlas,function(t,i){t?cc.log(t):(e.imgMegaWin=cc.find("imgMegaWin",e.pnlWin),e.imgMegaWin.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("SuperWin"),e.megaWinEffect=cc.find("imgMegaWinEffect",e.node),e.megaWinEffect.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("SuperWin_Shine_Add_50%"),e.initMegaWinTween())}),a.Bundle.load("resources/image/Win_LightSweep",cc.SpriteAtlas,function(t,i){if(t)cc.log(t);else{e.effectLignt=[];for(var n=cc.find("pnlPoint",e.pnlWin),a=["Win_Star_Style_01","Win_Star_Style_02","Win_Star_Style_02","Win_Star_Style_01","Win_Star_Style_04"],s=1;s<=5;s++){var o=cc.find("ligntPoint"+s,n);o.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame(a[s-1]),e.effectLignt.push(o)}e.initLightPointTween()}})},initFreeBg:function(){var e=cc.find("pnlFreeBg",this.node);a.Bundle.load("resources/image/Win_LightSweep",cc.SpriteAtlas,function(t,i){t?cc.log(t):e.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Win_Frame_bg")}),this.lblWinCoin=cc.find("labelWin",e).getComponent(cc.Label)},initLightPointTween:function(){for(var e=0;e<this.effectLignt.length;e++){var t=cc.tween;t(this.effectLignt[e]).repeatForever(t().parallel(t().by(.5,{angle:90}).by(.5,{angle:90}),t().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.5,scaleY:.5}))).start(),this.effectLignt[e].active=!1}},initWinTween:function(){this.WinTween=cc.tween(this.pnlWin).repeatForever(cc.tween().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.9,scaleY:.9}))},initBigWinTween:function(){var e=this;this.bigWinTween=cc.tween(this.bigWinEffect).repeatForever(cc.tween().delay(.5).call(function(){e.bigWinEffect.opacity=255,e.bigWinEffect.scaleX=2,e.bigWinEffect.scaleY=2}).to(.5,{scaleX:2.2,scaleY:2.2,opacity:0}))},initMegaWinTween:function(){var e=this;this.MegaWinTween=cc.tween(this.megaWinEffect).repeatForever(cc.tween().delay(.5).call(function(){e.megaWinEffect.opacity=255,e.megaWinEffect.scaleX=1,e.megaWinEffect.scaleY=1}).to(.5,{scaleX:1.1,scaleY:1.1,opacity:0}))},playWin:function(){this.imgWin.active=!0;for(var e=0;e<this.effectLignt.length;e++)this.effectLignt[e].setPosition(o[e]),this.effectLignt[e].active=!0},playBigWin:function(){this.imgBigWin.active=!0,this.bigWinEffect.active=!0,this.bigWinTween.start();for(var e=0;e<this.effectLignt.length;e++)this.effectLignt[e].setPosition(c[e]),this.effectLignt[e].active=!0},playMegaWin:function(){this.imgMegaWin.active=!0,this.megaWinEffect.active=!0,this.megaWinEffect.opacity=0,this.MegaWinTween.start();for(var e=0;e<this.effectLignt.length;e++)this.effectLignt[e].setPosition(r[e]),this.effectLignt[e].active=!0},show:function(e,t,a){this.node.active=!0,n.emit(i.PLAY_AUDIO_BGM,{id:1}),t>=50?this.playMegaWin():t>=20?this.playBigWin():this.playWin();var o=Math.ceil(e/70);this.lblWinCoin.string=s.formattingCoins(0),this.callback=a,this.nowCoins=0,this.winCoins=e,this.addCoins=o,this.schedule(this.addNowCoinsAction,.1,69),this.coinsPool=this.coinsGroup.concat([]),this.schedule(this.playCoins,.3,1/0),this.playCoins(),this.WinTween.start(),this.scheduleOnce(this.hide,10)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.lblWinCoin.string=s.formattingCoins(this.nowCoins)},hide:function(){this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.resetCoins(),this.WinTween.stop(),this.bigWinTween.stop(),this.MegaWinTween.stop(),this.lblWinCoin.string=0,this.imgWin.active=!1,this.imgBigWin.active=!1,this.bigWinEffect.active=!1,this.imgMegaWin.active=!1,this.megaWinEffect.active=!1,this.node.active=!1},resetCoins:function(){for(var e=0;e<this.coinsGroup.length;e++)this.coinsGroup[e].tweenAction&&(this.coinsGroup[e].tweenAction.stop(),this.coinsGroup[e].setPosition(0,-400))},playCoins:function(){for(var e=this,t=function(){var t=e.coinsPool.shift();e.scheduleOnce(function(){e.rundCoinsAction(t)},1*Math.random())};this.coinsPool.length>0;)t()},rundCoinsAction:function(e){var t=this,i=1800*Math.random()-900,n=400*Math.random()-200+i,a=400*Math.random()+400,s=n-i>0,o=400*Math.random(),c=s?n+o:n-o,r=400*Math.random(),l=s?c+r:c-r;e.angle=360*Math.random(),e.setPosition(i,-400),e.tweenAction=cc.tween(e).bezierTo(1,cc.v2(n,a),cc.v2(c,a),cc.v2(l,-400)).call(function(){t.coinsPool.push(e)}).start()},onShowBigWin:function(e){this.show(e.coins,e.rate,e.callback)},addEventListener:function(){n.addEventListener(i.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathUserData:"BubbleBathUserData",BubbleBathUtil:"BubbleBathUtil"}],BubbleBathDownUI:[function(e,t){"use strict";cc._RF.push(t,"451ecQNuOJOQ7FwXBmx5I1p","BubbleBathDownUI");var i=e("BubbleBathUserData"),n=e("BubbleBathGameData"),a=e("BubbleBathEventConfig"),s=e("BubbleBathEventManager"),o=e("PlayerInfo"),c=e("BubbleBathUtil");cc.Class({extends:cc.Component,onLoad:function(){resizeWinX(this),this.commonUiTs=this.node.getComponent("CommonUI"),this.commonFast=cc.find("audioView/quickSwitch",this.node),this.commonFast.on("toggle",this.onClickFast,this),this.commonFast.getComponent(cc.Toggle).isChecked=!1,this.initUI(),this.initHandTween(),this.initAutoTween(),i.LoginGameResultData&&this.onLoginGameResult(i.LoginGameResultData)},initBetData:function(){var e=o.getInstant.maxBet/i.Line;this.betLimit=i.slotBetList.length-1;for(var t=0;t<i.slotBetList.length;t++)if(e<i.slotBetList[t]){this.betLimit=t-1;break}this.updateBet()},initUI:function(){var e=cc.find("pnlEntries",this.node);this.labEntries=cc.find("labEntries",e).getComponent(cc.Label),this.labEntries.string=c.formattingCoins(o.getInstant.playerCoin);var t=cc.find("btnAddCoins",e);t.on("click",this.onClickAddCoins,this),this.btnAddCoins=t,this.imgAddCoinsEffect=cc.find("imgEffect",t),this.imgAddCoinsHand=cc.find("imgHand",t),this.labWinning=cc.find("pnlWinning/labWinning",this.node).getComponent(cc.Label),t.active=!1,cc.find("pnlWinning",this.node).active=!1,this.labGameWin=cc.find("pnlGameWin/labGameWinning",this.node).getComponent(cc.Label);var i=cc.find("pnlTotal",this.node);this.labTotal=cc.find("labTotal",i).getComponent(cc.Label),this.btnDec=cc.find("btnDec",i),this.btnDec.on("click",this.onClickDec,this),this.btnAdd=cc.find("btnAdd",i),this.btnAdd.on("click",this.onClickAdd,this),this.btnRoll=cc.find("btnRoll",this.node),this.btnRoll.on("click",this.onClickRoll,this),this.btnAuto=cc.find("btnAuto",this.node),this.btnAuto.on("click",this.onClickAuto,this),this.imgAutoOnImg=cc.find("imgAutoOnImg",this.btnAuto),this.imgAutoEffect=cc.find("imgAutoEffect",this.btnAuto),this.labGameWin.string=c.formattingCoins(0),cc.find("btns/btn_help",this.node).on("click",function(){s.emit("SHOW_HELP")},this)},loadUI:function(){var e=this;i.Bundle.load("resources/image/Mob_DownUI",cc.SpriteAtlas,function(t,a){t||(e.spAtlas=a,e.initBg(),e.initEntries(),e.initWinning(),e.initTotal(),e.initRoll(),e.initAuto(),e.initAddCoins(),e.initUserCoin(),i.Status==n.GAME_STATE.LEISURE&&e.enterLeisure())})},initHandTween:function(){this.addCoinsTween=cc.tween(this.imgAddCoinsEffect).repeatForever(cc.tween().to(.5,{opacity:0}).to(.5,{opacity:255})),this.addCoinsHandTween=cc.tween(this.imgAddCoinsHand).repeatForever(cc.tween().to(.5,{x:127.5,y:124.5}).to(.5,{x:53,y:50}))},initBg:function(){cc.find("bg1",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280"),cc.find("bg2",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280")},initEntries:function(){var e=cc.find("pnlEntries",this.node);e.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnAddCoins",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus"),this.imgAddCoinsEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus_light"),this.imgAddCoinsHand.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Hand")},initWinning:function(){cc.find("pnlWinning",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short")},initTotal:function(){var e=cc.find("pnlTotal",this.node);e.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_TotalField"),cc.find("btnDec",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletSub"),cc.find("btnAdd",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletPlus")},initRoll:function(){this.btnRoll.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_RevealPlus")},initAuto:function(){var e=this;this.btnAuto.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_nor"),this.imgAutoOnImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_light"),i.Bundle.load("resources/image/img_auto_effect",cc.SpriteFrame,function(t,i){e.imgAutoEffect.getComponent(cc.Sprite).spriteFrame=i})},initAddCoins:function(){},initUserCoin:function(){this.labEntries.string=c.formattingCoins(o.getInstant.playerCoin)},initAutoTween:function(){cc.tween(this.imgAutoEffect).repeatForever(cc.tween().by(1,{angle:180})).start()},checkBetLimit:function(){},onClickAdd:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.updateBet(),s.emit(a.PLAY_AUDIO_EF,"btnShow"),this.stopNoMenyTween()},onClickDec:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.updateBet(),s.emit(a.PLAY_AUDIO_EF,"btnHide"),this.stopNoMenyTween()},onClickAuto:function(){c.isNormalGame()&&(i.IsAuto?(this.enterAuto(!1),s.emit(a.PLAY_AUDIO_EF,"btnHide")):(this.enterAuto(!0),s.emit(a.PLAY_AUDIO_EF,"btnShow")))},onClickRoll:function(){if(i.Status==n.GAME_STATE.LEISURE){if(!this.checkCoinsEntries())return void this.playNoMenyTween();i.Status=n.GAME_STATE.REQUEST,s.emit(a.START_ROLL),this.setRollBan(!1),s.emit(a.PLAY_AUDIO_EF,"startWheel")}else i.Status==n.GAME_STATE.ROLL_END&&(s.emit(a.STOP_IMMEDIATELY),this.setRollBan(!1),s.emit(a.PLAY_AUDIO_EF,"stopWheel"))},onClickAddCoins:function(){this.showAddCoins()},onClickHideAddCoins:function(){this.pnlAddCoins.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){},chargeSum:function(e){this.pnlAddCoins.active=!1;var t=0==e?{}:{sum:e};s.emit(a.ADD_USER_COINS,t)},updateBet:function(){i.BetIndex=this.bet,i.BetValue=i.slotBetList[this.bet]*i.Line,s.emit(a.ON_PUSH_GAMBLING_WIN_POOL,i.BetValue),this.labTotal.string=c.formattingCoins(i.BetValue),s.emit(a.UPDATE_BET)},checkCoinsEntries:function(){return o.getInstant.playerCoin>=i.BetValue},setBtnState:function(e){this.spAtlas&&(this.btnRoll.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(e?"Mob_DownUI_But_Stop":"Mob_DownUI_But_RevealPlus"))},setRollBan:function(e){this.btnRoll.getComponent(cc.Button).interactable=e},setAutoBan:function(e){this.btnAuto.getComponent(cc.Button).interactable=e},banButton:function(e){e&&i.IsAuto||(this.btnAdd.getComponent(cc.Button).interactable=e,this.btnDec.getComponent(cc.Button).interactable=e)},playNoMenyTween:function(){this.imgAddCoinsEffect.active=!0,this.imgAddCoinsHand.active=!0,this.addCoinsTween.start(),this.addCoinsHandTween.start(),s.emit(a.HAVE_NO_MONEY)},stopNoMenyTween:function(){this.addCoinsTween.stop(),this.addCoinsHandTween.stop(),this.imgAddCoinsEffect.active=!1,this.imgAddCoinsHand.active=!1},enterAuto:function(e){i.IsAuto=e,this.imgAutoOnImg.active=e,this.imgAutoEffect.active=e,e?(this.setRollBan(!1),this.banButton(!1),i.Status==n.GAME_STATE.LEISURE&&s.emit(a.START_ROLL)):i.Status==n.GAME_STATE.LEISURE&&(this.setRollBan(!0),this.setBtnState(!1))},onStartRoll:function(){this.banButton(!1),c.isNormalGame()&&(this.labGameWin.string=c.formattingCoins(0)),c.isNormalGame()&&(o.getInstant.playerCoin-=i.BetValue,this.labEntries.string=c.formattingCoins(o.getInstant.playerCoin))},onChargeAllResult:function(e){e&&(o.getInstant.playerCoin=e.score?e.score:0,this.labEntries.string=c.formattingCoins(o.getInstant.playerCoin),this.stopNoMenyTween())},onUpdateGameWin:function(e){var t=this;if(0!=e){o.getInstant.playerCoin+=e;var n=c.isNormalGame()?0:i.FreeWinCoins,a=c.isNormalGame()?e:i.FreeWinCoins+e,s=Math.ceil(a/20);this.schedule(function(){(n+=s)>a&&(n=a),t.labGameWin.string=c.formattingCoins(n),t.labEntries.string=c.formattingCoins(o.getInstant.playerCoin-a+n)},.02,20),c.isNormalGame()||(i.FreeWinCoins+=e)}},onLotteryResult:function(){i.IsAuto||(this.setBtnState(!0),this.setRollBan(!0))},onSetWinningValue:function(){},onSetBetValue:function(e){for(var t=e/i.Line,a=0;a<n.BET.length;a++)if(n.BET[a]==t){this.bet=a;break}this.updateBet()},onChangeGameStatus:function(){i.Status==n.GAME_STATE.RESULT?this.enterResult():i.Status==n.GAME_STATE.LEISURE&&this.enterLeisure()},enterResult:function(){i.IsAuto||this.setRollBan(!1)},enterLeisure:function(){this.checkCoinsEntries()||(this.playNoMenyTween(),this.enterAuto(!1)),c.isNormalGame()?(this.banButton(!0),i.IsAuto?s.emit(a.START_ROLL):(this.setRollBan(!0),this.setBtnState(!1))):i.IsAuto?s.emit(a.START_ROLL):this.enterAuto(!0)},onChangeGameMode:function(){i.GameMode==n.GAME_MODE.NORMAL?this.enterAuto(!1):(i.GameMode,n.GAME_MODE.FREE),this.btnAddCoins.getComponent(cc.Button).interactable=i.GameMode==n.GAME_MODE.NORMAL},onLoginGameResult:function(e){if(cc.log("onLoginGameResult",e),e.Obj&&e.Obj.betList&&(i.slotBetList=e.Obj.betList),this.bet=0,e.Obj&&e.Obj.betDefault)for(var t=0;t<e.Obj.betList.length;t++)if(e.Obj.betList[t]==e.Obj.betDefault){this.bet=t;break}this.initBetData()},UPDATE_COIN:function(){this.labEntries&&(this.labEntries.string=c.formattingCoins(o.getInstant.playerCoin)),this.labBalance&&(this.labBalance.string=c.formattingCoins(o.getInstant.playerCoin))},onEnable:function(){s.addEventListener("UPDATE_COIN",this.UPDATE_COIN,this),s.addEventListener(a.CHANGE_GAME_MODE,this.onChangeGameMode,this),s.addEventListener(a.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),s.addEventListener(a.SET_BET_VALUE,this.onSetBetValue,this),s.addEventListener(a.SET_WINNING_VALUE,this.onSetWinningValue,this),s.addEventListener(a.ON_LOTTERY_RESULT,this.onLotteryResult,this),s.addEventListener(a.UPDATE_GAME_WIN,this.onUpdateGameWin,this),s.addEventListener(a.START_ROLL,this.onStartRoll,this),s.addEventListener(a.CHANGE_GAME_STATUS,this.onChangeGameStatus,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathUserData:"BubbleBathUserData",BubbleBathUtil:"BubbleBathUtil",PlayerInfo:void 0}],BubbleBathEventConfig:[function(e,t){"use strict";cc._RF.push(t,"352932aL4ZMU7rlm23u0Vy+","BubbleBathEventConfig"),t.exports={ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",SET_WINNING_VALUE:"SET_WINNING_VALUE",SET_BET_VALUE:"SET_BET_VALUE",UPDATE_BET:"UPDATE_BET",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",HIDE_TRANSIT_ANI:"HIDE_TRANSIT_ANI",PLAY_ANIMATION_ANI:"PLAY_ANIMATION_ANI",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",SHOW_BIG_WIN:"SHOW_BIG_WIN",HIDE_BIG_WIN:"HIDE_BIG_WIN",SHOW_YOU_WIN:"SHOW_YOU_WIN",HIDE_YOU_WIN:"HIDE_YOU_WIN",PLAY_PARTICLE_ANI:"PLAY_PARTICLE_ANI",ON_GET_SPECLA_DATA:"ON_GET_SPECLA_DATA",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO"},cc._RF.pop()},{}],BubbleBathEventManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"c6ca7OE1B1NtLAQhkhD3v4Q","BubbleBathEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(e,t,i){for(var n=-1,a=0;a<s._eventListeners[e].length;a++){var o=s._eventListeners[e][a];if(o.callBack==t&&(!i||o.target==i)){n=a;break}}return n},addEventListener:function(e,t,i){if(e){if(null==t)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:t,target:i};return null==s._eventListeners[e]?s._eventListeners[e]=[n]:-1==s.getEventListenersIndex(e,t,i)&&s._eventListeners[e].push(n),!0}cc.warn("eventName is empty"+e)},removeEventListener:function(e,t,i){if(null!=s._eventListeners[e]){var n=s.getEventListenersIndex(e,t,i);-1!=n&&s._eventListeners[e].splice(n,1)}},emit:function(e,t){if(null!=s._eventListeners[e]){for(var n,a=[],o=i(s._eventListeners[e]);!(n=o()).done;){var c=n.value;a.push({callBack:c.callBack,target:c.target})}for(var r=function(){var e=h[l];new Promise(function(){e.callBack.call(e.target,t)})},l=0,h=a;l<h.length;l++)r()}}};t.exports=s,cc._RF.pop()},{}],BubbleBathFree:[function(e,t){"use strict";cc._RF.push(t,"d0cf5+y659GPpTtgFzm2tsy","BubbleBathFree");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathUserData");cc.Class({extends:cc.Component,properties:{labFreeNow:cc.Label,labFreeAll:cc.Label},onLoad:function(){this.addEventListener()},show:function(){this.labFreeNow.string=a.FreeTimeNow,this.labFreeAll.string=a.FreeTimeAll},onUpdateFreeTimeNow:function(){this.labFreeNow.string=a.FreeTimeNow},onUpdateFreeTimeAll:function(){this.labFreeAll.string=a.FreeTimeAll},addEventListener:function(){n.addEventListener(i.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),n.addEventListener(i.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathUserData:"BubbleBathUserData"}],BubbleBathGameData:[function(e,t){"use strict";cc._RF.push(t,"914a2h84aZCp76Uy1GClWKt","BubbleBathGameData");t.exports={BUNDLE_NAME:"BubbleBath",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4},GAME_MODE:{NORMAL:0,FREE:1},BET:[1,2,3,4,5,6,7,8,9,10,15,20,25,30,35,40,50,60,70,80,90,100],ITEM_HEIGHT:162,ITEM_WIDTH:199,VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,EXCHANGE_RATE:.01},cc._RF.pop()},{}],BubbleBathItemAni:[function(e,t){"use strict";cc._RF.push(t,"ee1397LltVB7b9/DKEGr666","BubbleBathItemAni");var i=e("BubbleBathItemConfig");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,itemAni:cc.Node,imgSelect:cc.Node,aniSelect:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){var e=this;this.initImgSelectTween(),this.isHideItem=!1,this.imgSelect.width=i.ITEM_WIDTH,this.imgSelect.height=i.ITEM_HEIGHT,this.itemAni.getComponent(cc.Animation).on("finished",function(){},this),this.aniSelect.getComponent(cc.Animation).on("finished",function(){e.aniSelect.active=!1},this),this.reset()},initImgSelectTween:function(){this.imgSelectTween=cc.tween(this.imgSelect).repeatForever(cc.tween().to(1,{opacity:255}).to(1,{opacity:0}))},changeItem:function(e){this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[e]),this.itemId=e},setHideItem:function(e){this.isHideItem=e},reset:function(){this.itemAni.active=!1,this.itemImg.active=!0,this.imgSelectTween.stop(),this.imgSelect.active=!1},playSelectAni:function(){this.imgSelect.active=!0,this.imgSelectTween.start(),i.IsWildID(this.itemId)&&this.playAniWild()},playItemAni:function(e,t){this.itemAni.active=!0,this.itemImg.active=!1,this.itemAni.getComponent(cc.Animation).play(e).repeatCount=t},playAniSelect:function(){this.aniSelect.active=!0,this.aniSelect.getComponent(cc.Animation).play().repeatCount=2},playAniBonus:function(e){this.playItemAni("mg_symbol_bonus_loop",e?1/0:2),e||this.playAniSelect()},playAniWild:function(){this.playItemAni("mg_symbol_double",1/0)}}),cc._RF.pop()},{BubbleBathItemConfig:"BubbleBathItemConfig"}],BubbleBathItemConfig:[function(e,t){"use strict";cc._RF.push(t,"af678CKV3NDc6Lli7+3FJ3e","BubbleBathItemConfig");t.exports={ITEM_HEIGHT:160,ITEM_WIDTH:170,WHEEL_WIDTH:183,WHEEL_HEIGHT:485,SpriteFramelist:["MG_Symbol_S09","MG_Symbol_S08","MG_Symbol_S07","MG_Symbol_S06","MG_Symbol_S05","MG_Symbol_S04","MG_Symbol_S03","MG_Symbol_S02","MG_Symbol_S01","MG_Symbol_Double","MG_Symbol_Bonus"],BONUS_ID:10,WILD_ID:9,IsBonusID:function(e){return 10==e},IsWildID:function(e){return 9==e}},cc._RF.pop()},{}],BubbleBathItem:[function(e,t){"use strict";cc._RF.push(t,"0134b1/DRFA87ecbSI/ok3f","BubbleBathItem");var i=e("BubbleBathUtil"),n=e("BubbleBathItemConfig");e("BubbleBathEventConfig"),e("BubbleBathEventManager"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.itemImg.getComponent(cc.Animation).on("finished",function(){},this),this.randImg()},randImg:function(){this.changeItem(i.getRandItemID(n.SpriteFramelist))},changeItem:function(e){this.itemID=e,this.itemImg.active=!0,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[e])},getItemId:function(){return this.itemID},setItemWheelID:function(e){this.wheelID=e},setItemVericalPos:function(e){this.verticalPos=e},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},IsWildID:function(){return n.IsWildID(this.itemID)},isBonusItem:function(){return n.IsBonusID(this.itemID)},rollEnd:function(){this.isBonusItem()&&this.playAniBonus()},playAniBonus:function(){this.itemImg.getComponent(cc.Animation).play()}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathItemConfig:"BubbleBathItemConfig",BubbleBathUtil:"BubbleBathUtil"}],BubbleBathMain:[function(e,t){"use strict";cc._RF.push(t,"2ad53sthfZH9IFTBqyxsrsJ","BubbleBathMain");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathGameData"),s=e("BubbleBathUserData"),o=e("BubbleBathItemConfig"),c=e("BubbleBathUtil");cc.Class({extends:cc.Component,properties:{imgNormal:cc.Node,imgFree:cc.Node,layoutWheel:cc.Node,layoutWheelAni:cc.Node,preWheel:cc.Prefab,preWheelAni:cc.Prefab,pnlFree:cc.Node,preFree:cc.Prefab,aniX3:cc.Node,aniX2:cc.Node},onLoad:function(){s.Status=a.GAME_STATE.INIT,s.GameMode=a.GAME_MODE.NORMAL,this.aniX2.getComponent(cc.Animation).play(),this.resultList=[],this.initWheel(),this.initFree()},changeBgImg:function(){this.imgNormal.active=s.GameMode==a.GAME_MODE.NORMAL,this.imgFree.active=s.GameMode!=a.GAME_MODE.NORMAL},enterNormal:function(){this.hideFreeNode()},enterFree:function(){this.showFreeNode(),n.emit(i.PLAY_AUDIO_BGM,{id:2})},showX2Ani:function(e){this.aniX2.active=!0,this.aniX2.y=(e-1)*o.ITEM_HEIGHT,n.emit(i.PLAY_AUDIO_EF,"x2")},closeShine:function(){this.resetItem(),this.unschedule(this.onLineSchedUleCallBack)},resetItem:function(){for(var e=0;e<this.resultList.length;e++)this.resultList[e].active=!0,this.wheelAniItemList[e].getComponent(a.BUNDLE_NAME+"ItemAni").reset(),this.wheelAniItemList[e].active=!1,this.wheelMaskItemlist[e].active=!1;this.aniX2.active=!1},stateCallBack:function(){if(s.Status==a.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),s.Status=a.GAME_STATE.RESULT,n.emit(i.CHANGE_GAME_STATUS),s.IsFakeSolt=!1,this.resultList=[];for(var e=a.VERTICAL_ITEM_COUNT-1;e>=0;e--)for(var t=0;t<this.wheelList.length;t++){var o=this.wheelList[t].getComponent(a.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(o[e])}this.showResult()}},showResult:function(){if(this.closeShine(),c.isNormalGame()?n.emit(i.PLAY_AUDIO_BGM,{id:0}):n.emit(i.PLAY_AUDIO_BGM,{id:2}),s.LotteryRes.viewarray.getFreeTime.bFlag&&(s.LotteryRes.viewarray.userscore-=s.LotteryRes.viewarray.getFreeTime.win),s.LotteryRes.viewarray.win>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",s.LotteryRes.viewarray.win),n.emit(i.UPDATE_GAME_WIN,s.LotteryRes.viewarray.win),this.playWinAnim(),void n.emit(i.PLAY_AUDIO_EF,"winLine");cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},playWinAnim:function(){for(var e=this,t=[],i=s.LotteryRes.viewarray.nWinLinesDetail,n=0;n<i.length;n++)t=t.concat(i[n]);var a=this.bIsFreeGame?[t]:i.length>1?[t].concat(i):[t];t.length>0?this.playLineAni(a):this.scheduleOnce(function(){e.toGameOver()},1)},playLineAni:function(e){var t=this;this.lineSchedIndex=0,this.scheduleOnce(function(){c.isNormalGame()&&c.checkBigWin(s.LotteryRes.viewarray.win)?t.scheduleOnce(function(){t.showBigWin(s.LotteryRes.viewarray.win,function(){n.emit(i.PLAY_AUDIO_BGM,{id:0}),t.toGameOver()})},1):t.toGameOver()},1),this.linesList=e,this.showX3Ani(),this.schedule(this.onLineSchedUleCallBack,2),this.onLineSchedUleCallBack(0,!0)},onLineSchedUleCallBack:function(e,t){this.resetItem(),this.aniX2.active=!1;for(var s=this.linesList[this.lineSchedIndex],o=!1,c=0;c<this.resultList.length;c++){var r=this.resultList[c].getComponent(a.BUNDLE_NAME+"Item");s.includes(c)?(this.wheelAniItemList[c].active=!0,this.wheelAniItemList[c].getComponent(a.BUNDLE_NAME+"ItemAni").changeItem(r.getItemId()),this.wheelAniItemList[c].getComponent(a.BUNDLE_NAME+"ItemAni").playSelectAni(),r.IsWildID()&&(o=!0),this.resultList[c].active=!1):this.wheelMaskItemlist[c].active=!0}if(o){var l=this.resultList[s[0]].getComponent(a.BUNDLE_NAME+"Item").getItemVerticalPos();this.showX2Ani(l)}this.lineSchedIndex++,this.lineSchedIndex>=this.linesList.length&&(this.lineSchedIndex=0),t||n.emit(i.PLAY_AUDIO_EF,"showLine")},toGameOver:function(){var e=this;if(this.bIsOneFreeGame){cc.log("\u8f6c\u4e00\u6b21"),this.bIsOneFreeGame=!1,s.IsFakeSolt=!0,this.closeShine();var t=s.LotteryRes.viewarray.win>0?1:0;this.scheduleOnce(function(){e.enterOneFreeGame()},t+1)}else{if(s.LotteryRes.viewarray.getFreeTime.bFlag)return this.closeShine(),void this.scheduleOnce(function(){e.enterFreeGame()},1);this.scheduleOnce(function(){e.onGameOver()},.1)}},onGameOver:function(){c.isNormalGame()||s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex]?(s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)):this.stopFreeTimes()},stopFreeTimes:function(){var e=this;cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),s.IsFreeSolt=!1,n.emit(i.SHOW_TRANSIT_ANI,{callback:function(){c.checkBigWin(s.FreeWinCoins)?e.showBigWin(s.FreeWinCoins,function(){n.emit(i.PLAY_AUDIO_BGM,{id:0}),s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)}):s.FreeWinCoins>0?n.emit(i.SHOW_YOU_WIN,s.FreeWinCoins):(n.emit(i.PLAY_AUDIO_BGM,{id:0}),s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS))}})},enterFreeGame:function(){var e=this;n.emit(i.PLAY_AUDIO_EF,"inFreeTime"),c.isNormalGame()&&(s.FreeSoltRes=c.extendCopy(s.LotteryRes),s.initFreeData()),s.FreeTimeAll+=s.LotteryRes.viewarray.getFreeTime.nFreeTime,this.scheduleOnce(function(){e.playBonusAni()},2),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){var e=this;this.closeShine();for(var t=0;t<this.resultList.length;t++)this.resultList[t].getComponent(a.BUNDLE_NAME+"Item").isBonusItem()?(this.resultList[t].active=!1,this.wheelAniItemList[t].active=!0,this.wheelAniItemList[t].getComponent(a.BUNDLE_NAME+"ItemAni").playAniBonus(!1)):this.wheelMaskItemlist[t].active=!0;n.emit(i.PLAY_AUDIO_EF,"winLine"),this.scheduleOnce(function(){n.emit(i.PLAY_AUDIO_EF,"showLine")},1),this.scheduleOnce(function(){e.resetItem(),n.emit(i.PLAY_ANIMATION_ANI,{count:s.LotteryRes.viewarray.getFreeTime.nFreeTime,callback:function(){n.emit(i.UPDATE_FREE_TIME_ALL),c.isNormalGame()?n.emit(i.SHOW_TRANSIT_ANI,{callback:function(){s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)}}):e.scheduleOnce(function(){s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)},2)}})},2)},showX3Ani:function(){c.isNormalGame()||this.aniX3.getComponent(cc.Animation).play()},showFreeNode:function(){this.freeNode.active=!0,this.freeNode.getComponent(a.BUNDLE_NAME+"Free").show(),this.aniX3.active=!0},hideFreeNode:function(){this.freeNode.active=!1,this.aniX3.active=!1},enterOneFreeGame:function(){var e=this;n.emit(i.PLAY_AUDIO_EF,"bonus"),this.scheduleOnce(function(){n.emit(i.PLAY_AUDIO_EF,"bonus")},1),this.retainWheelList=[];for(var t=0;t<this.wheelList.length;t++){var s=this.wheelList[t].getComponent(a.BUNDLE_NAME+"Wheel");s.checkBonus()&&(s.playMaskAni(),this.retainWheelList.push(t))}for(var o=0;o<this.resultList.length;o++)this.resultList[o].getComponent(a.BUNDLE_NAME+"Item").isBonusItem()&&(this.resultList[o].active=!1,this.wheelAniItemList[o].active=!0,this.wheelAniItemList[o].getComponent(a.BUNDLE_NAME+"ItemAni").playAniBonus(!0));this.scheduleOnce(function(){e.onFakeRoll()},3)},onFakeRoll:function(){var e=this;s.IsFakeSolt=!0,this.wheelNetData=c.convertNetData(s.LotteryRes.viewarray.nHandCards);for(var t=0,o=function(i){if(e.retainWheelList.includes(i))return"continue";e.wheelList[i].getComponent(a.BUNDLE_NAME+"Wheel").onStartRoll(),e.scheduleOnce(function(){e.wheelList[i].getComponent(a.BUNDLE_NAME+"Wheel").onGetNetData(e.wheelNetData[i])},1+.5*t),t++},r=0;r<this.wheelList.length;r++)o(r);n.emit(i.PLAY_AUDIO_BGM,{id:3}),s.Status=a.GAME_STATE.ROLL_END,n.emit(i.CHANGE_GAME_STATUS),this.retainWheelList=[],this.scheduleOnce(this.stateCallBack,.5*t+1.2)},showBigWin:function(e,t){cc.log("show big win");var a=e/s.BetValue;n.emit(i.SHOW_BIG_WIN,{coins:e,rate:a,callback:t})},onStartRoll:function(){this.stopImmediately=!1,this.bonusWheelCount=0,this.isListenIng=!1,this.closeShine()},onStopImmediately:function(){for(var e=0;e<this.wheelList.length;e++)this.wheelList[e].getComponent(a.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[e]);this.stopImmediately=!0},onLoginGameResult:function(e){cc.log("onLoginGameResult",e),s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS),e.Obj&&e.Obj.betList&&(s.slotBetList=e.Obj.betList)},onLotteryResult:function(){c.isNormalGame()||(s.FreeTimeNow++,n.emit(i.UPDATE_FREE_TIME_NOW)),s.Status=a.GAME_STATE.ROLL_END,n.emit(i.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(s.LotteryRes.viewarray.nHandCards),s.OrLotteryRes.viewarray.length>1&&(this.bIsOneFreeGame=!0),this.wheelList[0].getComponent(a.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[0])},onLotteryErrResult:function(e){cc.log(e),n.emit(i.RESET_WHEEL),s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)},onChangeGameMode:function(){this.changeBgImg(),s.GameMode==a.GAME_MODE.NORMAL?this.enterNormal():s.GameMode==a.GAME_MODE.FREE&&this.enterFree()},onHideBigWin:function(){n.emit(i.PLAY_AUDIO_BGM,{id:0}),s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)},onHideYouWin:function(){n.emit(i.PLAY_AUDIO_BGM,{id:0}),s.Status=a.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)},onWheelRollEnd:function(e){if(this.stopImmediately){if(e==this.wheelList.length-1){if(s.IsFakeSolt)return;return void this.stateCallBack()}}else s.IsFakeSolt||(e!=a.WHEEL_COUNT-1?this.wheelList[e+1].getComponent(a.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[e+1]):this.stateCallBack())},onEnable:function(){n.addEventListener(i.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),n.addEventListener(i.HIDE_YOU_WIN,this.onHideYouWin,this),n.addEventListener(i.HIDE_BIG_WIN,this.onHideBigWin,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.addEventListener(i.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},initWheel:function(){this.wheelList=[],this.wheelAniList=[],this.wheelNormalItemList=[],this.wheelAniItemList=[],this.wheelMaskItemlist=[];for(var e=0;e<a.WHEEL_COUNT;e++){var t=cc.instantiate(this.preWheel);this.layoutWheel.addChild(t),this.wheelList.push(t);var i=t.getComponent(a.BUNDLE_NAME+"Wheel");i.setWheelData(e);for(var n=i.getItemlist(),s=0;s<n.length;s++)this.wheelNormalItemList.push(n[s]);var o=cc.instantiate(this.preWheelAni);this.layoutWheelAni.addChild(o),this.wheelAniList.push(o),o.getComponent(a.BUNDLE_NAME+"WheelAni").setWheelData(e)}for(var c=a.VERTICAL_ITEM_COUNT-1;c>=0;c--)for(var r=0;r<this.wheelList.length;r++){var l=this.wheelAniList[r].getComponent(a.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(l[c]);var h=this.wheelList[r].getComponent(a.BUNDLE_NAME+"Wheel").getItemMaskList();this.wheelMaskItemlist.push(h[c])}},initFree:function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode),this.freeNode.active=!1}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathItemConfig:"BubbleBathItemConfig",BubbleBathUserData:"BubbleBathUserData",BubbleBathUtil:"BubbleBathUtil"}],BubbleBathMenu:[function(e,t){"use strict";cc._RF.push(t,"2f9ec8iVf5NAIHOfVTYlWM4","BubbleBathMenu");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathUserData"),s=e("BubbleBathGameData"),o=e("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.isRunActioning=!1,this.initUI(),this.loadUI()},initUI:function(){this.menuMask=cc.find("btnCloseMenu",this.node),this.menuMask.on("click",this.onClickCloseMenu,this),this.pnlMenu=cc.find("pnlMenu",this.node),this.pnlMenu.active=!1;var e=cc.find("btnMenu",this.pnlMenu);e.on("click",this.onClickShowMenu,this),this.imgMenuEffect=cc.find("imgEffect",e),this.pnlMenuMain=cc.find("pnlMenuMain",this.node),this.pnlHelp=cc.find("pnlHelp",this.node)},loadUI:function(){var e=this;a.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(t,i){t||(e.spAtlas=i,e.initMenu(),e.initMenuMain(),e.initHelp())})},initMenu:function(){cc.find("btnMenu",this.pnlMenu).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Menu"),this.imgMenuEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_Lob_But_Menu_Open_shine"),this.initMenuEffect()},initMenuEffect:function(){cc.tween(this.imgMenuEffect).repeatForever(cc.tween().to(1,{opacity:0}).to(1,{opacity:255})).start()},initMenuMain:function(){this.pnlMenuMain.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Board_Lar");var e=cc.find("layout",this.pnlMenuMain),t=cc.find("itemSound",e);t.on("click",this.onClickSound,this),cc.find("imgLine",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar"),cc.find("imgTagBg",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_Board"),this.imgSoundOn=cc.find("imgSoundOn",t),this.imgSoundOn.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OnPoint"),this.imgSoundOff=cc.find("imgSoundOff",t),this.imgSoundOff.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OffPoint");var i=cc.find("itemHelp",e);i.on("click",this.onClickShowHelp,this),cc.find("imgLine",i).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar");var n=cc.find("itemHome",e);n.on("click",this.onClickHome,this),cc.find("imgHome",n).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Home")},initHelp:function(){var e=this;cc.find("mask",this.pnlHelp).on("click",this.onClickHideHelp,this);var t=cc.find("btnClose",this.pnlHelp);t.on("click",this.onClickHideHelp,this),a.Bundle.load("resources/image/close",cc.SpriteFrame,function(e,i){t.getComponent(cc.Sprite).spriteFrame=i}),a.Bundle.load("resources/image/help",cc.SpriteFrame,function(t,i){var n=i.getOriginalSize(),a=cc.find("scrollView/view/content",e.pnlHelp);a.height=n.height,cc.find("imgItem",a).getComponent(cc.Sprite).spriteFrame=i})},onClickCloseMenu:function(){this.hide(),n.emit(i.PLAY_AUDIO_EF,"btnHide")},onClickShowMenu:function(){this.show(),n.emit(i.PLAY_AUDIO_EF,"btnShow")},onClickSound:function(){o.getInstant.musicControl=!o.getInstant.musicControl,this.imgSoundOn.active=o.getInstant.musicControl,this.imgSoundOff.active=!o.getInstant.musicControl,o.getInstant.musicControl?(s.GAME_MODE.NORMAL==a.GameMode?n.emit(i.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):s.GAME_MODE.FREE==a.GameMode&&n.emit(i.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),n.emit(i.PLAY_AUDIO_EF,"btnShow")):n.emit(i.STOP_AUDIO)},onClickShowHelp:function(){this.pnlHelp.active=!0,n.emit(i.PLAY_AUDIO_EF,"btnShow")},onClickHideHelp:function(){this.pnlHelp.active=!1,n.emit(i.PLAY_AUDIO_EF,"btnHide")},onClickHome:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)},type:0})},show:function(){var e=this;this.isRunActioning||(this.isRunActioning=!0,this.pnlMenuMain.active=!0,this.menuMask.active=!0,cc.tween(this.pnlMenu).to(.3,{x:700}).call(function(){cc.tween(e.pnlMenuMain).to(.3,{x:556}).call(function(){e.isRunActioning=!1}).start()}).start())},hide:function(){var e=this;this.isRunActioning||(this.isRunActioning=!0,this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:720}).call(function(){cc.tween(e.pnlMenu).to(.3,{x:580}).call(function(){e.pnlMenuMain.active=!1,e.isRunActioning=!1}).start()}).start())},inFreeGame:function(){this.menuMask.active=!1,cc.tween(this.pnlMenu).to(.3,{x:700}).call(function(){}).start(),this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:720}).call(function(){}).start()},onChangeGameMode:function(){a.GameMode==s.GAME_MODE.NORMAL?this.hide():this.inFreeGame()},onEnable:function(){n.addEventListener("SHOW_HELP",this.onClickShowHelp,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathUserData:"BubbleBathUserData",PlayerInfo:void 0}],BubbleBathNetWheelConfig:[function(e,t){"use strict";cc._RF.push(t,"0ab87XXeV9LAIBjV8nNBmXk","BubbleBathNetWheelConfig");var i=[{freeCount:0,freeTotal:4,userscore:89520,winscore:1415,viewarray:[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10},{frees:[[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10},{getFreeTime:{bFlag:!0,freeType:0,nFreeTime:10},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}],[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,4,9,9,2,6,9,9,6,8,2,6,4,4,9],nWinLinesDetail:[[5,9,7,8]],win:10}]],getFreeTime:{bFlag:!0,freeType:0,nFreeTime:10},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}]},{freeCount:0,freeTotal:4,userscore:89520,winscore:10,viewarray:[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}]}],n=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!0,freeType:0,nFreeTime:4},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:10}},{freeCount:4,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8]],win:0}},{freeCount:3,freeTotal:4,userscore:89520,winscore:0,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[],win:0}},{freeCount:2,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8],[0,10,7,8]],win:0}},{freeCount:1,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8],[0,10,7,8]],win:0}},{freeCount:3,freeTotal:6,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!0,freeType:0,nFreeTime:2},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[[5,10,7,8],[0,10,7,8]],win:0}},{freeCount:2,freeTotal:6,userscore:89520,winscore:0,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[],win:0}},{freeCount:1,freeTotal:6,userscore:89520,winscore:0,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[],win:0}},{freeCount:0,freeTotal:6,userscore:89520,winscore:0,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,4,9,9,2,6,9,10,6,8,2,6,4,4,10],nWinLinesDetail:[],win:0}}],a=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nWinCards:[!1,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1],nHandCards:[2,9,10,9,9,3,9,9,5,2,7,9,9,9,10],nWinLinesDetail:[[0,1,12]],win:0,userscore:1e4},{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nWinCards:[!1,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1],nHandCards:[2,9,3,9,9,3,9,9,5,2,7,9,9,9,10],nWinLinesDetail:[[0,1,12]],win:0,userscore:1e4}]},{freeCount:0,freeTotal:0,userscore:89520,winscore:0,viewarray:[{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nWinCards:[!1,!0,!0,!0,!0,!0,!1,!0,!0,!0,!0,!0,!1,!1],nHandCards:[2,10,3,10,10,3,10,10,5,2,7,10,10,10,10],nWinLinesDetail:[[3,7,12]],win:0,userscore:1e4}]}],s=0,o={FREE:0,FREE_TO_FREE:1,NORMAL:2},c=o.NORMAL,r={Inint:function(){s=0},GetNetConfig:function(){var e;switch(c){case o.FREE:e=i;break;case o.FREE_TO_FREE:e=n;break;case o.NORMAL:e=a}s>=e.length&&(s=0);var t=e[s];return s++,t},GroupType:o,LoginFreeData:{freeCount:2,freeType:5,totalFreeScore:0,totalFreeTimes:9,gameDict:{betsum:25,freeSlots:[2,6,1,4,5]}}};t.exports=r,cc._RF.pop()},{}],BubbleBathNetwork:[function(e,t){"use strict";cc._RF.push(t,"3ad52N0w55BIIl/RT5YXhSQ","BubbleBathNetwork");var i=e("PlayerInfo"),n=e("BubbleBathEventConfig"),a=e("BubbleBathEventManager"),s=e("BubbleBathUserData"),o=e("BubbleBathGameData"),c=e("BubbleBathUtil");e("BubbleBathNetWheelConfig"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=i.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(e,t){var i=null;if("error"==e&&(cc.log("socket error"),a.emit(n.SHOW_TIP_VIEW,{callback:function(){a.emit(n.OUT_GAME)}})),"connect_error"==e&&(cc.log("connect_error"),a.emit(n.SHOW_TIP_VIEW,{callback:function(){a.emit(n.OUT_GAME)}})),"UPDATE_COIN"==e&&a.emit("UPDATE_COIN"),"connect_timeout"==e&&(cc.log("connect_timeout"),a.emit(n.SHOW_TIP_VIEW,{callback:function(){a.emit(n.OUT_GAME)}})),"disconnect"==e){if(this.isOutGameIng)return;cc.log("disconnect"),a.emit(n.SHOW_TIP_VIEW,{callback:function(){a.emit(n.OUT_GAME)}})}if("loginGameResult"==e){if(i=changeResultJSON_Function(t),cc.log("LoginGameResult:",i),"1"!=i.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void a.emit(n.SHOW_TIP_VIEW,{callback:function(){a.emit(n.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),window.sendNetWorkData("LoginfreeCount",JSON.stringify({})),a.emit(n.ON_LOGIN_GAME_RESULT,i),s.LoginGameResultData=i}if("lotteryResult"==e)if((i=changeResultJSON_Function(t)).ResultCode&&1==i.ResultCode){var o=JSON.parse(JSON.stringify(i.ResultData));cc.log("resData:",o),s.OrLotteryRes=c.extendCopy(o),s.LotteryRes=o,a.emit(n.ON_LOTTERY_RESULT)}else a.emit(n.ON_LOTTERY_RESULT_ERR);"LoginRoomResult"==e&&(i=changeResultJSON_Function(t),cc.log("LoginRoomResult",i)),"pushGamblingWinPool"==e&&(i=changeResultJSON_Function(t),cc.log("pushGamblingWinPool=>",i),1==i.ResultCode&&a.emit(n.ON_PUSH_GAMBLING_WIN_POOL,i.nGamblingWinPool))},sendRollData:function(){for(var e=[],t=0;t<s.Line;t++)e.push(s.BetValue/s.Line);cc.log("lottery=>",JSON.stringify({bet:s.BetIndex,nBetList:e})),window.sendNetWorkData("lottery",JSON.stringify({bet:s.BetIndex,nBetList:e}))},onStartRoll:function(){if(s.Status=o.GAME_STATE.REQUEST,a.emit(n.CHANGE_GAME_STATUS),cc.log("lottery, bet :"+s.BetIndex+" , nBetList :"+s.BetValue),!s.IsFakeSolt)return s.IsFreeSolt?(s.LotteryRes.viewarray=s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex],s.LotteryRes.winscore=s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex].win,s.FreeSoltIndex++,void a.emit(n.ON_LOTTERY_RESULT)):void this.sendRollData()},onAddUserCoins:function(e){cc.log("chargeAll =>",e)},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.isOutGameIng=!0,a.destroy(),cc.director.loadScene(window.hallName)},onEnable:function(){a.addEventListener(n.ADD_USER_COINS,this.onAddUserCoins,this),a.addEventListener(n.START_ROLL,this.onStartRoll,this),a.addEventListener(n.OUT_GAME,this.onOutGame,this)},onDestroy:function(){}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathNetWheelConfig:"BubbleBathNetWheelConfig",BubbleBathUserData:"BubbleBathUserData",BubbleBathUtil:"BubbleBathUtil",PlayerInfo:void 0}],BubbleBathParticle:[function(e,t){"use strict";cc._RF.push(t,"a657fsG3DJCWqnwFqJVZ+ML","BubbleBathParticle");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager");e("BubbleBathGameData"),e("BubbleBathUserData"),cc.Class({extends:cc.Component,properties:{itemParticle:cc.Node},onLoad:function(){},newParticle:function(){var e=cc.instantiate(this.itemParticle);return e.active=!0,this.node.addChild(e),e},playParticleAni:function(e){var t=this.newParticle(),i=this.node.convertToNodeSpaceAR(e.or),n=this.node.convertToNodeSpaceAR(e.to);t.x=i.x,t.y=i.y,cc.tween(t).to(1,{x:n.x,y:n.y},{easing:"quadIn"}).call(function(){cc.tween(t.getComponent(cc.ParticleSystem)).to(.3,{emissionRate:0}).delay(.3).call(function(){t.destroy()}).start()}).start()},onEnable:function(){n.addEventListener(i.PLAY_PARTICLE_ANI,this.playParticleAni,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathUserData:"BubbleBathUserData"}],BubbleBathScene:[function(e,t){"use strict";cc._RF.push(t,"054cfaTsAlFyrgsMnGThMjl","BubbleBathScene");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathGameData"),s=e("BubbleBathUserData"),o=e("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preTransit:cc.Prefab,preAnimation:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.labCoinsTip.active=!1},initData:function(){s.slotBetList=o.getInstant.slotBetList,s.slotBetList||(s.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),o.getInstant.maxBet||(o.getInstant.maxBet=2e3),o.getInstant.fixedBet||(o.getInstant.fixedBet=50),s.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),s.BetValue=s.Line},onChangeGameMode:function(){},onShowNotMoney:function(){var e=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(e.labCoinsTip).to(1,{opacity:0}).call(function(){e.labCoinsTip.active=!1}).start()},3))},onEnable:function(){n.addEventListener(i.HAVE_NO_MONEY,this.onShowNotMoney,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.initGameUIMain(),this.initGameUIUp(),this.initGameUIDown(),this.initGameMenu(),this.initBigWin(),this.initYouWin(),this.initTipView(),this.initTransit(),this.initAnimationMain()},initGameUIMain:function(){},initAnimationMain:function(){var e=cc.instantiate(this.preAnimation);this.aniNode.addChild(e)},initTransit:function(){var e=cc.instantiate(this.preTransit);this.aniNode.addChild(e)},initBigWin:function(){var e=this;s.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(a.BUNDLE_NAME+"BigWin"),e.menuNode.addChild(n),n.active=!1}})},initYouWin:function(){var e=this;s.Bundle.load("resources/prefab/preYouWin",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(a.BUNDLE_NAME+"YouWin"),e.menuNode.addChild(n),n.active=!1}})},initGameUIUp:function(){cc.resources.load("prefabs/preTopUI",function(e,t){if(e)cc.log(e);else{var i=cc.instantiate(t);i.addComponent(a.BUNDLE_NAME+"UpUI"),this.gameNode.addChild(i)}}.bind(this))},onDestroy:function(){n.destroy()},initGameUIDown:function(){cc.resources.load("prefabs/commonUi2",function(e,t){if(e)cc.log(e);else{var i=cc.instantiate(t);i.addComponent(a.BUNDLE_NAME+"DownUI"),this.gameNode.addChild(i,1e3);var n=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",i.width,i.height,n),i.scaleX=n.width/1920,i.scaleY=n.height/1080}}.bind(this))},initGameMenu:function(){var e=this;s.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(a.BUNDLE_NAME+"Menu"),e.showNode.addChild(n)}})},initTipView:function(){var e=this;s.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(a.BUNDLE_NAME+"TipView"),e.topNode.addChild(n)}})}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathUserData:"BubbleBathUserData",PlayerInfo:void 0}],BubbleBathTipView:[function(e,t){"use strict";cc._RF.push(t,"c45c7BqsaJE4r5ObMgKWp9p","BubbleBathTipView");var i=e("BubbleBathUserData"),n=e("BubbleBathEventConfig"),a=e("BubbleBathEventManager"),s=[];s[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var e=this;i.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(t,i){t||(cc.find("imgBg",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_But_Close"))})},show:function(e,t){this.node.active=!0,this.callback=e,null!=t&&(this.labContext.string=s[t])},onClickOK:function(){this.callback(),this.node.active=!1},onClickHide:function(){this.node.active=!1},onShowView:function(e){this.show(e.callback,e.type)},addEventListener:function(){a.addEventListener(n.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathUserData:"BubbleBathUserData"}],BubbleBathTransit:[function(e,t){"use strict";cc._RF.push(t,"e70d8k+XGNJQbPOnaIzST1a","BubbleBathTransit");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathUserData"),s=e("BubbleBathGameData");cc.Class({extends:cc.Component,properties:{imgMask:cc.Node},onLoad:function(){this.imgMask.active=!1,this.addEventListener()},show:function(e){var t=this;this.callback=e.callback,this.imgMask.active=!0,this.imgMask.opacity=0,cc.tween(this.imgMask).to(1,{opacity:255}).call(function(){a.GameMode==s.GAME_MODE.FREE?a.GameMode=s.GAME_MODE.NORMAL:a.GameMode=s.GAME_MODE.FREE,n.emit(i.CHANGE_GAME_MODE)}).to(1,{opacity:0}).call(function(){t.imgMask.active=!1,t.callback()}).start()},addEventListener:function(){n.addEventListener(i.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathUserData:"BubbleBathUserData"}],BubbleBathUpUI:[function(e,t){"use strict";cc._RF.push(t,"991aeilrIBPq7Gj9gBGnR7H","BubbleBathUpUI");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathUserData"),s=e("BubbleBathUtil");cc.Class({extends:cc.Component,onLoad:function(){resizeWinX(this),this.initUI(),a.LoginGameResultData&&this.onLoginGameResult(a.LoginGameResultData)},initUI:function(){var e=cc.find("topBarText",this.node);this.labGrand=cc.find("labGrand",e).getComponent(cc.Label),this.labMajor=cc.find("labMajor",e).getComponent(cc.Label),this.labMinor=cc.find("labMinor",e).getComponent(cc.Label),this.labMini=cc.find("labMini",e).getComponent(cc.Label)},loadUI:function(){var e=this;a.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(t,i){t||(cc.find("bkgTopBar",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("bkgTopBar1",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("topBarText",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_UpUI_JPField"))})},updatePool:function(e){this.labGrand.string="$"+s.formattingCoins(500*e),this.labMajor.string="$"+s.formattingCoins(200*e),this.labMinor.string="$"+s.formattingCoins(50*e),this.labMini.string="$"+s.formattingCoins(15*e)},onLoginGameResult:function(e){cc.log("onLoginGameResult",e),1==e.resultid&&this.updatePool(e.Obj.nGamblingWinPool)},onPushGamblingWinPoolResult:function(e){cc.log("onPushGamblingWinPoolResult",e),this.updatePool(e)},onEnable:function(){n.addEventListener(i.ON_PUSH_GAMBLING_WIN_POOL,this.onPushGamblingWinPoolResult,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathUserData:"BubbleBathUserData",BubbleBathUtil:"BubbleBathUtil"}],BubbleBathUserData:[function(e,t){"use strict";cc._RF.push(t,"46269n6KtZE0JXJ3QWnLeAY","BubbleBathUserData");var i={Bundle:null,FreeTimeNow:0,FreeTimeAll:0,FreeWinCoins:0,IsAuto:!1,IsFakeSolt:!1,IsFreeSolt:!1,FreeSoltIndex:0,FreeSoltRes:null,LotteryRes:null,OrLotteryRes:null,init:function(e){i.Bundle=e,i.GameMode=0,i.Status=0,i.BetIndex=0,i.Line=20,i.IsAuto=!1,i.IsFakeSolt=!1,i.IsFreeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};t.exports=i,cc._RF.pop()},{}],BubbleBathUtil:[function(e,t){"use strict";cc._RF.push(t,"efd29tybAZG0IBpDZ4EnzBg","BubbleBathUtil");var i=e("BubbleBathGameData"),n=e("BubbleBathUserData"),a=e("BubbleBathItemConfig"),s=e("PlayerInfo"),o={convertNetData:function(e){for(var t=[],i=0;i<5;i++)t[i]=[];for(var n in e)t[n%5][2-parseInt(n/5)]=e[n];return t},getRandItemID:function(e){var t=parseInt(Math.random()*e.length);return t>=e.length&&(t=e.length),t<=1&&(t=1),t},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},checkBigWin:function(e){return e/n.BetValue>=10},updateSetString:function(e,t,i,n,a,s){var o=0,c=Math.ceil(e/n);i.string=t;var r=0;s.schedule(function(){(o+=c)>e&&(o=e),i.string=o+t,++r==n+1&&a()},.02,n)},extendCopy:function(e){var t={};for(var i in e)t[i]=e[i];return t},formattingCoins:function(e){return(e/s.getInstant.exchangeRate).toFixed(2)},checkWildPrize:function(e,t){var i=[];if(t.winscore<=0)return i;for(var n=o.convertNetData(t.viewarray.nWinCards),s=1;s<e.length-1;s++){for(var c=!0,r=0;r<e[s].length;r++)if(e[s][r]!=a.WILD_ID){c=!1;break}for(var l=!1,h=0;h<n[s].length;h++)if(n[s][h]){l=!0;break}c&&l&&i.push(s)}return i},getFreeSlotWheelData:function(e){for(var t=[],i=0;i<e.length;i++)t[i]=[],t[i][0]=o.getRandItemID(a.SpriteFramelist),t[i][1]=e[i]+1,t[i][2]=o.getRandItemID(a.SpriteFramelist);return t}};t.exports=o,cc._RF.pop()},{BubbleBathGameData:"BubbleBathGameData",BubbleBathItemConfig:"BubbleBathItemConfig",BubbleBathUserData:"BubbleBathUserData",PlayerInfo:void 0}],BubbleBathWheelAni:[function(e,t){"use strict";cc._RF.push(t,"705fcXXwwpLwLpCP9M4pEKm","BubbleBathWheelAni");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathGameData"),s=e("BubbleBathItemConfig"),o=e("BubbleBathUserData");cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=s.WHEEL_WIDTH,this.node.height=s.WHEEL_HEIGHT},setWheelData:function(e){this.wheelId=e,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(e){e.getComponent(a.BUNDLE_NAME+"ItemAni").reset(),e.active=!1},onStartRoll:function(){if(this.effectTweenGroup=[],o.IsFakeSolt)for(var e=0;e<this.itemAniList.length;e++)e>=5&&e<=9&&this.resetItem(this.itemAniList[e]);else for(var t=0;t<this.itemAniList.length;t++)this.resetItem(this.itemAniList[t])},onEnable:function(){n.addEventListener(i.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var e=0;e<a.VERTICAL_ITEM_COUNT;e++){var t=cc.instantiate(this.preItemAni);this.itemAniList.push(t),this.pnlItemAni.addChild(t),t.y=s.ITEM_HEIGHT*e-s.ITEM_HEIGHT,t.active=!1}}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathItemConfig:"BubbleBathItemConfig",BubbleBathUserData:"BubbleBathUserData"}],BubbleBathWheel:[function(e,t){"use strict";cc._RF.push(t,"3ca5b5xV6lGrIppWrGfLKG9","BubbleBathWheel");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathGameData"),s=(e("BubbleBathUserData"),e("BubbleBathItemConfig"));cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,preItemMask:cc.Node,pnlItem:cc.Node,pnlItemMask:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=s.WHEEL_WIDTH,this.node.height=s.WHEEL_HEIGHT,this.preItemMask.width=s.ITEM_WIDTH,this.preItemMask.height=s.ITEM_HEIGHT},setWheelData:function(e){this.wheelId=e,this.initItem(),this.initItemMask()},checkBonus:function(){for(var e=0;e<this.resultItemList.length;e++)if(this.resultItemList[e].getComponent(a.BUNDLE_NAME+"Item").isBonusItem())return!0;return!1},getResultItemByItemPos:function(e){return this.resultItemList[e]},getListItemByItemPos:function(e){return this.itemList[e]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},getItemMaskList:function(){return this.itemMaskList},playMaskAni:function(){for(var e=this,t=function(t){cc.tween(e.node).delay(1).delay(.1).call(function(){e.itemMaskList[t].active=!0}).delay(.1).call(function(){e.itemMaskList[t].active=!1}).delay(.1).call(function(){e.itemMaskList[t].active=!0}).delay(.1).call(function(){e.itemMaskList[t].active=!1}).delay(.5).call(function(){e.itemMaskList[t].active=!0}).start()},i=0;i<this.itemMaskList.length;i++)t(i)},reset:function(){for(var e=0;e<this.itemMaskList.length;e++)this.itemMaskList[e].active=!1;for(var t=0;t<this.itemList.length;t++)this.itemList[t].active=!0},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.unschedule(this.onStopRollScheduleCallback),this.isStopRoll=!0},onChangeGameMode:function(){},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.addEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(e){this.netIdList=e,this.onStopRollScheduleCallback()},onStopRollScheduleCallback:function(){this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var e=this;this.resultItemList=[];for(var t=function(t){var i=e.itemList[t],n=cc.tween(i);i.getComponent(a.BUNDLE_NAME+"Item").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-s.ITEM_HEIGHT)}).call(function(){i.y<-s.ITEM_HEIGHT-s.ITEM_HEIGHT/2&&(i.y=3*s.ITEM_HEIGHT-s.ITEM_HEIGHT,i.getComponent(a.BUNDLE_NAME+"Item").randImg()),e.isStopRoll&&(n.stop(),e.rollEnd(i,t)),e.isResetRoll&&(n.stop(),e.resetRolePos(i,t))})).start()},i=0;i<this.itemList.length;i++)t(i)},rollEnd:function(e,t){var o=this,c=this;cc.tween(e).repeat(4,cc.tween().by(.06,{position:cc.v2(0,-s.ITEM_HEIGHT)}).call(function(){e.y<-s.ITEM_HEIGHT-s.ITEM_HEIGHT/2&&(e.y=3*s.ITEM_HEIGHT-s.ITEM_HEIGHT,c.itemIndex>=c.netIdList.length?e.getComponent(a.BUNDLE_NAME+"Item").randImg():(e.getComponent(a.BUNDLE_NAME+"Item").changeItem(c.netIdList[c.itemIndex]),c.resultItemList.push(e)),e.getComponent(a.BUNDLE_NAME+"Item").setItemVericalPos(c.itemIndex),c.itemIndex++)})).call(function(){var r=e.getComponent(a.BUNDLE_NAME+"Item").getItemVerticalPos(c.itemIndex);r=-1==r?3:r,e.y=r*s.ITEM_HEIGHT-s.ITEM_HEIGHT,t==o.itemList.length-1&&n.emit(i.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){e.y<s.ITEM_HEIGHT+s.ITEM_HEIGHT/2&&e.getComponent(a.BUNDLE_NAME+"Item").rollEnd(),o.itemList.length-1==t&&n.emit(i.ON_WHEEL_ROLL_END,o.wheelId)}).start()},resetRolePos:function(e,t){e.y=s.ITEM_HEIGHT*t-s.ITEM_HEIGHT},initItem:function(){this.itemList=[];for(var e=0;e<4;e++){var t=cc.instantiate(this.preItem);this.itemList.push(t),this.pnlItem.addChild(t),t.y=s.ITEM_HEIGHT*e-s.ITEM_HEIGHT,t.getComponent(a.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}},initItemMask:function(){this.itemMaskList=[];for(var e=0;e<a.VERTICAL_ITEM_COUNT;e++){var t=cc.instantiate(this.preItemMask);this.itemMaskList.push(t),this.pnlItemMask.addChild(t),t.y=s.ITEM_HEIGHT*e-s.ITEM_HEIGHT,t.active=!1}}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathGameData:"BubbleBathGameData",BubbleBathItemConfig:"BubbleBathItemConfig",BubbleBathUserData:"BubbleBathUserData"}],BubbleBathYouWin:[function(e,t){"use strict";cc._RF.push(t,"f8733YO3VxJyZoY979LLuXd","BubbleBathYouWin");var i=e("BubbleBathEventConfig"),n=e("BubbleBathEventManager"),a=e("BubbleBathUserData"),s=e("BubbleBathUtil");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.addEventListener()},initUI:function(){var e=this;this.labWinCoins=cc.find("imgCoinsBg/labWinCoins",this.node).getComponent(cc.Label),a.Bundle.load("resources/image/youWin",cc.SpriteAtlas,function(t,i){t?cc.log(t):(cc.find("imgFntYouWin",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("YOU_WIN"),cc.find("imgCoinsBg",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("BIG_WIN_frame"))})},show:function(e){var t=this;this.node.active=!0,n.emit(i.PLAY_AUDIO_BGM,{id:1});var a=Math.ceil(e/50),o=0;this.labWinCoins.string=s.formattingCoins(o),this.schedule(function(){o=(o+=a)>e?e:o,t.labWinCoins.string=s.formattingCoins(o)},.1,49),this.scheduleOnce(function(){t.hide()},6)},hide:function(){n.emit(i.HIDE_YOU_WIN),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{BubbleBathEventConfig:"BubbleBathEventConfig",BubbleBathEventManager:"BubbleBathEventManager",BubbleBathUserData:"BubbleBathUserData",BubbleBathUtil:"BubbleBathUtil"}]},{},["BubbleBathAnimation","BubbleBathAudio","BubbleBathFree","BubbleBathItem","BubbleBathItemAni","BubbleBathMain","BubbleBathNetwork","BubbleBathScene","BubbleBathTransit","BubbleBathUtil","BubbleBathWheel","BubbleBathWheelAni","BubbleBathBigWin","BubbleBathDownUI","BubbleBathMenu","BubbleBathParticle","BubbleBathTipView","BubbleBathUpUI","BubbleBathYouWin","BubbleBathEventConfig","BubbleBathEventManager","BubbleBathGameData","BubbleBathItemConfig","BubbleBathNetWheelConfig","BubbleBathUserData"]);