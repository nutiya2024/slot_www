window.__require=function e(t,n,i){function s(a,c){if(!n[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){return s(t[a][1][e]||e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<i.length;a++)s(i[a]);return s}({GoldenTeasuresActiveSymbols:[function(e,t){"use strict";cc._RF.push(t,"cb7aabWYf9HMIu3VEzJzYdJ","GoldenTeasuresActiveSymbols");var n=e("GoldenTeasuresUserData"),i=e("GoldenTeasuresEventConfig"),s=e("GoldenTeasuresEventManager"),o=e("GoldenTeasuresGameData"),a=[];a[20]=["FlyDra_Sym_Dragon_s","FlyDra_Sym_Phoenix_s","FlyDra_Sym_Fish_s","FlyDra_Sym_Tortoi_s","FlyDra_Sym_DraBall_s"],a[40]=["FlyDra_Sym_Dragon_s","FlyDra_Sym_Phoenix_s","FlyDra_Sym_Fish_s","FlyDra_Sym_Tortoi_Go_s","FlyDra_Sym_DraBall_s"],a[60]=["FlyDra_Sym_Dragon_s","FlyDra_Sym_Phoenix_s","FlyDra_Sym_Fish_Go_s","FlyDra_Sym_Tortoi_Go_s","FlyDra_Sym_DraBall_s"],a[80]=["FlyDra_Sym_Dragon_s","FlyDra_Sym_Phoenix_Go_s","FlyDra_Sym_Fish_Go_s","FlyDra_Sym_Tortoi_Go_s","FlyDra_Sym_DraBall_s"],a[100]=["FlyDra_Sym_Dragon_Go_s","FlyDra_Sym_Phoenix_Go_s","FlyDra_Sym_Fish_Go_s","FlyDra_Sym_Tortoi_Go_s","FlyDra_Sym_DraBall_s"],cc.Class({extends:cc.Component,properties:{layout:cc.Node,preItem:cc.Prefab,itemList:{default:[],type:cc.Node}},onLoad:function(){this.initLayout(),this.changeItem(),this.addEventListener()},changeItem:function(){var e=n.BetValue,t=a[e=e>100?100:e];if(!t){var i=e*n.Line>100?100:e*n.Line;t=a[i]}cc.log("changeItem",e,a);for(var s=0;s<t.length;s++)this.itemList[s].getComponent(o.BUNDLE_NAME+"SItem").changeImg(t[s])},onUpdateBet:function(){this.changeItem()},initLayout:function(){for(var e=0;e<5;e++){var t=cc.instantiate(this.preItem);this.layout.addChild(t),this.itemList.push(t)}},addEventListener:function(){s.addEventListener(i.UPDATE_BET,this.onUpdateBet,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresAudio:[function(e,t){"use strict";cc._RF.push(t,"c411cHCoZpOmZfEUNOQpCb7","GoldenTeasuresAudio");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},startWheel:cc.AudioClip,stopWheel:cc.AudioClip,btnShow:cc.AudioClip,btnHide:cc.AudioClip,inFreeTime:cc.AudioClip,showLine:cc.AudioClip,winLine:cc.AudioClip,rollOver:cc.AudioClip,freeGameOver:cc.AudioClip,guangquanfei:cc.AudioClip,jiesuanFei:cc.AudioClip,model2jiesuanMove:cc.AudioClip,model2moveHou:cc.AudioClip,qianluo:cc.AudioClip,zhongBonus:cc.AudioClip,onTouchGame:cc.AudioClip,itemMove:cc.AudioClip},onLoad:function(){this.pInfo=e("PlayerInfo").getInstant,this.bgmID=0},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(e){0!=this.pInfo.musicControl&&(this.bgmID!=e.id||e.isFrist)&&(this.bgmID=e.id,this.bgmAudio[e.id]?(cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[e.id],!0)):cc.log("\u627e\u4e0d\u5230bgm\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",e.id))},playEf:function(e){if(0!=this.pInfo.soundEffectControl)switch(e){case"startWheel":this.callAudioPlayEff(this.startWheel);break;case"stopWheel":this.callAudioPlayEff(this.stopWheel);break;case"btnShow":this.callAudioPlayEff(this.btnShow);break;case"btnHide":this.callAudioPlayEff(this.btnHide);break;case"inFreeTime":this.callAudioPlayEff(this.inFreeTime);break;case"showLine":this.callAudioPlayEff(this.showLine);break;case"winLine":this.callAudioPlayEff(this.winLine);break;case"rollOver":this.callAudioPlayEff(this.rollOver);break;case"freeGameOver":this.callAudioPlayEff(this.freeGameOver);break;case"guangquanfei":this.callAudioPlayEff(this.guangquanfei);break;case"jiesuanFei":this.callAudioPlayEff(this.jiesuanFei);break;case"model2jiesuanMove":this.callAudioPlayEff(this.model2jiesuanMove);break;case"model2moveHou":this.callAudioPlayEff(this.model2moveHou);break;case"qianluo":this.callAudioPlayEff(this.qianluo);break;case"zhongBonus":this.callAudioPlayEff(this.zhongBonus);break;case"onTouchGame":this.callAudioPlayEff(this.onTouchGame);break;case"itemMove":this.callAudioPlayEff(this.itemMove);break;default:cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",e)}},callAudioPlayEff:function(e){cc.audioEngine.playEffect(e)},onEnable:function(){i.addEventListener(n.PLAY_AUDIO_BGM,this.playBgm,this),i.addEventListener(n.PLAY_AUDIO_EF,this.playEf,this),i.addEventListener(n.STOP_AUDIO,this.stopAudio,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",PlayerInfo:void 0}],GoldenTeasuresBg:[function(e,t){"use strict";cc._RF.push(t,"ae86f/cSQ1Gv5WmMzpdcpxD","GoldenTeasuresBg");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresGameData"),o=e("GoldenTeasuresUserData");cc.Class({extends:cc.Component,properties:{imgBg:cc.Sprite,spAtlasNormal:cc.SpriteFrame,spAtlasFree:cc.SpriteFrame},onLoad:function(){},onChangeGameMode:function(){o.GameMode==s.GAME_MODE.NORMAL?this.imgBg.spriteFrame=this.spAtlasNormal:this.imgBg.spriteFrame=this.spAtlasFree},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresBigWin:[function(e,t){"use strict";cc._RF.push(t,"dfefb6NPkZMEawfVMy3o4xK","GoldenTeasuresBigWin");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresUserData"),o=e("GoldenTeasuresUtil"),a=[cc.v2(-308,175),cc.v2(-115,100),cc.v2(10,170),cc.v2(314,92),cc.v2(46,90)],c=[cc.v2(-321,174),cc.v2(-154,114),cc.v2(20,175),cc.v2(324,92),cc.v2(104,90)],r=[cc.v2(-416,215),cc.v2(-200,129),cc.v2(80,200),cc.v2(389,98),cc.v2(34,112)];cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.addEventListener()},initUI:function(){this.initEffectCoins(),this.initWin(),this.initFreeBg(),cc.find("New Sprite",this.node).on("click",this.hide,this)},initEffectCoins:function(){this.effectCoins=cc.find("coins",this.node),this.coinsGroup=[this.effectCoins],this.nodeCoin=cc.find("nodeCoins",this.node);for(var e=0;e<60;e++){var t=cc.instantiate(this.effectCoins);this.nodeCoin.addChild(t),this.coinsGroup.push(t),t.getComponent(cc.Animation).play().wrapMode=cc.WrapMode.Loop}},initWin:function(){var e=this;this.pnlWin=cc.find("pnlWin",this.node),s.Bundle.load("resources/image/BigWin",cc.SpriteFrame,function(t,n){t?cc.log(t):(e.imgWin=cc.find("imgYouWin",e.pnlWin),e.imgWin.getComponent(cc.Sprite).spriteFrame=n,e.initWinTween())}),s.Bundle.load("resources/image/big_win",cc.SpriteAtlas,function(t,n){t?cc.log(t):(e.imgBigWin=cc.find("imgBigWin",e.pnlWin),e.imgBigWin.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("MegaWin"),e.bigWinEffect=cc.find("imgBigWinEffect",e.node),e.bigWinEffect.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("MegaWin_Frame_Light_50%"),e.initBigWinTween())}),s.Bundle.load("resources/image/mega_win",cc.SpriteAtlas,function(t,n){t?cc.log(t):(e.imgMegaWin=cc.find("imgMegaWin",e.pnlWin),e.imgMegaWin.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("SuperWin"),e.megaWinEffect=cc.find("imgMegaWinEffect",e.node),e.megaWinEffect.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("SuperWin_Shine_Add_50%"),e.initMegaWinTween())}),s.Bundle.load("resources/image/Win_LightSweep",cc.SpriteAtlas,function(t,n){if(t)cc.log(t);else{e.effectLignt=[];for(var i=cc.find("pnlPoint",e.pnlWin),s=["Win_Star_Style_01","Win_Star_Style_02","Win_Star_Style_02","Win_Star_Style_01","Win_Star_Style_04"],o=1;o<=5;o++){var a=cc.find("ligntPoint"+o,i);a.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(s[o-1]),e.effectLignt.push(a)}e.initLightPointTween()}})},initFreeBg:function(){var e=cc.find("pnlFreeBg",this.node);s.Bundle.load("resources/image/Win_LightSweep",cc.SpriteAtlas,function(t,n){t?cc.log(t):e.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Win_Frame_bg")}),this.lblWinCoin=cc.find("labelWin",e).getComponent(cc.Label)},initLightPointTween:function(){for(var e=0;e<this.effectLignt.length;e++){var t=cc.tween;t(this.effectLignt[e]).repeatForever(t().parallel(t().by(.5,{angle:90}).by(.5,{angle:90}),t().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.5,scaleY:.5}))).start(),this.effectLignt[e].active=!1}},initWinTween:function(){this.WinTween=cc.tween(this.pnlWin).repeatForever(cc.tween().to(.5,{scaleX:.7,scaleY:.7}).to(.5,{scaleX:.6,scaleY:.6}))},initBigWinTween:function(){var e=this;this.bigWinTween=cc.tween(this.bigWinEffect).repeatForever(cc.tween().delay(.5).call(function(){e.bigWinEffect.opacity=255,e.bigWinEffect.scaleX=1.2,e.bigWinEffect.scaleY=1.2}).to(.5,{scaleX:1.4,scaleY:1.4,opacity:0}))},initMegaWinTween:function(){var e=this;this.MegaWinTween=cc.tween(this.megaWinEffect).repeatForever(cc.tween().delay(.5).call(function(){e.megaWinEffect.opacity=255,e.megaWinEffect.scaleX=.6,e.megaWinEffect.scaleY=.6}).to(.5,{scaleX:.7,scaleY:.7,opacity:0}))},playWin:function(){this.imgWin.active=!0;for(var e=0;e<this.effectLignt.length;e++)this.effectLignt[e].setPosition(a[e]),this.effectLignt[e].active=!0},playBigWin:function(){this.imgBigWin.active=!0,this.bigWinEffect.active=!0,this.bigWinTween.start();for(var e=0;e<this.effectLignt.length;e++)this.effectLignt[e].setPosition(c[e]),this.effectLignt[e].active=!0},playMegaWin:function(){this.imgMegaWin.active=!0,this.megaWinEffect.active=!0,this.megaWinEffect.opacity=0,this.MegaWinTween.start();for(var e=0;e<this.effectLignt.length;e++)this.effectLignt[e].setPosition(r[e]),this.effectLignt[e].active=!0},show:function(e,t){this.node.active=!0,i.emit(n.PLAY_AUDIO_BGM,{id:1}),t>=50?this.playMegaWin():t>=20?this.playBigWin():this.playWin();var s=Math.ceil(e/70);this.lblWinCoin.string=o.formattingCoins(0),this.nowCoins=0,this.winCoins=e,this.addCoins=s,this.schedule(this.addNowCoinsAction,.1,69),this.coinsPool=this.coinsGroup.concat([]),this.schedule(this.playCoins,.3,1/0),this.playCoins(),this.WinTween.start(),this.scheduleOnce(this.hide,10)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.lblWinCoin.string=o.formattingCoins(this.nowCoins)},hide:function(){this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.resetCoins(),this.WinTween.stop(),this.bigWinTween.stop(),this.MegaWinTween.stop(),this.lblWinCoin.string=0,this.imgWin.active=!1,this.imgBigWin.active=!1,this.bigWinEffect.active=!1,this.imgMegaWin.active=!1,this.megaWinEffect.active=!1,this.node.active=!1},resetCoins:function(){for(var e=0;e<this.coinsGroup.length;e++)this.coinsGroup[e].tweenAction&&(this.coinsGroup[e].tweenAction.stop(),this.coinsGroup[e].setPosition(0,-700))},playCoins:function(){for(var e=this,t=function(){var t=e.coinsPool.shift();e.scheduleOnce(function(){e.rundCoinsAction(t)},1*Math.random())};this.coinsPool.length>0;)t()},rundCoinsAction:function(e){var t=this,n=1e3*Math.random()-500,i=400*Math.random()-200+n,s=400*Math.random()+400,o=i-n>0,a=400*Math.random(),c=o?i+a:i-a,r=400*Math.random(),l=o?c+r:c-r;e.angle=360*Math.random(),e.setPosition(n,-700),e.tweenAction=cc.tween(e).bezierTo(1,cc.v2(i,s),cc.v2(c,s),cc.v2(l,-700)).call(function(){t.coinsPool.push(e)}).start()},onShowBigWin:function(e){cc.log("SHOW_BIG_WIN"),this.callback=e.callback,this.show(e.coins,e.rate)},addEventListener:function(){i.addEventListener(n.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil"}],GoldenTeasuresDownUI:[function(e,t){"use strict";cc._RF.push(t,"0b6fbeY2Y5PRbmbKwPbvQuw","GoldenTeasuresDownUI");var n=e("GoldenTeasuresUserData"),i=e("GoldenTeasuresGameData"),s=e("GoldenTeasuresEventConfig"),o=e("GoldenTeasuresEventManager"),a=e("PlayerInfo"),c=e("GoldenTeasuresUtil");cc.Class({extends:cc.Component,onLoad:function(){this.bet=0,this.line=20,resizeWinX(this),this.initUI(),cc.find("btns/btn_help",this.node).on("click",function(){o.emit(s.SHOW_HELP),o.emit(s.PLAY_AUDIO_EF,"btnShow")},this),this.updateBet(),this.initHandTween(),this.initAutoTween(),this.initUserCoin(),this.enterLeisure()},initUI:function(){var e=cc.find("pnlEntries",this.node);this.labEntries=cc.find("labEntries",e).getComponent(cc.Label),this.labEntries.string=c.formattingCoins(a.getInstant.playerCoin);var t=cc.find("btnAddCoins",e);t.on("click",this.onClickAddCoins,this),this.btnAddCoins=t,this.imgAddCoinsEffect=cc.find("imgEffect",t),this.labWinning=cc.find("pnlWinning/labWinning",this.node).getComponent(cc.Label),t.active=!1,cc.find("pnlWinning",this.node).active=!1,this.labGameWin=cc.find("pnlGameWin/labGameWinning",this.node).getComponent(cc.Label);var n=cc.find("pnlTotal",this.node);this.labTotal=cc.find("labTotal",n).getComponent(cc.Label),this.btnDec=cc.find("btnDec",n),this.btnDec.on("click",this.onClickDec,this),this.btnAdd=cc.find("btnAdd",n),this.btnAdd.on("click",this.onClickAdd,this),this.btnRoll=cc.find("btnRoll",this.node),this.btnRoll.on("click",this.onClickRoll,this),this.btnAuto=cc.find("btnAuto",this.node),this.btnAuto.on("click",this.onClickAuto,this),this.imgAutoOnImg=cc.find("imgAutoOnImg",this.btnAuto),this.imgAutoEffect=cc.find("imgAutoEffect",this.btnAuto),this.labGameWin.string=c.formattingCoins(0)},loadUI:function(){var e=this;n.Bundle.load("resources/image/Mob_DownUI",cc.SpriteAtlas,function(t,s){t||(e.spAtlas=s,e.initBg(),e.initEntries(),e.initWinning(),e.initTotal(),e.initLine(),e.initRoll(),e.initAuto(),e.initAddCoins(),e.initUserCoin(),n.Status==i.GAME_STATE.LEISURE&&e.enterLeisure())})},initHandTween:function(){this.addCoinsTween=cc.tween(this.imgAddCoinsEffect).repeatForever(cc.tween().to(.5,{opacity:0}).to(.5,{opacity:255}))},initBg:function(){cc.find("bg1",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280"),cc.find("bg2",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280")},initEntries:function(){var e=cc.find("pnlEntries",this.node);e.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnAddCoins",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus"),this.imgAddCoinsEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus_light"),this.imgAddCoinsHand.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Hand")},initWinning:function(){cc.find("pnlWinning",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short")},initTotal:function(){var e=cc.find("pnlTotal",this.node);e.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnDec",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletSub"),cc.find("btnAdd",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletPlus")},initLine:function(){var e=cc.find("pnlLine",this.node);e.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnDec",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletSub"),cc.find("btnAdd",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletPlus")},initRoll:function(){this.btnRoll.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_RevealPlus")},initAuto:function(){var e=this;this.btnAuto.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_nor"),this.imgAutoOnImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_light"),n.Bundle.load("resources/image/img_auto_effect",cc.SpriteFrame,function(t,n){e.imgAutoEffect.getComponent(cc.Sprite).spriteFrame=n})},initAddCoins:function(){var e=this;this.pnlAddCoins=cc.find("pnlAddCoins",this.node);var t=cc.find("nodeAdd",this.pnlAddCoins);this.btnAddGroup=[],n.Bundle.load("resources/image/add_user_coins",cc.SpriteAtlas,function(n,i){if(!n){var s=cc.find("pnlGroup",t);s.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_JpWn_Field");var o=cc.find("item",t);o.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_ButA_Board_nor");for(var a=[1,10,50,100,"ALL"],c=[e.onClickAddCoins1,e.onClickAddCoins10,e.onClickAddCoins50,e.onClickAddCoins100,e.onClickAddCoinsAll],r=0;r<a.length;r++){var l=cc.instantiate(o);s.addChild(l),l.on("click",c[r],e),cc.find("label",l).getComponent(cc.Label).string=r==a.length-1?a[r]:"$"+a[r],e.btnAddGroup.push(l)}o.active=!1}})},initUserCoin:function(){this.labEntries.string=c.formattingCoins(a.getInstant.playerCoin)},initAutoTween:function(){cc.tween(this.imgAutoEffect).repeatForever(cc.tween().by(1,{angle:180})).start()},onClickAdd:function(){this.bet+=1,this.bet=this.bet>=i.BET.length?0:this.bet,this.updateBet(),o.emit(s.PLAY_AUDIO_EF,"btnShow")},onClickDec:function(){this.bet-=1,this.bet=this.bet<0?i.BET.length-1:this.bet,this.updateBet(),o.emit(s.PLAY_AUDIO_EF,"btnHide")},onClickAddLine:function(){this.line+=1,this.line=this.line>i.LINES?1:this.line,this.updateLine(),o.emit(s.PLAY_AUDIO_EF,"btnShow")},onClickDecLine:function(){this.line-=1,this.line=this.line<1?i.LINES:this.line,this.updateLine(),o.emit(s.PLAY_AUDIO_EF,"btnHide")},onClickAuto:function(){n.Status!=i.GAME_STATE.INIT&&c.isNormalGame()&&(n.IsAuto?(this.enterAuto(!1),o.emit(s.PLAY_AUDIO_EF,"btnHide")):(this.enterAuto(!0),o.emit(s.PLAY_AUDIO_EF,"btnShow")))},onClickRoll:function(){n.Status==i.GAME_STATE.LEISURE?(n.Status=i.GAME_STATE.REQUEST,o.emit(s.START_ROLL),this.setRollBan(!1),o.emit(s.PLAY_AUDIO_EF,"startWheel")):n.Status==i.GAME_STATE.ROLL_END&&(o.emit(s.STOP_IMMEDIATELY),this.setRollBan(!1),o.emit(s.PLAY_AUDIO_EF,"stopWheel"))},onClickAddCoins:function(){this.showAddCoins()},onClickHideAddCoins:function(){this.pnlAddCoins.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){},chargeSum:function(e){this.pnlAddCoins.active=!1;var t=0==e?{}:{sum:e};o.emit(s.ADD_USER_COINS,t)},updateBet:function(){this.labTotal.string=c.formattingCoins(i.BET[this.bet]),n.BetIndex=this.bet,n.BetValue=i.BET[this.bet],o.emit(s.UPDATE_BET),o.emit(s.ON_PUSH_GAMBLING_WIN_POOL,n.BetValue)},checkCoinsEntries:function(){return a.getInstant.playerCoin>=n.BetValue},setBtnState:function(){this.spAtlas},setRollBan:function(e){o.emit(s.SET_ROLL_BAN,e)},setAutoBan:function(e){this.btnAuto.getComponent(cc.Button).interactable=e},banButton:function(e){e&&n.IsAuto||(this.btnAdd.getComponent(cc.Button).interactable=e,this.btnDec.getComponent(cc.Button).interactable=e)},playNoMenyTween:function(){this.imgAddCoinsEffect.active=!0,this.addCoinsTween.start()},stopNoMenyTween:function(){this.addCoinsTween.stop(),this.imgAddCoinsEffect.active=!1},enterAuto:function(e){n.IsAuto=e,this.imgAutoOnImg.active=e,this.imgAutoEffect.active=e,e?(this.setRollBan(!1),this.banButton(!1),n.Status==i.GAME_STATE.LEISURE&&o.emit(s.START_ROLL)):n.Status==i.GAME_STATE.LEISURE&&(this.setRollBan(!0),this.setBtnState(!1))},onStartRoll:function(){this.banButton(!1),c.isNormalGame()&&(this.labGameWin.string=c.formattingCoins(0)),c.isNormalGame()&&(a.getInstant.playerCoin-=n.BetValue,this.labEntries.string=c.formattingCoins(a.getInstant.playerCoin))},onChargeAllResult:function(e){e&&(a.getInstant.playerCoin=e.score?e.score:0,this.labEntries.string=c.formattingCoins(a.getInstant.playerCoin),this.stopNoMenyTween())},onUpdateGameWin:function(e){var t=this;if(0!=e){a.getInstant.playerCoin+=e;var i=c.isNormalGame()?0:n.FreeWinCoins,s=c.isNormalGame()?e:n.FreeWinCoins+e,o=Math.ceil(s/20);this.schedule(function(){(i+=o)>s&&(i=s),t.labGameWin.string=c.formattingCoins(i),t.labEntries.string=c.formattingCoins(a.getInstant.playerCoin-s+i)},.02,20),c.isNormalGame()||(n.FreeWinCoins+=e)}},onLotteryResult:function(){n.IsAuto||(this.setBtnState(!0),this.setRollBan(!0)),this.stopNoMenyTween()},onSetWinningValue:function(){},onSetBetValue:function(e){for(var t=e/i.LINES,n=0;n<i.BET.length;n++)if(i.BET[n]==t){this.bet=n;break}this.updateBet()},onChangeGameStatus:function(){n.Status==i.GAME_STATE.RESULT?this.enterResult():n.Status==i.GAME_STATE.LEISURE&&this.enterLeisure()},enterResult:function(){n.IsAuto||this.setRollBan(!1)},enterLeisure:function(){this.checkCoinsEntries()||(this.playNoMenyTween(),this.enterAuto(!1)),c.isNormalGame()?(this.banButton(!0),n.IsAuto?o.emit(s.START_ROLL):(this.setRollBan(!0),this.setBtnState(!1))):n.IsAuto?o.emit(s.START_ROLL):this.enterAuto(!0)},onChangeGameMode:function(){n.GameMode==i.GAME_MODE.NORMAL?this.enterAuto(!1):n.GameMode==i.GAME_MODE.FREE&&(this.pnlAddCoins.active=!1),this.btnAddCoins.getComponent(cc.Button).interactable=n.GameMode==i.GAME_MODE.NORMAL},onEnterFakeMode:function(){c.isNormalGame()&&(n.IsFakeSolt?(this.banButton(!0),this.setRollBan(!1),this.setAutoBan(!1)):(this.banButton(!1),this.setRollBan(!0),this.setAutoBan(!0)))},UPDATE_COIN:function(){this.labEntries&&(this.labEntries.string=c.formattingCoins(a.getInstant.playerCoin)),this.labBalance&&(this.labBalance.string=c.formattingCoins(a.getInstant.playerCoin))},onLoginGameResult:function(e){if(cc.log("onLoginGameResult"),e.Obj&&e.Obj.betList&&(i.BET=e.Obj.betList),this.bet=0,e.Obj&&e.Obj.betDefault)for(var t=0;t<e.Obj.betList.length;t++)if(e.Obj.betList[t]==e.Obj.betDefault){this.bet=t;break}this.updateBet()},onEnable:function(){o.addEventListener("UPDATE_COIN",this.UPDATE_COIN,this),o.addEventListener(s.HAVE_NO_MONEY,this.playNoMenyTween,this),o.addEventListener(s.SET_BET_VALUE,this.onSetBetValue,this),o.addEventListener(s.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(s.ENTER_FAKE_MODE,this.onEnterFakeMode,this),o.addEventListener(s.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),o.addEventListener(s.SET_WINNING_VALUE,this.onSetWinningValue,this),o.addEventListener(s.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(s.UPDATE_GAME_WIN,this.onUpdateGameWin,this),o.addEventListener(s.START_ROLL,this.onStartRoll,this),o.addEventListener(s.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),o.addEventListener(s.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil",PlayerInfo:void 0}],GoldenTeasuresEventConfig:[function(e,t){"use strict";cc._RF.push(t,"68af91FQm5Gd5mVgDvP8fJa","GoldenTeasuresEventConfig"),t.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",SET_WINNING_VALUE:"SET_WINNING_VALUE",SET_BET_VALUE:"SET_BET_VALUE",SET_LINES_VALUE:"SET_LINES_VALUE",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",SHOW_GAMBLE:"SHOW_GAMBLE",HIDE_GAMBLE:"HIDE_GAMBLE",SEND_GAMBLE_DATA:"SEND_GAMBLE_DATA",ON_GAMBLE_RESULT:"ON_GAMBLE_RESULT",SHOW_GAMBLE_BET_VIEW:"SHOW_GAMBLE_BET_VIEW",HIDE_GAMBLE_BET_VIEW:"HIDE_GAMBLE_BET_VIEW",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",HAVE_NO_MONEY:"HAVE_NO_MONEY",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",PLAY_ROLE_ANI:"PLAY_ROLE_ANI",ON_SHOW_WIN_LINE:"ON_SHOW_WIN_LINE",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",UPDATE_REMAINING:"UPDATE_REMAINING",UPDATE_FU_XING:"UPDATE_FU_XING",UPDATE_BONUS_WIN:"UPDATE_BONUS_WIN",UPDATE_WILL_WIN:"UPDATE_WILL_WIN",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",SHOW_HELP:"SHOW_HELP",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",ENTER_FAKE_MODE:"ENTER_FAKE_MODE",SET_ROLL_BAN:"SET_ROLL_BAN",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_YOU_WIN:"SHOW_YOU_WIN",SHOW_TOTAL_WIN_ADD:"SHOW_TOTAL_WIN_ADD",SHOW_TOTAL_WIN:"SHOW_TOTAL_WIN",HIDE_TOTAL_WIN:"HIDE_TOTAL_WIN",FREE_TIME_OVER:"FREE_TIME_OVER",HIDE_TRANSIT_ANI:"HIDE_TRANSIT_ANI",SELECT_GAME:"SELECT_GAME",PLAY_PARTICLE_SHIFT_ANI:"PLAY_PARTICLE_SHIFT_ANI",PLAY_PARTICLE_ANI:"PLAY_PARTICLE_ANI",PLAY_SCENE_ANI:"PLAY_SCENE_ANI",ON_GET_SPECLA_DATA:"ON_GET_SPECLA_DATA",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO"},cc._RF.pop()},{}],GoldenTeasuresEventManager:[function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var s=0;return function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}cc._RF.push(t,"0adcbvl97xNs5SVcqURqDuI","GoldenTeasuresEventManager");var o={_eventListeners:[],destroy:function(){o._eventListeners=[]},getEventListenersIndex:function(e,t,n){for(var i=-1,s=0;s<o._eventListeners[e].length;s++){var a=o._eventListeners[e][s];if(a.callBack==t&&(!n||a.target==n)){i=s;break}}return i},addEventListener:function(e,t,n){if(e){if(null==t)return cc.log("addEventListener callBack is nil"),!1;var i={callBack:t,target:n};return null==o._eventListeners[e]?o._eventListeners[e]=[i]:-1==o.getEventListenersIndex(e,t,n)&&o._eventListeners[e].push(i),!0}cc.warn("eventName is empty"+e)},removeEventListener:function(e,t,n){if(null!=o._eventListeners[e]){var i=o.getEventListenersIndex(e,t,n);-1!=i&&o._eventListeners[e].splice(i,1)}},emit:function(e,t){if(null!=o._eventListeners[e]){for(var i,s=[],a=n(o._eventListeners[e]);!(i=a()).done;){var c=i.value;s.push({callBack:c.callBack,target:c.target})}for(var r=function(){var e=u[l];new Promise(function(){e.callBack.call(e.target,t)})},l=0,u=s;l<u.length;l++)r()}}};t.exports=o,cc._RF.pop()},{}],GoldenTeasuresFree:[function(e,t){"use strict";cc._RF.push(t,"196ec4pytdOH5U0Z0h28Cve","GoldenTeasuresFree");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresUserData");cc.Class({extends:cc.Component,properties:{labFreeNow:cc.Label,labFreeAll:cc.Label,nodeWild:cc.Node,nodeBonus:cc.Node,labWillWin:cc.Label,labFuXing:cc.Label},onLoad:function(){this.addEventListener()},show:function(){this.labFreeNow.string=s.FreeTimeNow,this.labFreeAll.string=s.FreeTimeAll,this.labFuXing.string=s.FuXing,this.labWillWin.string=s.WillWin},onUpdateFreeTimeNow:function(){this.labFreeNow.string=s.FreeTimeNow},onUpdateFreeTimeAll:function(){this.labFreeAll.string=s.FreeTimeAll},onUpdateFuXing:function(){this.labFuXing.string=s.FuXing},onUpdateWillWin:function(){this.labWillWin.string=s.WillWin},getFreeTimePos:function(){return this.labFreeAll.node.parent.convertToWorldSpaceAR(this.labFreeAll.node.getPosition())},getWildPos:function(){return this.nodeWild.parent.convertToWorldSpaceAR(this.nodeWild.getPosition())},getFuxingPos:function(){return this.nodeBonus.parent.convertToWorldSpaceAR(this.nodeBonus.getPosition())},addEventListener:function(){i.addEventListener(n.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),i.addEventListener(n.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this),i.addEventListener(n.UPDATE_FU_XING,this.onUpdateFuXing,this),i.addEventListener(n.UPDATE_WILL_WIN,this.onUpdateWillWin,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresGameData:[function(e,t){"use strict";cc._RF.push(t,"1651ajNNydE2rHipuyx0Yf1","GoldenTeasuresGameData");t.exports={BUNDLE_NAME:"GoldenTeasures",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,WAIT_ROLL_END:5,RESULT:4},GAME_MODE:{NORMAL:0,FREE:1,UP_UP:2,SELECT:5},BET:[1,2,3,4,5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100],LINES:20,VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,EXCHANGE_RATE:.01},cc._RF.pop()},{}],GoldenTeasuresHelp:[function(e,t){"use strict";cc._RF.push(t,"58f0374QGJD97F2NpfzP6wa","GoldenTeasuresHelp");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.addEventListener(),window.resizeWinX(this)},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_HELP,this.show,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager"}],GoldenTeasuresItemAni:[function(e,t){"use strict";cc._RF.push(t,"0883blHjvdEnYF2c7wtQ+yp","GoldenTeasuresItemAni");var n=e("GoldenTeasuresUtil"),i=e("GoldenTeasuresItemConfig"),s=e("GoldenTeasuresUserData"),o=e("GoldenTeasuresGameData");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,itemAni:cc.Node,labBonus:cc.Node,nodeAdd:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.reset(),this.itemAni.getComponent(cc.Animation).on("finished",function(){},this)},changeItem:function(e){this.itemID=e,this.itemImg.active=!0,this.labBonus.active=!1,this.nodeAdd.active=!1,this.bonusVal=0;var t=i.SpriteFramelist;this.isBonusItem()?(this.showBonusLabel(),e=i.ID_BONUS_WITLE_FRAME):s.GameMode==o.GAME_MODE.UP_UP?(t=i.SpriteFrameList_GRAY,this.isAddItem()&&(this.nodeAdd.active=!0)):s.GameMode==o.GAME_MODE.FREE&&this.isGreenBounsItem()&&this.showBonusLabel(s.WillWin),e==i.ItemID.WILD&&(e=s.GameMode==o.GAME_MODE.NORMAL?i.ID_WILD_FRAME:i.ID_BONUS_GREEN_FRAME),this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(t[e])},isAddItem:function(){return i.IsAddID(this.itemID)},isBonusItem:function(){return i.IsBonusID(this.itemID)},isGoldBounsItem:function(){return i.IsGoldBonusID(this.itemID)},isGreenBounsItem:function(){return i.IsGreenBonusID(this.itemID)},isWildItem:function(){return i.IsWildID(this.itemID)},showBonusLabel:function(e){e|=n.getBonusVal(this.itemID),this.labBonus.active=!0,this.labBonus.getComponent(cc.Label).string=e,this.bonusVal=e},hideBonusLabel:function(){this.labBonus.active=!1},addBonusVal:function(e){this.labBonus.active=!0,this.bonusVal+=e,this.labBonus.getComponent(cc.Label).string=this.bonusVal},getBonusVal:function(){return this.bonusVal},reset:function(){this.itemAni.getComponent(cc.Animation).stop(),this.itemID=-1,this.itemAni.active=!1,this.itemImg.active=!0,this.labBonus.active=!1,this.nodeAdd.active=!1},playSelectAni:function(){switch(this.itemID){case i.ItemID.WILD:this.playItemAni("wildWin",1/0)}},playItemAni:function(e,t){this.itemAni.active=!0,this.itemImg.active=!1,this.itemAni.getComponent(cc.Animation).play(e).repeatCount=t},playAniBonus:function(){this.playItemAni("ziseCoin",1)}}),cc._RF.pop()},{GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil"}],GoldenTeasuresItemConfig:[function(e,t){"use strict";cc._RF.push(t,"853374+s95F2KArvfe4cMJy","GoldenTeasuresItemConfig");var n={item00:0,item01:1,item02:2,item03:3,item04:4,item05:5,item06:6,item07:7,item08:8,item09:9,item10:10,item11:11,BONUS_GOLD:12,BONUS_GREEN:13,WILD:13,ADD:14},i=[15,16,17,18,19],s=[];s[20]=[n.item01,n.item03,n.item05,n.item07,n.item08],s[40]=[n.item01,n.item03,n.item05,n.item06,n.item08],s[60]=[n.item01,n.item03,n.item04,n.item06,n.item08],s[80]=[n.item01,n.item02,n.item04,n.item06,n.item08],s[100]=[n.item00,n.item02,n.item04,n.item06,n.item08];var o=[];o[n.item00]="FlyDra_Sym_Dragon_Go",o[n.item01]="FlyDra_Sym_Dragon",o[n.item02]="FlyDra_Sym_Phoenix_Go",o[n.item03]="FlyDra_Sym_Phoenix",o[n.item04]="FlyDra_Sym_Fish_Go",o[n.item05]="FlyDra_Sym_Fish",o[n.item06]="FlyDra_Sym_Tortoi_Go",o[n.item07]="FlyDra_Sym_Tortoi",o[n.item08]="FlyDra_Sym_DraBall",o[n.item09]="FlyDra_Sym_LetA",o[n.item10]="FlyDra_Sym_LetK",o[n.item11]="FlyDra_Sym_LetQ",o[n.BONUS_GOLD]="FlyDra_Sym_FeaWild_Go",o[n.ADD]="addBg",o[50]="FlyDra_Sym_FeaWild_Gr",o[51]="FlyDra_Sym_Wild",o[52]="FlyDra_Sym_FeaWild_Wr",o[53]="FlyDra_Sym_FeaWild_Gr";var a=[];a[n.item00]="FlyDra_Sym_Dragon_Go_d",a[n.item01]="FlyDra_Sym_Dragon_d",a[n.item02]="FlyDra_Sym_Phoenix_Go_d",a[n.item03]="FlyDra_Sym_Phoenix_d",a[n.item04]="FlyDra_Sym_Fish_Go_d",a[n.item05]="FlyDra_Sym_Fish_d",a[n.item06]="FlyDra_Sym_Tortoi_Go_d",a[n.item07]="FlyDra_Sym_Tortoi_d",a[n.item08]="FlyDra_Sym_DraBall_d",a[n.item09]="FlyDra_Sym_LetA_d",a[n.item10]="FlyDra_Sym_LetK_d",a[n.item11]="FlyDra_Sym_LetQ_d",a[n.BONUS_GOLD]="FlyDra_Sym_FeaWild_Go",a[n.BONUS_GREEN]="FlyDra_Sym_FeaWild_Gr",a[n.ADD]="addBg",a[50]="FlyDra_Sym_FeaWild_Gr",a[51]="FlyDra_Sym_Wild",a[52]="FlyDra_Sym_FeaWild_Wr",a[53]="FlyDra_Sym_FeaWild_Gr";var c=[];c[15]=5,c[16]=10,c[17]=20,c[18]=40,c[19]=80;var r={ITEM_HEIGHT:106,ITEM_WIDTH:120,WHEEL_WIDTH:118,WHEEL_HEIGHT:316,SpriteFramelist:o,SpriteFrameList_GRAY:a,GRAY_ADD_1:"add_gray",BONUS_GRAY_ADD_1:"add_bonus_gray",ItemID:n,BONUS_WITLE_ID:i,ID_BONUS_GREEN_FRAME:50,ID_WILD_FRAME:51,ID_BONUS_WITLE_FRAME:52,ID_BONUS_ADD_FRAME:53,IsBonusID:function(e){return e>=i[0]&&e<=i[i.length-1]},IsGoldBonusID:function(e){return e==n.BONUS_GOLD},IsGreenBonusID:function(e){return e==n.BONUS_GREEN||53==e},IsWildID:function(e){return e==n.WILD},IsAddID:function(e){return e==n.ADD||53==e},ITEM_CONFIG:s,BONUS_VAL:c,BONUS_WIN_RATE:50,MAX_RATE:100};t.exports=r,cc._RF.pop()},{}],GoldenTeasuresItemMask:[function(e,t){"use strict";cc._RF.push(t,"70ceatEPhVCzI+RO7X1KkjB","GoldenTeasuresItemMask");var n=e("GoldenTeasuresItemConfig");cc.Class({extends:cc.Component,properties:{itemSelect:cc.Node},onLoad:function(){this.itemSelect.width=n.ITEM_WIDTH,this.itemSelect.height=n.ITEM_HEIGHT},reset:function(){this.node.active=!1},playSelectAni:function(){this.node.active=!0}}),cc._RF.pop()},{GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig"}],GoldenTeasuresItem:[function(e,t){"use strict";cc._RF.push(t,"0045d0VaUdJBKjbDMSKAGWP","GoldenTeasuresItem");var n=e("GoldenTeasuresUtil"),i=e("GoldenTeasuresItemConfig"),s=e("GoldenTeasuresUserData"),o=e("GoldenTeasuresGameData"),a=e("GoldenTeasuresEventConfig"),c=e("GoldenTeasuresEventManager");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,labBonus:cc.Node,nodeAdd:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.randImg()},randImg:function(){this.changeItem(n.getRandItemID(!0))},changeItem:function(e){this.itemID=e,this.itemImg.active=!0,this.labBonus.active=!1,this.nodeAdd.active=!1;var t=i.SpriteFramelist;this.bonusVal=0,this.isBonusItem()&&(this.showBonusLabel(),e=i.ID_BONUS_WITLE_FRAME),s.GameMode==o.GAME_MODE.UP_UP?(t=i.SpriteFrameList_GRAY,this.isAddItem()&&(this.nodeAdd.active=!0)):s.GameMode==o.GAME_MODE.FREE&&this.isGreenBounsItem()&&this.showBonusLabel(s.WillWin),e==i.ItemID.WILD&&(e=s.GameMode==o.GAME_MODE.NORMAL?i.ID_WILD_FRAME:i.ID_BONUS_GREEN_FRAME),this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(t[e])},showBonusLabel:function(e){e|=n.getBonusVal(this.itemID),this.labBonus.active=!0,this.labBonus.getComponent(cc.Label).string=e,this.bonusVal=e},getItemId:function(){return this.itemID},getBonusVal:function(){return this.bonusVal},setItemWheelID:function(e){this.wheelID=e},setItemVericalPos:function(e){this.verticalPos=e},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isAddItem:function(){return i.IsAddID(this.itemID)},isBonusItem:function(){return i.IsBonusID(this.itemID)},isGoldBounsItem:function(){return i.IsGoldBonusID(this.itemID)},isGreenBounsItem:function(){return i.IsGreenBonusID(this.itemID)},isWildItem:function(){return i.IsWildID(this.itemID)},rollEnd:function(){this.isBonusItem()&&this.playAniBonusEnd(),this.isWildItem()&&s.GameMode==o.GAME_MODE.NORMAL&&this.playAniWildEnd(),this.isGreenBounsItem()&&s.GameMode==o.GAME_MODE.UP_UP&&this.playAddToBonusTween()},playAniBonusEnd:function(){this.itemImg.getComponent(cc.Animation).play("ziseRollEnd"),c.emit(a.PLAY_AUDIO_EF,"qianluo")},playAniWildEnd:function(){this.itemImg.getComponent(cc.Animation).play("wild")},playAddToBonusTween:function(){},showAddTween:function(){var e=this;this.nodeAdd.active=!0,cc.tween(this.nodeAdd).to(.3,{scaleX:1.4,scaleY:1.4},{easing:"backOut"}).delay(.5).to(.3,{scaleX:1,scaleY:1}).call(function(){e.nodeAdd.active=!1,e.itemImg.getComponent(cc.Sprite).spriteFrame=e.spAtlas.getSpriteFrame(e.isGreenBounsItem()?i.BONUS_GRAY_ADD_1:i.GRAY_ADD_1)}).start(),c.emit(a.PLAY_AUDIO_EF,"addFree")}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil"}],GoldenTeasuresMain:[function(e,t){"use strict";cc._RF.push(t,"dbb77T6Ue5KEb9y770K27Ti","GoldenTeasuresMain");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresGameData"),o=e("GoldenTeasuresUserData"),a=e("GoldenTeasuresItemConfig"),c=e("GoldenTeasuresUtil"),r=e("PlayerInfo");cc.Class({extends:cc.Component,properties:{layoutWheel:cc.Node,layoutWheelAni:cc.Node,layoutWheelUp:cc.Node,pnlFree:cc.Node,pnlShowList:cc.Node,preFree:cc.Prefab,preStep:cc.Prefab,preShowList:cc.Prefab,preWheel:cc.Prefab,preWheelAni:cc.Prefab,preWheelUp:cc.Prefab,pnlSFortune:cc.Node,preSFortune:cc.Prefab,btnRoll:cc.Node},onLoad:function(){o.Status=s.GAME_STATE.INIT,o.GameMode=s.GAME_MODE.NORMAL,this.resultList=[],this.initNormalWheel(),this.initWheelListAni(),this.initFree(),this.initShowList(),this.initSFortune()},enterNormal:function(){this.hideFreeNode(),this.hideStepNode()},enterFree:function(){this.showFreeNode()},enterStep:function(){this.showStepNode()},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.resetItem()},resetItem:function(){for(var e=0;e<this.resultList.length;e++)this.resultList[e].active=!0;for(var t=0;t<this.wheelAniList.length;t++)this.wheelAniList[t].getComponent(s.BUNDLE_NAME+"WheelAni").resetItem(),this.wheelUpList[t].getComponent(s.BUNDLE_NAME+"WheelUp").resetItem(),this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").resetItem()},onTouchRoll:function(){if(o.Status==s.GAME_STATE.LEISURE){if(!this.checkCoinsEntries())return void i.emit(n.HAVE_NO_MONEY);o.Status=s.GAME_STATE.REQUEST,i.emit(n.START_ROLL),i.emit(n.PLAY_AUDIO_EF,"startWheel")}else o.Status==s.GAME_STATE.ROLL_END&&(i.emit(n.STOP_IMMEDIATELY),this.setRollBan(!1),i.emit(n.PLAY_AUDIO_EF,"stopWheel"))},checkCoinsEntries:function(){return r.getInstant.playerCoin>=o.BetValue},stateCallBack:function(){if(o.Status==s.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),o.Status=s.GAME_STATE.RESULT,i.emit(n.CHANGE_GAME_STATUS),this.resultList=[];for(var e=s.VERTICAL_ITEM_COUNT-1;e>=0;e--)for(var t=0;t<this.wheelList.length;t++){var a=this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(a[e])}o.IsFakeSolt?this.onFreeRollEnd():this.showResult()}},onFreeRollEnd:function(){var e=this,t=[],c=o.FreeSoltRes[o.FakeSoltIndex-1],r=!1;for(var l in c)if(a.IsAddID(c[l])){this.resultList[l].getComponent(s.BUNDLE_NAME+"Item").showAddTween();var u={};u.or=this.resultList[l].parent.convertToWorldSpaceAR(this.resultList[l].getPosition()),u.to=this.stepNode.getComponent(s.BUNDLE_NAME+"Step").getFreeTimePos(),u.callback=function(){o.FreeTimeAll++,i.emit(n.UPDATE_FREE_TIME_ALL)},i.emit(n.PLAY_PARTICLE_ANI,u),r=!0}for(var d in c)a.IsGreenBonusID(c[d])&&(t.push(d),this.retainItemList.push(Number(d)));for(var h in c)a.IsGoldBonusID(c[h])&&(t.push(h),this.retainItemList.push(Number(h)));if(t.length>0){for(var m=0,E=r?2:0,_=0;_<t.length;_++)for(var f=function(o){var r=e.wheelAniItemList[o].getComponent(s.BUNDLE_NAME+"ItemAni"),l=t[_];(a.IsGreenBonusID(c[l])&&r.isBonusItem()||a.IsGoldBonusID(c[l])&&(r.isBonusItem()||r.isGreenBounsItem()||r.isGoldBounsItem()))&&(e.scheduleOnce(function(){var t={};t.or=e.wheelAniItemList[o].parent.convertToWorldSpaceAR(e.wheelAniItemList[o].getPosition()),t.to=e.wheelAniItemList[l].parent.convertToWorldSpaceAR(e.wheelAniItemList[l].getPosition()),t.callback=function(){e.wheelAniItemList[l].getComponent(s.BUNDLE_NAME+"ItemAni").addBonusVal(r.getBonusVal())},i.emit(n.PLAY_PARTICLE_SHIFT_ANI,t)},.5*m+E),m++)},p=0;p<this.wheelAniItemList.length;p++)f(p);for(var g in c)this.wheelAniItemList[g].active=!0,this.wheelAniItemList[g].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(c[g]);15==this.retainItemList.length&&o.BetValue>=s.MAX_RATE&&(o.BonusWin=o.BonusWin+o.BetValue*s.BONUS_WIN_RATE,i.emit(n.UPDATE_BONUS_WIN)),this.scheduleOnce(function(){e.toFakeRoll()},.5*m+2+E)}else r?this.scheduleOnce(function(){e.toFakeRoll()},2):this.toFakeRoll()},toFakeRoll:function(){var e=this;if(o.FreeSoltRes[o.FakeSoltIndex]){var t=c.getFakeNetData(a.ItemID.item00,a.ItemID.item11,o.FreeSoltRes[o.FakeSoltIndex]);this.wheelNetData=c.convertNetData(t),o.FakeSoltIndex++,i.emit(n.START_ROLL),this.scheduleOnce(function(){e.wheelList[0].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(e.wheelNetData[0])},1),o.Status=s.GAME_STATE.ROLL_END,i.emit(n.CHANGE_GAME_STATUS)}else this.stopUpGame()},showResult:function(){if(o.GameMode!=s.GAME_MODE.FREE){if(o.LotteryRes.winscore>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",o.LotteryRes.winscore),o.GameWin=o.LotteryRes.winscore,i.emit(n.UPDATE_GAME_WIN,o.LotteryRes.winscore),this.playWinAnim(),void i.emit(n.PLAY_AUDIO_EF,"winLine");cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()}else this.playFreeWinAnim()},playFreeWinAnim:function(){for(var e=o.LotteryRes.viewarray.nWinCards,t=!1,a=0;a<this.resultList.length;a++){var c=this.resultList[a].getComponent(s.BUNDLE_NAME+"Item");e&&e[a]||c.isGreenBounsItem()?(this.wheelAniItemList[a].active=!0,this.wheelAniItemList[a].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(c.getItemId()),c.isGreenBounsItem()&&this.wheelAniItemList[a].getComponent(s.BUNDLE_NAME+"ItemAni").showBonusLabel(o.WillWin),this.wheelSelectList[a].active=!0,this.wheelSelectList[a].getComponent(s.BUNDLE_NAME+"ItemMask").playSelectAni(),this.resultList[a].active=!1,t=!0):this.wheelMaskItemlist[a].active=!0}if(!t)for(var r=0;r<this.resultList.length;r++)this.wheelMaskItemlist[r].active=!1;var l=this,u=function(){for(var e=0,t=function(t){l.resultList[t].getComponent(s.BUNDLE_NAME+"Item").isGreenBounsItem()&&(l.scheduleOnce(function(){var a={};a.or=l.resultList[t].parent.convertToWorldSpaceAR(l.resultList[t].getPosition()),a.to=l.freeNode.getComponent(s.BUNDLE_NAME+"Free").getFuxingPos(),a.callback=function(){o.FuXing+=o.WillWin,i.emit(n.UPDATE_FU_XING)},l.scheduleOnce(function(){i.emit(n.PLAY_PARTICLE_ANI,a)},1*e)},1*e),e++)},a=0;a<l.resultList.length;a++)t(a);l.scheduleOnce(function(){l.toGameOver()},1*e+2),i.emit(n.UPDATE_GAME_WIN,o.LotteryRes.winscore)};t?(this.scheduleOnce(function(){u()},2),i.emit(n.PLAY_AUDIO_EF,"winLine")):u()},playWinAnim:function(){for(var e=this,t=o.LotteryRes.viewarray.nWinCards,a=!1,c=0;c<this.resultList.length;c++){var r=this.resultList[c].getComponent(s.BUNDLE_NAME+"Item");t&&t[c]?(this.wheelAniItemList[c].active=!0,this.wheelAniItemList[c].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(r.getItemId()),this.wheelAniItemList[c].getComponent(s.BUNDLE_NAME+"ItemAni").playSelectAni(),this.wheelSelectList[c].active=!0,this.wheelSelectList[c].getComponent(s.BUNDLE_NAME+"ItemMask").playSelectAni(),this.resultList[c].active=!1,a=!0):this.wheelMaskItemlist[c].active=!0}if(a)i.emit(n.ON_SHOW_WIN_LINE,o.LotteryRes.viewarray.allLineWinDetail),this.scheduleOnce(function(){i.emit(n.PLAY_AUDIO_EF,"showLine"),e.showWinView(o.LotteryRes.winscore,!0,function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),e.toGameOver()})},1);else{for(var l=0;l<this.wheelMaskItemlist.length;l++)this.wheelMaskItemlist[l].active=!1;this.scheduleOnce(function(){e.toGameOver()},1)}},toGameOver:function(){var e=this;o.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){e.enterSelectGame()},1):this.scheduleOnce(function(){e.onGameOver()},.1)},onGameOver:function(){c.isNormalGame()||o.FreeSoltRes[o.FreeSoltIndex]?(o.Status=s.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)):this.stopFreeTimes()},stopFreeTimes:function(){cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),this.unschedule(this.onLineSchedUleCallBack),o.IsFreeSolt=!1,i.emit(n.SHOW_TOTAL_WIN_ADD,{valFuXing:o.FuXing,valWin:o.FreeWinCoins}),this.scheduleOnce(function(){i.emit(n.UPDATE_GAME_WIN,o.FuXing)},3)},stopUpGame:function(){var e=this;cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),o.IsFakeSolt=!1,this.stepNode.getComponent(s.BUNDLE_NAME+"Step").onFreeTimeOver();for(var t=0,a=function(a){var c=e.wheelAniItemList[a].getComponent(s.BUNDLE_NAME+"ItemAni");if(!c.isGoldBounsItem()&&!c.isGreenBounsItem()&&!c.isBonusItem())return"continue";e.scheduleOnce(function(){var t={};t.or=e.wheelAniItemList[a].parent.convertToWorldSpaceAR(e.wheelAniItemList[a].getPosition()),t.to=e.stepNode.getComponent(s.BUNDLE_NAME+"Step").getFuxingPos(),t.callback=function(){o.FuXing+=c.getBonusVal(),i.emit(n.UPDATE_FU_XING)},c.hideBonusLabel(),i.emit(n.PLAY_PARTICLE_ANI,t)},.8*t),t++},c=0;c<this.wheelAniItemList.length;c++)a(c);this.scheduleOnce(function(){i.emit(n.SHOW_TOTAL_WIN,o.FuXing),i.emit(n.UPDATE_GAME_WIN,o.FuXing)},.8*t+1)},enterSelectGame:function(){var e=this;i.emit(n.PLAY_AUDIO_EF,"inFreeTime"),c.isNormalGame()&&o.initFreeData(),o.FreeTimeAll+=o.LotteryRes.viewarray.getFreeTime.nFreeTime,this.scheduleOnce(function(){e.playBonusAni()},2),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){this.closeShine();for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").getItemId()),this.wheelAniItemList[e].getComponent(s.BUNDLE_NAME+"ItemAni").playAniBonus());i.emit(n.PLAY_AUDIO_EF,"zhongBonus");var t=this;this.scheduleOnce(function(){t.resetItem(),c.isNormalGame()?t.playGetFreeAni():(i.emit(n.UPDATE_FREE_TIME_ALL),o.Status=s.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS))},3)},playGetFreeAni:function(){i.emit(n.SHOW_TRANSIT_ANI)},showFreeNode:function(){this.freeNode.active=!0,this.freeNode.getComponent(s.BUNDLE_NAME+"Free").show()},hideFreeNode:function(){this.freeNode.active=!1},showStepNode:function(){this.stepNode.active=!0,this.stepNode.getComponent(s.BUNDLE_NAME+"Step").show()},hideStepNode:function(){this.stepNode.active=!1},showWinView:function(e,t,s){if(c.checkBigWin(e)){var a=e/o.BetValue;i.emit(n.SHOW_BIG_WIN,{coins:e,rate:a,callback:s})}else!t&&e>0?i.emit(n.SHOW_YOU_WIN,{coins:e,callback:s}):s()},setStartItem:function(e){for(var t=c.getFakeNetData(a.ItemID.item00,a.ItemID.item11,e),n=c.convertNetData(t),i=0;i<this.wheelList.length;i++)this.wheelList[i].getComponent(s.BUNDLE_NAME+"Wheel").setInitItemVal(n[i])},onStartRoll:function(){this.stopImmediately=!1,c.isNormalGame()||(o.FreeTimeNow++,i.emit(n.UPDATE_FREE_TIME_NOW)),this.unschedule(this.onLineSchedUleCallBack)},onStopImmediately:function(){for(var e=0;e<this.wheelList.length;e++)this.wheelList[e].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[e]);this.stopImmediately=!0},onLoginGameResult:function(){o.Status=s.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(e){i.emit(n.SET_BET_VALUE,e.gameDict.betsum),e.freeType==s.GAME_MODE.SELECT&&i.emit(n.SHOW_TRANSIT_ANI),this.setStartItem(e.gameDict.free.starts)},onLotteryResult:function(){o.Status=s.GAME_STATE.ROLL_END,i.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(o.LotteryRes.viewarray.nHandCards),this.wheelList[0].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[0])},onLotteryErrResult:function(e){cc.log(e),i.emit(n.RESET_WHEEL),o.Status=s.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){o.GameMode==s.GAME_MODE.NORMAL?this.enterNormal():o.GameMode==s.GAME_MODE.FREE?this.enterFree():o.GameMode==s.GAME_MODE.UP_UP&&this.enterStep()},onWheelRollEnd:function(e){if(this.stopImmediately)return e==this.wheelList.length-1?void this.stateCallBack():void 0;e!=this.wheelList.length-1?this.wheelList[e+1].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[e+1]):this.stateCallBack()},onHideTransitAni:function(){o.GameMode==s.GAME_MODE.UP_UP?(i.emit(n.PLAY_AUDIO_BGM,{id:3}),this.playEnterUpAction()):o.GameMode==s.GAME_MODE.FREE&&(i.emit(n.PLAY_AUDIO_BGM,{id:2}),this.playEnterFreeAction())},playEnterUpAction:function(){var e=this;this.retainItemList=[];for(var t=0;t<this.resultList.length;t++){var a=this.resultList[t].getComponent(s.BUNDLE_NAME+"Item");a.isBonusItem()&&(this.wheelAniItemList[t].active=!0,this.wheelAniItemList[t].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(a.getItemId()),this.retainItemList.push(this.wheelAniItemList[t]))}o.BonusWin=o.BetValue*s.BONUS_WIN_RATE,i.emit(n.UPDATE_BONUS_WIN),i.emit(n.ENTER_FAKE_MODE),this.scheduleOnce(function(){e.toFakeRoll()},1)},playEnterFreeAction:function(){for(var e=this,t=0,a=function(a){var c=e.resultList[a],r=c.getComponent(s.BUNDLE_NAME+"Item");if(r.isBonusItem()){var l={};l.or=c.parent.convertToWorldSpaceAR(c.getPosition()),l.to=e.freeNode.getComponent(s.BUNDLE_NAME+"Free").getWildPos(),l.callback=function(){o.WillWin+=r.getBonusVal(),i.emit(n.UPDATE_WILL_WIN)},e.scheduleOnce(function(){i.emit(n.PLAY_PARTICLE_ANI,l)},1*t),t++}},c=0;c<this.resultList.length;c++)a(c);this.scheduleOnce(function(){o.Status=s.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},1*t+2)},setRollBan:function(e){this.btnRoll.getComponent(cc.Button).interactable=e},onHideTotalWin:function(){o.GameMode=s.GAME_MODE.NORMAL,i.emit(n.CHANGE_GAME_MODE),this.showWinView(o.FreeWinCoins,!1,function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),o.Status=s.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)})},onEnable:function(){i.addEventListener(n.HIDE_TRANSIT_ANI,this.onHideTransitAni,this),i.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),i.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this),i.addEventListener(n.SET_ROLL_BAN,this.setRollBan,this),i.addEventListener(n.HIDE_TOTAL_WIN,this.onHideTotalWin,this),i.addEventListener(n.ON_LOGIN_FREE_COUNT_RESULT,this.onLoginFreeCountResult,this)},addWheelToLayout:function(e){var t=cc.instantiate(this.preWheel);this.layoutWheel.addChild(t),this.wheelList.push(t),t.getComponent(s.BUNDLE_NAME+"Wheel").setWheelData(e)},initWheelListAni:function(){this.wheelAniList=[],this.wheelUpList=[];for(var e=0;e<s.WHEEL_COUNT;e++){var t=cc.instantiate(this.preWheelAni);this.layoutWheelAni.addChild(t),this.wheelAniList.push(t),t.getComponent(s.BUNDLE_NAME+"WheelAni").setWheelData(e);var n=cc.instantiate(this.preWheelUp);this.layoutWheelUp.addChild(n),this.wheelUpList.push(n),n.getComponent(s.BUNDLE_NAME+"WheelUp").setWheelData(e)}this.initWheelAni()},initNormalWheel:function(){this.wheelList=[],this.resultList=[],this.layoutWheel.removeAllChildren();for(var e=0;e<s.WHEEL_COUNT;e++)this.addWheelToLayout(e)},initWheelAni:function(){this.wheelAniItemList=[],this.wheelSelectList=[],this.wheelMaskItemlist=[];for(var e=s.VERTICAL_ITEM_COUNT-1;e>=0;e--)for(var t=0;t<this.wheelList.length;t++){var n=this.wheelAniList[t].getComponent(s.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(n[e]);var i=this.wheelUpList[t].getComponent(s.BUNDLE_NAME+"WheelUp").getItemList();this.wheelSelectList.push(i[e]);var o=this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").getItemMaskList();this.wheelMaskItemlist.push(o[e])}},initFree:function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode),this.freeNode.active=!1,this.stepNode=cc.instantiate(this.preStep),this.pnlFree.addChild(this.stepNode),this.stepNode.active=!1},initShowList:function(){this.showList=cc.instantiate(this.preShowList),this.pnlShowList.addChild(this.showList)},initSFortune:function(){var e=cc.instantiate(this.preSFortune);this.pnlSFortune.addChild(e),this.sFortuneCom=e.getComponent(s.BUNDLE_NAME+"ActiveSymbols")}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil",PlayerInfo:void 0}],GoldenTeasuresMenu:[function(e,t){"use strict";cc._RF.push(t,"b8649etJ7pBWLZrMotT6ybj","GoldenTeasuresMenu");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresUserData"),o=e("GoldenTeasuresGameData"),a=e("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.isRunActioning=!1,this.initUI(),this.loadUI()},initUI:function(){this.menuMask=cc.find("btnCloseMenu",this.node),this.menuMask.on("click",this.onClickCloseMenu,this),this.pnlMenu=cc.find("pnlMenu",this.node),this.pnlMenu.active=!1;var e=cc.find("btnMenu",this.pnlMenu);e.on("click",this.onClickShowMenu,this),this.imgMenuEffect=cc.find("imgEffect",e),this.pnlMenuMain=cc.find("pnlMenuMain",this.node)},loadUI:function(){var e=this;s.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(t,n){t||(e.spAtlas=n,e.initMenu(),e.initMenuMain(),e.initHelp())})},initMenu:function(){cc.find("btnMenu",this.pnlMenu).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Menu"),this.imgMenuEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_Lob_But_Menu_Open_shine"),this.initMenuEffect()},initMenuEffect:function(){cc.tween(this.imgMenuEffect).repeatForever(cc.tween().to(1,{opacity:0}).to(1,{opacity:255})).start()},initMenuMain:function(){this.pnlMenuMain.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Board_Lar");var e=cc.find("layout",this.pnlMenuMain),t=cc.find("itemSound",e);t.on("click",this.onClickSound,this),cc.find("imgLine",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar"),cc.find("imgTagBg",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_Board"),this.imgSoundOn=cc.find("imgSoundOn",t),this.imgSoundOn.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OnPoint"),this.imgSoundOff=cc.find("imgSoundOff",t),this.imgSoundOff.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OffPoint");var n=cc.find("itemHelp",e);n.on("click",this.onClickShowHelp,this),cc.find("imgLine",n).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar");var i=cc.find("itemHome",e);i.on("click",this.onClickHome,this),cc.find("imgHome",i).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Home")},initHelp:function(){},onClickCloseMenu:function(){this.hide(),i.emit(n.PLAY_AUDIO_EF,"btnHide")},onClickShowMenu:function(){this.show(),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickSound:function(){a.getInstant.musicControl=!a.getInstant.musicControl,this.imgSoundOn.active=a.getInstant.musicControl,this.imgSoundOff.active=!a.getInstant.musicControl,a.getInstant.musicControl?(o.GAME_MODE.NORMAL==s.GameMode?i.emit(n.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):o.GAME_MODE.FREE==s.GameMode&&i.emit(n.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),i.emit(n.PLAY_AUDIO_EF,"btnShow")):i.emit(n.STOP_AUDIO)},onClickShowHelp:function(){i.emit(n.SHOW_HELP),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickHideHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide")},onClickHome:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)},type:0})},show:function(){var e=this;this.isRunActioning||(this.isRunActioning=!0,this.pnlMenuMain.active=!0,this.menuMask.active=!0,cc.tween(this.pnlMenu).to(.3,{x:442}).call(function(){cc.tween(e.pnlMenuMain).to(.3,{x:282}).call(function(){e.isRunActioning=!1}).start()}).start())},hide:function(){var e=this;this.isRunActioning||(this.isRunActioning=!0,this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:462}).call(function(){cc.tween(e.pnlMenu).to(.3,{x:322}).call(function(){e.pnlMenuMain.active=!1,e.isRunActioning=!1}).start()}).start())},inFreeGame:function(){this.menuMask.active=!1,cc.tween(this.pnlMenu).to(.3,{x:442}).call(function(){}).start(),this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:462}).call(function(){}).start()},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?this.hide():this.inFreeGame()},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresUserData:"GoldenTeasuresUserData",PlayerInfo:void 0}],GoldenTeasuresNetWheelConfig:[function(e,t){"use strict";var n;cc._RF.push(t,"53650CUb0lAJ7hJqqo8aGZR","GoldenTeasuresNetWheelConfig");var i=[{freeCount:0,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{freeSlots:[2,6,1,4,5],bFlag:!0,freeType:5,nFreeTime:4},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[16,18,16,9,18,18,16,17,9,16,17,9,18,9,9],nWinLinesDetail:[],nWinLines:[],win:0}}],s={freeCount:6,freeType:1,link:{turns:[(n={14:14},n[14]=13,n),{},{},{},{},{}]},win:750},o=0,a={Inint:function(){o=0},GetNetConfig:function(){var e;o>=(e=i).length&&(o=0);var t=e[o];return o++,t},StepReturnData:s,FreeReturnData:{freeCount:4,freeType:2,frees:[{allLineWinDetail:[],getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nHandCards:[13,4,9,9,2,4,9,10,6,8,2,6,4,4,11],nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],win:250},{allLineWinDetail:[],getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nHandCards:[11,4,9,9,2,4,9,10,6,8,2,6,4,4,11],nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],win:0},{allLineWinDetail:[],getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nHandCards:[11,4,9,9,2,4,9,10,6,8,2,6,4,4,11],nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],win:10},{allLineWinDetail:[],getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nHandCards:[11,4,9,9,2,4,9,10,6,8,2,6,4,4,11],nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],win:0}]},LOGIN_RESULT:{freeType:5,gameDict:{betlist:[,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],betsum:20,free:{freewin:558,green_cards:0,rsum:160,starts:{0:17,1:17,3:18,4:18,9:17,11:17}},link:{rsum:160,starts:{0:17,1:17,3:18,4:18,9:17,11:17}}}}};t.exports=a,cc._RF.pop()},{}],GoldenTeasuresNetwork:[function(e,t){"use strict";cc._RF.push(t,"243f9Gke0hB45qUDgcv0G2K","GoldenTeasuresNetwork");var n=e("PlayerInfo"),i=e("GoldenTeasuresEventConfig"),s=e("GoldenTeasuresEventManager"),o=e("GoldenTeasuresUserData"),a=e("GoldenTeasuresGameData");e("GoldenTeasuresItemConfig"),e("GoldenTeasuresNetWheelConfig"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=n.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(e,t){"UPDATE_COIN"==e&&s.emit("UPDATE_COIN");var n=null;if("error"==e&&(cc.log("socket error"),s.emit(i.SHOW_TIP_VIEW,{callback:function(){s.emit(i.OUT_GAME)}})),"connect_error"==e&&(cc.log("connect_error"),s.emit(i.SHOW_TIP_VIEW,{callback:function(){s.emit(i.OUT_GAME)}})),"connect_timeout"==e&&(cc.log("connect_timeout"),s.emit(i.SHOW_TIP_VIEW,{callback:function(){s.emit(i.OUT_GAME)}})),"disconnect"==e){if(this.isOutGameIng)return;cc.log("disconnect"),s.emit(i.SHOW_TIP_VIEW,{callback:function(){s.emit(i.OUT_GAME)}})}if("loginGameResult"==e){if(n=changeResultJSON_Function(t),cc.log("LoginGameResult:",n),"1"!=n.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void s.emit(i.SHOW_TIP_VIEW,{callback:function(){s.emit(i.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),s.emit(i.ON_LOGIN_GAME_RESULT,n),o.LoginGameResultData=n}if("lotteryResult"==e&&((n=changeResultJSON_Function(t)).ResultCode&&1==n.ResultCode?(o.LotteryRes=JSON.parse(JSON.stringify(n.ResultData)),s.emit(i.ON_LOTTERY_RESULT)):s.emit(i.ON_LOTTERY_RESULT_ERR)),"LoginRoomResult"==e&&(n=changeResultJSON_Function(t),cc.log("LoginRoomResult",n)),"pushGamblingWinPool"==e&&(n=changeResultJSON_Function(t),cc.log("pushGamblingWinPool=>",n),1==n.ResultCode&&s.emit(i.ON_PUSH_GAMBLING_WIN_POOL,n.nGamblingWinPool)),"LoginfreeCountResult"==e&&(n=changeResultJSON_Function(t),cc.log("LoginfreeCountResult:",n),1==n.ResultCode&&(n.freeType=Number(n.freeType),(n.freeCount>0||n.freeType==a.GAME_MODE.SELECT)&&s.emit(i.ON_LOGIN_FREE_COUNT_RESULT,n))),"betResult"==e){if(n=changeResultJSON_Function(t),cc.log("betResult",n),1!=n.ResultCode)return;s.emit(i.ON_GAMBLE_RESULT,n.ResultData)}"selectFreeTypeResult"==e&&(n=changeResultJSON_Function(t),cc.log("selectFreeTypeResult:",n),1==n.ResultCode&&(o.FreeTimeAll=n.freeCount,o.FreeTimeNow=0,s.emit(i.UPDATE_FREE_TIME_ALL),1==n.freeType?(o.IsFakeSolt=!0,o.FreeSoltRes=n.link.turns):(o.IsFreeSolt=!0,o.FreeSoltRes=n.frees)))},sendRollData:function(){var e=[];e.push(o.BetValue),cc.log("lottery=>",JSON.stringify({bet:o.BetIndex,nBetList:e})),window.sendNetWorkData("lottery",JSON.stringify({bet:o.BetIndex,nBetList:e}))},selectGame:function(e){window.sendNetWorkData("selectFreeType",JSON.stringify({type:e}))},sendGambleData:function(e){cc.log("bet=>",JSON.stringify({type:e})),window.sendNetWorkData("bet",JSON.stringify({type:e}))},onLoginNet:function(){},onStartRoll:function(){if(o.Status=a.GAME_STATE.REQUEST,s.emit(i.CHANGE_GAME_STATUS),!o.IsFakeSolt)return o.IsFreeSolt?(o.LotteryRes.viewarray=o.FreeSoltRes[o.FreeSoltIndex],o.LotteryRes.winscore=o.FreeSoltRes[o.FreeSoltIndex].win,o.FreeSoltIndex++,void s.emit(i.ON_LOTTERY_RESULT)):void this.sendRollData()},onAddUserCoins:function(e){cc.log("chargeAll =>",e)},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.setSceneOrientation(),this.isOutGameIng=!0,s.destroy(),cc.director.loadScene(window.hallName)},setSceneOrientation:function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",1):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",1),cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE)},onEnable:function(){s.addEventListener(i.ADD_USER_COINS,this.onAddUserCoins,this),s.addEventListener(i.START_ROLL,this.onStartRoll,this),s.addEventListener(i.SELECT_GAME,this.selectGame,this),s.addEventListener(i.OUT_GAME,this.onOutGame,this),s.addEventListener(i.LOGIN_NET,this.onLoginNet,this),s.addEventListener(i.SEND_GAMBLE_DATA,this.sendGambleData,this)},onDestroy:function(){}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresNetWheelConfig:"GoldenTeasuresNetWheelConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData",PlayerInfo:void 0}],GoldenTeasuresParticle:[function(e,t){"use strict";cc._RF.push(t,"1eefd6xeOFLw5UOYgH2KjXz","GoldenTeasuresParticle");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager");e("GoldenTeasuresGameData"),e("GoldenTeasuresUserData"),cc.Class({extends:cc.Component,properties:{particle:cc.Node,nodeFrame:cc.Node,particleScore:cc.Node},onLoad:function(){this.particle.active=!1,this.nodeFrame.active=!1,this.particleScore.active=!1},newParticle:function(){var e=cc.instantiate(this.particle);return e.active=!0,this.node.addChild(e),e},newParticleScore:function(){var e=cc.instantiate(this.particleScore);return e.active=!0,this.node.addChild(e),e},newFrame:function(){var e=cc.instantiate(this.nodeFrame);return e.active=!0,this.node.addChild(e),e},playParticleShiftAni:function(e){var t=this.newParticle(),s=this.newFrame();i.emit(n.PLAY_AUDIO_EF,"itemMove");var o=this.node.convertToNodeSpaceAR(e.or),a=this.node.convertToNodeSpaceAR(e.to);t.x=o.x,t.y=o.y,cc.tween(t).to(.5,{x:a.x,y:a.y}).call(function(){e.callback(),t.removeFromParent()}).start(),s.x=o.x,s.y=o.y,cc.tween(s).to(.5,{x:a.x,y:a.y}).call(function(){var e=cc.find("imgFrame",s),t=cc.find("imgFrame1",s),n=cc.find("imgFrame2",s);cc.tween(e).to(.2,{opacity:0}).start(),cc.tween(t).delay(.2).to(.2,{opacity:0}).start(),cc.tween(n).delay(.4).to(.2,{opacity:0}).call(function(){s.removeFromParent()}).start()}).start()},playParticleAni:function(e){var t=this.newParticleScore();i.emit(n.PLAY_AUDIO_EF,"itemMove");var s=this.node.convertToNodeSpaceAR(e.or),o=this.node.convertToNodeSpaceAR(e.to);t.x=s.x,t.y=s.y,cc.tween(t).to(1,{x:o.x,y:o.y},{easing:"quadIn"}).call(function(){var n=cc.find("nodeBoom/eff1",t),i=cc.find("nodeBoom/eff2",t),s=cc.find("nodeBoom/eff3",t);i.active=!0,i.opacity=0,s.active=!0,s.opacity=0,n.active=!0,cc.tween(n).to(.7,{scaleX:5,scaleY:5,opacity:0}).start(),cc.tween(i).delay(.4).call(function(){i.opacity=255}).to(.5,{scaleX:4,scaleY:4,opacity:0}).start(),cc.tween(s).delay(.8).call(function(){s.opacity=255}).to(.5,{scaleX:1.5,scaleY:1.5,opacity:0}).start(),cc.tween(t.getComponent(cc.ParticleSystem)).to(.3,{emissionRate:0}).delay(.8).call(function(){t.removeFromParent()}).start(),e.callback()}).start()},onEnable:function(){i.addEventListener(n.PLAY_PARTICLE_SHIFT_ANI,this.playParticleShiftAni,this),i.addEventListener(n.PLAY_PARTICLE_ANI,this.playParticleAni,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresSItem:[function(e,t){"use strict";cc._RF.push(t,"ff869caGq9AMZYy6cTYcjEs","GoldenTeasuresSItem"),cc.Class({extends:cc.Component,properties:{item:cc.Sprite,spAtlas:cc.SpriteAtlas},changeImg:function(e){this.item.spriteFrame=this.spAtlas.getSpriteFrame(e)}}),cc._RF.pop()},{}],GoldenTeasuresScene:[function(e,t){"use strict";var n;cc._RF.push(t,"f3e59VeNv9MvbP77IKT9FkO","GoldenTeasuresScene");var i=e("GoldenTeasuresEventConfig"),s=e("GoldenTeasuresEventManager"),o=e("GoldenTeasuresGameData"),a=e("GoldenTeasuresUserData"),c=e("GoldenTeasuresUtil");e("PlayerInfo"),cc.Class(((n={extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preAnimation:cc.Prefab,prTransit:cc.Prefab,preHelp:cc.Prefab,preBg:cc.Prefab,preParticle:cc.Prefab,preTotalWin:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.setSceneOrientation(),a.randItemGroup=c.getItemGroup(),this.initNode(),this.initUI(),this.labCoinsTip.active=!1},initData:function(){a.init(cc.assetManager.getBundle(window.BUNDLE_NAME))},setSceneOrientation:function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",2):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",2),cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT)},onShowNotMoney:function(){var e=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(e.labCoinsTip).to(1,{opacity:0}).call(function(){e.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){a.GameMode,o.GAME_MODE.NORMAL,a.randItemGroup=c.getItemGroup()},onEnable:function(){s.addEventListener(i.HAVE_NO_MONEY,this.onShowNotMoney,this),s.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIUp(),this.initGameUIDown(),this.initGameMenu(),this.initAnimation(),this.initBigWin(),this.initYouWin(),this.initTipView(),this.initTransit(),this.initHelp(),this.initTotalWin(),this.initParticle()},loadComplete:function(){this.loadCount--,0==this.loadCount&&s.emit(i.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var e=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(e)},initBigWin:function(){var e=this;this.loadCount++,a.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(t,n){if(t)cc.log(t);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"BigWin"),e.topNode.addChild(i),i.active=!1,e.loadComplete()}})},initYouWin:function(){var e=this;this.loadCount++,a.Bundle.load("resources/prefab/preYouWin",cc.Prefab,function(t,n){if(t)cc.log(t);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"YouWin"),e.topNode.addChild(i),i.active=!1,e.loadComplete()}})},initGameUIUp:function(){var e=this;this.loadCount++,a.Bundle.load("resources/prefab/preTopUI",cc.Prefab,function(t,n){if(t)cc.log(t);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"UpUI"),e.gameNode.addChild(i),e.loadComplete()}})},onDestroy:function(){s.destroy()},initGameUIDown:function(){this.loadCount++,cc.resources.load("prefabs/commonUi2",function(e,t){if(e)cc.log(e);else{var n=cc.instantiate(t);n.addComponent(o.BUNDLE_NAME+"DownUI"),this.gameNode.addChild(n,1e3);var i=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",n.width,n.height,i),n.scale=i.width/1920,n.y=-440,cc.find("btns/home2",n).y=2800;var s=cc.find("audioView",n);s.y=860,s.scale=2,this.loadComplete()}}.bind(this))},initGameMenu:function(){var e=this;this.loadCount++,a.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(t,n){if(t)cc.log(t);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"Menu"),e.showNode.addChild(i),e.loadComplete()}})},initTipView:function(){var e=this;this.loadCount++,a.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(t,n){if(t)cc.log(t);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"TipView"),e.topNode.addChild(i),e.loadComplete()}})},initAnimation:function(){},initTransit:function(){var e=cc.instantiate(this.prTransit);this.gameNode.addChild(e),e.active=!1},initHelp:function(){var e=cc.instantiate(this.preHelp);this.topNode.addChild(e),e.active=!1},initParticle:function(){var e=cc.instantiate(this.preParticle);this.showNode.addChild(e)}}).initParticle=function(){var e=cc.instantiate(this.preParticle);this.showNode.addChild(e)},n.initTotalWin=function(){var e=cc.instantiate(this.preTotalWin);this.showNode.addChild(e),e.active=!1},n)),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil",PlayerInfo:void 0}],GoldenTeasuresShowItem:[function(e,t){"use strict";cc._RF.push(t,"73f8d0AQSZL1ajHFb2a3u0a","GoldenTeasuresShowItem"),e("GoldenTeasuresUtil");var n=e("GoldenTeasuresItemConfig");e("GoldenTeasuresUserData"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,lab5:cc.Node,lab4:cc.Node,lab3:cc.Node,lab5E:cc.Node,lab4E:cc.Node,lab3E:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.lab5E.opacity=0,this.lab4E.opacity=0,this.lab3E.opacity=0},changeItem:function(e){this.itemID=e,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[e])},setLabVal:function(e){this.lab5E.getComponent(cc.Label).string=e[5],this.lab4E.getComponent(cc.Label).string=e[4],this.lab3E.getComponent(cc.Label).string=e[3],this.lab5.getComponent(cc.Label).string=e[5],this.lab4.getComponent(cc.Label).string=e[4],this.lab3.getComponent(cc.Label).string=e[3]},getItemId:function(){return this.itemID},runSelectAction:function(e){e=e>5?5:e,cc.tween(this.itemImg).to(.4,{angle:-10}).to(.4,{angle:10}).to(.2,{angle:0}).start();var t=this.getLabNode(e);cc.tween(t).to(.5,{scaleX:1.8,scaleY:1.8}).to(.5,{scaleX:1,scaleY:1}).start();var n=this.getLabENode(e);cc.tween(n).to(.5,{scaleX:1.8,scaleY:1.8,opacity:255}).to(.5,{scaleX:1,scaleY:1,opacity:0}).start()},getLabNode:function(e){return 3==e?this.lab3:4==e?this.lab4:5==e?this.lab5:void 0},getLabENode:function(e){return 3==e?this.lab3E:4==e?this.lab4E:5==e?this.lab5E:void 0}}),cc._RF.pop()},{GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil"}],GoldenTeasuresShowList:[function(e,t){"use strict";cc._RF.push(t,"c6e5alOSGpHRYuehY4K5r1U","GoldenTeasuresShowList"),e("GoldenTeasuresUtil");var n=e("GoldenTeasuresItemConfig"),i=e("GoldenTeasuresGameData"),s=e("GoldenTeasuresEventConfig"),o=e("GoldenTeasuresEventManager"),a=[];a[n.ItemID.item00]={3:20,4:6,5:250},a[n.ItemID.item01]={3:5,4:10,5:20},a[n.ItemID.item02]={3:15,4:50,5:200},a[n.ItemID.item03]={3:5,4:10,5:20},a[n.ItemID.item04]={3:15,4:25,5:150},a[n.ItemID.item05]={3:5,4:10,5:20},a[n.ItemID.item06]={3:10,4:20,5:100},a[n.ItemID.item07]={3:5,4:10,5:20},a[n.ItemID.item08]={3:10,4:15,5:50},a[n.ItemID.item09]={3:5,4:8,5:10},a[n.ItemID.item10]={3:5,4:8,5:10},a[n.ItemID.item11]={3:5,4:8,5:10},cc.Class({extends:cc.Component,properties:{layout1:cc.Node,layout2:cc.Node,preShowItem:cc.Prefab},onLoad:function(){this.initItemList()},initItemList:function(){this.itemlist=[];for(var e=n.ItemID.item00;e<=n.ItemID.item11;e++){var t=cc.instantiate(this.preShowItem);this.itemlist.push(t),this.itemlist.length<=6?this.layout1.addChild(t):this.layout2.addChild(t),t.getComponent(i.BUNDLE_NAME+"ShowItem").changeItem(e),t.getComponent(i.BUNDLE_NAME+"ShowItem").setLabVal(a[e])}},onShowWinLine:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.itemlist[n.card]&&this.itemlist[n.card].getComponent(i.BUNDLE_NAME+"ShowItem").runSelectAction(n.length)}},onEnable:function(){o.addEventListener(s.ON_SHOW_WIN_LINE,this.onShowWinLine,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUtil:"GoldenTeasuresUtil"}],GoldenTeasuresStep:[function(e,t){"use strict";cc._RF.push(t,"28e9f6nUTdK1q1oSVUUJQo2","GoldenTeasuresStep");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresUserData");cc.Class({extends:cc.Component,properties:{labFreeNow:cc.Label,labFreeAll:cc.Label,nodeBonus:cc.Node,nodeFree:cc.Node,labBonusWin:cc.Label,labFuXing:cc.Label},onLoad:function(){this.addEventListener()},show:function(){this.labFreeNow.string=s.FreeTimeNow,this.labFreeAll.string=s.FreeTimeAll,this.nodeFree.active=!0,this.nodeBonus.active=!1},onUpdateFreeTimeNow:function(){this.labFreeNow.string=s.FreeTimeNow},onUpdateFreeTimeAll:function(){this.labFreeAll.string=s.FreeTimeAll},onUpdateFuXing:function(){this.labFuXing.string=s.FuXing},onFreeTimeOver:function(){this.nodeFree.active=!1,this.nodeBonus.active=!0,this.nodeBonus.scaleX=0,this.nodeBonus.scaleY=0,cc.tween(this.nodeBonus).to(.3,{scaleX:1,scaleY:1},{easing:"backOut"}).start()},getFreeTimePos:function(){return this.labFreeAll.node.parent.convertToWorldSpaceAR(this.labFreeAll.node.getPosition())},getFuxingPos:function(){return this.nodeBonus.parent.convertToWorldSpaceAR(this.nodeBonus.getPosition())},addEventListener:function(){i.addEventListener(n.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),i.addEventListener(n.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this),i.addEventListener(n.UPDATE_FU_XING,this.onUpdateFuXing,this),i.addEventListener(n.UPDATE_BONUS_WIN,this.onUpdateBonusWin,this),i.addEventListener(n.FREE_TIME_OVER,this.onFreeTimeOver,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresTipView:[function(e,t){"use strict";cc._RF.push(t,"4918a9cmWFMzol6Y5FDrh5q","GoldenTeasuresTipView");var n=e("GoldenTeasuresUserData"),i=e("GoldenTeasuresEventConfig"),s=e("GoldenTeasuresEventManager"),o=[];o[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var e=this;n.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(t,n){t||(cc.find("imgBg",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_But_Close"))})},show:function(e,t){this.node.active=!0,this.callback=e,null!=t&&(this.labContext.string=o[t])},onClickOK:function(){this.callback(),this.node.active=!1},onClickHide:function(){this.node.active=!1},onShowView:function(e){this.show(e.callback,e.type)},addEventListener:function(){s.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresTotalWin:[function(e,t){"use strict";cc._RF.push(t,"a5387N8g4RErp7Zu/w7dP/h","GoldenTeasuresTotalWin");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager");cc.Class({extends:cc.Component,properties:{imgFrameEffect:{default:[],type:cc.Node},pnlAdd:cc.Node,imgAdd:cc.Node,pnlFuxing:cc.Node,labFuXing:cc.Label,pnlWin:cc.Node,labWin:cc.Label,pnlTotalWin:cc.Node,imgLightEffect:cc.Node,labTotalWin:cc.Label},onLoad:function(){cc.tween(this.imgLightEffect).by(1,{angle:90}).repeatForever().start()},showAdd:function(e,t){var s=this;i.emit(n.PLAY_AUDIO_EF,"model2moveHou"),this.node.active=!0,this.pnlAdd.active=!0,this.pnlFuxing.opacity=0,this.pnlWin.opacity=0,this.imgAdd.opacity=0,this.imgAdd.active=!0,this.pnlWin.y=-80,this.pnlFuxing.y=80,this.labFuXing.string=e,this.labWin.string=t;var o=this,a=function(){cc.tween(o.pnlWin).to(.3,{opacity:255}).start()};cc.tween(this.pnlFuxing).to(.3,{opacity:255}).call(function(){cc.tween(o.imgAdd).to(.3,{opacity:255}).call(function(){a()}).start()}).start(),this.scheduleOnce(function(){s.imgAdd.active=!1,cc.tween(s.pnlWin).to(.3,{y:0,opacity:0}).start(),cc.tween(s.pnlFuxing).to(.3,{y:0,opacity:0}).call(function(){s.showTotalWin(e+t),s.pnlAdd.active=!1}).start()},4)},showTotalWin:function(e){var t=this;this.node.active=!0,this.labTotalWin.string=e,i.emit(n.PLAY_AUDIO_EF,"freeGameOver"),this.pnlTotalWin.active=!0,this.pnlTotalWin.opacity=0,cc.tween(this.pnlTotalWin).to(.3,{opacity:255}).to(.3,{scaleX:1.3,scaleY:1.3}).call(function(){for(var e=0;e<t.imgFrameEffect.length;e++){var n=.1*e+1;cc.tween(t.imgFrameEffect[e]).to(1,{opacity:0,scaleX:n,scaleY:n}).start()}}).to(.3,{scaleX:1,scaleY:1}).start(),this.scheduleOnce(function(){t.pnlTotalWin.active=!1,t.node.active=!1,i.emit(n.HIDE_TOTAL_WIN)},5)},onShowTotalWinAdd:function(e){this.showAdd(e.valFuXing,e.valWin),i.emit(n.PLAY_AUDIO_BGM,{id:4})},onShowTotalWin:function(e){this.showTotalWin(e)},onEnable:function(){i.addEventListener(n.SHOW_TOTAL_WIN_ADD,this.onShowTotalWinAdd,this),i.addEventListener(n.SHOW_TOTAL_WIN,this.onShowTotalWin,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager"}],GoldenTeasuresTransit:[function(e,t){"use strict";cc._RF.push(t,"bdb99uA5N1BhZGiuPKGnhsB","GoldenTeasuresTransit");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresUserData"),o=e("GoldenTeasuresGameData");cc.Class({extends:cc.Component,properties:{pnlDoor:cc.Node,pnlSelect:cc.Node,doorleft:cc.Node,doorRight:cc.Node,doorEffect:cc.Node,doorEffect2:cc.Node,pnlStep:cc.Node,imgStepEff1:cc.Node,imgStepEff2:cc.Node,pnlStepFnt:cc.Node,imgStepFntEff:cc.Node,pnlFree:cc.Node,imgFreeEff1:cc.Node,imgFreeEff2:cc.Node,pnlFreeFnt:cc.Node,imgFreeFntEff:cc.Node},onLoad:function(){var e=this;this.addEventListener(),this.doorEffect.getComponent(cc.Animation).on("finished",function(){e.doorEffect.active=!1},this),this.doorEffect2.getComponent(cc.Animation).on("finished",function(){e.doorEffect2.active=!1},this),this.isSelected=!1},runCloseDoorAction:function(){var e=this;i.emit(n.PLAY_AUDIO_EF,"guangquanfei"),this.pnlDoor.active=!0,this.doorleft.x=-360,this.doorRight.x=360,this.newCloseDoorAction(this.doorleft,7),this.newCloseDoorAction(this.doorRight,-7),this.doorEffect.active=!0,this.doorEffect2.active=!0,this.doorEffect.getComponent(cc.Animation).play(),this.doorEffect2.getComponent(cc.Animation).play(),this.scheduleOnce(function(){i.emit(n.CHANGE_GAME_MODE)},1),this.scheduleOnce(function(){i.emit(n.PLAY_AUDIO_EF,"guangquanfei"),e.newCloseDoorAction(e.doorleft,-360),e.newCloseDoorAction(e.doorRight,360),e.doorEffect.active=!0,e.doorEffect2.active=!0,e.doorEffect.getComponent(cc.Animation).play(),e.doorEffect2.getComponent(cc.Animation).play(),e.scheduleOnce(function(){i.emit(n.HIDE_TRANSIT_ANI),e.hide()},1)},3)},newCloseDoorAction:function(e,t){cc.tween(e).to(1,{x:t}).start()},newOpenDoorAction:function(e,t){cc.tween(e).to(1,{x:t}).start()},onTouchStep:function(){this.isSelected||(this.stopAllSelectPnlAction(),this.runSelectAction(this.pnlStep,this.imgStepEff1,this.imgStepEff2),this.runUnselectAction(this.pnlFree),i.emit(n.SELECT_GAME,1),s.GameMode=o.GAME_MODE.UP_UP)},onTouchFree:function(){this.isSelected||(this.stopAllSelectPnlAction(),this.runSelectAction(this.pnlFree,this.imgFreeEff1,this.imgFreeEff2),this.runUnselectAction(this.pnlStep),i.emit(n.SELECT_GAME,2),s.GameMode=o.GAME_MODE.FREE)},runSelectAction:function(e,t,s){var o=this;i.emit(n.PLAY_AUDIO_EF,"onTouchGame"),this.isSelected=!0,cc.tween(e).to(.5,{x:0}).call(function(){cc.tween(e).to(.3,{scaleX:1.2,scaleY:1.2}).to(.3,{scaleX:1,scaleY:1}).start(),cc.tween(t).to(.3,{opacity:255}).to(.3,{opacity:0}).start(),cc.tween(s).to(.3,{opacity:255}).to(.3,{opacity:0}).start()}).start(),cc.tween(this.pnlSelect).to(.5,{opacity:0}).start(),this.scheduleOnce(function(){e.active=!1,o.runCloseDoorAction()},2)},runUnselectAction:function(e){cc.tween(e).to(.3,{opacity:0}).start()},stopAllSelectPnlAction:function(){this.stepAction1.stop(),this.stepAction2.stop(),this.freeAction1.stop(),this.freeAction2.stop()},resetSelectPnl:function(){this.newResetAction(this.pnlStep,this.imgStepFntEff),this.newResetAction(this.pnlFree,this.imgFreeFntEff)},newResetAction:function(e,t){cc.tween(e).to(.1,{scaleX:1,scaleY:1}).start().cc.tween(t).to(.1,{opacity:255}).start()},showSelectAction:function(){var e=this;this.isSelected=!1,this.pnlStep.active=!0,this.pnlStep.opacity=255,this.pnlStep.x=-150,this.pnlFree.x=150,this.pnlStep.scaleX=0,this.pnlStep.scaleY=0,this.imgStepEff1.opacity=0,this.imgStepEff2.opacity=0,this.imgStepFntEff.opacity=0,this.stepAction1=this.newSellectItemFntAction1(this.pnlStep),this.freeAction1=this.newSellectItemFntAction1(this.pnlFree),this.stepAction2=this.newSellectItemFntAction2(this.imgStepFntEff),this.freeAction2=this.newSellectItemFntAction2(this.imgFreeFntEff),this.newSelectItemAction(this.pnlStep,this.pnlStepFnt,function(){e.stepAction1.start(),e.stepAction2.start()}),this.scheduleOnce(function(){e.pnlFree.active=!0,e.pnlFree.scaleX=.1,e.pnlFree.scaleY=.1,e.imgFreeEff1.opacity=0,e.imgFreeEff2.opacity=0,e.imgFreeFntEff.opacity=0,e.newSelectItemAction(e.pnlFree,e.pnlFreeFnt,function(){e.freeAction1.start(),e.freeAction2.start()})},.4)},newSellectItemFntAction1:function(e){return cc.tween(e).repeatForever(cc.tween().to(.5,{scaleX:1.1,scaleY:1.1}).to(.5,{scaleX:1,scaleY:1}))},newSellectItemFntAction2:function(e){return cc.tween(e).repeatForever(cc.tween().to(.5,{opacity:255}).to(.5,{opacity:0}))},newSelectItemAction:function(e,t,n){cc.tween(e).to(.2,{scaleX:1.2,scaleY:1.2}).call(function(){cc.tween(t).to(.2,{scaleX:1.5,scaleY:1.5}).to(.2,{scaleX:1,scaleY:1}).start()}).to(.2,{scaleX:1,scaleY:1}).call(function(){n()}).start()},show:function(){var e=this;i.emit(n.PLAY_AUDIO_BGM,{id:4}),i.emit(n.PLAY_AUDIO_EF,"guangquanfei"),s.initFreeData(),this.node.active=!0,this.pnlDoor.active=!1,this.pnlSelect.active=!0,this.pnlSelect.opacity=255,this.node.scaleX=.1,this.node.scaleY=.1,this.node.opacity=255,this.pnlStep.opacity=255,this.pnlFree.opacity=255,this.pnlStep.active=!1,this.pnlFree.active=!1,cc.tween(this.node).to(.4,{scaleX:1,scaleY:1},{easing:"expoOut"}).call(function(){e.showSelectAction()}).start()},hide:function(){this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresUpUI:[function(e,t){"use strict";cc._RF.push(t,"e1683KJczBAs5XDPXDfvjsU","GoldenTeasuresUpUI");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresUserData"),o=e("GoldenTeasuresUtil");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),resizeWinX(this)},initUI:function(){var e=cc.find("topBarText",this.node);this.labGrand=cc.find("labGrand",e).getComponent(cc.Label),this.labMajor=cc.find("labMajor",e).getComponent(cc.Label),this.labMinor=cc.find("labMinor",e).getComponent(cc.Label),this.labMini=cc.find("labMini",e).getComponent(cc.Label)},loadUI:function(){var e=this;s.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(t,n){t||(cc.find("bkgTopBar",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("bkgTopBar1",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("topBarText",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_UpUI_JPField"))})},updatePool:function(e){this.labGrand.string="$"+o.formattingCoins(500*e),this.labMajor.string="$"+o.formattingCoins(200*e),this.labMinor.string="$"+o.formattingCoins(50*e),this.labMini.string="$"+o.formattingCoins(15*e)},onLoginGameResult:function(e){1==e.resultid&&this.updatePool(e.Obj.nGamblingWinPool)},onPushGamblingWinPoolResult:function(e){this.updatePool(e)},onEnable:function(){i.addEventListener(n.ON_PUSH_GAMBLING_WIN_POOL,this.onPushGamblingWinPoolResult,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil"}],GoldenTeasuresUserData:[function(e,t){"use strict";cc._RF.push(t,"a7661q0SPdIv6rheDJ7Rwjy","GoldenTeasuresUserData");var n={Bundle:null,FreeTimeNow:0,FreeTimeAll:0,FreeWinCoins:0,FreeUpRemaining:0,BetIndex:0,BetValue:20,Line:20,GameWin:0,RollMode:0,GameMode:0,Status:0,IsAuto:!1,IsFakeSolt:!1,FakeSoltIndex:0,IsFreeSolt:!1,FreeSoltIndex:0,FreeSoltRes:null,LotteryRes:null,init:function(e){n.Bundle=e,n.GameMode=0,n.RollMode=0,n.Status=0,n.BetIndex=0,n.BetValue=20,n.Line=20,n.FakeSoltIndex=0,n.IsAuto=!1,n.IsFakeSolt=!1,n.IsFreeSolt=!1},initFreeData:function(){n.FreeTimeNow=0,n.FreeTimeAll=0,n.FreeWinCoins=0,n.FuXing=0,n.WillWin=0,n.FreeSoltIndex=0,n.FakeSoltIndex=0}};t.exports=n,cc._RF.pop()},{}],GoldenTeasuresUtil:[function(e,t){"use strict";cc._RF.push(t,"a7e91G52PZEcI6eWe/VJFZW","GoldenTeasuresUtil");var n=e("GoldenTeasuresGameData"),i=e("GoldenTeasuresUserData"),s=e("GoldenTeasuresItemConfig"),o=e("PlayerInfo"),a={convertNetData:function(e){for(var t=[],n=0;n<5;n++)t[n]=[];for(var i in e)t[i%5][2-parseInt(i/5)]=e[i];return t},getRandID:function(e,t){return parseInt(Math.random()*(t+1-e))+e},getFakeNetData:function(e,t,n){for(var i=[],s=0;s<15;s++)n[s]?i[s]=Number(n[s]):i[s]=a.getRandID(e,t);return i},formattingCoins:function(e){return(e/o.getInstant.exchangeRate).toFixed(2)},getRandItemID:function(e){var t=parseInt(Math.random()*e.length);return t>=e.length&&(t=e.length-1),t<=0&&(t=0),t},isNormalGame:function(){return n.GAME_MODE.NORMAL==i.GameMode},checkBigWin:function(e){return e/i.BetValue>=10},updateSetString:function(e,t,n,i,s,o){var a=0,c=Math.ceil(e/i);n.string=t;var r=0;o.schedule(function(){(a+=c)>e&&(a=e),n.string=a+t,++r==i+1&&s()},.02,i)},getItemGroup:function(e){var t=i.BetValue>100?100:i.BetValue,o=s.ITEM_CONFIG[t];if(!o){var a=t*i.Line>100?100:t*i.Line;o=s.ITEM_CONFIG[a]}var c=s.ItemID;return n.GAME_MODE.NORMAL==i.GameMode?[].concat(o,o,[c.item09,c.item10,c.item11,c.WILD],s.BONUS_WITLE_ID):i.GameMode==n.GAME_MODE.FREE?[].concat(o,o,[c.BONUS_GREEN]):i.GameMode==n.GAME_MODE.UP_UP?e?[].concat(o,o,o):[].concat(o,o,o,[c.BONUS_GOLD,c.BONUS_GREEN]):void 0}};a.getRandItemID=function(e){var t=i.randItemGroup;return e&&(t=a.getItemGroup(!0)),t[a.getRandID(0,t.length-1)]},a.getBonusVal=function(e){return s.BONUS_VAL[e]*i.BetValue/n.LINES},a.getBonusGoldSum=function(e){for(var t=0,i=0;i<e.length;i++){var s=e[i].getComponent(n.BUNDLE_NAME+"Item");(s.isBonusItem()||s.isGreenBounsItem())&&(t+=s.getBonusVal())}return t},a.getBonusGreenSum=function(e){for(var t=0,i=0;i<e.length;i++){var s=e[i].getComponent(n.BUNDLE_NAME+"Item");s.isBonusItem()&&(t+=s.getBonusVal())}return t},a.getWinItemData=function(){},t.exports=a,cc._RF.pop()},{GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData",PlayerInfo:void 0}],GoldenTeasuresWheelAni:[function(e,t){"use strict";cc._RF.push(t,"23e624ZFnNIaqR1EzBHq8Ec","GoldenTeasuresWheelAni");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresGameData"),o=e("GoldenTeasuresItemConfig"),a=e("GoldenTeasuresUserData");cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=o.WHEEL_WIDTH},setWheelData:function(e){this.wheelId=e,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var e=0;e<this.itemAniList.length;e++){var t=this.itemAniList[e];t.getComponent(s.BUNDLE_NAME+"ItemAni").reset(),t.active=!1}},onStartRoll:function(){a.IsFakeSolt||this.resetItem()},onEnable:function(){i.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var e=0;e<s.VERTICAL_ITEM_COUNT;e++){var t=o.ITEM_HEIGHT*e-o.ITEM_HEIGHT,n=cc.instantiate(this.preItemAni);this.itemAniList.push(n),this.pnlItemAni.addChild(n),n.y=t,n.active=!1}}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresWheelUp:[function(e,t){"use strict";cc._RF.push(t,"eb597ekP4xFiawgF4hsDlbP","GoldenTeasuresWheelUp");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresGameData"),o=e("GoldenTeasuresItemConfig");cc.Class({extends:cc.Component,properties:{pnlSelect:cc.Node,preItem:cc.Prefab},onLoad:function(){this.node.width=o.WHEEL_WIDTH,this.initItemMask()},setWheelData:function(e){this.wheelId=e},getItemList:function(){return this.itemItemList},resetItem:function(){for(var e=0;e<this.itemItemList.length;e++)this.itemItemList[e].getComponent(s.BUNDLE_NAME+"ItemMask").reset()},onStartRoll:function(){this.resetItem()},onEnable:function(){i.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemMask:function(){this.itemItemList=[];for(var e=0;e<s.VERTICAL_ITEM_COUNT;e++){var t=o.ITEM_HEIGHT*e-o.ITEM_HEIGHT,n=cc.instantiate(this.preItem);this.itemItemList.push(n),this.pnlSelect.addChild(n),n.y=t,n.active=!1}}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig"}],GoldenTeasuresWheel:[function(e,t){"use strict";cc._RF.push(t,"89544hhLPZOqorbaKvVlQAB","GoldenTeasuresWheel");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresGameData"),o=e("GoldenTeasuresUserData"),a=e("GoldenTeasuresItemConfig");cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node,pnlMask:cc.Node,itemMask:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize(),this.initItemMask()},initWheelSize:function(){this.node.width=a.WHEEL_WIDTH,this.node.height=a.WHEEL_HEIGHT,this.itemMask.width=a.ITEM_WIDTH,this.itemMask.height=a.ITEM_HEIGHT;var e=cc.find("pnlMask",this.node);e.width=a.WHEEL_WIDTH,e.height=a.WHEEL_HEIGHT},setWheelData:function(e){this.wheelId=e,this.initItem()},changeMode:function(){},resetItem:function(){for(var e=0;e<this.itemList.length;e++)this.itemList[e].active=!0;for(var t=0;t<this.itemMaskList.length;t++)this.itemMaskList[t].active=!1},checkBoundItem:function(){for(var e=0;e<this.resultItemList.length;e++)if(this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isBonusItem())return!0;return!1},setInitItemVal:function(e){for(var t=0;t<e.length;t++)this.itemList[t].getComponent(s.BUNDLE_NAME+"Item").changeItem(e[t])},getResultItemByItemPos:function(e){return this.resultItemList[e]},getListItemByItemPos:function(e){return this.itemList[e]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},getItemMaskList:function(){return this.itemMaskList},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.resetItem()},onStopImmediately:function(){this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(o.GameMode)},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.RESET_WHEEL,this.onResetWheel,this),i.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){i.removeEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.removeEventListener(n.START_ROLL,this.onStartRoll,this),i.removeEventListener(n.RESET_WHEEL,this.onResetWheel,this),i.removeEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(e){this.netIdList=e,this.onStopRollScheduleCallback()},onStopRollScheduleCallback:function(){this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var e=this;this.resultItemList=[];for(var t=function(t){var n=e.itemList[t],i=cc.tween(n);n.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(-1),i.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){n.y<-a.ITEM_HEIGHT-a.ITEM_HEIGHT/2&&(n.y=3*a.ITEM_HEIGHT-a.ITEM_HEIGHT,n.getComponent(s.BUNDLE_NAME+"Item").randImg()),e.isStopRoll&&(i.stop(),e.rollEnd(n,t)),e.isResetRoll&&(i.stop(),e.resetRolePos(n,t))})).start()},n=0;n<this.itemList.length;n++)t(n)},rollEnd:function(e,t){var o=this,c=this;cc.tween(e).repeat(4,cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){e.y<-a.ITEM_HEIGHT-a.ITEM_HEIGHT/2&&(e.y=3*a.ITEM_HEIGHT-a.ITEM_HEIGHT,c.itemIndex>=c.netIdList.length?e.getComponent(s.BUNDLE_NAME+"Item").randImg():(e.getComponent(s.BUNDLE_NAME+"Item").changeItem(c.netIdList[c.itemIndex]),c.resultItemList.push(e)),e.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(c.itemIndex),c.itemIndex++)})).call(function(){var r=e.getComponent(s.BUNDLE_NAME+"Item").getItemVerticalPos(c.itemIndex);r=-1==r?3:r,e.y=r*a.ITEM_HEIGHT-a.ITEM_HEIGHT,t==o.itemList.length-1&&i.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){e.y<a.ITEM_HEIGHT+a.ITEM_HEIGHT/2&&e.getComponent(s.BUNDLE_NAME+"Item").rollEnd(),o.itemList.length-1==t&&i.emit(n.ON_WHEEL_ROLL_END,o.wheelId)}).start()},resetRolePos:function(e,t){e.y=a.ITEM_HEIGHT*t-a.ITEM_HEIGHT},initItem:function(){this.itemList=[];for(var e=0;e<4;e++){var t=cc.instantiate(this.preItem);this.itemList.push(t),this.pnlItem.addChild(t),t.y=a.ITEM_HEIGHT*e-a.ITEM_HEIGHT,t.getComponent(s.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}},initItemMask:function(){this.itemMaskList=[];for(var e=0;e<s.VERTICAL_ITEM_COUNT;e++){var t=cc.instantiate(this.itemMask);this.itemMaskList.push(t),this.pnlMask.addChild(t),t.y=a.ITEM_HEIGHT*e-a.ITEM_HEIGHT,t.active=!1}}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresGameData:"GoldenTeasuresGameData",GoldenTeasuresItemConfig:"GoldenTeasuresItemConfig",GoldenTeasuresUserData:"GoldenTeasuresUserData"}],GoldenTeasuresYouWin:[function(e,t){"use strict";cc._RF.push(t,"f62e2jn7/9Cj7nJbySGWW9S","GoldenTeasuresYouWin");var n=e("GoldenTeasuresEventConfig"),i=e("GoldenTeasuresEventManager"),s=e("GoldenTeasuresUserData"),o=e("GoldenTeasuresUtil");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.addEventListener()},initUI:function(){var e=this;this.labWinCoins=cc.find("imgCoinsBg/labWinCoins",this.node).getComponent(cc.Label),s.Bundle.load("resources/image/youWin",cc.SpriteAtlas,function(t,n){t?cc.log(t):(cc.find("imgFntYouWin",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("YOU_WIN"),cc.find("imgCoinsBg",e.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("BIG_WIN_frame"))})},show:function(e){var t=this,s=e.coins;this.callback=e.callback,this.node.active=!0,i.emit(n.PLAY_AUDIO_BGM,{id:1});var a=Math.ceil(s/50),c=0;this.labWinCoins.string=o.formattingCoins(c),this.schedule(function(){c=(c+=a)>s?s:c,t.labWinCoins.string=o.formattingCoins(c)},.1,49),this.scheduleOnce(function(){t.hide()},6)},hide:function(){this.callback(),this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{GoldenTeasuresEventConfig:"GoldenTeasuresEventConfig",GoldenTeasuresEventManager:"GoldenTeasuresEventManager",GoldenTeasuresUserData:"GoldenTeasuresUserData",GoldenTeasuresUtil:"GoldenTeasuresUtil"}]},{},["GoldenTeasuresBigWin","GoldenTeasuresDownUI","GoldenTeasuresFree","GoldenTeasuresHelp","GoldenTeasuresMenu","GoldenTeasuresParticle","GoldenTeasuresStep","GoldenTeasuresTipView","GoldenTeasuresUpUI","GoldenTeasuresYouWin","GoldenTeasuresEventConfig","GoldenTeasuresEventManager","GoldenTeasuresGameData","GoldenTeasuresItemConfig","GoldenTeasuresNetWheelConfig","GoldenTeasuresUserData","GoldenTeasuresActiveSymbols","GoldenTeasuresAudio","GoldenTeasuresBg","GoldenTeasuresItem","GoldenTeasuresItemAni","GoldenTeasuresItemMask","GoldenTeasuresMain","GoldenTeasuresNetwork","GoldenTeasuresSItem","GoldenTeasuresScene","GoldenTeasuresShowItem","GoldenTeasuresShowList","GoldenTeasuresTotalWin","GoldenTeasuresTransit","GoldenTeasuresUtil","GoldenTeasuresWheel","GoldenTeasuresWheelAni","GoldenTeasuresWheelUp"]);