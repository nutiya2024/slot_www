window.__require=function t(e,n,i){function o(s,r){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({PantherMoonAudio:[function(t,e){"use strict";cc._RF.push(e,"96c54Z6bMVCeLOZJQ8pNpts","PantherMoonAudio");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},startWheel:cc.AudioClip,stopWheel:cc.AudioClip,btnShow:cc.AudioClip,btnHide:cc.AudioClip,inFreeTime:cc.AudioClip,showLine:cc.AudioClip,winLine:cc.AudioClip,rollOver:cc.AudioClip,scatterWin:cc.AudioClip,gambleWin:cc.AudioClip,gambleFail:cc.AudioClip},onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&(this.bgmID!=t.id||t.isFrist)&&(this.bgmID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},playEf:function(t){if(0!=this.pInfo.soundEffectControl)switch(t){case"startWheel":this.callAudioPlayEff(this.startWheel);break;case"stopWheel":this.callAudioPlayEff(this.stopWheel);break;case"btnShow":this.callAudioPlayEff(this.btnShow);break;case"btnHide":this.callAudioPlayEff(this.btnHide);break;case"inFreeTime":this.callAudioPlayEff(this.inFreeTime);break;case"showLine":this.callAudioPlayEff(this.showLine);break;case"winLine":this.callAudioPlayEff(this.winLine);break;case"rollOver":this.callAudioPlayEff(this.rollOver);break;case"scatterWin":this.callAudioPlayEff(this.scatterWin);break;case"gambleWin":this.callAudioPlayEff(this.gambleWin);break;case"gambleFail":this.callAudioPlayEff(this.gambleFail);break;default:cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",t)}},callAudioPlayEff:function(t){cc.audioEngine.playEffect(t)},onEnable:function(){i.addEventListener(n.PLAY_AUDIO_BGM,this.playBgm,this),i.addEventListener(n.PLAY_AUDIO_EF,this.playEf,this),i.addEventListener(n.STOP_AUDIO,this.stopAudio,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PlayerInfo:void 0}],PantherMoonBg:[function(t,e){"use strict";cc._RF.push(e,"40769In1OJG15A17gBIBWx2","PantherMoonBg");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonGameData"),a=t("PantherMoonUserData");cc.Class({extends:cc.Component,properties:{imgU:cc.Sprite,imgD:cc.Sprite,spAtlasNormalU:cc.SpriteFrame,spAtlasNormalD:cc.SpriteFrame,spAtlasFreeU:cc.SpriteFrame,spAtlasFreeD:cc.SpriteFrame},onLoad:function(){},onChangeGameMode:function(){a.GameMode==o.GAME_MODE.NORMAL?(this.imgU.spriteFrame=this.spAtlasNormalU,this.imgD.spriteFrame=this.spAtlasNormalD):(this.imgU.spriteFrame=this.spAtlasFreeU,this.imgD.spriteFrame=this.spAtlasFreeD)},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonUserData:"PantherMoonUserData"}],PantherMoonBigWin:[function(t,e){"use strict";cc._RF.push(e,"640c6jM3CZMBaHI6l1qF+mA","PantherMoonBigWin");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonUserData"),a=t("PantherMoonUtil"),s=[cc.v2(-308,175),cc.v2(-115,100),cc.v2(10,170),cc.v2(314,92),cc.v2(46,90)],r=[cc.v2(-321,174),cc.v2(-154,114),cc.v2(20,175),cc.v2(324,92),cc.v2(104,90)],c=[cc.v2(-416,215),cc.v2(-200,129),cc.v2(80,200),cc.v2(389,98),cc.v2(34,112)];cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.addEventListener(),cc.find("New Sprite",this.node).on("click",this.hide,this)},initUI:function(){this.initEffectCoins(),this.initWin(),this.initFreeBg()},initEffectCoins:function(){this.effectCoins=cc.find("coins",this.node),this.coinsGroup=[this.effectCoins],this.nodeCoin=cc.find("nodeCoins",this.node);for(var t=0;t<60;t++){var e=cc.instantiate(this.effectCoins);this.nodeCoin.addChild(e),this.coinsGroup.push(e),e.getComponent(cc.Animation).play().wrapMode=cc.WrapMode.Loop}},initWin:function(){var t=this;this.pnlWin=cc.find("pnlWin",this.node),o.Bundle.load("resources/image/BigWin",cc.SpriteFrame,function(e,n){e?cc.log(e):(t.imgWin=cc.find("imgYouWin",t.pnlWin),t.imgWin.getComponent(cc.Sprite).spriteFrame=n,t.initWinTween())}),o.Bundle.load("resources/image/big_win",cc.SpriteAtlas,function(e,n){e?cc.log(e):(t.imgBigWin=cc.find("imgBigWin",t.pnlWin),t.imgBigWin.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("MegaWin"),t.bigWinEffect=cc.find("imgBigWinEffect",t.node),t.bigWinEffect.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("MegaWin_Frame_Light_50%"),t.initBigWinTween())}),o.Bundle.load("resources/image/mega_win",cc.SpriteAtlas,function(e,n){e?cc.log(e):(t.imgMegaWin=cc.find("imgMegaWin",t.pnlWin),t.imgMegaWin.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("SuperWin"),t.megaWinEffect=cc.find("imgMegaWinEffect",t.node),t.megaWinEffect.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("SuperWin_Shine_Add_50%"),t.initMegaWinTween())}),o.Bundle.load("resources/image/Win_LightSweep",cc.SpriteAtlas,function(e,n){if(e)cc.log(e);else{t.effectLignt=[];for(var i=cc.find("pnlPoint",t.pnlWin),o=["Win_Star_Style_01","Win_Star_Style_02","Win_Star_Style_02","Win_Star_Style_01","Win_Star_Style_04"],a=1;a<=5;a++){var s=cc.find("ligntPoint"+a,i);s.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(o[a-1]),t.effectLignt.push(s)}t.initLightPointTween()}})},initFreeBg:function(){var t=cc.find("pnlFreeBg",this.node);o.Bundle.load("resources/image/Win_LightSweep",cc.SpriteAtlas,function(e,n){e?cc.log(e):t.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Win_Frame_bg")}),this.lblWinCoin=cc.find("labelWin",t).getComponent(cc.Label)},initLightPointTween:function(){for(var t=0;t<this.effectLignt.length;t++){var e=cc.tween;e(this.effectLignt[t]).repeatForever(e().parallel(e().by(.5,{angle:90}).by(.5,{angle:90}),e().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.5,scaleY:.5}))).start(),this.effectLignt[t].active=!1}},initWinTween:function(){this.WinTween=cc.tween(this.pnlWin).repeatForever(cc.tween().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.9,scaleY:.9}))},initBigWinTween:function(){var t=this;this.bigWinTween=cc.tween(this.bigWinEffect).repeatForever(cc.tween().delay(.5).call(function(){t.bigWinEffect.opacity=255,t.bigWinEffect.scaleX=2,t.bigWinEffect.scaleY=2}).to(.5,{scaleX:2.2,scaleY:2.2,opacity:0}))},initMegaWinTween:function(){var t=this;this.MegaWinTween=cc.tween(this.megaWinEffect).repeatForever(cc.tween().delay(.5).call(function(){t.megaWinEffect.opacity=255,t.megaWinEffect.scaleX=1,t.megaWinEffect.scaleY=1}).to(.5,{scaleX:1.1,scaleY:1.1,opacity:0}))},playWin:function(){this.imgWin.active=!0;for(var t=0;t<this.effectLignt.length;t++)this.effectLignt[t].setPosition(s[t]),this.effectLignt[t].active=!0},playBigWin:function(){this.imgBigWin.active=!0,this.bigWinEffect.active=!0,this.bigWinTween.start();for(var t=0;t<this.effectLignt.length;t++)this.effectLignt[t].setPosition(r[t]),this.effectLignt[t].active=!0},playMegaWin:function(){this.imgMegaWin.active=!0,this.megaWinEffect.active=!0,this.megaWinEffect.opacity=0,this.MegaWinTween.start();for(var t=0;t<this.effectLignt.length;t++)this.effectLignt[t].setPosition(c[t]),this.effectLignt[t].active=!0},show:function(t,e){this.node.active=!0,i.emit(n.PLAY_AUDIO_BGM,{id:1}),e>=50?this.playMegaWin():e>=20?this.playBigWin():this.playWin();var o=Math.ceil(t/70);this.lblWinCoin.string=a.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=o,this.schedule(this.addNowCoinsAction,.1,69),this.coinsPool=this.coinsGroup.concat([]),this.schedule(this.playCoins,.3,1/0),this.playCoins(),this.WinTween.start(),this.scheduleOnce(this.hide,10)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.lblWinCoin.string=a.formattingCoins(this.nowCoins)},hide:function(){this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.resetCoins(),this.WinTween.stop(),this.bigWinTween.stop(),this.MegaWinTween.stop(),this.lblWinCoin.string=0,this.imgWin.active=!1,this.imgBigWin.active=!1,this.bigWinEffect.active=!1,this.imgMegaWin.active=!1,this.megaWinEffect.active=!1,this.node.active=!1},resetCoins:function(){for(var t=0;t<this.coinsGroup.length;t++)this.coinsGroup[t].tweenAction&&(this.coinsGroup[t].tweenAction.stop(),this.coinsGroup[t].setPosition(0,-400))},playCoins:function(){for(var t=this,e=function(){var e=t.coinsPool.shift();t.scheduleOnce(function(){t.rundCoinsAction(e)},1*Math.random())};this.coinsPool.length>0;)e()},rundCoinsAction:function(t){var e=this,n=1800*Math.random()-900,i=400*Math.random()-200+n,o=400*Math.random()+400,a=i-n>0,s=400*Math.random(),r=a?i+s:i-s,c=400*Math.random(),h=a?r+c:r-c;t.angle=360*Math.random(),t.setPosition(n,-400),t.tweenAction=cc.tween(t).bezierTo(1,cc.v2(i,o),cc.v2(r,o),cc.v2(h,-400)).call(function(){e.coinsPool.push(t)}).start()},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins,t.rate)},addEventListener:function(){i.addEventListener(n.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonUserData:"PantherMoonUserData",PantherMoonUtil:"PantherMoonUtil"}],PantherMoonDownUI:[function(t,e){"use strict";cc._RF.push(e,"a9149cNF05KzYNodz+kTwYn","PantherMoonDownUI");var n=t("PantherMoonUserData"),i=t("PantherMoonGameData"),o=t("PantherMoonEventConfig"),a=t("PantherMoonEventManager"),s=t("PlayerInfo"),r=t("PantherMoonUtil");cc.Class({extends:cc.Component,onLoad:function(){this.line=3,this.initUI(),cc.find("btns/btn_help",this.node).on("click",function(){a.emit(o.SHOW_HELP),a.emit(o.PLAY_AUDIO_EF,"btnShow")},this),resizeWinX(this),this.initHandTween(),this.initAutoTween(),n.LoginGameResultData&&this.onLoginGameResult(n.LoginGameResultData)},initBetData:function(){var t=s.getInstant.maxBet/n.Line;this.betLimit=n.slotBetList.length-1;for(var e=0;e<n.slotBetList.length;e++)if(t<n.slotBetList[e]){this.betLimit=e-1;break}this.updateLine(),this.updateBet()},initUI:function(){var t=cc.find("pnlEntries",this.node);this.labEntries=cc.find("labEntries",t).getComponent(cc.Label),this.labEntries.string=r.formattingCoins(s.getInstant.playerCoin);var e=cc.find("btnAddCoins",t);e.on("click",this.onClickAddCoins,this),this.btnAddCoins=e,this.imgAddCoinsEffect=cc.find("imgEffect",e),this.imgAddCoinsHand=cc.find("imgHand",e),this.labWinning=cc.find("pnlWinning/labWinning",this.node).getComponent(cc.Label),this.labGameWin=cc.find("pnlGameWin/labGameWinning",this.node).getComponent(cc.Label);var n=cc.find("pnlTotal",this.node);this.labTotal=cc.find("labTotal",n).getComponent(cc.Label),this.btnDec=cc.find("btnDec",n),this.btnDec.on("click",this.onClickDec,this),this.btnAdd=cc.find("btnAdd",n),this.btnAdd.on("click",this.onClickAdd,this);var i=cc.find("pnlLine",this.node);this.labLine=cc.find("labLine",i).getComponent(cc.Label),this.btnDecLine=cc.find("btnDec",i),this.btnDecLine.on("click",this.onClickDecLine,this),this.btnAddLine=cc.find("btnAdd",i),this.btnAddLine.on("click",this.onClickAddLine,this),this.btnRoll=cc.find("btnRoll",this.node),this.btnRoll.on("click",this.onClickRoll,this),this.btnAuto=cc.find("btnAuto",this.node),this.btnAuto.on("click",this.onClickAuto,this),this.imgAutoOnImg=cc.find("imgAutoOnImg",this.btnAuto),this.imgAutoEffect=cc.find("imgAutoEffect",this.btnAuto),this.labGameWin.string=r.formattingCoins(0)},loadUI:function(){var t=this;n.Bundle.load("resources/image/Mob_DownUI",cc.SpriteAtlas,function(e,o){e||(t.spAtlas=o,t.initBg(),t.initEntries(),t.initWinning(),t.initTotal(),t.initLine(),t.initRoll(),t.initAuto(),t.initUserCoin(),n.Status==i.GAME_STATE.LEISURE&&t.enterLeisure())})},initHandTween:function(){this.addCoinsTween=cc.tween(this.imgAddCoinsEffect).repeatForever(cc.tween().to(.5,{opacity:0}).to(.5,{opacity:255})),this.addCoinsHandTween=cc.tween(this.imgAddCoinsHand).repeatForever(cc.tween().to(.5,{x:127.5,y:124.5}).to(.5,{x:53,y:50}))},initBg:function(){cc.find("bg1",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280"),cc.find("bg2",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280")},initEntries:function(){var t=cc.find("pnlEntries",this.node);t.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnAddCoins",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus"),this.imgAddCoinsEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus_light"),this.imgAddCoinsHand.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Hand")},initWinning:function(){cc.find("pnlWinning",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short")},initTotal:function(){var t=cc.find("pnlTotal",this.node);t.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnDec",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletSub"),cc.find("btnAdd",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletPlus")},initLine:function(){var t=cc.find("pnlLine",this.node);t.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnDec",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletSub"),cc.find("btnAdd",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletPlus")},initRoll:function(){this.btnRoll.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_RevealPlus")},initAuto:function(){var t=this;this.btnAuto.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_nor"),this.imgAutoOnImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_light"),n.Bundle.load("resources/image/img_auto_effect",cc.SpriteFrame,function(e,n){t.imgAutoEffect.getComponent(cc.Sprite).spriteFrame=n})},initAddCoins:function(){},initUserCoin:function(){this.labEntries.string=r.formattingCoins(s.getInstant.playerCoin)},initAutoTween:function(){cc.tween(this.imgAutoEffect).repeatForever(cc.tween().by(1,{angle:180})).start()},onClickAdd:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.updateBet(),a.emit(o.PLAY_AUDIO_EF,"btnShow")},onClickDec:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.updateBet(),a.emit(o.PLAY_AUDIO_EF,"btnHide")},onClickAddLine:function(){this.line+=1,this.line=this.line>=i.LINES_LIST.length?0:this.line,this.updateLine(),a.emit(o.PLAY_AUDIO_EF,"btnShow")},onClickDecLine:function(){this.line-=1,this.line=this.line<0?i.LINES_LIST.length-1:this.line,this.updateLine(),a.emit(o.PLAY_AUDIO_EF,"btnHide")},onClickAuto:function(){n.Status!=i.GAME_STATE.INIT&&r.isNormalGame()&&(n.IsAuto?(this.enterAuto(!1),a.emit(o.PLAY_AUDIO_EF,"btnHide")):(this.enterAuto(!0),a.emit(o.PLAY_AUDIO_EF,"btnShow")))},onClickRoll:function(){if(n.Status==i.GAME_STATE.LEISURE){if(!this.checkCoinsEntries())return void this.playNoMenyTween();n.Status=i.GAME_STATE.REQUEST,a.emit(o.START_ROLL),this.setRollBan(!1),a.emit(o.PLAY_AUDIO_EF,"startWheel")}else n.Status==i.GAME_STATE.ROLL_END&&(a.emit(o.STOP_IMMEDIATELY),this.setRollBan(!1),a.emit(o.PLAY_AUDIO_EF,"stopWheel"))},onClickAddCoins:function(){this.showAddCoins()},onClickHideAddCoins:function(){this.pnlAddCoins.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){s.getInstant&&(this.pnlAddCoins.active=!0)},chargeSum:function(t){this.pnlAddCoins.active=!1;var e=0==t?{}:{sum:t};a.emit(o.ADD_USER_COINS,e)},updateBet:function(){n.BetIndex=this.bet,n.BetValue=n.slotBetList[this.bet]*n.Line,this.labTotal.string=r.formattingCoins(n.BetValue),a.emit(o.UPDATE_BET),a.emit(o.ON_PUSH_GAMBLING_WIN_POOL,n.BetValue)},updateLine:function(){n.Line=i.LINES_LIST[this.line],this.labLine.string=n.Line,a.emit(o.UPDATE_LINE),this.updateBet()},checkCoinsEntries:function(){return s.getInstant.playerCoin>=n.BetValue},setBtnState:function(t){this.spAtlas&&(this.btnRoll.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(t?"Mob_DownUI_But_Stop":"Mob_DownUI_But_RevealPlus"))},setRollBan:function(t){this.btnRoll.getComponent(cc.Button).interactable=t},setAutoBan:function(t){this.btnAuto.getComponent(cc.Button).interactable=t},banButton:function(t){t&&n.IsAuto||(this.btnAdd.getComponent(cc.Button).interactable=t,this.btnDec.getComponent(cc.Button).interactable=t,this.btnAddLine.getComponent(cc.Button).interactable=t,this.btnDecLine.getComponent(cc.Button).interactable=t)},playNoMenyTween:function(){this.imgAddCoinsEffect.active=!0,this.imgAddCoinsHand.active=!0,this.addCoinsTween.start(),this.addCoinsHandTween.start(),a.emit(o.HAVE_NO_MONEY)},stopNoMenyTween:function(){this.addCoinsTween.stop(),this.addCoinsHandTween.stop(),this.imgAddCoinsEffect.active=!1,this.imgAddCoinsHand.active=!1},enterAuto:function(t){n.IsAuto=t,this.imgAutoOnImg.active=t,this.imgAutoEffect.active=t,t?(this.setRollBan(!1),this.banButton(!1),n.Status==i.GAME_STATE.LEISURE&&a.emit(o.START_ROLL)):n.Status==i.GAME_STATE.LEISURE&&(this.setRollBan(!0),this.setBtnState(!1))},onStartRoll:function(){this.banButton(!1),r.isNormalGame()&&(this.labGameWin.string=r.formattingCoins(0)),r.isNormalGame()&&(s.getInstant.playerCoin-=n.BetValue,this.labEntries.string=r.formattingCoins(s.getInstant.playerCoin))},onChargeAllResult:function(t){t&&(s.getInstant.playerCoin=t.score?t.score:0,this.labEntries.string=r.formattingCoins(s.getInstant.playerCoin),this.stopNoMenyTween())},onUpdateGameWin:function(t){var e=this;if(0!=t){s.getInstant.playerCoin+=t;var i=r.isNormalGame()?0:n.FreeWinCoins,o=r.isNormalGame()?t:n.FreeWinCoins+t,a=Math.ceil(o/20);this.schedule(function(){(i+=a)>o&&(i=o),e.labGameWin.string=r.formattingCoins(i),e.labEntries.string=r.formattingCoins(s.getInstant.playerCoin-o+i)},.02,20),r.isNormalGame()||(n.FreeWinCoins+=t)}},onLotteryResult:function(){n.IsAuto||(this.setBtnState(!0),this.setRollBan(!0)),this.stopNoMenyTween()},onSetWinningValue:function(){this.labEntries.string=r.formattingCoins(s.getInstant.playerCoin)},onChangeGameStatus:function(){n.Status==i.GAME_STATE.RESULT?this.enterResult():n.Status==i.GAME_STATE.LEISURE&&this.enterLeisure()},enterResult:function(){n.IsAuto||this.setRollBan(!1)},enterLeisure:function(){this.checkCoinsEntries()||(this.playNoMenyTween(),this.enterAuto(!1)),r.isNormalGame()?(this.banButton(!0),n.IsAuto?a.emit(o.START_ROLL):(this.setRollBan(!0),this.setBtnState(!1))):n.IsAuto?a.emit(o.START_ROLL):this.enterAuto(!0)},onChangeGameMode:function(){n.GameMode==i.GAME_MODE.NORMAL?this.enterAuto(!1):n.GameMode==i.GAME_MODE.FREE&&(this.pnlAddCoins.active=!1),this.btnAddCoins.getComponent(cc.Button).interactable=n.GameMode==i.GAME_MODE.NORMAL},onEnterFakeMode:function(){r.isNormalGame()&&(n.IsFakeSolt?(this.banButton(!0),this.setRollBan(!1),this.setAutoBan(!1)):(this.banButton(!1),this.setRollBan(!0),this.setAutoBan(!0)))},hideGambleBetView:function(t){this.labGameWin.string=r.formattingCoins(n.GameWin),s.getInstant.playerCoin+=n.GameWin-t,this.labEntries.string=r.formattingCoins(s.getInstant.playerCoin)},onLoginGameResult:function(t){if(t.Obj&&t.Obj.betList&&(n.slotBetList=t.Obj.betList),this.bet=0,t.Obj&&t.Obj.betDefault)for(var e=0;e<t.Obj.betList.length;e++)if(t.Obj.betList[e]==t.Obj.betDefault){this.bet=e;break}this.initBetData()},UPDATE_COIN:function(){this.labEntries&&(this.labEntries.string=r.formattingCoins(s.getInstant.playerCoin)),this.labBalance&&(this.labBalance.string=r.formattingCoins(s.getInstant.playerCoin))},onEnable:function(){a.addEventListener("UPDATE_COIN",this.UPDATE_COIN,this),a.addEventListener(o.CHANGE_GAME_MODE,this.onChangeGameMode,this),a.addEventListener(o.ENTER_FAKE_MODE,this.onEnterFakeMode,this),a.addEventListener(o.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),a.addEventListener(o.SET_WINNING_VALUE,this.onSetWinningValue,this),a.addEventListener(o.ON_LOTTERY_RESULT,this.onLotteryResult,this),a.addEventListener(o.UPDATE_GAME_WIN,this.onUpdateGameWin,this),a.addEventListener(o.START_ROLL,this.onStartRoll,this),a.addEventListener(o.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),a.addEventListener(o.HIDE_GAMBLE_BET_VIEW,this.hideGambleBetView,this),a.addEventListener(o.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonUserData:"PantherMoonUserData",PantherMoonUtil:"PantherMoonUtil",PlayerInfo:void 0}],PantherMoonEventConfig:[function(t,e){"use strict";cc._RF.push(e,"5124dqyD79CyZy7yWPOOjK8","PantherMoonEventConfig"),e.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",HAVE_NO_MONEY:"HAVE_NO_MONEY",ADD_USER_COINS:"ADD_USER_COINS",SET_WINNING_VALUE:"SET_WINNING_VALUE",SET_BET_VALUE:"SET_BET_VALUE",SET_LINES_VALUE:"SET_LINES_VALUE",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",SHOW_GAMBLE:"SHOW_GAMBLE",HIDE_GAMBLE:"HIDE_GAMBLE",SEND_GAMBLE_DATA:"SEND_GAMBLE_DATA",ON_GAMBLE_RESULT:"ON_GAMBLE_RESULT",SHOW_GAMBLE_BET_VIEW:"SHOW_GAMBLE_BET_VIEW",HIDE_GAMBLE_BET_VIEW:"HIDE_GAMBLE_BET_VIEW",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",PLAY_ROLE_ANI:"PLAY_ROLE_ANI",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",UPDATE_REMAINING:"UPDATE_REMAINING",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",SHOW_HELP:"SHOW_HELP",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",ENTER_FAKE_MODE:"ENTER_FAKE_MODE",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_YOU_WIN:"SHOW_YOU_WIN",PLAY_PARTICLE_ANI:"PLAY_PARTICLE_ANI",PLAY_SCENE_ANI:"PLAY_SCENE_ANI",ON_GET_SPECLA_DATA:"ON_GET_SPECLA_DATA",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO"},cc._RF.pop()},{}],PantherMoonEventManager:[function(t,e){"use strict";function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}cc._RF.push(e,"6f7f2biIP1Leo0KHsQY8rMP","PantherMoonEventManager");var a={_eventListeners:[],destroy:function(){a._eventListeners=[]},getEventListenersIndex:function(t,e,n){for(var i=-1,o=0;o<a._eventListeners[t].length;o++){var s=a._eventListeners[t][o];if(s.callBack==e&&(!n||s.target==n)){i=o;break}}return i},addEventListener:function(t,e,n){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var i={callBack:e,target:n};return null==a._eventListeners[t]?a._eventListeners[t]=[i]:-1==a.getEventListenersIndex(t,e,n)&&a._eventListeners[t].push(i),!0}cc.warn("eventName is empty"+t)},removeEventListener:function(t,e,n){if(null!=a._eventListeners[t]){var i=a.getEventListenersIndex(t,e,n);-1!=i&&a._eventListeners[t].splice(i,1)}},emit:function(t,e){if(null!=a._eventListeners[t]){for(var i,o=[],s=n(a._eventListeners[t]);!(i=s()).done;){var r=i.value;o.push({callBack:r.callBack,target:r.target})}for(var c=function(){var t=l[h];new Promise(function(){t.callBack.call(t.target,e)})},h=0,l=o;h<l.length;h++)c()}}};e.exports=a,cc._RF.pop()},{}],PantherMoonFree:[function(t,e){"use strict";cc._RF.push(e,"e2d5ftaTMRJjaUXXwPOn9JJ","PantherMoonFree");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonUserData");cc.Class({extends:cc.Component,properties:{labFreeNow:cc.Label,labFreeAll:cc.Label},onLoad:function(){this.addEventListener()},show:function(){this.labFreeNow.string=o.FreeTimeNow,this.labFreeAll.string=o.FreeTimeAll,this.node.y=50,cc.tween(this.node).to(.5,{y:0},{easing:"bounceOut"}).start()},onUpdateFreeTimeNow:function(){this.labFreeNow.string=o.FreeTimeNow},onUpdateFreeTimeAll:function(){this.labFreeAll.string=o.FreeTimeAll},addEventListener:function(){i.addEventListener(n.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),i.addEventListener(n.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonUserData:"PantherMoonUserData"}],PantherMoonGambleBetView:[function(t,e){"use strict";cc._RF.push(e,"31311tDVedEALTfusJjciwd","PantherMoonGambleBetView");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonGameData"),a=t("PantherMoonUserData"),s=t("PantherMoonUtil");cc.Class({extends:cc.Component,properties:{pnlCard:cc.Node,preCard:cc.Prefab,imgTip:cc.Node,imgSelectCard:cc.Node,imgDealerWin:cc.Node,pnlWin:cc.Node,labWin:cc.Node,labBet:cc.Node,labBank:cc.Node,labHalf:cc.Node,labDouble:cc.Node,pnlBtn:cc.Node},onLoad:function(){this.initCard(),this.state=1,this.isDouble=!1,this.addEventListener(),this.node.active=!1},onTouchCollect:function(){this.hide()},onTouchHalf:function(){i.emit(n.SEND_GAMBLE_DATA,2),this.labBet.getComponent(cc.Label).string=this.labBank.getComponent(cc.Label).string=s.formattingCoins(a.GameWin/2),this.isDouble=!1,this.pnlBtn.active=!1},onTouchDouble:function(){i.emit(n.SEND_GAMBLE_DATA,1),this.isDouble=!0,this.pnlBtn.active=!1,this.labBank.getComponent(cc.Label).string=s.formattingCoins(0),this.labBet.getComponent(cc.Label).string=s.formattingCoins(a.GameWin)},show:function(){this.node.active=!0,this.reset(),i.emit(n.PLAY_AUDIO_BGM,{id:3}),this.orGameWin=a.GameWin},hide:function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),i.emit(n.HIDE_GAMBLE_BET_VIEW,this.orGameWin),this.node.active=!1},setCardTouchEnable:function(t){for(var e=0;e<this.itemList.length;e++)this.itemList[e].getComponent(o.BUNDLE_NAME+"GambleCard").setCardTouchEnable(t)},onTouchCardCallback:function(t){var e=this;if(0!=t){this.setCardTouchEnable(!1),this.itemList[t].getComponent(o.BUNDLE_NAME+"GambleCard").changeCard(this.data.cards[1]);for(var n=0,i=2,a=function(a){if(a==t)return"continue";e.scheduleOnce(function(){var t=e.data.cards[i];i++,cc.log("this.data.cards[index + 2]:"+t),e.itemList[a].getComponent(o.BUNDLE_NAME+"GambleCard").changeCard(t),e.itemList[a].getComponent(o.BUNDLE_NAME+"GambleCard").showMask()},.3*n+.5),n++},s=1;s<this.data.cards.length;s++)a(s);this.scheduleOnce(function(){e.data.win>0?e.onUserWin():e.onDealerWin()},3)}},reset:function(){for(var t=0;t<this.itemList.length;t++)this.itemList[t].getComponent(o.BUNDLE_NAME+"GambleCard").reset();this.imgTip.active=!0,this.imgSelectCard.active=!1,this.imgDealerWin.active=!1,this.pnlWin.active=!1,this.labBet.active=!1,this.labBank.active=!0,this.labHalf.active=!0,this.labDouble.active=!0,this.labBet.getComponent(cc.Label).string=s.formattingCoins(a.GameWin),this.labBank.getComponent(cc.Label).string=s.formattingCoins(a.GameWin),this.labHalf.getComponent(cc.Label).string=s.formattingCoins(1.5*a.GameWin),this.labDouble.getComponent(cc.Label).string=s.formattingCoins(2*a.GameWin),this.pnlBtn.active=!0,this.state=1},showDealerCard:function(){this.setCardTouchEnable(!0),this.itemList[0].getComponent(o.BUNDLE_NAME+"GambleCard").changeCard(this.data.cards[0])},onGambleResult:function(t){this.data=t,a.GameWin=t.total,this.labBet.active=!0,this.imgTip.active=!1,this.imgSelectCard.active=!0,this.isDouble?this.labDouble.active=!0:this.labHalf.active=!0,this.showDealerCard()},onUserWin:function(){var t=this;i.emit(n.PLAY_AUDIO_EF,"gambleWin"),this.pnlWin.active=!0,this.labWin.getComponent(cc.Label).string=s.formattingCoins(this.data.win),this.imgSelectCard.active=!1,this.scheduleOnce(function(){t.reset()},2)},onDealerWin:function(){var t=this;i.emit(n.PLAY_AUDIO_EF,"gambleFail"),this.pnlWin.active=!1,this.imgSelectCard.active=!1,this.imgDealerWin.active=!0,this.scheduleOnce(function(){t.hide()},2)},addEventListener:function(){i.addEventListener(n.SHOW_GAMBLE_BET_VIEW,this.show,this),i.addEventListener(n.ON_GAMBLE_RESULT,this.onGambleResult,this)},initCard:function(){var t=this;this.itemList=[];for(var e=0;e<5;e++){var n=cc.instantiate(this.preCard);this.itemList.push(n),this.pnlCard.addChild(n),n.getComponent(o.BUNDLE_NAME+"GambleCard").setCardTouchCallback(function(e){t.onTouchCardCallback(e)},e)}}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonUserData:"PantherMoonUserData",PantherMoonUtil:"PantherMoonUtil"}],PantherMoonGambleCard:[function(t,e){"use strict";cc._RF.push(e,"30e44/9LTtPCqzYC1geRqgW","PantherMoonGambleCard"),cc.Class({extends:cc.Component,properties:{itemCard:cc.Sprite,imgMask:cc.Node,spAtlas:cc.SpriteAtlas,spAtlas1:cc.SpriteAtlas},onLoad:function(){this.touchEnable=!1},onTouchCard:function(){this.touchEnable&&this.touchCallback(this.index)},changeCard:function(t){this.itemCard.spriteFrame=this.spAtlas.getSpriteFrame("poker_big_"+t)},showMask:function(){this.imgMask.active=!0},setCardTouchEnable:function(t){this.touchEnable=t},reset:function(){this.imgMask.active=!1,this.touchEnable=!1,this.itemCard.spriteFrame=this.spAtlas1.getSpriteFrame("Poker")},setCardTouchCallback:function(t,e){this.touchCallback=t,this.index=e}}),cc._RF.pop()},{}],PantherMoonGamble:[function(t,e){"use strict";cc._RF.push(e,"92183baurhMM71gmtsIiLCT","PantherMoonGamble");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node},onLoad:function(){this.addEventListener()},onTouchGamble:function(){i.emit(n.SHOW_GAMBLE_BET_VIEW),this.hide()},show:function(){this.node.active=!0,this.itemImg.x=-630,cc.tween(this.itemImg).to(.2,{x:-480}).start()},hide:function(){this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_GAMBLE,this.show,this),i.addEventListener(n.HIDE_GAMBLE,this.hide,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager"}],PantherMoonGameData:[function(t,e){"use strict";cc._RF.push(e,"79a2f24mbxOB7wTvTApMkFw","PantherMoonGameData");e.exports={BUNDLE_NAME:"PantherMoon",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4},GAME_MODE:{NORMAL:0,FREE:1},VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,LINES_LIST:[1,5,10,15]},cc._RF.pop()},{}],PantherMoonHelp:[function(t,e){"use strict";cc._RF.push(e,"77aafBahj5HYI1zYA1Pbwrs","PantherMoonHelp");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager");cc.Class({extends:cc.Component,properties:{imgHelp:cc.Sprite,listItem:cc.Node,pnlItemList:cc.Node,spAtlas1:cc.SpriteFrame,spAtlas2:cc.SpriteFrame,spAtlas3:cc.SpriteFrame,spAtlas4:cc.SpriteFrame},onLoad:function(){this.initNode(),this.onTouchItem1(),window.resizeWinX(this)},onTouchHome:function(){this.node.removeFromParent(),i.emit(n.PLAY_AUDIO_EF,"btnHide")},changeSpriteFrame:function(t){cc.log("spriteFrame",t),this.imgHelp.spriteFrame=t},onTouchItem1:function(){this.changeSpriteFrame(this.spAtlas1),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onTouchItem2:function(){this.changeSpriteFrame(this.spAtlas2),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onTouchItem3:function(){this.changeSpriteFrame(this.spAtlas3),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onTouchItem4:function(){this.changeSpriteFrame(this.spAtlas4),i.emit(n.PLAY_AUDIO_EF,"btnShow")},initNode:function(){for(var t=[this.onTouchItem1,this.onTouchItem2,this.onTouchItem3,this.onTouchItem4],e=0;e<t.length;e++){var n=cc.instantiate(this.listItem);this.pnlItemList.addChild(n),n.active=!0,n.on("click",t[e],this),cc.find("labIndex",n).getComponent(cc.Label).string=e+1}}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager"}],PantherMoonItemAni:[function(t,e){"use strict";cc._RF.push(e,"81bbcdvsjpLLJHWBpqMZzom","PantherMoonItemAni");var n=t("PantherMoonItemConfig");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,itemAni:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){var t=this;this.reset(),this.itemAni.getComponent(cc.Animation).on("finished",function(e,n){switch(n.name){case"Ele13":t.itemAni.active=!1,t.itemImg.active=!0}},this)},changeItem:function(t){this.itemID=t,this.itemImg.active=!0,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[t])},IsWildID:function(){return n.IsWildID(this.itemID)},reset:function(){this.itemAni.getComponent(cc.Animation).stop(),this.itemAni.active=!1,this.itemImg.active=!0},playSelectAni:function(){switch(this.itemID){case n.ItemID._9:this.playItemAni("Ele11",1/0);break;case n.ItemID._10:this.playItemAni("Ele10",1/0);break;case n.ItemID.J:this.playItemAni("Ele09",1/0);break;case n.ItemID.Q:this.playItemAni("Ele08",1/0);break;case n.ItemID.K:this.playItemAni("Ele07",1/0);break;case n.ItemID.A:this.playItemAni("Ele06",1/0);break;case n.ItemID.item06:this.playItemAni("Ele05",1/0);break;case n.ItemID.item07:this.playItemAni("Ele04",1/0);break;case n.ItemID.item08:this.playItemAni("Ele03",1/0);break;case n.ItemID.item09:this.playItemAni("Ele02",1/0);break;case n.ItemID.item10:this.playItemAni("Ele01",1/0);break;case n.ItemID.WILD:this.playItemAni("Replace",1/0);break;case n.ItemID.WILD:this.playItemAni("Ele13",1/0);break;default:cc.log("\u6ca1\u627e\u5230\u52a8\u753b itemID",this.itemID)}},playItemAni:function(t,e){this.itemAni.active=!0,this.itemImg.active=!1,this.itemAni.getComponent(cc.Animation).play(t).repeatCount=e},playAniBonus:function(){this.playItemAni("Ele13",1)}}),cc._RF.pop()},{PantherMoonItemConfig:"PantherMoonItemConfig"}],PantherMoonItemConfig:[function(t,e){"use strict";cc._RF.push(e,"1bdf8QR6MNJtZDl1RphPpGb","PantherMoonItemConfig");var n={_9:0,_10:1,J:2,Q:3,K:4,A:5,item06:6,item07:7,item08:8,item09:9,item10:10,WILD:11,BONUS:12},i={ITEM_HEIGHT:134,ITEM_WIDTH:140,WHEEL_WIDTH:144.5,WHEEL_HEIGHT:404,SpriteFramelist:["9","10","J","Q","K","A","purpleFlower","safflower","butterfly","wolf","Owl","panther","scatter"],ItemID:n,IsBonusID:function(t){return t==n.BONUS},IsWildID:function(t){return t==n.WILD}};e.exports=i,cc._RF.pop()},{}],PantherMoonItemMask:[function(t,e){"use strict";cc._RF.push(e,"59037h/fHRIPaXeG0ENlD+K","PantherMoonItemMask"),t("PantherMoonItemConfig"),cc.Class({extends:cc.Component,properties:{itemSelect:cc.Sprite,aniEffect:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){},reset:function(){this.aniEffect.getComponent(cc.Animation).stop(),this.node.active=!1},playSelectAni:function(t){this.node.active=!0,this.aniEffect.getComponent(cc.Animation).play(),this.itemSelect.spriteFrame=this.spAtlas.getSpriteFrame("frame_"+t)}}),cc._RF.pop()},{PantherMoonItemConfig:"PantherMoonItemConfig"}],PantherMoonItem:[function(t,e){"use strict";cc._RF.push(e,"38594PFjdtMvqrcV4rsvLPY","PantherMoonItem");var n=t("PantherMoonUtil"),i=t("PantherMoonItemConfig");t("PantherMoonUserData"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.randImg()},randImg:function(){this.changeItem(n.getRandItemID(i.SpriteFramelist))},changeItem:function(t){this.itemID=t,this.itemImg.active=!0,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[t])},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return i.IsBonusID(this.itemID)},rollEnd:function(){}}),cc._RF.pop()},{PantherMoonItemConfig:"PantherMoonItemConfig",PantherMoonUserData:"PantherMoonUserData",PantherMoonUtil:"PantherMoonUtil"}],PantherMoonMain:[function(t,e){"use strict";cc._RF.push(e,"1ebf5eSGCNBl63tLm0Waiow","PantherMoonMain");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonGameData"),a=t("PantherMoonUserData"),s=(t("PantherMoonItemConfig"),t("PantherMoonUtil"));cc.Class({extends:cc.Component,properties:{layoutWheel:cc.Node,layoutWheelAni:cc.Node,layoutWheelUp:cc.Node,pnlFree:cc.Node,preFree:cc.Prefab,preWheel:cc.Prefab,preWheelAni:cc.Prefab,preWheelUp:cc.Prefab},onLoad:function(){a.Status=o.GAME_STATE.INIT,a.GameMode=o.GAME_MODE.NORMAL,this.resultList=[],this.initNormalWheel(),this.initWheelListAni(),this.initFree()},enterNormal:function(){this.hideFreeNode()},enterFree:function(){this.showFreeNode(),i.emit(n.PLAY_AUDIO_BGM,{id:2})},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.resetItem()},resetItem:function(){for(var t=0;t<this.resultList.length;t++)this.resultList[t].active=!0;for(var e=0;e<this.wheelAniList.length;e++)this.wheelAniList[e].getComponent(o.BUNDLE_NAME+"WheelAni").resetItem(),this.wheelUpList[e].getComponent(o.BUNDLE_NAME+"WheelUp").resetItem()},stateCallBack:function(){if(a.Status==o.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),a.Status=o.GAME_STATE.RESULT,i.emit(n.CHANGE_GAME_STATUS),this.resultList=[];for(var t=o.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var s=this.wheelList[e].getComponent(o.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(s[t])}this.showResult()}},showResult:function(){if(a.LotteryRes.winscore>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",a.LotteryRes.winscore),a.GameWin=a.LotteryRes.winscore,i.emit(n.UPDATE_GAME_WIN,a.LotteryRes.winscore),this.playWinAnim(),void i.emit(n.PLAY_AUDIO_EF,"winLine");cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},playWinAnim:function(){for(var t=this,e=[],n=a.LotteryRes.viewarray.nWinLinesDetail,i=0;i<n.length;i++)e=e.concat(n[i]);var o=n.length>1?[e].concat(n):[e],s=n.length>1?[0].concat(a.LotteryRes.viewarray.nWinLines):a.LotteryRes.viewarray.nWinLines;e.length>0?this.playLineAni(o,s):this.scheduleOnce(function(){t.toGameOver()},1)},playLineAni:function(t,e){var o=this;this.lineSchedIndex=0,this.scheduleOnce(function(){s.isNormalGame()&&s.checkBigWin(a.LotteryRes.winscore)?o.scheduleOnce(function(){o.showWinView(a.LotteryRes.winscore,!0,function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),o.toGameOver()})},1):o.toGameOver(),!a.IsAuto&&s.isNormalGame()&&i.emit(n.SHOW_GAMBLE)},1),this.linesList=t,this.winLines=e,this.schedule(this.onLineSchedUleCallBack,2),this.onLineSchedUleCallBack(0,!0)},onLineSchedUleCallBack:function(t,e){this.resetItem();for(var a=this.linesList[this.lineSchedIndex],s=this.winLines[this.lineSchedIndex],r=0;r<this.resultList.length;r++){var c=this.resultList[r].getComponent(o.BUNDLE_NAME+"Item");a.includes(r)&&(this.wheelAniItemList[r].active=!0,this.wheelAniItemList[r].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(c.getItemId()),this.wheelAniItemList[r].getComponent(o.BUNDLE_NAME+"ItemAni").playSelectAni(),this.wheelSelectList[r].active=!0,this.wheelSelectList[r].getComponent(o.BUNDLE_NAME+"ItemMask").playSelectAni(s),this.resultList[r].active=!1)}this.lineSchedIndex++,this.lineSchedIndex>=this.linesList.length&&(this.lineSchedIndex=0),e||i.emit(n.PLAY_AUDIO_EF,"showLine")},toGameOver:function(){var t=this;a.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){t.enterFreeGame()},1):this.scheduleOnce(function(){t.onGameOver()},.1)},onGameOver:function(){s.isNormalGame()||a.FreeSoltRes.viewarray.frees[a.FreeSoltIndex]?(a.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)):this.stopFreeTimes()},stopFreeTimes:function(){cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),this.unschedule(this.onLineSchedUleCallBack),a.IsFreeSolt=!1,a.GameMode=o.GAME_MODE.NORMAL,i.emit(n.CHANGE_GAME_MODE),this.showWinView(a.FreeWinCoins,!1,function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),a.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)})},enterFreeGame:function(){var t=this;i.emit(n.PLAY_AUDIO_EF,"inFreeTime"),s.isNormalGame()&&(a.FreeSoltRes=s.extendCopy(a.LotteryRes),a.initFreeData()),a.FreeTimeAll+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,this.scheduleOnce(function(){t.playBonusAni()},2),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){this.closeShine();for(var t=0;t<this.resultList.length;t++)this.resultList[t].getComponent(o.BUNDLE_NAME+"Item").isBonusItem()&&(this.resultList[t].active=!1,this.wheelAniItemList[t].active=!0,this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(this.resultList[t].getComponent(o.BUNDLE_NAME+"Item").getItemId()),this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").playAniBonus());var e=this;this.scheduleOnce(function(){e.resetItem(),s.isNormalGame()?e.playGetFreeAni():(i.emit(n.UPDATE_FREE_TIME_ALL),a.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS))},1)},playGetFreeAni:function(){i.emit(n.PLAY_AUDIO_BGM,{id:2}),i.emit(n.PLAY_AUDIO_EF,"scatterWin"),i.emit(n.SHOW_TRANSIT_ANI,{callback:function(){a.GameMode=o.GAME_MODE.FREE,i.emit(n.CHANGE_GAME_MODE),a.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)}})},showFreeNode:function(){this.freeNode.active=!0,this.freeNode.getComponent(o.BUNDLE_NAME+"Free").show()},hideFreeNode:function(){this.freeNode.active=!1},showWinView:function(t,e,o){if(s.checkBigWin(t)){var r=t/a.BetValue;i.emit(n.SHOW_BIG_WIN,{coins:t,rate:r,callback:o})}else!e&&t>0?i.emit(n.SHOW_YOU_WIN,{coins:t,callback:o}):o()},onStartRoll:function(){this.stopImmediately=!1,this.bonusWheelCount=0,this.isListenIng=!1,i.emit(n.HIDE_GAMBLE),s.isNormalGame()||(a.FreeTimeNow++,i.emit(n.UPDATE_FREE_TIME_NOW)),this.unschedule(this.onLineSchedUleCallBack)},onStopImmediately:function(){for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t]);this.stopImmediately=!0},onLoginGameResult:function(){a.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(t){i.emit(n.SET_LINES_VALUE,t.gameDict.betlist.length),i.emit(n.SET_BET_VALUE,t.gameDict.betsum),a.FreeTimeAll=t.gameDict.totalFreeTimes,a.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(a.GameMode=o.GAME_MODE.FREE),i.emit(n.CHANGE_GAME_MODE,t),a.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onLotteryResult:function(){a.Status=o.GAME_STATE.ROLL_END,i.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=s.convertNetData(a.LotteryRes.viewarray.nHandCards),this.wheelList[0].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[0])},onLotteryErrResult:function(t){cc.log(t),i.emit(n.RESET_WHEEL),a.Status=o.GAME_STATE.LEISURE,i.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){a.GameMode==o.GAME_MODE.NORMAL?this.enterNormal():a.GameMode==o.GAME_MODE.FREE&&this.enterFree()},onWheelRollEnd:function(t){if(this.stopImmediately)return t==this.wheelList.length-1?void this.stateCallBack():void 0;t!=this.wheelList.length-1?this.wheelList[t+1].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t+1]):this.stateCallBack()},showGambleBetView:function(){this.unschedule(this.onLineSchedUleCallBack)},hideGambleBetView:function(){var t=this;this.showWinView(a.GameWin,!0,function(){i.emit(n.PLAY_AUDIO_BGM,{id:0}),t.toGameOver()})},onEnable:function(){i.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),i.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),i.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this),i.addEventListener(n.SHOW_GAMBLE_BET_VIEW,this.showGambleBetView,this),i.addEventListener(n.HIDE_GAMBLE_BET_VIEW,this.hideGambleBetView,this)},addWheelToLayout:function(t){var e=cc.instantiate(this.preWheel);this.layoutWheel.addChild(e),this.wheelList.push(e),e.getComponent(o.BUNDLE_NAME+"Wheel").setWheelData(t)},initWheelListAni:function(){this.wheelAniList=[],this.wheelUpList=[];for(var t=0;t<o.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.layoutWheelAni.addChild(e),this.wheelAniList.push(e),e.getComponent(o.BUNDLE_NAME+"WheelAni").setWheelData(t);var n=cc.instantiate(this.preWheelUp);this.layoutWheelUp.addChild(n),this.wheelUpList.push(n),n.getComponent(o.BUNDLE_NAME+"WheelUp").setWheelData(t)}this.initWheelAni()},initNormalWheel:function(){this.wheelList=[],this.resultList=[],this.layoutWheel.removeAllChildren();for(var t=0;t<o.WHEEL_COUNT;t++)this.addWheelToLayout(t)},initWheelAni:function(){this.wheelAniItemList=[],this.wheelSelectList=[];for(var t=o.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var n=this.wheelAniList[e].getComponent(o.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(n[t]);var i=this.wheelUpList[e].getComponent(o.BUNDLE_NAME+"WheelUp").getItemList();this.wheelSelectList.push(i[t])}},initFree:function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode),this.freeNode.active=!1}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonItemConfig:"PantherMoonItemConfig",PantherMoonUserData:"PantherMoonUserData",PantherMoonUtil:"PantherMoonUtil"}],PantherMoonMenu:[function(t,e){"use strict";cc._RF.push(e,"2a40cswnzNPMb1dbxGigixU","PantherMoonMenu");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonUserData"),a=t("PantherMoonGameData"),s=t("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.isRunActioning=!1,this.initUI(),this.loadUI()},initUI:function(){this.menuMask=cc.find("btnCloseMenu",this.node),this.menuMask.on("click",this.onClickCloseMenu,this),this.pnlMenu=cc.find("pnlMenu",this.node),this.pnlMenu.active=!1;var t=cc.find("btnMenu",this.pnlMenu);t.on("click",this.onClickShowMenu,this),this.imgMenuEffect=cc.find("imgEffect",t),this.pnlMenuMain=cc.find("pnlMenuMain",this.node)},loadUI:function(){var t=this;o.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(e,n){e||(t.spAtlas=n,t.initMenu(),t.initMenuMain(),t.initHelp())})},initMenu:function(){cc.find("btnMenu",this.pnlMenu).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Menu"),this.imgMenuEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_Lob_But_Menu_Open_shine"),this.initMenuEffect()},initMenuEffect:function(){cc.tween(this.imgMenuEffect).repeatForever(cc.tween().to(1,{opacity:0}).to(1,{opacity:255})).start()},initMenuMain:function(){this.pnlMenuMain.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Board_Lar");var t=cc.find("layout",this.pnlMenuMain),e=cc.find("itemSound",t);e.on("click",this.onClickSound,this),cc.find("imgLine",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar"),cc.find("imgTagBg",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_Board"),this.imgSoundOn=cc.find("imgSoundOn",e),this.imgSoundOn.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OnPoint"),this.imgSoundOff=cc.find("imgSoundOff",e),this.imgSoundOff.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OffPoint");var n=cc.find("itemHelp",t);n.on("click",this.onClickShowHelp,this),cc.find("imgLine",n).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar");var i=cc.find("itemHome",t);i.on("click",this.onClickHome,this),cc.find("imgHome",i).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Home")},initHelp:function(){},onClickCloseMenu:function(){this.hide(),i.emit(n.PLAY_AUDIO_EF,"btnHide")},onClickShowMenu:function(){this.show(),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickSound:function(){s.getInstant.musicControl=!s.getInstant.musicControl,this.imgSoundOn.active=s.getInstant.musicControl,this.imgSoundOff.active=!s.getInstant.musicControl,s.getInstant.musicControl?(a.GAME_MODE.NORMAL==o.GameMode?i.emit(n.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):a.GAME_MODE.FREE==o.GameMode&&i.emit(n.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),i.emit(n.PLAY_AUDIO_EF,"btnShow")):i.emit(n.STOP_AUDIO)},onClickShowHelp:function(){i.emit(n.SHOW_HELP),i.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickHideHelp:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide")},onClickHome:function(){i.emit(n.PLAY_AUDIO_EF,"btnHide"),i.emit(n.SHOW_TIP_VIEW,{callback:function(){i.emit(n.OUT_GAME)},type:0})},show:function(){var t=this;o.GameMode!=a.GAME_MODE.FREE&&(this.isRunActioning||(this.isRunActioning=!0,this.pnlMenuMain.active=!0,this.menuMask.active=!0,cc.tween(this.pnlMenu).to(.3,{x:700}).call(function(){cc.tween(t.pnlMenuMain).to(.3,{x:556}).call(function(){t.isRunActioning=!1}).start()}).start()))},hide:function(){var t=this;o.GameMode!=a.GAME_MODE.FREE&&(this.isRunActioning||(this.isRunActioning=!0,this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:720}).call(function(){cc.tween(t.pnlMenu).to(.3,{x:580}).call(function(){t.pnlMenuMain.active=!1,t.isRunActioning=!1}).start()}).start()))},inFreeGame:function(){this.menuMask.active=!1,cc.tween(this.pnlMenu).to(.3,{x:700}).call(function(){}).start(),this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:720}).call(function(){}).start()},onChangeGameMode:function(){o.GameMode==a.GAME_MODE.NORMAL?this.hide():this.inFreeGame()},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonUserData:"PantherMoonUserData",PlayerInfo:void 0}],PantherMoonNetWheelConfig:[function(t,e){"use strict";cc._RF.push(e,"d562dtUY/dMAJqn+dee8/AT","PantherMoonNetWheelConfig");var n=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!0,freeType:0,nFreeTime:4},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[11,4,9,9,2,4,9,10,6,8,2,6,4,4,11],nWinLinesDetail:[[5,11,7,8]],nWinLines:[1],win:10}},{freeCount:3,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],nWinLinesDetail:[[5,11,7,8]],nWinLines:[1],win:0}},{freeCount:2,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],nWinLinesDetail:[[5,11,7,8],[0,11,7,8]],nWinLines:[1,2],win:0}},{freeCount:1,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],nWinLinesDetail:[[5,11,7,8],[0,11,7,8]],nWinLines:[1,2],win:0}},{freeCount:2,freeTotal:6,userscore:89520,winscore:0,viewarray:{getFreeTime:{bFlag:!0,freeType:0,nFreeTime:2},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],nWinLinesDetail:[],nWinLines:[],win:0}},{freeCount:1,freeTotal:6,userscore:89520,winscore:0,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6],nWinLinesDetail:[],nWinLines:[],win:0}},{freeCount:0,freeTotal:6,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],nWinLinesDetail:[],nWinLines:[1],win:0}}],i=0,o={Inint:function(){i=0},GetNetConfig:function(){var t;i>=(t=n).length&&(i=0);var e=t[i];return i++,e}};e.exports=o,cc._RF.pop()},{}],PantherMoonNetwork:[function(t,e){"use strict";cc._RF.push(e,"9b5a0GwpYNCLIRb2cJlXf7Y","PantherMoonNetwork");var n=t("PlayerInfo"),i=t("PantherMoonEventConfig"),o=t("PantherMoonEventManager"),a=t("PantherMoonUserData"),s=t("PantherMoonGameData"),r=t("PantherMoonItemConfig"),c=(t("PantherMoonNetWheelConfig"),!1),h=0;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=n.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){"UPDATE_COIN"==t&&o.emit("UPDATE_COIN");var n=null;if("error"==t&&(cc.log("socket error"),o.emit(i.SHOW_TIP_VIEW,{callback:function(){o.emit(i.OUT_GAME)}})),"connect_error"==t&&(cc.log("connect_error"),o.emit(i.SHOW_TIP_VIEW,{callback:function(){o.emit(i.OUT_GAME)}})),"connect_timeout"==t&&(cc.log("connect_timeout"),o.emit(i.SHOW_TIP_VIEW,{callback:function(){o.emit(i.OUT_GAME)}})),"disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),o.emit(i.SHOW_TIP_VIEW,{callback:function(){o.emit(i.OUT_GAME)}})}if("loginGameResult"==t){if("1"!=(n=changeResultJSON_Function(e)).resultid)return void o.emit(i.SHOW_TIP_VIEW,{callback:function(){o.emit(i.OUT_GAME)}});o.emit(i.ON_LOGIN_GAME_RESULT,n),a.LoginGameResultData=n}if("lotteryResult"==t)if((n=changeResultJSON_Function(e)).ResultCode&&1==n.ResultCode){if(a.LotteryRes=JSON.parse(JSON.stringify(n.ResultData)),c){for(var l=0,m=0;m<a.LotteryRes.viewarray.nHandCards.length;m++)a.LotteryRes.viewarray.nHandCards[m]==r.ItemID.BONUS&&l++;if(cc.log("bouns count",l,"TEST_INDEX",h),l>=3)return c=!1,void o.emit(i.ON_LOTTERY_RESULT);a.LotteryRes.viewarray.getFreeTime.bFlag||(cc.log(a.LotteryRes.viewarray.getFreeTime),this.sendRollData(),h++)}c||o.emit(i.ON_LOTTERY_RESULT)}else o.emit(i.ON_LOTTERY_RESULT_ERR);if("LoginRoomResult"==t&&(n=changeResultJSON_Function(e),cc.log("LoginRoomResult",n)),"pushGamblingWinPool"==t&&(n=changeResultJSON_Function(e),cc.log("pushGamblingWinPool=>",n),1==n.ResultCode&&o.emit(i.ON_PUSH_GAMBLING_WIN_POOL,n.nGamblingWinPool)),"LoginfreeCountResult"==t&&(n=changeResultJSON_Function(e),cc.log("LoginfreeCountResult:",n),1==n.ResultCode&&(n.freeType=Number(n.freeType),(n.freeCount>0||n.freeType==s.GAME_MODE.SELECT)&&o.emit(i.ON_LOGIN_FREE_COUNT_RESULT,n))),"betResult"==t){if(n=changeResultJSON_Function(e),cc.log("betResult",n),1!=n.ResultCode)return;o.emit(i.ON_GAMBLE_RESULT,n.ResultData)}},sendRollData:function(){for(var t=[],e=0;e<a.Line;e++)t.push(a.BetValue/a.Line);cc.log("lottery=>",JSON.stringify({bet:a.BetIndex,nBetList:t})),window.sendNetWorkData("lottery",JSON.stringify({bet:a.BetIndex,nBetList:t}))},sendGambleData:function(t){cc.log("bet=>",JSON.stringify({type:t})),window.sendNetWorkData("bet",JSON.stringify({type:t}))},onLoginNet:function(){},onStartRoll:function(){if(a.Status=s.GAME_STATE.REQUEST,o.emit(i.CHANGE_GAME_STATUS),!a.IsFakeSolt)return a.IsFreeSolt?(a.LotteryRes.viewarray=a.FreeSoltRes.viewarray.frees[a.FreeSoltIndex],a.LotteryRes.winscore=a.FreeSoltRes.viewarray.frees[a.FreeSoltIndex].win,a.FreeSoltIndex++,void o.emit(i.ON_LOTTERY_RESULT)):void this.sendRollData()},onAddUserCoins:function(){},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.isOutGameIng=!0,o.destroy(),cc.director.loadScene(window.hallName)},onEnable:function(){o.addEventListener(i.ADD_USER_COINS,this.onAddUserCoins,this),o.addEventListener(i.START_ROLL,this.onStartRoll,this),o.addEventListener(i.OUT_GAME,this.onOutGame,this),o.addEventListener(i.LOGIN_NET,this.onLoginNet,this),o.addEventListener(i.SEND_GAMBLE_DATA,this.sendGambleData,this)},onDestroy:function(){}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonItemConfig:"PantherMoonItemConfig",PantherMoonNetWheelConfig:"PantherMoonNetWheelConfig",PantherMoonUserData:"PantherMoonUserData",PlayerInfo:void 0}],PantherMoonScene:[function(t,e){"use strict";cc._RF.push(e,"20c23MTmxpOnI2/eVoqK5oI","PantherMoonScene");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonGameData"),a=t("PantherMoonUserData"),s=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preAnimation:cc.Prefab,prTransit:cc.Prefab,preHelp:cc.Prefab,preBg:cc.Prefab,preGamble:cc.Prefab,preGambleBetView:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.labCoinsTip.active=!1},initData:function(){a.slotBetList=s.getInstant.slotBetList,a.slotBetList||(a.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),s.getInstant.maxBet||(s.getInstant.maxBet=2e3),s.getInstant.fixedBet||(s.getInstant.fixedBet=50),a.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),a.BetValue=a.Line},onShowNotMoney:function(){var t=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){},onShowHelp:function(){var t=cc.instantiate(this.preHelp);this.topNode.addChild(t)},onEnable:function(){i.addEventListener(n.HAVE_NO_MONEY,this.onShowNotMoney,this),i.addEventListener(n.SHOW_HELP,this.onShowHelp,this),i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIUp(),this.initGameUIDown(),this.initGameMenu(),this.initBigWin(),this.initYouWin(),this.initTipView(),this.initTransit(),this.initGamble(),this.initGambleBetView()},loadComplete:function(){this.loadCount--,0==this.loadCount&&i.emit(n.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initBigWin:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"BigWin"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initYouWin:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preYouWin",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"YouWin"),t.topNode.addChild(i),i.active=!1,t.loadComplete()}})},initGameUIUp:function(){this.loadCount++,cc.resources.load("prefabs/preTopUI",function(t,e){if(t)cc.log(t);else{var n=cc.instantiate(e);n.addComponent(o.BUNDLE_NAME+"UpUI"),this.gameNode.addChild(n),this.loadComplete()}}.bind(this))},onDestroy:function(){i.destroy()},initGameUIDown:function(){cc.resources.load("prefabs/commonUi2",function(t,e){if(t)cc.log(t);else{var n=cc.instantiate(e);n.addComponent(o.BUNDLE_NAME+"DownUI"),this.gameNode.addChild(n,1e3);var i=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",n.width,n.height,i),n.scaleX=i.width/1920,n.scaleY=i.height/1080}}.bind(this))},initGameMenu:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"Menu"),t.showNode.addChild(i),t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,n){if(e)cc.log(e);else{var i=cc.instantiate(n);i.addComponent(o.BUNDLE_NAME+"TipView"),t.topNode.addChild(i),t.loadComplete()}})},initAnimation:function(){},initTransit:function(){var t=cc.instantiate(this.prTransit);this.topNode.addChild(t),t.active=!1},initGamble:function(){var t=cc.instantiate(this.preGamble);this.topNode.addChild(t),t.active=!1},initGambleBetView:function(){var t=cc.instantiate(this.preGambleBetView);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonUserData:"PantherMoonUserData",PlayerInfo:void 0}],PantherMoonTipView:[function(t,e){"use strict";cc._RF.push(e,"b0318k6oeJMTqzKcefi6gV6","PantherMoonTipView");var n=t("PantherMoonUserData"),i=t("PantherMoonEventConfig"),o=t("PantherMoonEventManager"),a=[];a[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;n.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,n){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=a[e])},onClickOK:function(){this.callback(),this.node.active=!1},onClickHide:function(){this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){o.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonUserData:"PantherMoonUserData"}],PantherMoonTransit:[function(t,e){"use strict";cc._RF.push(e,"d14ffKzBmREh42dN6Lwlqud","PantherMoonTransit");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager");t("PantherMoonUserData"),cc.Class({extends:cc.Component,properties:{aniEffect:cc.Animation},onLoad:function(){var t=this;this.addEventListener(),this.aniEffect.on("finished",function(){t.hide()},this)},show:function(t){this.callback=t.callback,this.node.active=!0,this.aniEffect.play()},hide:function(){this.callback(),this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonUserData:"PantherMoonUserData"}],PantherMoonUpUI:[function(t,e){"use strict";cc._RF.push(e,"414cerlsHpAo69ZmIZjSgfD","PantherMoonUpUI");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonUserData"),a=t("PantherMoonUtil");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),o.LoginGameResultData&&this.onLoginGameResult(o.LoginGameResultData),resizeWinX(this)},initUI:function(){var t=cc.find("topBarText",this.node);this.labGrand=cc.find("labGrand",t).getComponent(cc.Label),this.labMajor=cc.find("labMajor",t).getComponent(cc.Label),this.labMinor=cc.find("labMinor",t).getComponent(cc.Label),this.labMini=cc.find("labMini",t).getComponent(cc.Label)},loadUI:function(){var t=this;o.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(e,n){e||(cc.find("bkgTopBar",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("bkgTopBar1",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("topBarText",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_UpUI_JPField"))})},updatePool:function(t){this.labGrand.string="$"+a.formattingCoins(500*t),this.labMajor.string="$"+a.formattingCoins(200*t),this.labMinor.string="$"+a.formattingCoins(50*t),this.labMini.string="$"+a.formattingCoins(15*t)},onLoginGameResult:function(t){1==t.resultid&&this.updatePool(t.Obj.nGamblingWinPool)},onPushGamblingWinPoolResult:function(t){this.updatePool(t)},onEnable:function(){i.addEventListener(n.ON_PUSH_GAMBLING_WIN_POOL,this.onPushGamblingWinPoolResult,this),i.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonUserData:"PantherMoonUserData",PantherMoonUtil:"PantherMoonUtil"}],PantherMoonUserData:[function(t,e){"use strict";cc._RF.push(e,"78614UNZZ1E7qBWyBuFHCa1","PantherMoonUserData");var n={Bundle:null,FreeTimeNow:0,FreeTimeAll:0,FreeWinCoins:0,FreeUpRemaining:0,GameWin:0,RollMode:0,GameMode:0,Status:0,IsAuto:!1,IsFakeSolt:!1,IsFreeSolt:!1,FreeSoltIndex:0,FreeSoltRes:null,LotteryRes:null,init:function(t){n.Bundle=t,n.GameMode=0,n.RollMode=0,n.Status=0,n.BetIndex=0,n.Line=15,n.FakeSoltIndex=0,n.IsAuto=!1,n.IsFreeSolt=!1,n.IsFakeSolt=!1},initFreeData:function(){n.FreeTimeNow=0,n.FreeTimeAll=0,n.FreeWinCoins=0,n.IsFreeSolt=!0,n.FreeSoltIndex=0}};e.exports=n,cc._RF.pop()},{}],PantherMoonUtil:[function(t,e){"use strict";cc._RF.push(e,"9f53fD7zcVAj7GcWHcomrU4","PantherMoonUtil");var n=t("PantherMoonGameData"),i=t("PantherMoonUserData"),o=t("PlayerInfo"),a={convertNetData:function(t){for(var e=[],n=0;n<5;n++)e[n]=[];for(var i in t)e[i%5][2-parseInt(i/5)]=t[i];return e},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,n){for(var i=[],o=0;o<15;o++)n[o]?i[o]=n[o]:i[o]=a.getRandID(t,e);return i},formattingCoins:function(t){return(t/o.getInstant.exchangeRate).toFixed(2)},getRandItemID:function(t){var e=parseInt(Math.random()*t.length);return e>=t.length&&(e=t.length-1),e<=0&&(e=0),e},isNormalGame:function(){return n.GAME_MODE.NORMAL==i.GameMode},checkBigWin:function(t){return t/i.BetValue>=10},updateSetString:function(t,e,n,i,o,a){var s=0,r=Math.ceil(t/i);n.string=e;var c=0;a.schedule(function(){(s+=r)>t&&(s=t),n.string=s+e,++c==i+1&&o()},.02,i)},extendCopy:function(t){var e={};for(var n in t)e[n]=t[n];return e}};e.exports=a,cc._RF.pop()},{PantherMoonGameData:"PantherMoonGameData",PantherMoonUserData:"PantherMoonUserData",PlayerInfo:void 0}],PantherMoonWheelAni:[function(t,e){"use strict";cc._RF.push(e,"792bamoYdJKAIVtkPh7mSaF","PantherMoonWheelAni");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonGameData"),a=t("PantherMoonItemConfig");t("PantherMoonUserData"),cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=a.WHEEL_WIDTH},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(o.BUNDLE_NAME+"ItemAni").reset(),e.active=!1}},onStartRoll:function(){this.resetItem()},onEnable:function(){i.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var t=0;t<o.VERTICAL_ITEM_COUNT;t++){var e=a.ITEM_HEIGHT*t-a.ITEM_HEIGHT,n=cc.instantiate(this.preItemAni);this.itemAniList.push(n),this.pnlItemAni.addChild(n),n.y=e,n.active=!1}}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonItemConfig:"PantherMoonItemConfig",PantherMoonUserData:"PantherMoonUserData"}],PantherMoonWheelUp:[function(t,e){"use strict";cc._RF.push(e,"e437aZuCw5FVrmv2vCh3weA","PantherMoonWheelUp");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonGameData"),a=t("PantherMoonItemConfig");cc.Class({extends:cc.Component,properties:{pnlSelect:cc.Node,preItem:cc.Prefab},onLoad:function(){this.node.width=a.WHEEL_WIDTH,this.initItemMask()},setWheelData:function(t){this.wheelId=t},getItemList:function(){return this.itemItemList},resetItem:function(){for(var t=0;t<this.itemItemList.length;t++)this.itemItemList[t].getComponent(o.BUNDLE_NAME+"ItemMask").reset()},onStartRoll:function(){this.resetItem()},onEnable:function(){i.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemMask:function(){this.itemItemList=[];for(var t=0;t<o.VERTICAL_ITEM_COUNT;t++){var e=a.ITEM_HEIGHT*t-a.ITEM_HEIGHT,n=cc.instantiate(this.preItem);this.itemItemList.push(n),this.pnlSelect.addChild(n),n.y=e,n.active=!1}}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonItemConfig:"PantherMoonItemConfig"}],PantherMoonWheel:[function(t,e){"use strict";cc._RF.push(e,"f0114tjkDpNlZ4r61CD9/f1","PantherMoonWheel");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonGameData"),a=t("PantherMoonUserData"),s=t("PantherMoonItemConfig");cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=s.WHEEL_WIDTH,this.node.height=s.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=s.WHEEL_WIDTH,t.height=s.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0;t<this.resultItemList.length;t++)if(this.resultItemList[t].getComponent(o.BUNDLE_NAME+"Item").isBonusItem())return!0;return!1},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},reset:function(){for(var t=0;t<this.itemList.length;t++)this.itemList[t].active=!0},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.unschedule(this.onStopRollScheduleCallback),this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(a.GameMode)},onEnable:function(){i.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.addEventListener(n.START_ROLL,this.onStartRoll,this),i.addEventListener(n.RESET_WHEEL,this.onResetWheel,this),i.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){i.removeEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),i.removeEventListener(n.START_ROLL,this.onStartRoll,this),i.removeEventListener(n.RESET_WHEEL,this.onResetWheel,this),i.removeEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(t){this.netIdList=t,this.onStopRollScheduleCallback()},onStopRollScheduleCallback:function(){this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var n=t.itemList[e],i=cc.tween(n);n.getComponent(o.BUNDLE_NAME+"Item").setItemVericalPos(-1),i.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-s.ITEM_HEIGHT)}).call(function(){n.y<-s.ITEM_HEIGHT-s.ITEM_HEIGHT/2&&(n.y=3*s.ITEM_HEIGHT-s.ITEM_HEIGHT,n.getComponent(o.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(i.stop(),t.rollEnd(n,e)),t.isResetRoll&&(i.stop(),t.resetRolePos(n,e))})).start()},n=0;n<this.itemList.length;n++)e(n)},rollEnd:function(t,e){var a=this,r=this;cc.tween(t).repeat(4,cc.tween().by(.06,{position:cc.v2(0,-s.ITEM_HEIGHT)}).call(function(){t.y<-s.ITEM_HEIGHT-s.ITEM_HEIGHT/2&&(t.y=3*s.ITEM_HEIGHT-s.ITEM_HEIGHT,r.itemIndex>=r.netIdList.length?t.getComponent(o.BUNDLE_NAME+"Item").randImg():(t.getComponent(o.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex]),r.resultItemList.push(t)),t.getComponent(o.BUNDLE_NAME+"Item").setItemVericalPos(r.itemIndex),r.itemIndex++)})).call(function(){var r=t.getComponent(o.BUNDLE_NAME+"Item").getItemVerticalPos();r=-1==r?3:r,t.y=r*s.ITEM_HEIGHT-s.ITEM_HEIGHT,e==a.itemList.length-1&&i.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<s.ITEM_HEIGHT+s.ITEM_HEIGHT/2&&t.getComponent(o.BUNDLE_NAME+"Item").rollEnd(),a.itemList.length-1==e&&i.emit(n.ON_WHEEL_ROLL_END,a.wheelId)}).start()},resetRolePos:function(t,e){t.y=s.ITEM_HEIGHT*e-s.ITEM_HEIGHT},initItem:function(){this.itemList=[];for(var t=0;t<4;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=s.ITEM_HEIGHT*t-s.ITEM_HEIGHT,e.getComponent(o.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonGameData:"PantherMoonGameData",PantherMoonItemConfig:"PantherMoonItemConfig",PantherMoonUserData:"PantherMoonUserData"}],PantherMoonYouWin:[function(t,e){"use strict";cc._RF.push(e,"a1ee7DvvvlIAIJSqKIiqdt2","PantherMoonYouWin");var n=t("PantherMoonEventConfig"),i=t("PantherMoonEventManager"),o=t("PantherMoonUserData"),a=t("PantherMoonUtil");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.addEventListener()},initUI:function(){var t=this;this.labWinCoins=cc.find("imgCoinsBg/labWinCoins",this.node).getComponent(cc.Label),o.Bundle.load("resources/image/youWin",cc.SpriteAtlas,function(e,n){e?cc.log(e):(cc.find("imgFntYouWin",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("YOU_WIN"),cc.find("imgCoinsBg",t.node).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("BIG_WIN_frame"))})},show:function(t){var e=this,o=t.coins;this.callback=t.callback,this.node.active=!0,i.emit(n.PLAY_AUDIO_BGM,{id:1});var s=Math.ceil(o/50),r=0;this.labWinCoins.string=a.formattingCoins(r),this.schedule(function(){r=(r+=s)>o?o:r,e.labWinCoins.string=a.formattingCoins(r)},.1,49),this.scheduleOnce(function(){e.hide()},6)},hide:function(){this.callback(),this.node.active=!1},addEventListener:function(){i.addEventListener(n.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{PantherMoonEventConfig:"PantherMoonEventConfig",PantherMoonEventManager:"PantherMoonEventManager",PantherMoonUserData:"PantherMoonUserData",PantherMoonUtil:"PantherMoonUtil"}]},{},["PantherMoonBigWin","PantherMoonDownUI","PantherMoonFree","PantherMoonHelp","PantherMoonMenu","PantherMoonTipView","PantherMoonUpUI","PantherMoonYouWin","PantherMoonEventConfig","PantherMoonEventManager","PantherMoonGameData","PantherMoonItemConfig","PantherMoonNetWheelConfig","PantherMoonUserData","PantherMoonAudio","PantherMoonBg","PantherMoonGamble","PantherMoonGambleBetView","PantherMoonGambleCard","PantherMoonItem","PantherMoonItemAni","PantherMoonItemMask","PantherMoonMain","PantherMoonNetwork","PantherMoonScene","PantherMoonTransit","PantherMoonUtil","PantherMoonWheel","PantherMoonWheelAni","PantherMoonWheelUp"]);