window.__require=function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var l=a.split("/");if(l=l[l.length-1],!e[l]){var r="function"==typeof __require&&__require;if(!c&&r)return r(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({BuffaloSlotsAudio:[function(t,e){"use strict";cc._RF.push(e,"06647tmZkFGHot1ynZwBUZQ","BuffaloSlotsAudio");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},startWheel:cc.AudioClip,stopWheel:cc.AudioClip,btnShow:cc.AudioClip,btnHide:cc.AudioClip,inFreeTime:cc.AudioClip,showLine:cc.AudioClip,winLine:cc.AudioClip,rollOver:cc.AudioClip,m1win:cc.AudioClip,Sound_HitB1_1:cc.AudioClip,Sound_HitB1_2:cc.AudioClip,Sound_HitB1_3:cc.AudioClip,Sound_HitB1_4:cc.AudioClip,Sound_HitB1_5:cc.AudioClip,Sound_ExpectSpeedUp:cc.AudioClip},onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&(this.bgmID!=t.id||t.isFrist)&&(this.bgmID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},playEf:function(t){if(0!=this.pInfo.soundEffectControl)if(this[t])this.audioID[t]=this.callAudioPlayEff(this[t]);else switch(t){case"startWheel":this.audioID[t]=this.callAudioPlayEff(this.startWheel);break;default:cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",t)}},callAudioPlayEff:function(t){return cc.audioEngine.playEffect(t)},stopEf:function(t){this.audioID[t]&&cc.audioEngine.stopEffect(this.audioID[t])},onEnable:function(){n.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.addEventListener(i.STOP_AUDIO_EF,this.stopEf,this),n.addEventListener(i.STOP_AUDIO,this.stopAudio,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],BuffaloSlotsBg:[function(t,e){"use strict";cc._RF.push(e,"1350d6H70JNkYARKvcjPPYU","BuffaloSlotsBg"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onChangeGameMode:function(){},onEnable:function(){}}),cc._RF.pop()},{}],BuffaloSlotsBigWin:[function(t,e){"use strict";cc._RF.push(e,"5fd29BZ9k9Hy40StT14Q35m","BuffaloSlotsBigWin");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsUserData"),s=t("BuffaloSlotsUtil"),a=[cc.v2(-140,1),cc.v2(-74,-84),cc.v2(-21,-16),cc.v2(73,13),cc.v2(139,-55)],c=[cc.v2(-179,-1),cc.v2(-74,-84),cc.v2(18,16),cc.v2(117,8),cc.v2(146,-85)],l=[cc.v2(-175,-1),cc.v2(-71,-85),cc.v2(18,16),cc.v2(117,8),cc.v2(153,-90)],r=[cc.v2(-175,-1),cc.v2(-96,-67),cc.v2(18,16),cc.v2(96,-35),cc.v2(187,-2)],h=[cc.v2(-258,-10),cc.v2(-86,-68),cc.v2(10,17),cc.v2(143,-26),cc.v2(295,-16)];cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.level=0,this.pointList=[a,c,l,r,h],this.addEventListener(),cc.find("New Sprite",this.node).on("click",this.hide,this)},initUI:function(){this.initEffectCoins(),this.initWin(),this.initFreeBg(),this.initWinTween()},initEffectCoins:function(){this.effectCoins=cc.find("coins",this.node),this.nodeCoin=cc.find("nodeCoins",this.node)},initWin:function(){var t=this;this.pnlWin=cc.find("pnlWin",this.node),this.imgWin=cc.find("imgWin",this.pnlWin),this.imgGlow=cc.find("glow",this.pnlWin);var e=cc.find("pnlPoint",this.pnlWin);this.effectLignt=[];for(var i=1;i<=5;i++){var n=cc.find("ligntPoint"+i,e);this.effectLignt.push(n)}o.Bundle.load("resources/image/gameui",cc.SpriteAtlas,function(e,i){if(e)cc.log(e);else{t.imgWinSpAtlas=i,t.imgGlow.getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("glow");for(var n=0;n<t.effectLignt.length;n++)t.effectLignt[n].getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("star_small");var o=cc.find("pnlFreeBg",t.node);cc.find("imgBg",o).getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("awardBg")}}),this.initLightPointTween()},initFreeBg:function(){var t=cc.find("pnlFreeBg",this.node);this.lblWinCoin=cc.find("labelWin",t).getComponent(cc.Label)},initLightPointTween:function(){for(var t=0;t<this.effectLignt.length;t++){var e=s.getRandID(5,10)/10,i=cc.tween;i(this.effectLignt[t]).repeatForever(i().parallel(i().by(.5,{angle:90}).by(.5,{angle:90}),i().to(.5,{scaleX:e,scaleY:e}).to(.5,{scaleX:.2,scaleY:.2}))).start(),this.effectLignt[t].active=!1}},initWinTween:function(){this.WinTween=cc.tween(this.pnlWin).repeatForever(cc.tween().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.9,scaleY:.9}))},playWin:function(){this.imgWin.active=!0,this.imgWin.getComponent(cc.Sprite).spriteFrame=this.imgWinSpAtlas.getSpriteFrame("awardLevel_"+this.level);for(var t=0;t<this.effectLignt.length;t++)this.effectLignt[t].setPosition(this.pointList[this.level][t]),this.effectLignt[t].active=!0},setLevel:function(t){this.level=t>=500?4:t>=200?3:t>=100?2:t>=50?1:0},show:function(t,e){this.node.active=!0,n.emit(i.PLAY_AUDIO_BGM,{id:1}),this.setLevel(e),this.playWin();var o=Math.ceil(t/70);this.lblWinCoin.string=s.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=o,this.schedule(this.addNowCoinsAction,.1,69),this.schedule(this.playCoins,.03,parseInt(7/.03)),this.schedule(this.playGlow,4,1),this.playGlow(),this.WinTween.start(),this.scheduleOnce(this.hide,10)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.lblWinCoin.string=s.formattingCoins(this.nowCoins)},hide:function(){this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.WinTween.stop(),n.emit(i.PLAY_AUDIO_BGM,{id:0}),this.lblWinCoin.string=0,this.imgWin.active=!1,this.node.active=!1},playGlow:function(){var t=this,e=this.imgWin.width;this.imgGlow.active=!0,this.imgGlow.opacity=0,this.imgGlow.x=-e/2-this.imgGlow.width/4;var i=cc.tween;i(this.imgGlow).parallel(i().by(2,{x:e}),i().to(1,{opacity:255}).to(1,{opacity:0})).call(function(){t.imgGlow.active=!1}).start()},playCoins:function(){var t=cc.instantiate(this.effectCoins);this.nodeCoin.addChild(t),this.rundCoinsAction(t)},rundCoinsAction:function(t){var e=600*Math.random()-300,i=200*Math.random()-100;t.x=e,t.y=i,cc.tween(t).by(.1*s.getRandID(1,2),{y:100}).to(.1*s.getRandID(4,6),{y:-400}).call(function(){t.removeFromParent()}).start()},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins,t.rate)},addEventListener:function(){n.addEventListener(i.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],BuffaloSlotsDownUI:[function(t,e){"use strict";cc._RF.push(e,"b474cHGSwVJnpWtuXyDvXv7","BuffaloSlotsDownUI");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsGameData"),o=t("BuffaloSlotsUserData"),s=t("BuffaloSlotsEventManager"),a=t("BuffaloSlotsUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),cc.find("btns/btn_help",this.node).on("click",function(){s.emit(i.SHOW_HELP),s.emit(i.PLAY_AUDIO_EF,"btnShow")},this),this.initHandTween(),this.initAutoTween(),o.LoginGameResultData&&this.onLoginGameResult(o.LoginGameResultData),window.resizeWinX(this)},initBetData:function(t){this.bet=t;var e=c.getInstant.maxBet/o.Line;this.betLimit=o.slotBetList.length-1;for(var i=0;i<o.slotBetList.length;i++)if(e<o.slotBetList[i]){this.betLimit=i-1;break}this.updateBet()},initUI:function(){var t=cc.find("pnlEntries",this.node);this.labEntries=cc.find("labEntries",t).getComponent(cc.Label),this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin);var e=cc.find("btnAddCoins",t);e.on("click",this.onClickAddCoins,this),this.btnAddCoins=e,this.imgAddCoinsEffect=cc.find("imgEffect",e),this.imgAddCoinsHand=cc.find("imgHand",e),this.labWinning=cc.find("pnlWinning/labWinning",this.node).getComponent(cc.Label),e.active=!1,cc.find("pnlWinning",this.node).active=!1,this.labGameWin=cc.find("pnlGameWin/labGameWinning",this.node).getComponent(cc.Label);var i=cc.find("pnlTotal",this.node);this.labTotal=cc.find("labTotal",i).getComponent(cc.Label),this.btnDec=cc.find("btnDec",i),this.btnDec.on("click",this.onClickDec,this),this.btnAdd=cc.find("btnAdd",i),this.btnAdd.on("click",this.onClickAdd,this);var n=cc.find("pnlLine",this.node);this.labLine=cc.find("labLine",n).getComponent(cc.Label),this.btnDecLine=cc.find("btnDec",n),this.btnDecLine.on("click",this.onClickDecLine,this),this.btnAddLine=cc.find("btnAdd",n),this.btnAddLine.on("click",this.onClickAddLine,this),this.btnRoll=cc.find("btnRoll",this.node),this.btnRoll.on("click",this.onClickRoll,this),this.btnAuto=cc.find("btnAuto",this.node),this.btnAuto.on("click",this.onClickAuto,this),this.imgAutoOnImg=cc.find("imgAutoOnImg",this.btnAuto),this.imgAutoEffect=cc.find("imgAutoEffect",this.btnAuto)},loadUI:function(){var t=this;o.Bundle.load("resources/image/Mob_DownUI",cc.SpriteAtlas,function(e,i){e||(t.spAtlas=i,t.initBg(),t.initEntries(),t.initWinning(),t.initTotal(),t.initLine(),t.initRoll(),t.initAuto(),t.initAddCoins(),t.initUserCoin(),o.Status==n.GAME_STATE.LEISURE&&t.enterLeisure())})},initHandTween:function(){this.addCoinsTween=cc.tween(this.imgAddCoinsEffect).repeatForever(cc.tween().to(.5,{opacity:0}).to(.5,{opacity:255})),this.addCoinsHandTween=cc.tween(this.imgAddCoinsHand).repeatForever(cc.tween().to(.5,{x:127.5,y:124.5}).to(.5,{x:53,y:50}))},initBg:function(){cc.find("bg1",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280"),cc.find("bg2",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Board_1280")},initEntries:function(){var t=cc.find("pnlEntries",this.node);t.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnAddCoins",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus"),this.imgAddCoinsEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_GreenPlus_light"),this.imgAddCoinsHand.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Hand")},initWinning:function(){cc.find("pnlWinning",this.node).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short")},initTotal:function(){var t=cc.find("pnlTotal",this.node);t.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_TotalField"),cc.find("btnDec",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletSub"),cc.find("btnAdd",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletPlus")},initLine:function(){var t=cc.find("pnlLine",this.node);t.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),cc.find("btnDec",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletSub"),cc.find("btnAdd",t).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_VioletPlus")},initRoll:function(){this.btnRoll.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_RevealPlus")},initAuto:function(){var t=this;this.btnAuto.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_nor"),this.imgAutoOnImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_But_Auto_light"),o.Bundle.load("resources/image/img_auto_effect",cc.SpriteFrame,function(e,i){t.imgAutoEffect.getComponent(cc.Sprite).spriteFrame=i})},initAddCoins:function(){var t=this;this.pnlAddCoins=cc.find("pnlAddCoins",this.node),cc.find("mask",this.pnlAddCoins).on("click",this.onClickHideAddCoins,this);var e=cc.find("nodeAdd",this.pnlAddCoins);cc.find("imgBg",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_DownUI_Field_short"),this.btnAddGroup=[],o.Bundle.load("resources/image/add_user_coins",cc.SpriteAtlas,function(i,n){if(!i){var o=cc.find("pnlGroup",e);o.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_JpWn_Field");var s=cc.find("item",e);s.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("Mob_ButA_Board_nor");for(var a=[1,10,50,100,"ALL"],c=[t.onClickAddCoins1,t.onClickAddCoins10,t.onClickAddCoins50,t.onClickAddCoins100,t.onClickAddCoinsAll],l=0;l<a.length;l++){var r=cc.instantiate(s);o.addChild(r),r.on("click",c[l],t),cc.find("label",r).getComponent(cc.Label).string=l==a.length-1?a[l]:"$"+a[l],t.btnAddGroup.push(r)}s.active=!1}})},initUserCoin:function(){this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin)},initAutoTween:function(){cc.tween(this.imgAutoEffect).repeatForever(cc.tween().by(1,{angle:180})).start()},onClickAdd:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.updateBet(),s.emit(i.PLAY_AUDIO_EF,"btnShow"),this.stopNoMenyTween()},onClickDec:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.updateBet(),s.emit(i.PLAY_AUDIO_EF,"btnHide"),this.stopNoMenyTween()},onClickAddLine:function(){this.line+=1,this.line=this.line>=n.LINES_LIST.length?0:this.line,this.updateLine(),s.emit(i.PLAY_AUDIO_EF,"btnShow")},onClickDecLine:function(){this.line-=1,this.line=this.line<0?n.LINES_LIST.length-1:this.line,this.updateLine(),s.emit(i.PLAY_AUDIO_EF,"btnHide")},onClickAuto:function(){o.Status!=n.GAME_STATE.INIT&&a.isNormalGame()&&(o.IsAuto?(this.enterAuto(!1),s.emit(i.PLAY_AUDIO_EF,"btnHide")):(this.enterAuto(!0),s.emit(i.PLAY_AUDIO_EF,"btnShow")))},onClickRoll:function(){if(o.Status==n.GAME_STATE.LEISURE){if(!this.checkCoinsEntries())return void this.playNoMenyTween();o.Status=n.GAME_STATE.REQUEST,s.emit(i.START_ROLL),this.setRollBan(!1),s.emit(i.PLAY_AUDIO_EF,"startWheel")}else o.Status==n.GAME_STATE.ROLL_END&&(s.emit(i.STOP_IMMEDIATELY),this.setRollBan(!1),s.emit(i.PLAY_AUDIO_EF,"stopWheel"))},onClickAddCoins:function(){this.showAddCoins()},onClickHideAddCoins:function(){this.pnlAddCoins.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){},chargeSum:function(t){this.pnlAddCoins.active=!1;var e=0==t?{}:{sum:t};s.emit(i.ADD_USER_COINS,e)},updateBet:function(){o.BetIndex=this.bet,o.BetValue=o.slotBetList[this.bet]*o.Line,this.labTotal.string=a.formattingCoins(o.BetValue),s.emit(i.UPDATE_BET),s.emit(i.ON_PUSH_GAMBLING_WIN_POOL,o.BetValue)},updateLine:function(){o.Line=n.LINES_LIST[this.line],this.labLine.string=o.Line,s.emit(i.UPDATE_LINE),this.updateBet()},checkCoinsEntries:function(){return c.getInstant.playerCoin>=o.BetValue},setBtnState:function(t){this.spAtlas&&(this.btnRoll.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(t?"Mob_DownUI_But_Stop":"Mob_DownUI_But_RevealPlus"))},setRollBan:function(t){this.btnRoll.getComponent(cc.Button).interactable=t},setAutoBan:function(t){this.btnAuto.getComponent(cc.Button).interactable=t},banButton:function(t){t&&o.IsAuto||(this.btnAdd.getComponent(cc.Button).interactable=t,this.btnDec.getComponent(cc.Button).interactable=t,this.btnAddLine.getComponent(cc.Button).interactable=t,this.btnDecLine.getComponent(cc.Button).interactable=t)},playNoMenyTween:function(){this.imgAddCoinsEffect.active=!0,this.imgAddCoinsHand.active=!0,this.addCoinsTween.start(),this.addCoinsHandTween.start(),s.emit(i.HAVE_NO_MONEY)},stopNoMenyTween:function(){this.addCoinsTween.stop(),this.addCoinsHandTween.stop(),this.imgAddCoinsEffect.active=!1,this.imgAddCoinsHand.active=!1},enterAuto:function(t){o.IsAuto=t,this.imgAutoOnImg.active=t,this.imgAutoEffect.active=t,t?(this.setRollBan(!1),this.banButton(!1),o.Status==n.GAME_STATE.LEISURE&&s.emit(i.START_ROLL)):o.Status==n.GAME_STATE.LEISURE&&(this.setRollBan(!0),this.setBtnState(!1))},onStartRoll:function(){this.banButton(!1),a.isNormalGame()&&(this.labGameWin.string=a.formattingCoins(0)),a.isNormalGame()&&(c.getInstant.playerCoin-=o.BetValue,this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin))},onChargeAllResult:function(t){t&&(c.getInstant.playerCoin=t.score?t.score:0,this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin),this.stopNoMenyTween())},onUpdateGameWin:function(t){var e=this;if(0!=t){c.getInstant.playerCoin+=t;var i=a.isNormalGame()?0:o.FreeWinCoins,n=a.isNormalGame()?t:o.FreeWinCoins+t,s=Math.ceil(n/20);this.schedule(function(){(i+=s)>n&&(i=n),e.labGameWin.string=a.formattingCoins(i),e.labEntries.string=a.formattingCoins(c.getInstant.playerCoin-n+i)},.02,20),a.isNormalGame()||(o.FreeWinCoins+=t)}},onLotteryResult:function(){o.IsAuto||(this.setBtnState(!0),this.setRollBan(!0))},onSetWinningValue:function(){},onChangeGameStatus:function(){o.Status==n.GAME_STATE.RESULT?this.enterResult():o.Status==n.GAME_STATE.LEISURE&&this.enterLeisure()},enterResult:function(){o.IsAuto||this.setRollBan(!1)},enterLeisure:function(){this.checkCoinsEntries()||(this.playNoMenyTween(),this.enterAuto(!1)),a.isNormalGame()?(this.banButton(!0),o.IsAuto?s.emit(i.START_ROLL):(this.setRollBan(!0),this.setBtnState(!1))):o.IsAuto?s.emit(i.START_ROLL):this.enterAuto(!0)},onChangeGameMode:function(){o.GameMode==n.GAME_MODE.NORMAL?this.enterAuto(!1):o.GameMode==n.GAME_MODE.FREE&&(this.pnlAddCoins.active=!1),this.btnAddCoins.getComponent(cc.Button).interactable=o.GameMode==n.GAME_MODE.NORMAL},onEnterFakeMode:function(){a.isNormalGame()&&(o.IsFakeSolt?(this.banButton(!0),this.setRollBan(!1),this.setAutoBan(!1)):(this.banButton(!1),this.setRollBan(!0),this.setAutoBan(!0)))},hideGambleBetView:function(t){this.labGameWin.string=a.formattingCoins(o.GameWin),c.getInstant.playerCoin+=o.GameWin-t,this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin)},onLoginGameResult:function(t){var e=0;if(t.Obj&&(t.Obj.betList&&(o.slotBetList=t.Obj.betList),t.Obj.betDefault&&t.Obj.betList))for(var i=0;i<t.Obj.betList.length;i++)if(t.Obj.betDefault==t.Obj.betList[i]){e=i;break}this.initBetData(e)},onEnable:function(){s.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),s.addEventListener(i.ENTER_FAKE_MODE,this.onEnterFakeMode,this),s.addEventListener(i.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),s.addEventListener(i.SET_WINNING_VALUE,this.onSetWinningValue,this),s.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),s.addEventListener(i.UPDATE_GAME_WIN,this.onUpdateGameWin,this),s.addEventListener(i.START_ROLL,this.onStartRoll,this),s.addEventListener(i.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),s.addEventListener(i.HIDE_GAMBLE_BET_VIEW,this.hideGambleBetView,this),s.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],BuffaloSlotsEventConfig:[function(t,e){"use strict";cc._RF.push(e,"07628XHL7tFAZ/IX0EE9v2U","BuffaloSlotsEventConfig"),e.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",HAVE_NO_MONEY:"HAVE_NO_MONEY",ADD_USER_COINS:"ADD_USER_COINS",SET_WINNING_VALUE:"SET_WINNING_VALUE",SET_BET_VALUE:"SET_BET_VALUE",SET_LINES_VALUE:"SET_LINES_VALUE",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",SHOW_GAMBLE:"SHOW_GAMBLE",HIDE_GAMBLE:"HIDE_GAMBLE",ON_GAMBLE_RESULT:"ON_GAMBLE_RESULT",SHOW_GAMBLE_BET_VIEW:"SHOW_GAMBLE_BET_VIEW",HIDE_GAMBLE_BET_VIEW:"HIDE_GAMBLE_BET_VIEW",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",PLAY_ROLE_ANI:"PLAY_ROLE_ANI",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",UPDATE_REMAINING:"UPDATE_REMAINING",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",SHOW_HELP:"SHOW_HELP",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",ENTER_FAKE_MODE:"ENTER_FAKE_MODE",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_YOU_WIN:"SHOW_YOU_WIN",PLAY_PARTICLE_ANI:"PLAY_PARTICLE_ANI",PLAY_SCENE_ANI:"PLAY_SCENE_ANI",ON_GET_SPECLA_DATA:"ON_GET_SPECLA_DATA",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO"},cc._RF.pop()},{}],BuffaloSlotsEventManager:[function(t,e){"use strict";function i(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}cc._RF.push(e,"06a43Pn1uZGNrzz+Mm0fq9U","BuffaloSlotsEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(t,e,i){for(var n=-1,o=0;o<s._eventListeners[t].length;o++){var a=s._eventListeners[t][o];if(a.callBack==e&&(!i||a.target==i)){n=o;break}}return n},addEventListener:function(t,e,i){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:e,target:i};return null==s._eventListeners[t]?s._eventListeners[t]=[n]:-1==s.getEventListenersIndex(t,e,i)&&s._eventListeners[t].push(n),!0}cc.warn("eventName is empty"+t)},removeEventListener:function(t,e,i){if(null!=s._eventListeners[t]){var n=s.getEventListenersIndex(t,e,i);-1!=n&&s._eventListeners[t].splice(n,1)}},emit:function(t,e){if(null!=s._eventListeners[t]){for(var n,o=[],a=i(s._eventListeners[t]);!(n=a()).done;){var c=n.value;o.push({callBack:c.callBack,target:c.target})}for(var l=function(){var t=h[r];new Promise(function(){t.callBack.call(t.target,e)})},r=0,h=o;r<h.length;r++)l()}}};e.exports=s,cc._RF.pop()},{}],BuffaloSlotsFree:[function(t,e){"use strict";cc._RF.push(e,"5dfb1jFaYdE+4EOpBG0Iabh","BuffaloSlotsFree");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsUserData");cc.Class({extends:cc.Component,properties:{labFreeNow:cc.Label,labFreeAll:cc.Label},onLoad:function(){this.addEventListener()},show:function(){this.labFreeNow.string=o.FreeTimeNow,this.labFreeAll.string=o.FreeTimeAll,this.node.y=50,cc.tween(this.node).to(.5,{y:0},{easing:"bounceOut"}).start()},onUpdateFreeTimeNow:function(){this.labFreeNow.string=o.FreeTimeNow},onUpdateFreeTimeAll:function(){this.labFreeAll.string=o.FreeTimeAll},addEventListener:function(){n.addEventListener(i.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),n.addEventListener(i.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{}],BuffaloSlotsGameData:[function(t,e){"use strict";cc._RF.push(e,"db151SBk3RKAZGpXa49atFz","BuffaloSlotsGameData");e.exports={BUNDLE_NAME:"BuffaloSlots",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4},GAME_MODE:{NORMAL:0,FREE:1},VERTICAL_ITEM_COUNT:4,WHEEL_COUNT:5,LINES_LIST:[1,5,10,15],EXCHANGE_RATE:.01},cc._RF.pop()},{}],BuffaloSlotsHelp:[function(t,e){"use strict";cc._RF.push(e,"d59d2fFBY5JuqqoxsxGnMYI","BuffaloSlotsHelp");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.addEventListener(),window.resizeWinX(this)},show:function(){this.node.active=!0},onClickHideHelp:function(){this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],BuffaloSlotsItemAni:[function(t,e){"use strict";cc._RF.push(e,"196d7wINQ1HHJ1oRjOMKRgL","BuffaloSlotsItemAni");var i=t("BuffaloSlotsItemConfig"),n=t("BuffaloSlotsUtil");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,itemAni:cc.Node,spAtlas:cc.SpriteAtlas,imgSelect:cc.Node,aniList:{type:cc.Node,default:[]}},onLoad:function(){this.initImgSelectTween(),this.reset(),this.imgSelect.width=i.ITEM_WIDTH,this.imgSelect.height=i.ITEM_HEIGHT},changeItem:function(t){this.itemID=t,this.itemImg.active=!0,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[t])},initImgSelectTween:function(){this.imgSelectTween=cc.tween(this.imgSelect).repeatForever(cc.tween().to(1,{opacity:255}).to(1,{opacity:0}))},IsWildID:function(){return i.IsWildID(this.itemID)},reset:function(){this.hideAniItem(),this.itemImg.active=!0,this.imgSelectTween.stop(),this.imgSelect.active=!1},hideAniItem:function(){for(var t=0;t<this.aniList.length;t++)this.aniList[t].active=!1},playSelectAni:function(t){switch(this.itemID){case i.ItemID.WILD:n.isNormalGame()?this.playItemAni(2,-1):t<=2?this.playItemAni(3,-1):this.playItemAni(4,-1);break;case i.ItemID.BONUS:this.playItemAni(0,-1);break;case i.ItemID.item10:this.playItemAni(1,-1)}this.imgSelect.active=!0,this.imgSelectTween.start()},playItemAni:function(t,e){this.itemImg.active=!1,this.aniList[t].active=!0,this.aniList[t].getComponent(dragonBones.ArmatureDisplay).playAnimation("play",e)},playAniBonus:function(){this.playItemAni(0,1)}}),cc._RF.pop()},{}],BuffaloSlotsItemConfig:[function(t,e){"use strict";cc._RF.push(e,"5617ft5iGFMKrR6G/4dxRcD","BuffaloSlotsItemConfig");var i={_9:0,_10:1,J:2,Q:3,K:4,A:5,item06:6,item07:7,item08:8,item09:9,item10:10,WILD:11,BONUS:12},n={ITEM_HEIGHT:130,ITEM_WIDTH:170,WHEEL_WIDTH:170,WHEEL_HEIGHT:520,SpriteFramelist:["4FC2711","692D011B","D7D246C4","48CA69EC","52BE8996","69BEE6E7","6987630A","37E9D343","6ED0D9B","D1DABAFB","78E2402A","A43B8625","A6731BE0"],ItemID:i,IsBonusID:function(t){return t==i.BONUS},IsWildID:function(t){return t==i.WILD}};e.exports=n,cc._RF.pop()},{}],BuffaloSlotsItem:[function(t,e){"use strict";cc._RF.push(e,"63027tfptlBppNCS72kOliI","BuffaloSlotsItem");var i=t("BuffaloSlotsUtil"),n=t("BuffaloSlotsItemConfig");cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,imgMask:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.imgMask.width=n.ITEM_WIDTH,this.imgMask.height=n.ITEM_HEIGHT,this.randImg()},randImg:function(){this.changeItem(i.getRandItemID(n.SpriteFramelist))},reset:function(){this.imgMask.active=!1},setUnselect:function(){this.imgMask.active=!0},changeItem:function(t){this.itemID=t,this.itemImg.active=!0,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[t])},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return n.IsBonusID(this.itemID)},rollEnd:function(){}}),cc._RF.pop()},{}],BuffaloSlotsMain:[function(t,e){"use strict";cc._RF.push(e,"305f9Lqje9Me6/32mZXT1M8","BuffaloSlotsMain");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsGameData"),s=t("BuffaloSlotsUserData"),a=t("BuffaloSlotsItemConfig"),c=t("BuffaloSlotsUtil");cc.Class({extends:cc.Component,properties:{layoutWheel:cc.Node,layoutWheelAni:cc.Node,pnlDecorate:cc.Node,pnlFree:cc.Node,preFree:cc.Prefab,preWheel:cc.Prefab,preWheelAni:cc.Prefab},onLoad:function(){s.Status=o.GAME_STATE.INIT,s.GameMode=o.GAME_MODE.NORMAL,this.resultList=[],this.initNormalWheel(),this.initWheelListAni(),this.initFree()},enterNormal:function(){this.hideFreeNode(),this.pnlDecorate.active=!0},enterFree:function(){this.showFreeNode(),this.pnlDecorate.active=!1,n.emit(i.PLAY_AUDIO_BGM,{id:2})},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.resetItem()},resetItem:function(){for(var t=0;t<this.wheelAniList.length;t++)this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").resetItem(),this.wheelAniList[t].getComponent(o.BUNDLE_NAME+"WheelAni").resetItem()},stateCallBack:function(){if(s.Status==o.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),s.Status=o.GAME_STATE.RESULT,n.emit(i.CHANGE_GAME_STATUS),this.resultList=[];for(var t=o.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var a=this.wheelList[e].getComponent(o.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(a[t])}this.showResult()}},showResult:function(){if(s.LotteryRes.winscore>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",s.LotteryRes.winscore),s.GameWin=s.LotteryRes.winscore,n.emit(i.UPDATE_GAME_WIN,s.LotteryRes.winscore),this.playWinAnim(),void n.emit(i.PLAY_AUDIO_EF,"winLine");cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},playWinAnim:function(){for(var t=c.convertNetData(s.LotteryRes.viewarray.nWinCards),e=c.convertNetData(s.LotteryRes.viewarray.nHandCards),i=function i(n,o,s){if(n!=t.length){for(var l=0;l<t[n].length;l++){if(e[n][l]==o&&!t[n][l])return;if(e[n][l]==a.ItemID.WILD&&!t[n][l])return;e[n][l]!=o&&e[n][l]!=a.ItemID.WILD||s.push(c.reconvertNetData(n,l))}i(n+1,o,s)}},n=[],o=0;o<t[0].length;o++)t[0][o]&&(n[e[0][o]]||(n[e[0][o]]=[]),n[e[0][o]].push(c.reconvertNetData(0,o)),i(1,e[0][o],n[e[0][o]]));for(var l=[],r=0;r<s.LotteryRes.viewarray.nWinCards.length;r++)s.LotteryRes.viewarray.nWinCards[r]&&l.push(r);n.unshift(l),this.linesList=n,this.playLineAni()},playLineAni:function(){var t=this;this.scheduleOnce(function(){c.isNormalGame()&&c.checkBigWin(s.LotteryRes.winscore)?t.scheduleOnce(function(){t.showWinView(s.LotteryRes.winscore,!0,function(){n.emit(i.PLAY_AUDIO_BGM,{id:0}),t.toGameOver()})},1):t.toGameOver()},2),this.lineSchedIndex=0,this.schedule(this.onLineSchedUleCallBack,2),this.onLineSchedUleCallBack(0,!0)},onLineSchedUleCallBack:function(t,e){var l=this.linesList[this.lineSchedIndex];if(!l)return this.lineSchedIndex++,this.lineSchedIndex>=this.linesList.length&&(this.lineSchedIndex=0),void this.onLineSchedUleCallBack();this.resetItem();for(var r=c.getItemCount(s.LotteryRes.viewarray.nHandCards,a.ItemID.WILD),h=0;h<this.resultList.length;h++){var u=this.resultList[h].getComponent(o.BUNDLE_NAME+"Item");l.includes(h)?(this.wheelAniItemList[h].active=!0,this.wheelAniItemList[h].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(u.getItemId()),this.wheelAniItemList[h].getComponent(o.BUNDLE_NAME+"ItemAni").playSelectAni(r),this.resultList[h].active=!1):u.setUnselect()}this.lineSchedIndex++,this.lineSchedIndex>=this.linesList.length&&(this.lineSchedIndex=0),e||(c.checkWinItem(a.ItemID.item10,s.LotteryRes.viewarray.nWinCards,s.LotteryRes.viewarray.nHandCards)?n.emit(i.PLAY_AUDIO_EF,"m1win"):n.emit(i.PLAY_AUDIO_EF,"showLine"))},toGameOver:function(){var t=this;s.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){t.enterFreeGame()},1):this.scheduleOnce(function(){t.onGameOver()},.1)},onGameOver:function(){c.isNormalGame()||s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex]?(s.Status=o.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)):this.stopFreeTimes()},stopFreeTimes:function(){cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),this.unschedule(this.onLineSchedUleCallBack),s.IsFreeSolt=!1,s.GameMode=o.GAME_MODE.NORMAL,n.emit(i.CHANGE_GAME_MODE),this.showWinView(s.FreeWinCoins,!1,function(){n.emit(i.PLAY_AUDIO_BGM,{id:0}),s.Status=o.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)})},enterFreeGame:function(){var t=this;n.emit(i.PLAY_AUDIO_EF,"inFreeTime"),c.isNormalGame()&&(s.FreeSoltRes=c.extendCopy(s.LotteryRes),s.initFreeData()),s.FreeTimeAll+=s.LotteryRes.viewarray.getFreeTime.nFreeTime,this.scheduleOnce(function(){t.playBonusAni()},2),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){this.closeShine();for(var t=0;t<this.resultList.length;t++)this.resultList[t].getComponent(o.BUNDLE_NAME+"Item").isBonusItem()&&(this.resultList[t].active=!1,this.wheelAniItemList[t].active=!0,this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(this.resultList[t].getComponent(o.BUNDLE_NAME+"Item").getItemId()),this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").playAniBonus());n.emit(i.PLAY_AUDIO_EF,"showLine");var e=this;this.scheduleOnce(function(){e.resetItem(),c.isNormalGame()?e.playGetFreeAni():(n.emit(i.UPDATE_FREE_TIME_ALL),s.Status=o.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS))},3)},playGetFreeAni:function(){n.emit(i.PLAY_AUDIO_BGM,{id:2}),n.emit(i.SHOW_TRANSIT_ANI,{count:s.FreeTimeAll,callback:function(){s.GameMode=o.GAME_MODE.FREE,n.emit(i.CHANGE_GAME_MODE),s.Status=o.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)}})},showFreeNode:function(){this.freeNode.active=!0,this.freeNode.getComponent(o.BUNDLE_NAME+"Free").show()},hideFreeNode:function(){this.freeNode.active=!1},showWinView:function(t,e,o){if(c.checkBigWin(t)){var a=t/s.BetValue;n.emit(i.SHOW_BIG_WIN,{coins:t,rate:a,callback:o})}else!e&&t>0?n.emit(i.SHOW_YOU_WIN,{coins:t,callback:o}):o()},onStartRoll:function(){this.stopImmediately=!1,this.bonusWheelCount=0,this.isListenIng=!1,n.emit(i.HIDE_GAMBLE),c.isNormalGame()||(s.FreeTimeNow++,n.emit(i.UPDATE_FREE_TIME_NOW)),this.unschedule(this.onLineSchedUleCallBack)},onStopImmediately:function(){for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t]);this.stopImmediately=!0},onLoginGameResult:function(){s.Status=o.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(t){n.emit(i.SET_LINES_VALUE,t.gameDict.betlist.length),n.emit(i.SET_BET_VALUE,t.gameDict.betsum),s.FreeTimeAll=t.gameDict.totalFreeTimes,s.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(s.GameMode=o.GAME_MODE.FREE),n.emit(i.CHANGE_GAME_MODE,t),s.Status=o.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)},onLotteryResult:function(){s.Status=o.GAME_STATE.ROLL_END,n.emit(i.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(s.LotteryRes.viewarray.nHandCards),this.wheelList[0].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[0])},onLotteryErrResult:function(t){cc.log(t),n.emit(i.RESET_WHEEL),s.Status=o.GAME_STATE.LEISURE,n.emit(i.CHANGE_GAME_STATUS)},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?this.enterNormal():s.GameMode==o.GAME_MODE.FREE&&this.enterFree()},onWheelRollEnd:function(t){var e=this;if(n.emit(i.STOP_AUDIO_EF,"Sound_ExpectSpeedUp"),this.stopImmediately)return t==this.wheelList.length-1?void this.stateCallBack():void 0;var s=c.getItemCount(this.wheelNetData[t],a.ItemID.BONUS);if(s>0&&n.emit(i.PLAY_AUDIO_EF,"Sound_HitB1_"+(t+1)),t!=this.wheelList.length-1){if(this.bonusWheelCount+=s,2==this.bonusWheelCount)return n.emit(i.PLAY_AUDIO_EF,"Sound_ExpectSpeedUp"),void this.scheduleOnce(function(){e.wheelList[t+1].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(e.wheelNetData[t+1])},2);this.wheelList[t+1].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t+1])}else this.stateCallBack()},showGambleBetView:function(){this.unschedule(this.onLineSchedUleCallBack)},hideGambleBetView:function(){var t=this;this.showWinView(s.GameWin,!0,function(){n.emit(i.PLAY_AUDIO_BGM,{id:0}),t.toGameOver()})},onEnable:function(){n.addEventListener(i.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.addEventListener(i.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this),n.addEventListener(i.SHOW_GAMBLE_BET_VIEW,this.showGambleBetView,this),n.addEventListener(i.HIDE_GAMBLE_BET_VIEW,this.hideGambleBetView,this)},addWheelToLayout:function(t){var e=cc.instantiate(this.preWheel);this.layoutWheel.addChild(e),this.wheelList.push(e),e.getComponent(o.BUNDLE_NAME+"Wheel").setWheelData(t)},initWheelListAni:function(){this.wheelAniList=[];for(var t=0;t<o.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.layoutWheelAni.addChild(e),this.wheelAniList.push(e),e.getComponent(o.BUNDLE_NAME+"WheelAni").setWheelData(t)}this.initWheelAni()},initNormalWheel:function(){this.wheelList=[],this.resultList=[],this.layoutWheel.removeAllChildren();for(var t=0;t<o.WHEEL_COUNT;t++)this.addWheelToLayout(t)},initWheelAni:function(){this.wheelAniItemList=[];for(var t=o.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelAniList[e].getComponent(o.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(i[t])}},initFree:function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode),this.freeNode.active=!1}}),cc._RF.pop()},{}],BuffaloSlotsMenu:[function(t,e){"use strict";cc._RF.push(e,"035abVxQ55H/668HBiCxLlV","BuffaloSlotsMenu");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsUserData"),s=t("BuffaloSlotsGameData"),a=t("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.isRunActioning=!1,this.initUI(),this.loadUI()},initUI:function(){this.menuMask=cc.find("btnCloseMenu",this.node),this.menuMask.on("click",this.onClickCloseMenu,this),this.pnlMenu=cc.find("pnlMenu",this.node),this.pnlMenu.active=!1;var t=cc.find("btnMenu",this.pnlMenu);t.on("click",this.onClickShowMenu,this),this.imgMenuEffect=cc.find("imgEffect",t),this.pnlMenuMain=cc.find("pnlMenuMain",this.node)},loadUI:function(){var t=this;o.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(e,i){e||(t.spAtlas=i,t.initMenu(),t.initMenuMain(),t.initHelp())})},initMenu:function(){cc.find("btnMenu",this.pnlMenu).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Menu"),this.imgMenuEffect.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_Lob_But_Menu_Open_shine"),this.initMenuEffect()},initMenuEffect:function(){cc.tween(this.imgMenuEffect).repeatForever(cc.tween().to(1,{opacity:0}).to(1,{opacity:255})).start()},initMenuMain:function(){this.pnlMenuMain.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Board_Lar");var t=cc.find("layout",this.pnlMenuMain),e=cc.find("itemSound",t);e.on("click",this.onClickSound,this),cc.find("imgLine",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar"),cc.find("imgTagBg",e).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_Board"),this.imgSoundOn=cc.find("imgSoundOn",e),this.imgSoundOn.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OnPoint"),this.imgSoundOff=cc.find("imgSoundOff",e),this.imgSoundOff.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_SoundSwitch_OffPoint");var i=cc.find("itemHelp",t);i.on("click",this.onClickShowHelp,this),cc.find("imgLine",i).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_MenuItems_Line_Lar");var n=cc.find("itemHome",t);n.on("click",this.onClickHome,this),cc.find("imgHome",n).getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Mob_UpUI_But_Home")},initHelp:function(){},onClickCloseMenu:function(){this.hide(),n.emit(i.PLAY_AUDIO_EF,"btnHide")},onClickShowMenu:function(){this.show(),n.emit(i.PLAY_AUDIO_EF,"btnShow")},onClickSound:function(){a.getInstant.musicControl=!a.getInstant.musicControl,this.imgSoundOn.active=a.getInstant.musicControl,this.imgSoundOff.active=!a.getInstant.musicControl,a.getInstant.musicControl?(s.GAME_MODE.NORMAL==o.GameMode?n.emit(i.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):s.GAME_MODE.FREE==o.GameMode&&n.emit(i.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),n.emit(i.PLAY_AUDIO_EF,"btnShow")):n.emit(i.STOP_AUDIO)},onClickShowHelp:function(){n.emit(i.SHOW_HELP),n.emit(i.PLAY_AUDIO_EF,"btnShow")},onClickHideHelp:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide")},onClickHome:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)},type:0})},show:function(){var t=this;this.isRunActioning||(this.isRunActioning=!0,this.pnlMenuMain.active=!0,this.menuMask.active=!0,cc.tween(this.pnlMenu).to(.3,{x:700}).call(function(){cc.tween(t.pnlMenuMain).to(.3,{x:556}).call(function(){t.isRunActioning=!1}).start()}).start())},hide:function(){var t=this;this.isRunActioning||(this.isRunActioning=!0,this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:720}).call(function(){cc.tween(t.pnlMenu).to(.3,{x:580}).call(function(){t.pnlMenuMain.active=!1,t.isRunActioning=!1}).start()}).start())},inFreeGame:function(){this.menuMask.active=!1,cc.tween(this.pnlMenu).to(.3,{x:700}).call(function(){}).start(),this.menuMask.active=!1,cc.tween(this.pnlMenuMain).to(.3,{x:720}).call(function(){}).start()},onChangeGameMode:function(){o.GameMode==s.GAME_MODE.NORMAL?this.hide():this.inFreeGame()},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],BuffaloSlotsNetWheelConfig:[function(t,e){"use strict";cc._RF.push(e,"da213l78upOgLznRhbV4kFD","BuffaloSlotsNetWheelConfig");var i=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[12,12,9,12,2,6,9,10,6,8,2,6,4,4,11,1,2,3,4,5],nWinLinesDetail:[[0,6,7,8],[5,11,12,13],[5,1,2,3]],nWinLines:[1,2,3],win:10}},{freeCount:0,freeTotal:0,userscore:89520,winscore:0,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:0},nWinCards:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[11,4,9,9,2,6,9,10,6,8,2,6,4,4,11],nWinLines:[],nWinLinesDetail:[],win:0}}],n=0,o={Inint:function(){n=0},GetNetConfig:function(){var t;n>=(t=i).length&&(n=0);var e=t[n];return n++,e}};e.exports=o,cc._RF.pop()},{}],BuffaloSlotsNetwork:[function(t,e){"use strict";cc._RF.push(e,"ec0763qRdVIPpp6f9p7BZsK","BuffaloSlotsNetwork");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsGameData"),s=t("BuffaloSlotsUserData"),a=t("BuffaloSlotsItemConfig"),c=(t("BuffaloSlotsNetWheelConfig"),t("PlayerInfo")),l=!1,r=0;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=c.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){var c=null;if("error"==t&&(cc.log("socket error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})),"connect_error"==t&&(cc.log("connect_error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})),"UPDATE_COIN"==t&&n.emit("UPDATE_COIN"),"connect_timeout"==t&&(cc.log("connect_timeout"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})),"disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})}if("loginGameResult"==t){if(c=changeResultJSON_Function(e),cc.log("LoginGameResult:",c),"1"!=c.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),window.sendNetWorkData("LoginfreeCount",JSON.stringify({})),n.emit(i.ON_LOGIN_GAME_RESULT,c),s.LoginGameResultData=c}if("lotteryResult"==t)if((c=changeResultJSON_Function(e)).ResultCode&&1==c.ResultCode){if(s.LotteryRes=JSON.parse(JSON.stringify(c.ResultData)),l){for(var h=0,u=0;u<s.LotteryRes.viewarray.nHandCards.length;u++)s.LotteryRes.viewarray.nHandCards[u]==a.ItemID.BONUS&&h++;if(cc.log("bouns count",h,"TEST_INDEX",r),h>=3)return l=!1,void n.emit(i.ON_LOTTERY_RESULT);s.LotteryRes.viewarray.getFreeTime.bFlag||(cc.log(s.LotteryRes.viewarray.getFreeTime),this.sendRollData(),r++)}l||n.emit(i.ON_LOTTERY_RESULT)}else n.emit(i.ON_LOTTERY_RESULT_ERR);if("LoginRoomResult"==t&&(c=changeResultJSON_Function(e),cc.log("LoginRoomResult",c)),"pushGamblingWinPool"==t&&(c=changeResultJSON_Function(e),cc.log("pushGamblingWinPool=>",c),1==c.ResultCode&&n.emit(i.ON_PUSH_GAMBLING_WIN_POOL,c.nGamblingWinPool)),"LoginfreeCountResult"==t&&(c=changeResultJSON_Function(e),cc.log("LoginfreeCountResult:",c),1==c.ResultCode&&(c.freeType=Number(c.freeType),(c.freeCount>0||c.freeType==o.GAME_MODE.SELECT)&&n.emit(i.ON_LOGIN_FREE_COUNT_RESULT,c))),"betResult"==t){if(c=changeResultJSON_Function(e),cc.log("betResult",c),1!=c.ResultCode)return;n.emit(i.ON_GAMBLE_RESULT,c.ResultData)}},sendRollData:function(){cc.log("lottery=>",JSON.stringify({bet:0,nBetList:[s.BetValue]})),window.sendNetWorkData("lottery",JSON.stringify({bet:0,nBetList:[s.BetValue]}))},onLoginNet:function(){},onStartRoll:function(){if(s.Status=o.GAME_STATE.REQUEST,n.emit(i.CHANGE_GAME_STATUS),s.IsFreeSolt)return s.LotteryRes.viewarray=s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex],s.LotteryRes.winscore=s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex].win,s.FreeSoltIndex++,void n.emit(i.ON_LOTTERY_RESULT);this.sendRollData()},onAddUserCoins:function(t){cc.log("chargeAll =>",t)},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.isOutGameIng=!0,n.destroy(),cc.director.loadScene(window.hallName)},onEnable:function(){n.addEventListener(i.ADD_USER_COINS,this.onAddUserCoins,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.OUT_GAME,this.onOutGame,this),n.addEventListener(i.LOGIN_NET,this.onLoginNet,this)},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],BuffaloSlotsScene:[function(t,e){"use strict";cc._RF.push(e,"19c71CPVzNL2KW6FJTpR+LZ","BuffaloSlotsScene");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsGameData"),s=t("BuffaloSlotsUserData"),a=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preAnimation:cc.Prefab,prTransit:cc.Prefab,preHelp:cc.Prefab,preBg:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.labCoinsTip.active=!1},initData:function(){s.slotBetList=a.getInstant.slotBetList,s.slotBetList||(s.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),a.getInstant.maxBet||(a.getInstant.maxBet=2e3),a.getInstant.fixedBet||(a.getInstant.fixedBet=50),s.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),s.BetValue=s.Line},onShowNotMoney:function(){var t=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){},onShowHelp:function(){var t=cc.instantiate(this.preHelp);this.topNode.addChild(t)},onEnable:function(){n.addEventListener(i.HAVE_NO_MONEY,this.onShowNotMoney,this),n.addEventListener(i.SHOW_HELP,this.onShowHelp,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIUp(),this.initGameUIDown(),this.initGameMenu(),this.initBigWin(),this.initYouWin(),this.initTipView(),this.initTransit()},loadComplete:function(){this.loadCount--,0==this.loadCount&&n.emit(i.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initBigWin:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"BigWin"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initYouWin:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preYouWin",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"YouWin"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initGameUIUp:function(){this.loadCount++,cc.resources.load("prefabs/preTopUI",function(t,e){if(t)cc.log(t);else{var i=cc.instantiate(e);i.addComponent(o.BUNDLE_NAME+"UpUI"),this.gameNode.addChild(i),this.loadComplete()}}.bind(this))},onDestroy:function(){n.destroy()},initGameUIDown:function(){cc.resources.load("prefabs/commonUi2",function(t,e){if(t)cc.log(t);else{var i=cc.instantiate(e);i.addComponent(o.BUNDLE_NAME+"DownUI"),this.gameNode.addChild(i,1e3);var n=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",i.width,i.height,n),i.scaleX=n.width/1920,i.scaleY=n.height/1080}}.bind(this))},initGameMenu:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"Menu"),t.showNode.addChild(n),t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"TipView"),t.topNode.addChild(n),t.loadComplete()}})},initAnimation:function(){},initTransit:function(){var t=cc.instantiate(this.prTransit);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],BuffaloSlotsTipView:[function(t,e){"use strict";cc._RF.push(e,"808b0V84ApPjJjcOd/l8C9T","BuffaloSlotsTipView");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsUserData"),s=(t("BuffaloSlotsGameData"),[]);s[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;o.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,i){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=s[e])},onClickOK:function(){this.callback(),this.node.active=!1},onClickHide:function(){this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){n.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],BuffaloSlotsTransit:[function(t,e){"use strict";cc._RF.push(e,"7031frQtX9PeYjXsczN1lqB","BuffaloSlotsTransit");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager");cc.Class({extends:cc.Component,properties:{labCount:cc.Label},onLoad:function(){this.addEventListener()},show:function(t){this.callback=t.callback,this.labCount.string=t.count,this.node.active=!0},hide:function(){this.callback(),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],BuffaloSlotsUpUI:[function(t,e){"use strict";cc._RF.push(e,"58c9a2fpRFHd4X5DivxPAd2","BuffaloSlotsUpUI");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsUserData"),s=t("BuffaloSlotsUtil");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),o.LoginGameResultData&&this.onLoginGameResult(o.LoginGameResultData),window.resizeWinX(this)},initUI:function(){var t=cc.find("topBarText",this.node);this.labGrand=cc.find("labGrand",t).getComponent(cc.Label),this.labMajor=cc.find("labMajor",t).getComponent(cc.Label),this.labMinor=cc.find("labMinor",t).getComponent(cc.Label),this.labMini=cc.find("labMini",t).getComponent(cc.Label)},loadUI:function(){var t=this;o.Bundle.load("resources/image/Mob_UpUI",cc.SpriteAtlas,function(e,i){e||(cc.find("bkgTopBar",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("bkgTopBar1",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_UpUI_Board_1280"),cc.find("topBarText",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_UpUI_JPField"))})},updatePool:function(t){this.labGrand.string="$"+s.formattingCoins(500*t),this.labMajor.string="$"+s.formattingCoins(200*t),this.labMinor.string="$"+s.formattingCoins(50*t),this.labMini.string="$"+s.formattingCoins(15*t)},onLoginGameResult:function(t){1==t.resultid&&this.updatePool(t.Obj.nGamblingWinPool)},onPushGamblingWinPoolResult:function(t){this.updatePool(t)},onEnable:function(){n.addEventListener(i.ON_PUSH_GAMBLING_WIN_POOL,this.onPushGamblingWinPoolResult,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{}],BuffaloSlotsUserData:[function(t,e){"use strict";cc._RF.push(e,"63283X7WuFGo7kjN1B90pwi","BuffaloSlotsUserData");var i={Bundle:null,FreeTimeNow:0,FreeTimeAll:0,FreeWinCoins:0,FreeUpRemaining:0,GameWin:0,GameMode:0,Status:0,IsAuto:!1,IsFakeSolt:!1,IsFreeSolt:!1,FreeSoltIndex:0,FreeSoltRes:null,LotteryRes:null,init:function(t){i.Bundle=t,i.GameMode=0,i.Status=0,i.Line=40,i.FakeSoltIndex=0,i.IsAuto=!1,i.IsFreeSolt=!1,i.IsFakeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};e.exports=i,cc._RF.pop()},{}],BuffaloSlotsUtil:[function(t,e){"use strict";cc._RF.push(e,"db09bt3jnJGT7UuItkkajXq","BuffaloSlotsUtil");var i=t("BuffaloSlotsGameData"),n=t("BuffaloSlotsUserData"),o=(t("BuffaloSlotsItemConfig"),t("PlayerInfo")),s={convertNetData:function(t){for(var e=[],n=0;n<5;n++)e[n]=[];for(var o in t)e[o%5][i.VERTICAL_ITEM_COUNT-1-parseInt(o/5)]=t[o];return e},reconvertNetData:function(t,e){return t+5*(i.VERTICAL_ITEM_COUNT-1-e)},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,i){for(var n=[],o=0;o<15;o++)i[o]?n[o]=i[o]:n[o]=s.getRandID(t,e);return n},formattingCoins:function(t){return(t/o.getInstant.exchangeRate).toFixed(2)},getRandItemID:function(t){var e=parseInt(Math.random()*t.length);return e>=t.length&&(e=t.length-1),e<=0&&(e=0),e},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},checkBigWin:function(t){return t/n.BetValue>=10},getItemCount:function(t,e){for(var i=0,n=0;n<t.length;n++)t[n]==e&&i++;return i},checkWinItem:function(t,e,i){for(var n=0;n<i.length;n++)if(i[n]==t&&e[n])return!0;return!1},updateSetString:function(t,e,i,n,o,s){var a=0,c=Math.ceil(t/n);i.string=e;var l=0;s.schedule(function(){(a+=c)>t&&(a=t),i.string=a+e,++l==n+1&&o()},.02,n)},extendCopy:function(t){var e={};for(var i in t)e[i]=t[i];return e}};e.exports=s,cc._RF.pop()},{PlayerInfo:void 0}],BuffaloSlotsWheelAni:[function(t,e){"use strict";cc._RF.push(e,"4797df1rhdDeb9tKYUS3kbS","BuffaloSlotsWheelAni");var i=t("BuffaloSlotsGameData"),n=t("BuffaloSlotsEventConfig"),o=t("BuffaloSlotsEventManager"),s=t("BuffaloSlotsItemConfig");cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=s.WHEEL_WIDTH},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(i.BUNDLE_NAME+"ItemAni").reset(),e.active=!1}},onStartRoll:function(){this.resetItem()},onEnable:function(){o.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var t=0;t<i.VERTICAL_ITEM_COUNT+1;t++){var e=s.ITEM_HEIGHT*t-(i.VERTICAL_ITEM_COUNT+1-2)/2*s.ITEM_HEIGHT,n=cc.instantiate(this.preItemAni);this.itemAniList.push(n),this.pnlItemAni.addChild(n),n.y=e,n.active=!1}}}),cc._RF.pop()},{}],BuffaloSlotsWheel:[function(t,e){"use strict";cc._RF.push(e,"900d5xgBNNIl5W5tzRx5cCQ","BuffaloSlotsWheel");var i=t("BuffaloSlotsGameData"),n=t("BuffaloSlotsUserData"),o=t("BuffaloSlotsEventConfig"),s=t("BuffaloSlotsEventManager"),a=t("BuffaloSlotsItemConfig"),c=-(i.VERTICAL_ITEM_COUNT-1)/2*a.ITEM_HEIGHT,l=((i.VERTICAL_ITEM_COUNT-1)/2+1)*a.ITEM_HEIGHT;cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=a.WHEEL_WIDTH,this.node.height=a.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=a.WHEEL_WIDTH,t.height=a.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0;t<this.resultItemList.length;t++)if(this.resultItemList[t].getComponent(i.BUNDLE_NAME+"Item").isBonusItem())return!0;return!1},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},resetItem:function(){for(var t=0;t<this.itemList.length;t++)this.itemList[t].active=!0,this.itemList[t].getComponent(i.BUNDLE_NAME+"Item").reset()},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.resetItem()},onStopImmediately:function(){this.unschedule(this.onStopRollScheduleCallback),this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(n.GameMode)},onEnable:function(){s.addEventListener(o.CHANGE_GAME_MODE,this.onChangeGameMode,this),s.addEventListener(o.START_ROLL,this.onStartRoll,this),s.addEventListener(o.RESET_WHEEL,this.onResetWheel,this),s.addEventListener(o.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){s.removeEventListener(o.CHANGE_GAME_MODE,this.onChangeGameMode,this),s.removeEventListener(o.START_ROLL,this.onStartRoll,this),s.removeEventListener(o.RESET_WHEEL,this.onResetWheel,this),s.removeEventListener(o.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(t){this.netIdList=t,this.onStopRollScheduleCallback()},onStopRollScheduleCallback:function(){this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var n=t.itemList[e],o=cc.tween(n);n.getComponent(i.BUNDLE_NAME+"Item").setItemVericalPos(-1),o.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){n.y<c&&(n.y=l,n.getComponent(i.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(o.stop(),t.rollEnd(n,e)),t.isResetRoll&&(o.stop(),t.resetRolePos(n,e))})).start()},n=0;n<this.itemList.length;n++)e(n)},rollEnd:function(t,e){var n=this,r=this;cc.tween(t).repeat(i.VERTICAL_ITEM_COUNT+1,cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){t.y<c&&(t.y=l,r.itemIndex>=r.netIdList.length?t.getComponent(i.BUNDLE_NAME+"Item").randImg():(t.getComponent(i.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex]),r.resultItemList.push(t)),t.getComponent(i.BUNDLE_NAME+"Item").setItemVericalPos(r.itemIndex),r.itemIndex++)})).call(function(){var a=t.getComponent(i.BUNDLE_NAME+"Item").getItemVerticalPos();a=-1==a?i.VERTICAL_ITEM_COUNT+1:a,t.y=n.getOrightPos(a),e==n.itemList.length-1&&s.emit(o.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<a.ITEM_HEIGHT+a.ITEM_HEIGHT/2&&t.getComponent(i.BUNDLE_NAME+"Item").rollEnd(),n.itemList.length-1==e&&s.emit(o.ON_WHEEL_ROLL_END,n.wheelId)}).start()},getOrightPos:function(t){return a.ITEM_HEIGHT*t-(i.VERTICAL_ITEM_COUNT+1-2)/2*a.ITEM_HEIGHT},resetRolePos:function(t,e){t.y=this.getOrightPos(e)},initItem:function(){this.itemList=[];for(var t=0;t<i.VERTICAL_ITEM_COUNT+1;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=this.getOrightPos(t),e.getComponent(i.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],BuffaloSlotsYouWin:[function(t,e){"use strict";cc._RF.push(e,"acd8b00VJZOAKModkEKqA7p","BuffaloSlotsYouWin");var i=t("BuffaloSlotsEventConfig"),n=t("BuffaloSlotsEventManager"),o=t("BuffaloSlotsUserData"),s=t("BuffaloSlotsUtil");cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.addEventListener()},initUI:function(){var t=this;this.labWinCoins=cc.find("imgCoinsBg/labWinCoins",this.node).getComponent(cc.Label),o.Bundle.load("resources/image/youWin",cc.SpriteAtlas,function(e,i){e?cc.log(e):(cc.find("imgFntYouWin",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("YOU_WIN"),cc.find("imgCoinsBg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("BIG_WIN_frame"))})},show:function(t){var e=this,o=t.coins;this.callback=t.callback,this.node.active=!0,n.emit(i.PLAY_AUDIO_BGM,{id:1});var a=Math.ceil(o/50),c=0;this.labWinCoins.string=s.formattingCoins(c),this.schedule(function(){c=(c+=a)>o?o:c,e.labWinCoins.string=s.formattingCoins(c)},.1,49),this.scheduleOnce(function(){e.hide()},6)},hide:function(){this.callback(),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["BuffaloSlotsAudio","BuffaloSlotsBg","BuffaloSlotsItem","BuffaloSlotsItemAni","BuffaloSlotsMain","BuffaloSlotsNetwork","BuffaloSlotsScene","BuffaloSlotsTransit","BuffaloSlotsUtil","BuffaloSlotsWheel","BuffaloSlotsWheelAni","BuffaloSlotsBigWin","BuffaloSlotsDownUI","BuffaloSlotsFree","BuffaloSlotsHelp","BuffaloSlotsMenu","BuffaloSlotsTipView","BuffaloSlotsUpUI","BuffaloSlotsYouWin","BuffaloSlotsEventConfig","BuffaloSlotsEventManager","BuffaloSlotsGameData","BuffaloSlotsItemConfig","BuffaloSlotsNetWheelConfig","BuffaloSlotsUserData"]);