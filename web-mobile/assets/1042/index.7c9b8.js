window.__require=function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({DragonKingdomAddCoins:[function(t,e){"use strict";cc._RF.push(e,"1e414esc2pL2YYmN1KVNSlb","DragonKingdomAddCoins");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomUserData"),o=t("DragonKingdomGameData"),s=t("DragonKingdomEventManager"),a=t("DragonKingdomUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.initAddCoins()},initAddCoins:function(){var t=this;cc.find("mask",this.node).on("click",this.onClickHideAddCoins,this);var e=cc.find("nodeAdd",this.node);this.labelWinning=cc.find("pnlGameWin/labWin",e).getComponent(cc.Label);var i=[this.onClickAddCoins1,this.onClickAddCoins10,this.onClickAddCoins50,this.onClickAddCoins100,this.onClickAddCoinsAll];this.btnAddGroup=[];for(var o=1;o<=5;o++){var s=cc.find("pnlGroup/item"+o,e);s.on("click",i[o-1],this),this.btnAddGroup.push(s)}n.Bundle.load("resources/image/gamepop",cc.SpriteAtlas,function(i,n){if(!i&&t){cc.find("imgBg",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0"),cc.find("pnlGroup",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("commonBtn");for(var o=0;o<t.btnAddGroup.length;o++)t.btnAddGroup[o].getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0")}})},onClickHideAddCoins:function(){s.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){c.getInstant&&(this.node.active=!0,this.labelWinning.string=a.formattingCoins(c.getInstant.playerDiamond),this.btnAddGroup[0].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=100,this.btnAddGroup[1].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=1e3,this.btnAddGroup[2].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=5e3,this.btnAddGroup[3].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>=1e4,this.btnAddGroup[4].getComponent(cc.Button).interactable=c.getInstant.playerDiamond>0)},chargeSum:function(t){s.emit(i.PLAY_AUDIO_EF,"btnShow"),this.node.active=!1;var e=0==t?{}:{sum:t};s.emit(i.ADD_USER_COINS,e)},onChangeGameMode:function(){n.GameMode==o.GAME_MODE.FREE&&(this.node.active=!1)},onEnable:function(){s.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),s.addEventListener(i.SHOW_ADD_USER_COINS,this.showAddCoins,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DragonKingdomAnimation:[function(t,e){"use strict";cc._RF.push(e,"3f534R+8ftOJJnuGQMsMG0a","DragonKingdomAnimation"),t("DragonKingdomEventConfig"),t("DragonKingdomEventManager"),t("DragonKingdomGameData"),t("DragonKingdomUserData"),cc.Class({extends:cc.Component,properties:{aniDiamond:cc.Node},onLoad:function(){this.aniDiamond.active=!1},playDiamondAni:function(){},onEnable:function(){}}),cc._RF.pop()},{}],DragonKingdomAudio:[function(t,e){"use strict";cc._RF.push(e,"2513aqU2cxFD58sEdEHX0hT","DragonKingdomAudio");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomUserData"),s=t("DragonKingdomUtil");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},btnShow:cc.AudioClip,btnHide:cc.AudioClip,rollOver:cc.AudioClip,bigwinsegment:cc.AudioClip,bigwinwfx_end:cc.AudioClip,en_us_amazing:cc.AudioClip,en_us_awesome:cc.AudioClip,en_us_excellent:cc.AudioClip,en_us_impossible:cc.AudioClip,en_us_unbelievable:cc.AudioClip,BetButton:cc.AudioClip,FastSpeedButton:cc.AudioClip,LineButton:cc.AudioClip,MaxBetButton:cc.AudioClip,WinLine:cc.AudioClip,SpinButton:cc.AudioClip,StopButton:cc.AudioClip,enterFree:cc.AudioClip,waitBonus:cc.AudioClip,lineAudio:{type:cc.AudioClip,default:[]},itemAudio:{type:cc.AudioClip,default:[]},rollAudio:{type:cc.AudioClip,default:[]},Bonus:cc.AudioClip,bonusItem:cc.AudioClip,freeWin:cc.AudioClip,itemTranisit:cc.AudioClip,selectItem:cc.AudioClip},onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&this.bgmAudio[t.id]&&(this.bgmID=t.id,o.BGAM_ID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},callAudioPlayEff:function(t){return cc.audioEngine.playEffect(t)},playEf:function(t){0!=this.pInfo.soundEffectControl&&(this[t]?this.audioID[t]=this.callAudioPlayEff(this[t]):"rollSound"!=t?cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",t):this.audioID[t]=this.playRollEffect())},playRollEffect:function(){var t=s.getRandID(0,this.rollAudio.length-1);if(this.rollAudio[t])return this.callAudioPlayEff(this.rollAudio[t])},playLineEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.lineAudio[t]?this.callAudioPlayEff(this.lineAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bLineEffect :",t))},playItemEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.itemAudio[t]?this.callAudioPlayEff(this.itemAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bItemEffect :",t))},stopAudioEf:function(t){this.audioID[t]&&cc.audioEngine.stopEffect(this.audioID[t])},stopMusic:function(){cc.audioEngine.stopMusic()},onDestroy:function(){n.removeEventListener(i.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),n.removeEventListener(i.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),n.removeEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.removeEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.removeEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),n.removeEventListener(i.STOP_AUDIO,this.stopAudio,this),n.removeEventListener(i.STOP_MUSIC,this.stopMusic,this)},onEnable:function(){n.addEventListener(i.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),n.addEventListener(i.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),n.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.addEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),n.addEventListener(i.STOP_AUDIO,this.stopAudio,this),n.addEventListener(i.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DragonKingdomAuto:[function(t,e){"use strict";cc._RF.push(e,"76cfap+1b5F34XyowjDo9U1","DragonKingdomAuto");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager");t("DragonKingdomUserData"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI()},loadUI:function(){var t=[this.onClick10,this.onClick20,this.onClick50,this.onClick100,this.onClick200,this.onClick500],e=["X10","X20","X50","X100","X200","X500"];cc.find("touchNode",this.node).on("click",this.hide,this);for(var i=cc.find("pnlAuto/layout",this.node),n=cc.find("pnlAuto/item",this.node),o=0;o<t.length;o++){var s=cc.instantiate(n);i.addChild(s),s.on("click",t[o],this),cc.find("itemImg",s).getComponent(cc.Label).string=e[o]}n.active=!1},onClick10:function(){this.onClickAuto(10)},onClick20:function(){this.onClickAuto(20)},onClick50:function(){this.onClickAuto(50)},onClick100:function(){this.onClickAuto(100)},onClick200:function(){this.onClickAuto(200)},onClick500:function(){this.onClickAuto(500)},onClickUM:function(){this.onClickAuto(-1)},onClickAuto:function(t){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.UPDATE_AUTO_COUNT,t),this.hide()},showAuto:function(){this.node.active=!0},hide:function(){this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],DragonKingdomBg:[function(t,e){"use strict";cc._RF.push(e,"af88eKTNKpL1pP7p3d7SF9a","DragonKingdomBg");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomGameData"),s=t("DragonKingdomUserData");cc.Class({extends:cc.Component,properties:{imgNormal:cc.Node,imgFree:cc.Node},onLoad:function(){},onChangeGameMode:function(){this.imgNormal.active=s.GameMode==o.GAME_MODE.NORMAL,this.imgFree.active=s.GameMode==o.GAME_MODE.FREE},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],DragonKingdomBigWin:[function(t,e){"use strict";cc._RF.push(e,"cb727b7SGpHDJ8VzHwqP8TI","DragonKingdomBigWin");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomUserData"),s=t("DragonKingdomUtil"),a=[cc.v2(-140,1),cc.v2(-74,-84),cc.v2(-21,-16),cc.v2(73,13),cc.v2(139,-55)],c=[cc.v2(-179,-1),cc.v2(-74,-84),cc.v2(18,16),cc.v2(117,8),cc.v2(146,-85)],r=[cc.v2(-175,-1),cc.v2(-71,-85),cc.v2(18,16),cc.v2(117,8),cc.v2(153,-90)],l=[cc.v2(-175,-1),cc.v2(-96,-67),cc.v2(18,16),cc.v2(96,-35),cc.v2(187,-2)],h=[cc.v2(-258,-10),cc.v2(-86,-68),cc.v2(10,17),cc.v2(143,-26),cc.v2(295,-16)];cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.level=0,this.pointList=[a,c,r,l,h],this.addEventListener(),cc.find("New Sprite",this.node).on("click",this.hide,this)},initUI:function(){this.initEffectCoins(),this.initWin(),this.initFreeBg(),this.initWinTween()},initEffectCoins:function(){var t=this;this.effectCoins=cc.find("coins",this.node),o.Bundle.load("resources/ani/gold",cc.SpriteAtlas,function(e,i){if(!e){var n=i.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(n,n.length);o.name="gold",o.speed=1,o.Sample=20,o.wrapMode=cc.WrapMode.Loop;var s=t.effectCoins.getComponent(cc.Animation);s.addClip(o),s.defaultClip=o,s.play("gold")}}),this.nodeCoin=cc.find("nodeCoins",this.node)},initWin:function(){var t=this;this.pnlWin=cc.find("pnlWin",this.node),this.imgWin=cc.find("imgWin",this.pnlWin),this.imgGlow=cc.find("glow",this.pnlWin);var e=cc.find("pnlPoint",this.pnlWin);this.effectLignt=[];for(var i=1;i<=5;i++){var n=cc.find("ligntPoint"+i,e);this.effectLignt.push(n)}o.Bundle.load("resources/image/gameui",cc.SpriteAtlas,function(e,i){if(e)cc.log(e);else{t.imgWinSpAtlas=i,t.imgGlow.getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("glow");for(var n=0;n<t.effectLignt.length;n++)t.effectLignt[n].getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("star_small");var o=cc.find("pnlFreeBg",t.node);cc.find("imgBg",o).getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("awardBg")}}),this.initLightPointTween()},initFreeBg:function(){var t=this,e=cc.find("pnlFreeBg",this.node);this.lblWinCoin=cc.find("labelWin",e).getComponent(cc.Label),o.Bundle.load("resources/fnt/blueNum",cc.Font,function(e,i){e||(t.lblWinCoin.font=i)})},initLightPointTween:function(){for(var t=0;t<this.effectLignt.length;t++){var e=s.getRandID(5,10)/10,i=cc.tween;i(this.effectLignt[t]).repeatForever(i().parallel(i().by(.5,{angle:90}).by(.5,{angle:90}),i().to(.5,{scaleX:e,scaleY:e}).to(.5,{scaleX:.2,scaleY:.2}))).start(),this.effectLignt[t].active=!1}},initWinTween:function(){this.WinTween=cc.tween(this.pnlWin).repeatForever(cc.tween().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.9,scaleY:.9}))},playWin:function(){this.imgWin.active=!0,this.imgWin.getComponent(cc.Sprite).spriteFrame=this.imgWinSpAtlas.getSpriteFrame("awardLevel_"+this.level);for(var t=0;t<this.effectLignt.length;t++)this.effectLignt[t].setPosition(this.pointList[this.level][t]),this.effectLignt[t].active=!0},show:function(t){var e=this;this.node.active=!0,n.emit(i.PLAY_AUDIO_BGM,{id:1}),n.emit(i.PLAY_AUDIO_EF,"bigwinsegment"),this.level=s.getBigWinRate(t),this.playWin();var o=Math.ceil(t/70);this.lblWinCoin.string=s.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=o,this.playEnd=!1,this.schedule(this.addNowCoinsAction,.1,69),this.schedule(this.playCoins,.03,parseInt(7/.03)),this.schedule(this.playGlow,4,1),this.playGlow(),this.WinTween.start(),this.scheduleOnce(this.hide,11),this.scheduleOnce(function(){e.playPeopleSound(t)},1)},playPeopleSound:function(t){var e=s.getBigWinRate(t);e>=200?n.emit(i.PLAY_AUDIO_EF,"en_us_unbelievable"):e>=100?n.emit(i.PLAY_AUDIO_EF,"en_us_impossible"):e>=50?n.emit(i.PLAY_AUDIO_EF,"en_us_amazing"):e>=20?n.emit(i.PLAY_AUDIO_EF,"en_us_awesome"):n.emit(i.PLAY_AUDIO_EF,"en_us_excellent")},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.lblWinCoin.string=s.formattingCoins(this.nowCoins),this.nowCoins!=this.winCoins||this.playEnd||(this.playEnd=!0,n.emit(i.STOP_AUDIO_EF,"Bangup"+this.levelSound+"_QUIETER"),n.emit(i.PLAY_AUDIO_EF,"bigwinwfx_end"),n.emit(i.STOP_AUDIO_EF,"bigwinsegment"))},hide:function(){n.emit(i.STOP_MUSIC),this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.WinTween.stop(),n.emit(i.STOP_AUDIO_EF,"Bangup"+this.levelSound+"_QUIETER"),n.emit(i.STOP_AUDIO_EF,"bigwinsegment"),n.emit(i.PLAY_AUDIO_BGM,{id:0}),this.lblWinCoin.string=0,this.imgWin.active=!1,this.node.active=!1},playGlow:function(){var t=this,e=this.imgWin.width;this.imgGlow.active=!0,this.imgGlow.opacity=0,this.imgGlow.x=-e/2-this.imgGlow.width/4;var i=cc.tween;i(this.imgGlow).parallel(i().by(2,{x:e}),i().to(1,{opacity:255}).to(1,{opacity:0})).call(function(){t.imgGlow.active=!1}).start()},playCoins:function(){var t=cc.instantiate(this.effectCoins);this.nodeCoin.addChild(t),this.rundCoinsAction(t)},rundCoinsAction:function(t){var e=600*Math.random()-300,i=200*Math.random()-100;t.x=e,t.y=i,cc.tween(t).by(.1*s.getRandID(1,2),{y:100}).to(.1*s.getRandID(4,6),{y:-400}).call(function(){t.removeFromParent()}).start()},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins,t.rate)},addEventListener:function(){n.addEventListener(i.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],DragonKingdomDownUI:[function(t,e){"use strict";cc._RF.push(e,"33c2buUc3FOcY/xtbyGUn4X","DragonKingdomDownUI");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomGameData"),s=t("DragonKingdomUserData"),a=t("DragonKingdomUtil"),c=t("PlayerInfo"),r=[];r[0]=0,r[2]=1,r[3]=2,r[4]=3,cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.autoCount=0,this.gameWin=0,this.commonUiTs=this.node.getComponent("CommonUI"),this.commonFast=cc.find("audioView/quickSwitch",this.node),this.commonFast.on("toggle",this.onClickFast,this),this.commonFast.getComponent(cc.Toggle).isChecked=!1,this.initUI(),this.initSpinTouchEvent(),this.aniMaxBet.getComponent(cc.Animation).on("finished",function(){t.aniMaxBet.active=!1},this),this.aniWin.getComponent(cc.Animation).on("finished",function(){t.aniWin.active=!1},this),this.nodeFastAni.active=!1,this.imgUnLimited.active=!1,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.spinAni.active=!1,this.labLine.string=s.Line,s.LoginGameResultData&&this.onLoginGameResult(s.LoginGameResultData),window.resizeWinX(this)},initBetData:function(t){this.bet=t;var e=c.getInstant.maxBet/s.Line;this.betLimit=s.slotBetList.length-1;for(var i=0;i<s.slotBetList.length;i++)if(e<s.slotBetList[i]){this.betLimit=i-1;break}this.updateBet(),this.updateTotalBet()},initUI:function(){var t=cc.find("nodeMain",this.node);this.btnSub=cc.find("btnSub",t),this.btnSub.on("click",this.onClickDecBet,this),this.btnAdd=cc.find("btnAdd",t),this.btnAdd.on("click",this.onClickAddBet,this),this.btnHelp=cc.find("btnHelp",t),this.btnHelp.on("click",this.onClickHelp,this),this.btnLines=cc.find("btnLines",t),this.btnLines.on("click",this.onClickLine,this),this.labLine=cc.find("labLine",this.btnLines).getComponent(cc.Label);var e=cc.find("nodeBet",t);this.aniMaxBet=cc.find("aniMaxBet",e),this.labLineBet=cc.find("labLinePlay",e).getComponent(cc.Label),this.labTotalBet=cc.find("labTotalPlay",e).getComponent(cc.Label);var i=cc.find("btnFast",t);this.btnFast=i,i.on("toggle",this.onClickFast,this),this.nodeFastAni=cc.find("nodeAni",i),this.fastAni=cc.find("ani",this.nodeFastAni).getComponent(cc.Animation);var n=cc.find("nodeWin",this.node);this.aniWin=cc.find("aniWin",n),this.labWin=cc.find("labWin",n).getComponent(cc.Label),this.labBalance=cc.find("labBalance",n).getComponent(cc.Label),this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),c.getInstant.labBalance=this.labBalance;var o=cc.find("nodeSpin",this.node);this.btnSpin=cc.find("btnSpin",o),this.spinAni=cc.find("nodeAni",o);var s=cc.find("nodeAutoCount",o);this.imgUnLimited=cc.find("imgUnlimited",s),this.labAutoCount=cc.find("labCount",s)},loadUI:function(){var t=this;s.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(e,i){if(!e){t.spAtlas=i,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_bottom_base");var n=cc.find("nodeMain",t.node);cc.find("btnHelp",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_paytable");var o=cc.find("btnLines",n);o.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_lines"),cc.find("imgFnt",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("lines");var s=cc.find("btnSub",n);s.getComponent(cc.Button).normalSprite=i.getSpriteFrame("btn_minus_01"),s.getComponent(cc.Button).pressedSprite=i.getSpriteFrame("btn_minus_02"),s.getComponent(cc.Button).hoverSprite=i.getSpriteFrame("btn_minus_01"),s.getComponent(cc.Button).disabledSprite=i.getSpriteFrame("btn_minus_02");var a=cc.find("btnAdd",n);a.getComponent(cc.Button).normalSprite=i.getSpriteFrame("btn_add_01"),a.getComponent(cc.Button).pressedSprite=i.getSpriteFrame("btn_add_002"),a.getComponent(cc.Button).hoverSprite=i.getSpriteFrame("btn_add_01"),a.getComponent(cc.Button).disabledSprite=i.getSpriteFrame("btn_add_002");var c=cc.find("btnFast",n);c.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_fast_01"),cc.find("nodeAni/imgOn",c).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_fast_02");var r=cc.find("nodeBet",n);r.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_bet"),cc.find("nodeLine/imgFnt",r).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("line  play"),cc.find("nodeBet/imgFnt",r).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("total play");var l=cc.find("nodeWin",t.node);l.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_win_02"),cc.find("fntWiin",l).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("win");var h=cc.find("nodeSpin",t.node);cc.find("btnSpin",h).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_spin_01"),cc.find("nodeAutoCount/imgUnlimited",h).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("times_unlimited_02")}}),s.Bundle.load("resources/fnt/BEBAS",cc.Font,function(e,i){e||(t.labLine.font=i,t.labLineBet.font=i,t.labTotalBet.font=i,t.labWin.font=i,t.labAutoCount.getComponent(cc.Label).font=i)}),s.Bundle.load("resources/ani/maxbeteffect",cc.SpriteAtlas,function(e,i){if(!e){var n=i.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(n,n.length);o.name="maxbeteffect",o.speed=1,o.Sample=60,o.wrapMode=cc.WrapMode.Normal;var s=t.aniMaxBet.getComponent(cc.Animation);s.addClip(o),s.defaultClip=o}}),s.Bundle.load("resources/ani/fastspeed",cc.SpriteAtlas,function(e,i){if(!e){var n=i.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(n,n.length);o.name="fastspeed",o.speed=1,o.Sample=60,o.wrapMode=cc.WrapMode.Loop,t.fastAni.addClip(o),t.fastAni.defaultClip=o,t.fastAni.play("fastspeed")}}),s.Bundle.load("resources/ani/winscore",cc.SpriteAtlas,function(e,i){if(!e){var n=i.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(n,n.length);o.name="winscore",o.speed=1,o.Sample=60,o.wrapMode=cc.WrapMode.Normal,t.aniWin.getComponent(cc.Animation).addClip(o),t.aniWin.getComponent(cc.Animation).defaultClip=o}}),s.Bundle.load("resources/ani/autoplayeffect",cc.SpriteAtlas,function(e,i){if(!e){var n=i.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(n,n.length);o.name="autoplayeffect",o.speed=1,o.Sample=60,o.wrapMode=cc.WrapMode.Loop;var s=cc.find("nodeSpin/nodeAni",t.node).getComponent(cc.Animation);s.addClip(o),s.defaultClip=o,s.play("autoplayeffect")}})},update:function(t){this.startTouch&&0==this.spinState&&(this.touchTimeDonw+=t,this.touchTimeDonw>=1&&(this.startTouch=!1,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(r[this.spinState]),this.showAutoList()))},changeSpinBtnState:function(t){this.spinState=t,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(r[t])},initSpinTouchEvent:function(){var t=this;this.startTouch=!1,this.touchTimeDonw=0,this.spinState=0,this.btnSpin.on(cc.Node.EventType.TOUCH_START,function(){s.Status!=o.GAME_STATE.INIT&&4!=t.spinState&&a.isNormalGame()&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState]),t.touchTimeDonw=0,t.startTouch=!0)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_END,function(){t.startTouch&&(0==t.spinState?(n.emit(i.PLAY_AUDIO_EF,"SpinButton"),t.onClickRoll()):2==t.spinState?(n.emit(i.PLAY_AUDIO_EF,"StopButton"),n.emit(i.STOP_IMMEDIATELY),t.changeSpinBtnState(4)):3==t.spinState&&(n.emit(i.PLAY_AUDIO_EF,"StopButton"),t.enterAuto(!1))),t.startTouch=!1,4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState]))},this),this.btnSpin.on(cc.Node.EventType.TOUCH_CANCEL,function(){4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState])),t.startTouch=!1},this)},onClickFast:function(t){n.emit(i.PLAY_AUDIO_EF,"FastSpeedButton"),s.isFast=!s.isFast,this.nodeFastAni.active=s.isFast,this.commonFast.getComponent(cc.Toggle).isChecked=t.isChecked,cc.find("Background",this.commonFast).active=!t.isChecked,cc.find("checkmark",this.commonFast).active=t.isChecked,this.btnFast.getComponent(cc.Toggle).isChecked=t.isChecked},onClickRoll:function(){s.Status!=o.GAME_STATE.INIT&&(this.checkCoinsEntries()?s.Status==o.GAME_STATE.LEISURE&&(s.Status=o.GAME_STATE.REQUEST,n.emit(i.START_ROLL)):n.emit(i.HAVE_NO_MONEY))},showAutoList:function(){n.emit(i.PLAY_AUDIO_EF,"StopButton"),n.emit(i.SHOW_AUTO)},enterAuto:function(t){s.IsAuto=t,t?(this.banButton(!1),this.banBetButtkon(!1),this.changeSpinBtnState(3),this.spinAni.active=!0,s.Status==o.GAME_STATE.LEISURE&&n.emit(i.START_ROLL)):(this.autoCount=0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.imgUnLimited.active=!1,this.spinAni.active=!1,s.Status==o.GAME_STATE.LEISURE?this.changeSpinBtnState(0):s.Status==o.GAME_STATE.ROLL_END?this.changeSpinBtnState(2):this.changeSpinBtnState(4))},enterLeisure:function(){this.checkCoinsEntries()||(n.emit(i.HAVE_NO_MONEY),this.enterAuto(!1)),a.isNormalGame()?s.IsAuto?0==this.autoCount?this.enterAuto(!1):n.emit(i.START_ROLL):(this.banButton(!0),this.banBetButtkon(!0)):s.IsAuto?n.emit(i.START_ROLL):this.enterAuto(!0)},banBetButtkon:function(t){s.IsAuto&&t||(this.btnSub.getComponent(cc.Button).interactable=t,this.btnAdd.getComponent(cc.Button).interactable=t)},banButton:function(t){s.IsAuto||(t?s.Status==o.GAME_STATE.LEISURE&&this.changeSpinBtnState(0):this.changeSpinBtnState(4))},onClickHelp:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.SHOW_HELP_VIEW)},onClickAddBet:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){this.bet==this.betLimit?(this.aniMaxBet.active=!0,this.aniMaxBet.getComponent(cc.Animation).play("maxbeteffect"),n.emit(i.PLAY_AUDIO_EF,"MaxBetButton")):n.emit(i.PLAY_AUDIO_EF,"btnShow")},updateBet:function(){s.BetIndex=this.bet,s.BetValue=s.slotBetList[this.bet]*s.Line,this.labLineBet.string=a.formattingCoins(s.slotBetList[this.bet]),this.updateTotalBet(),n.emit(i.ON_PUSH_GAMBLING_WIN_POOL,s.BetValue)},onClickLine:function(){a.isNormalGame()&&(n.emit(i.PLAY_AUDIO_EF,"LineButton"),n.emit(i.SHOW_LINE,-1))},updateTotalBet:function(){this.labTotalBet.string=a.formattingCoins(s.BetValue),n.emit(i.UPDATE_BET)},checkCoinsEntries:function(){return c.getInstant.playerCoin>=s.BetValue},updateAutoCount:function(t){this.autoCount=t,-1==this.autoCount?(this.imgUnLimited.active=!0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO"):(this.imgUnLimited.active=!1,this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.enterAuto(!0)},onStartRoll:function(){this.autoCount>0&&(this.autoCount--,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.banButton(!1),this.banBetButtkon(!1),this.gameWin=0,this.labWin.string=a.formattingCoins(0)},onChangeGameStatus:function(){s.Status==o.GAME_STATE.LEISURE?this.enterLeisure():s.Status==o.GAME_STATE.RESULT&&(s.IsAuto||this.changeSpinBtnState(4))},updageGameWin:function(t){0!=t&&(this.gameWin+=t,this.labWin.string=a.formattingCoins(this.gameWin),this.aniWin.active=!0,this.aniWin.getComponent(cc.Animation).play("winscore"),a.isNormalGame()||(s.FreeWinCoins+=t))},resetGameWin:function(t){0!=t&&this.gameWin!=t&&(this.gameWin=t,this.labWin.string=a.formattingCoins(this.gameWin),this.aniWin.active=!0,this.aniWin.getComponent(cc.Animation).play("winscore"),a.isNormalGame()||(s.FreeWinCoins+=t))},onLotteryResult:function(){this.banButton(!0),s.IsAuto||this.changeSpinBtnState(2)},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?this.enterAuto(!1):(this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1,this.updateAutoCount(-1))},onLoginGameResult:function(t){var e=0;if(t.Obj&&(t.Obj.betList&&(s.slotBetList=t.Obj.betList),t.Obj.betDefault&&t.Obj.betList))for(var i=0;i<t.Obj.betList.length;i++)if(t.Obj.betDefault==t.Obj.betList[i]){e=i;break}this.initBetData(e)},onResetWheel:function(){this.enterAuto(!1)},onDestroy:function(){n.removeEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.removeEventListener(i.UPDATE_AUTO_COUNT,this.updateAutoCount,this),n.removeEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.removeEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.removeEventListener(i.RESET_GAME_WIN,this.resetGameWin,this),n.removeEventListener(i.START_ROLL,this.onStartRoll,this),n.removeEventListener(i.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),n.removeEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.removeEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.UPDATE_AUTO_COUNT,this.updateAutoCount,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.addEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.addEventListener(i.RESET_GAME_WIN,this.resetGameWin,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),n.addEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DragonKingdomEventConfig:[function(t,e){"use strict";cc._RF.push(e,"7292681kHRIIYNpROuHEDrG","DragonKingdomEventConfig"),e.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",PLAY_ANIMATION_VIEW:"PLAY_ANIMATION_VIEW",SEND_FREE_TYPE:"SEND_FREE_TYPE",ON_SELECT_FREE_RESULT:"ON_SELECT_FREE_RESULT",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LINE_AUDIO_EF:"PLAY_LINE_AUDIO_EF",PLAY_ITEM_AUDIO_EF:"PLAY_ITEM_AUDIO_EF",SHOW_AUTO:"SHOW_AUTO",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_YOU_WIN:"SHOW_YOU_WIN",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",SHOW_HELP_VIEW:"SHOW_HELP_VIEW",SHOW_MENU_VIEW:"SHOW_MENU_VIEW",SHOW_ADD_USER_COINS:"SHOW_ADD_USER_COINS"},cc._RF.pop()},{}],DragonKingdomEventManager:[function(t,e){"use strict";function i(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}cc._RF.push(e,"f62b8HAmYtCKp5PA0ww7RD4","DragonKingdomEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(t,e,i){for(var n=-1,o=0;o<s._eventListeners[t].length;o++){var a=s._eventListeners[t][o];if(a.callBack==e&&(!i||a.target==i)){n=o;break}}return n},addEventListener:function(t,e,i){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:e,target:i};return null==s._eventListeners[t]?s._eventListeners[t]=[n]:-1==s.getEventListenersIndex(t,e,i)&&s._eventListeners[t].push(n),!0}cc.warn("eventName is empty",i)},removeEventListener:function(t,e,i){if(null!=s._eventListeners[t]){var n=s.getEventListenersIndex(t,e,i);-1!=n&&s._eventListeners[t].splice(n,1)}},emit:function(t,e){if(null!=s._eventListeners[t]){for(var n,o=[],a=i(s._eventListeners[t]);!(n=a()).done;){var c=n.value;o.push({callBack:c.callBack,target:c.target})}for(var r=function(){var t=h[l];new Promise(function(){t.callBack.call(t.target,e)})},l=0,h=o;l<h.length;l++)r()}}};e.exports=s,cc._RF.pop()},{}],DragonKingdomFree:[function(t,e){"use strict";cc._RF.push(e,"0a890SUgkREMLf5OiC+94J1","DragonKingdomFree");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomGameData"),s=t("DragonKingdomUserData");cc.Class({extends:cc.Component,properties:{labRemaining:cc.Node,labNow:cc.Node,labAll:cc.Node,labMultiplier:cc.Node,imgBg1:cc.Node,imgBg2:cc.Node,nodeFree:cc.Node,nodeNormal:cc.Node},onLoad:function(){this.addEventListener()},show:function(t){this.labMultiplier.getComponent(cc.Label).string=t+"x",this.labNow&&(this.labNow.getComponent(cc.Label).string=s.FreeTimeNow),this.labAll&&(this.labAll.getComponent(cc.Label).string=s.FreeTimeAll),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=s.FreeRemaining)},onUpdateFreeTimeNow:function(){this.labNow&&(this.labNow.getComponent(cc.Label).string=s.FreeTimeNow),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=s.FreeRemaining)},onUpdateFreeTimeAll:function(){this.labAll&&(this.labAll.getComponent(cc.Label).string=s.FreeTimeAll)},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?(cc.tween(this.imgBg1).to(.6,{x:-200}).start(),cc.tween(this.imgBg2).to(.6,{x:200}).start(),cc.tween(this.nodeNormal).delay(.3).to(.3,{opacity:255}).start(),cc.tween(this.nodeFree).delay(.3).to(.3,{opacity:0}).start()):s.GameMode==o.GAME_MODE.FREE&&(cc.tween(this.imgBg1).to(.6,{x:-520}).start(),cc.tween(this.imgBg2).to(.6,{x:520}).start(),cc.tween(this.nodeNormal).delay(.3).to(.3,{opacity:0}).start(),cc.tween(this.nodeFree).delay(.3).to(.3,{opacity:255}).start())},addEventListener:function(){n.addEventListener(i.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),n.addEventListener(i.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],DragonKingdomGameData:[function(t,e){"use strict";cc._RF.push(e,"902c0Xhxc1D2KV5Aa+tZbdL","DragonKingdomGameData");e.exports={BUNDLE_NAME:"DragonKingdom",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,GAME_MODE:{NORMAL:0,FREE:1,FAKE_FREE:2},LINE_OFFSET:1},cc._RF.pop()},{}],DragonKingdomHelp:[function(t,e){"use strict";cc._RF.push(e,"2889aMysfFK0I0q7oZyEDaY","DragonKingdomHelp");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=(t("DragonKingdomGameData"),t("DragonKingdomUserData"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.addEventListener(),this.initUI(),this.loadUI(),window.resizeWinX(this)},initUI:function(){this.nodeState=cc.find("nodeState",this.node),this.item=cc.find("item",this.node),this.item.active=!1,this.imgHelp=cc.find("imgHelp",this.node).getComponent(cc.Sprite);var t=cc.find("nodeMenu",this.node);cc.find("btnHome",t).on("click",this.onClickHideHelp,this),cc.find("btnPre",t).on("click",this.onClickPrevious,this),cc.find("btnNext",t).on("click",this.onClickNext,this)},loadUI:function(){var t=this;o.Bundle.load("resources/image/help",cc.SpriteAtlas,function(e,i){if(!e){cc.find("imgTable",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_paytable"),cc.find("imgOff",t.item).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("nav_dot_01"),cc.find("imgOn",t.item).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("nav_dot_02");var n=cc.find("nodeMenu",t.node);cc.find("btnHome",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("close"),cc.find("btnPre",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_last_page"),cc.find("btnNext",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_next_page"),o.Bundle.load("resources/image/helpContent",cc.SpriteAtlas,function(e,i){if(!e){t.helpSpriteFrames=i.getSpriteFrames(),t.itemList=[];for(var n=0;n<t.helpSpriteFrames.length;n++){var o=cc.instantiate(t.item);o.active=!0,t.nodeState.addChild(o),t.itemList.push(o)}}})}})},show:function(){this.node.active=!0,this.pageIndex=0,this.setHelpView()},setHelpView:function(){this.imgHelp.spriteFrame=this.helpSpriteFrames[this.pageIndex];for(var t=0;t<this.itemList.length;t++)cc.find("imgOn",this.itemList[t]).active=this.pageIndex==t},onClickNext:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.pageIndex++,this.pageIndex>=this.itemList.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.itemList.length-1),this.setHelpView()},onClickHideHelp:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],DragonKingdomItemAni:[function(t,e){"use strict";cc._RF.push(e,"346d2ffSrFAroeMFR7UiitZ","DragonKingdomItemAni");var i=t("DragonKingdomItemConfig"),n=(t("DragonKingdomUserData"),t("DragonKingdomGameData"),t("DragonKingdomEventConfig")),o=t("DragonKingdomEventManager"),s=(t("DragonKingdomUtil"),[]);s[i.ItemID.item02]="s_10",s[i.ItemID.item03]="s_09",s[i.ItemID.item04]="s_08",s[i.ItemID.item05]="s_07",s[i.ItemID.item06]="s_06",s[i.ItemID.item07]="s_05",s[i.ItemID.item08]="s_04",s[i.ItemID.item09]="s_03",s[i.ItemID.WILD]="s_02",s[i.ItemID.BONUS]="s_01";var a=[];a.s_01={x:0,y:0},a.s_01_loop={x:0,y:-10},a.s_02={x:0,y:-7},a.s_02_loop={x:2,y:-11},a.s_03={x:-26.5,y:23},a.s_04={x:21,y:15.5},a.s_05={x:1,y:9.5},a.s_06={x:-.5,y:0},a.s_07={x:4,y:0},a.s_08={x:9,y:0},a.s_09={x:0,y:1},a.s_10={x:0,y:0},a.s_11={x:0,y:0};var c=[];c[i.ItemID.item06]="s_06_3x5",c[i.ItemID.item07]="s_05_3x5",c[i.ItemID.item08]="s_04_3x5",c[i.ItemID.item09]="s_03_3x5";var r=[];r[i.ItemID.item06]="s_06_frame_default",r[i.ItemID.item07]="s_05_frame_default",r[i.ItemID.item08]="s_04_frame_default",r[i.ItemID.item09]="s_03_frame_default";var l=[];l[i.ItemID.item06]="s_06_frame_stone",l[i.ItemID.item07]="s_05_frame_stone",l[i.ItemID.item08]="s_04_frame_stone",l[i.ItemID.item09]="s_03_frame_edge";var h=[];h[i.ItemID.item06]=-87,h[i.ItemID.item07]=76,h[i.ItemID.item08]=0,h[i.ItemID.item09]=0,cc.Class({extends:cc.Component,properties:{imgItem:cc.Node,itemAni:cc.Node,mask:cc.Node,wildS:cc.Node,wildB:cc.Node,aniTransiton:cc.Node,itemAniBig:cc.Node,spAtlas:cc.SpriteAtlas,imgFrame:cc.Node,imgDeL:cc.Node,imgDeR:cc.Node,spFrameAtlas:cc.SpriteAtlas},onLoad:function(){var t=this;this.aniTransiton.active=!1,this.wildB.active=!1,this.wildS.active=!1,this.imgFrame.active=!1,this.itemAniBig.active=!1,this.reset(),this.aniTransiton.getComponent(cc.Animation).on("finished",function(){t.aniTransiton.active=!1},this),this.itemAni.getComponent(cc.Animation).on("finished",function(e,i){"s_02"==i.name?(t.itemAni.getComponent(cc.Animation).play("s_02_loop"),t.itemAni.x=a.s_02_loop.x,t.itemAni.x=a.s_02_loop.y):"s_01"==i.name&&(t.itemAni.getComponent(cc.Animation).play("s_01_loop"),t.itemAni.x=a.s_01_loop.x,t.itemAni.x=a.s_01_loop.y)},this),this.aniTransiton.width=3*i.ITEM_WIDTH,this.aniTransiton.height=3*i.ITEM_HEIGHT},initItem:function(t){this.wheelID=t},changeItem:function(t){this.itemID=t,this.reset(),this.imgItem.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[t])},IsWildID:function(){return i.IsWildID(this.itemID)},reset:function(){this.imgItem.active=!0,this.itemAni.active=!1,this.wildB.active=!1,this.wildS.active=!1,this.itemAniBig.active=!1,this.imgFrame.active=!1,this.imgItem.opacity=255},playSelectAni:function(){this.playItemAni(s[this.itemID])},showSelectAni:function(){this.imgSelect.active=!0,this.imgSelect.getComponent(cc.Animation).play()},hideSelectAni:function(){this.imgSelect.getComponent(cc.Animation).stop(),this.imgSelect.active=!1},playItemAni:function(t){this.itemAni.active=!0,this.imgItem.active=!1,this.itemAni.getComponent(cc.Animation).stop(),this.itemAni.getComponent(cc.Animation).play(t),this.itemAni.x=a[t].x,this.itemAni.y=a[t].y},playWild:function(t){t?this.wildS.active=!0:this.wildB.active=!0,this.imgItem.active=!1},play3x1:function(t){var e=this;this.mask.width=i.ITEM_WIDTH,this.mask.height=i.ITEM_HEIGHT*t-5,this.imgItem.active=!1,this.itemAniBig.x=0,this.itemAniBig.width=i.ITEM_WIDTH,this.itemAniBig.height=3*i.ITEM_HEIGHT,o.emit(n.PLAY_AUDIO_EF,"itemTranisit"),this.aniTransiton.active=!0,this.aniTransiton.getComponent(cc.Animation).play(),this.aniTransiton.y=-t/2*i.ITEM_HEIGHT,this.aniTransiton.x=i.ITEM_WIDTH/2,this.aniTransiton.width=5*i.ITEM_WIDTH,this.aniTransiton.height=3*i.ITEM_HEIGHT,2==t&&(this.imgFrame.active=!0,this.imgDeL.active=!1,this.imgDeR.active=!1,this.imgFrame.getComponent(cc.Sprite).spriteFrame=this.spFrameAtlas.getSpriteFrame(r[this.itemID]),this.imgFrame.width=i.ITEM_WIDTH,this.imgFrame.height=i.ITEM_HEIGHT*t),this.scheduleOnce(function(){e.itemAniBig.active=!0,e.itemAniBig.getComponent(cc.Animation).stop(),e.itemAniBig.getComponent(cc.Animation).play("s_03_3x1")},.4)},play3x5:function(t,e){var s=this;this.mask.width=i.ITEM_WIDTH*t-5,this.mask.height=i.ITEM_HEIGHT*e-5,this.imgItem.active=!1,this.itemAniBig.x=0,this.itemAniBig.width=5*i.ITEM_WIDTH,this.itemAniBig.height=3*i.ITEM_HEIGHT,this.aniTransiton.width=5*i.ITEM_WIDTH,this.aniTransiton.height=3*i.ITEM_HEIGHT;var a=-323+h[this.itemID];t<=2?this.itemAniBig.x=a:3==t?this.itemAniBig.x=a+i.ITEM_WIDTH/3:4==t&&(this.itemAniBig.x=a+i.ITEM_WIDTH/2),this.imgFrame.active=!0,this.imgDeL.y=-e/2*i.ITEM_HEIGHT,this.imgDeR.y=-e/2*i.ITEM_HEIGHT,this.imgDeR.x=i.ITEM_WIDTH*t+2,this.imgDeL.active=this.itemID!=i.ItemID.item09,this.imgDeR.active=this.itemID!=i.ItemID.item09,this.imgDeL.getComponent(cc.Sprite).spriteFrame=this.spFrameAtlas.getSpriteFrame(l[this.itemID]),this.imgDeR.getComponent(cc.Sprite).spriteFrame=this.spFrameAtlas.getSpriteFrame(l[this.itemID]),this.imgFrame.getComponent(cc.Sprite).spriteFrame=this.spFrameAtlas.getSpriteFrame(r[this.itemID]),this.imgFrame.width=i.ITEM_WIDTH*t,this.imgFrame.height=i.ITEM_HEIGHT*e,o.emit(n.PLAY_AUDIO_EF,"itemTranisit"),this.aniTransiton.active=!0,this.aniTransiton.getComponent(cc.Animation).play(),this.aniTransiton.y=-e/2*i.ITEM_HEIGHT,this.aniTransiton.x=t/2*i.ITEM_WIDTH,this.scheduleOnce(function(){s.itemAniBig.active=!0,s.itemAniBig.getComponent(cc.Animation).stop(),s.itemAniBig.getComponent(cc.Animation).play(c[s.itemID])},.4)},playAniBonus:function(){s[this.itemID]&&this.playItemAni(s[this.itemID])}}),cc._RF.pop()},{}],DragonKingdomItemConfig:[function(t,e){"use strict";cc._RF.push(e,"f500635mglMY7Qb+3ApdP5E","DragonKingdomItemConfig");var i={item02:0,item03:1,item04:2,item05:3,item06:4,item07:5,item08:6,item09:7,WILD:8,BONUS:9},n={ITEM_HEIGHT:246,ITEM_WIDTH:283,WHEEL_WIDTH:283,WHEEL_HEIGHT:740,SpriteFramelist:["s_10_normal","s_09_normal","s_08_normal","s_07_normal","s_06_normal","s_05_normal","s_04_normal","s_03_normal","s_02_normal","s_01_normal"],ItemID:i,IsBonusID:function(t){return t==i.BONUS},IsWildID:function(t){return t==i.WILD}};e.exports=n,cc._RF.pop()},{}],DragonKingdomItem:[function(t,e){"use strict";cc._RF.push(e,"32464gr5SJLSqRgBWWoBAcg","DragonKingdomItem");var i=t("DragonKingdomUtil"),n=t("DragonKingdomItemConfig"),o=(t("DragonKingdomUserData"),t("DragonKingdomGameData"),t("DragonKingdomEventConfig"),t("DragonKingdomEventManager"),[]);o[n.ItemID.item09]={x:-15,y:25},o[n.ItemID.item08]={x:5,y:19},o[n.ItemID.item07]={x:1,y:12},cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,aniItem:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.isSelected=!1,this.randImg()},randImg:function(){this.changeItem(i.getRandID(n.ItemID.item02,n.ItemID.BONUS))},reset:function(){this.aniItem.active=!1,this.itemImg.active=!0,this.isSelected=!1},changeItem:function(t){this.reset(),this.itemID=t,this.itemImg.x=0,this.itemImg.y=0,o[this.itemID]&&(this.itemImg.x=o[this.itemID].x,this.itemImg.y=o[this.itemID].y),this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[t])},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return n.IsBonusID(this.itemID)},isScatter:function(){return n.IsScatter(this.itemID)},isWildItem:function(){return n.IsWildID(this.itemID)},rollEnd:function(){this.isBonusItem()&&cc.tween(this.itemImg).to(.2,{scaleX:1.2,scaleY:1.2}).to(.2,{scaleX:1,scaleY:1}).start()},playWildAni:function(){},setItemUnSelect:function(){},playSelectAni:function(){},playItemAni:function(t){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(t)},playAniBonus:function(){this.playItemAni("s_01_stop")}}),cc._RF.pop()},{}],DragonKingdomLineConfig:[function(t,e){"use strict";cc._RF.push(e,"306cbQkYwNHyoqoFGa7uZ3w","DragonKingdomLineConfig");e.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],DragonKingdomLineItem:[function(t,e){"use strict";cc._RF.push(e,"4c5b83wjUJLa6IJyVoALIyd","DragonKingdomLineItem"),cc.Class({extends:cc.Component,properties:{imgDefault:cc.Node,imgSelect:cc.Node},onLoad:function(){},init:function(t,e){this.imgDefault.getComponent(cc.Sprite).spriteFrame=t,this.imgSelect.getComponent(cc.Sprite).spriteFrame=e},setSelect:function(t){this.imgSelect.active=t}}),cc._RF.pop()},{}],DragonKingdomLineTabel:[function(t,e){"use strict";cc._RF.push(e,"14e3cmAXFNNua6aDHYHRV9v","DragonKingdomLineTabel");var i="DragonKingdom",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"UserData"),a=t(i+"GameData"),c=(t(i+"ItemConfig"),!0),r=!0;cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,preLineItem:cc.Prefab,itemSpAtlas:cc.SpriteAtlas,lineNode:cc.Node,preLine:cc.Prefab,lineSpAtlas:cc.SpriteAtlas},onLoad:function(){this.itemNode||(r=!1),this.lineNode||(c=!1),this.addEventListener(),this.initLine(),this.initLineItem(),this.reset()},showLineAni:function(t,e){if(Array.isArray(t))return this.showAllSelectLine(t,e),void this.showAllSelectItem(t);this.showLineTabel(t,e)},showLineTabel:function(t,e){t=Number(t)+a.LINE_OFFSET,this.reset(),this.setLineItemSelect(t,!0),this.setLineSelect(t,e)},setLineItemSelect:function(t,e){r&&(this.lineItemList[t].rightItem.getComponent(i+"LineItem").setSelect(e),this.lineItemList[t].leftItem.getComponent(i+"LineItem").setSelect(e))},setLineSelect:function(t,e){c&&(this.lineList[t].active=!0,this.lineList[t].getComponent(i+"Line").setSelect(e))},reset:function(){this.hideAllLineItem(),this.hideAllLine()},hideAllLineItem:function(){if(r)for(var t=1;t<=s.Line;t++)this.setLineItemSelect(t,!1)},showAllSelectItem:function(t){if(r){this.hideAllLineItem();for(var e=0;e<t.length;e++)this.setLineItemSelect(Number(t[e])+a.LINE_OFFSET,!0)}},hideAllLine:function(){if(c)for(var t=1;t<=s.Line;t++)this.lineList[t].active=!1},showAllLine:function(){if(c)for(var t=1;t<=s.Line;t++)this.lineList[t].active=!0,this.lineList[t].getComponent(i+"Line").setSelect(0)},showAllSelectLine:function(t,e){if(c){this.hideAllLine();for(var n=0;n<t.length;n++){var o=Number(t[n])+a.LINE_OFFSET;this.lineList[o].active=!0,this.lineList[o].getComponent(i+"Line").setSelect(e[n])}}},onStartRoll:function(){this.reset()},showLine:function(t){if(-1==t&&-1==this.showLineIndex||-2==t)return this.showLineIndex=0,void this.hideAllLine();this.showLineIndex=t,this.hideAllLine(),-1!=t?this.lineList[t].active=!0:this.showAllLine()},updateLineBet:function(){},addEventListener:function(){o.addEventListener(n.SHOW_LINE,this.showLine,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.UPDATE_BET,this.updateLineBet,this)},initLineItem:function(){var t=this;if(r){this.lineItemList=[];var e=[5,3,7,8,1,10,9,6,2,4],n=e,o=function(e,n){for(var o=0;o<n.length;o++){var s=cc.instantiate(t.preLineItem);t.itemNode.addChild(s),s.x=e,s.y=-n.length/2*50+50*o+25,s.getComponent(i+"LineItem").init(null,null,n[o]),t.lineItemList[n[o]]||(t.lineItemList[n[o]]={}),e>0?(s.x+=o>=5?-2*(o-5):2*(o-4),t.lineItemList[n[o]].rightItem=s):(s.x+=o>=5?2*(o-5):2*-(o-4),t.lineItemList[n[o]].leftItem=s)}};o(-555,e),o(555,n)}},initLine:function(){if(c){this.lineList=[];for(var t=[NaN,{lineY:0},{lineY:105},{lineY:-105},{lineY:0},{lineY:-28},{lineY:35},{lineY:-32},{lineY:84},{lineY:-83}],e=1;e<=s.Line;e++){var n=cc.instantiate(this.preLine);this.lineNode.addChild(n);var o=t[e],a=this.lineSpAtlas.getSpriteFrame(e);n.getComponent(i+"Line").init(a,e),n.y=o.lineY,this.lineList[e]=n}}}}),cc._RF.pop()},{}],DragonKingdomLine:[function(t,e){"use strict";cc._RF.push(e,"3eafb2XV1BEKZmMVbKuTQpz","DragonKingdomLine");var i=t("DragonKingdomUtil"),n=[NaN,{coinsY:0},{coinsY:0},{coinsY:0},{coinsY:-103},{coinsY:75},{coinsY:-1},{coinsY:1},{coinsY:33},{coinsY:-33}];cc.Class({extends:cc.Component,properties:{imgLine:cc.Sprite,labWin:cc.Node},onLoad:function(){},init:function(t,e){this.imgLine.spriteFrame=t,this.labWin.y=n[e].coinsY},setSelect:function(t){this.labWin.active=t>0,this.labWin.getComponent(cc.Label).string=i.formattingCoins(t)}}),cc._RF.pop()},{}],DragonKingdomMain:[function(t,e){"use strict";cc._RF.push(e,"3af13HpumFEEqP1mRkOd/s9","DragonKingdomMain");var i="DragonKingdom",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"ItemConfig"),r=t(i+"Util");cc.Class({extends:cc.Component,properties:{mainPln:cc.Node,bgNormal:cc.Node,bgFree:cc.Node,wheelPnl:cc.Node,wheelAniPnl:cc.Node,preWheel:cc.Prefab,preWheelAni:cc.Prefab,selectItemlist:{type:cc.Node,default:[]},imgItemMask:cc.Node,pnlDecorate:cc.Node,pnlFree:cc.Node,preFree:cc.Prefab,preLineTable:cc.Prefab,pnlLine:cc.Node},onLoad:function(){a.Status=s.GAME_STATE.INIT,a.GameMode=s.GAME_MODE.NORMAL,this.imgItemMask.active=!1,this.imgItemMask.width=5*c.WHEEL_WIDTH,this.imgItemMask.height=c.WHEEL_HEIGHT;for(var t=0;t<this.selectItemlist.length;t++)this.selectItemlist[t].active=!1;this.resultList=[],this.initNormalWheel(),this.initAniWheel(),this.initWheelAni(),this.initFreePnl(),this.scheduleOnce(function(){},2)},stateCallBack:function(){if(a.Status==s.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),o.emit(n.STOP_AUDIO_EF,"rollSound"),a.Status=s.GAME_STATE.RESULT,o.emit(n.CHANGE_GAME_STATUS),this.resultList=[],this.resultList=[];for(var t=s.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var c=this.wheelList[e].getComponent(i+"Wheel").getResultList();this.resultList.push(c[t])}this.showResult()}},showResult:function(){if(a.LotteryRes.viewarray.win>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",a.LotteryRes.viewarray.win),o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.viewarray.win),o.emit(n.PLAY_AUDIO_EF,"WinLine"),void this.playWinAnim();cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.imgItemMask.active=!1,this.resetLineAni();for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(i+"Wheel").resetItem()},hideGameWin:function(){this.labWin.active=!1},playWinAnim:function(){this.onLineAniOver(),0!=a.LotteryRes.viewarray.nWinLinesDetail.length&&this.playLineAni()},playLineAni:function(){for(var t=a.LotteryRes.viewarray.nWinLinesDetail,e=a.LotteryRes.viewarray.nWinDetail,i=a.LotteryRes.viewarray.nWinLines,n=[],o=0;o<t.length;o++)n=n.concat(t[o]);for(var s=[],c=0;c<i.length;c++)s=s.concat(i[c]);for(var r=0,l=0;l<e.length;l++)r+=e[l];this.linesList={allWinLinesDetail:[n].concat(t,[n]),allWinLines:[s].concat(i,[s]),allWinDetail:[r].concat(e,[r])},this.imgItemMask.active=!0,this.lineSchedIndex=0,this.onLineSchedUleCallBack(),a.IsAuto||this.schedule(this.onLineSchedUleCallBack,1.5,this.linesList.allWinDetail.length-2,1.5)},resetLineAni:function(){for(var t=0;t<this.wheelAniItemList.length;t++)this.wheelAniItemList[t].getComponent(i+"ItemAni").reset(),this.wheelAniItemList[t].active=!1,this.resultList[t]&&(this.resultList[t].active=!0);for(var e=0;e<this.selectItemlist.length;e++)this.selectItemlist[e].active=!1},playItemAni:function(t){for(var e=this,n=0;n<t.length;n++){var o=this.resultList[t[n]].getComponent(i+"Item").getItemId();this.resultList[t[n]].active=!1,this.wheelAniItemList[t[n]].active=!0,this.wheelAniItemList[t[n]].getComponent(i+"ItemAni").changeItem(o)}for(var s=[],a=0;a<this.wheelNetWinData.length;a++){for(var l=null,h=[],m=2;m>=0;m--)if(this.wheelNetWinData[a][m]){var d=this.wheelNetData[a][m];d<c.ItemID.item06||d>c.ItemID.WILD?this.wheelAniItemList[r.netDataConverHandCard(a,m)].getComponent(i+"ItemAni").playSelectAni():this.wheelNetData[a][m+1]&&this.wheelNetData[a][m+1]==this.wheelNetData[a][m]||this.wheelNetData[a][m-1]&&this.wheelNetData[a][m-1]==this.wheelNetData[a][m]?(null==l&&(l=d),l==d&&h.push({x:a,y:m,itemID:d})):this.wheelAniItemList[r.netDataConverHandCard(a,m)].getComponent(i+"ItemAni").playSelectAni()}s.push(h)}var g=[];(function t(e){if(s[e])return 0==s[e].length?t(e+1):(g[s[e][0].itemID]||(g[s[e][0].itemID]=[]),g[s[e][0].itemID].push(s[e]),t(e+1))})(0);for(var u=function(t,n,o,s){var a=n-t,l=function(){for(var s=t;s<n;s++)for(var c=0;c<o[s].length;c++){var l=o[s][c];0==c&&s==t?e.wheelAniItemList[r.netDataConverHandCard(l.x,l.y)].getComponent(i+"ItemAni").play3x5(a,o[t].length):e.wheelAniItemList[r.netDataConverHandCard(l.x,l.y)].active=!1}};if(1==a)if(s==c.ItemID.item09)for(var h=0;h<o[t].length;h++){var m=o[t][h];0==h?e.wheelAniItemList[r.netDataConverHandCard(m.x,m.y)].getComponent(i+"ItemAni").play3x1(o[t].length):e.wheelAniItemList[r.netDataConverHandCard(m.x,m.y)].active=!1}else l();else l()},p=0;p<g.length;p++){var f=g[p];if(f)if(p!=c.ItemID.WILD)for(var _=0,E=0;E<f.length;E++){var I=f[E],A=f[E+1];A&&I.length==A.length&&I[0].y==A[0].y||(u(_,E+1,f,p),_=E+1)}else for(var L=0;L<f.length;L++)for(var C=0;C<f[L].length;C++){var v=f[L][C];0==C?this.wheelAniItemList[r.netDataConverHandCard(v.x,v.y)].getComponent(i+"ItemAni").playWild(2==f[L].length):this.wheelAniItemList[r.netDataConverHandCard(v.x,v.y)].active=!1}}},onLineSchedUleCallBack:function(){for(var t=0;t<this.selectItemlist.length;t++)this.selectItemlist[t].active=!1;for(var e=this.linesList.allWinLinesDetail[this.lineSchedIndex],i=(this.linesList.allWinLines[this.lineSchedIndex],this.linesList.allWinDetail[this.lineSchedIndex],0);i<e.length;i++)this.selectItemlist[e[i]].active=!0,cc.find("imgSelect",this.selectItemlist[e[i]]).getComponent(cc.Animation).play();0==this.lineSchedIndex&&this.playItemAni(e),this.lineSchedIndex,0!=this.lineSchedIndex&&(this.lineSchedIndex,this.linesList.allWinLinesDetail.length),this.lineSchedIndex,this.linesList.allWinLinesDetail.length,this.lineSchedIndex++},onLineAniOver:function(){var t=this;this.scheduleOnce(function(){r.isNormalGame()&&r.checkBigWin(a.LotteryRes.viewarray.win)?t.scheduleOnce(function(){t.showWinView(a.LotteryRes.viewarray.win,function(){t.toGameOver()})},1):t.toGameOver()},a.IsAuto?1.5+(a.LotteryRes.viewarray.win>0?1:0):.2)},toGameOver:function(){var t=this;a.Status!=s.GAME_STATE.SHOW_END&&(a.Status=s.GAME_STATE.SHOW_END,a.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){t.enterFreeGame()},a.LotteryRes.viewarray.win>0?2:0):this.scheduleOnce(function(){r.isNormalGame()||a.FreeSoltRes.viewarray.frees[a.FreeSoltIndex]?t.onGameOver():t.stopFreeTimes()},.1))},onGameOver:function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},showWinView:function(t,e){r.checkBigWin(t)?o.emit(n.SHOW_BIG_WIN,{coins:t,callback:e}):e()},stopFreeTimes:function(){var t=this;cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),a.IsFreeSolt=!1,o.emit(n.SHOW_YOU_WIN,{count:a.FreeWinCoins,callback:function(){a.GameMode=s.GAME_MODE.NORMAL,o.emit(n.CHANGE_GAME_MODE),t.showWinView(a.FreeWinCoins,function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()})}})},enterFreeGame:function(){this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),r.isNormalGame()&&(a.FreeSoltRes=r.extendCopy(a.LotteryRes),a.initFreeData()),a.FreeRemaining+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,a.FreeTimeAll+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,o.emit(n.UPDATE_FREE_TIME_NOW),this.playBonusAni(),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){var t=this;this.closeShine(),o.emit(n.PLAY_AUDIO_EF,"Bonus");for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(i+"Item").isBonusItem()&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(i+"ItemAni").changeItem(this.resultList[e].getComponent(i+"Item").getItemId()),this.wheelAniItemList[e].getComponent(i+"ItemAni").playAniBonus());this.scheduleOnce(function(){t.closeShine(),r.isNormalGame()?cc.tween(t.mainPln).to(.5,{opacity:0}).call(function(){o.emit(n.SHOW_TRANSIT_ANI,{count:a.LotteryRes.viewarray.getFreeTime.nFreeTime,callback:function(e){a.GameMode=s.GAME_MODE.FREE,o.emit(n.CHANGE_GAME_MODE),o.emit(n.PLAY_AUDIO_BGM,{id:2}),t.freeNode.getComponent(i+"Free").show(e.freeType),cc.tween(t.mainPln).to(.5,{opacity:255}).call(function(){t.playDoppelganer(c.ItemID.WILD-(e.freeType-1)),t.scheduleOnce(function(){t.onGameOver()},5)}).start()}})}).start():(o.emit(n.UPDATE_FREE_TIME_NOW),o.emit(n.UPDATE_FREE_TIME_ALL),t.onGameOver())},2)},playDoppelganer:function(t){for(var e=this,n=function(n){e.scheduleOnce(function(){e.wheelList[n].getComponent(i+"Wheel").playDoppelganer(t)},.15*n)},o=0;o<this.wheelList.length;o++)n(o)},toNewWheelRollEnd:function(t){this.wheelList[t].getComponent(i+"Wheel").onGetNetData(this.wheelNetData[t])},onStartRoll:function(){this.stopImmediately=!1,this.closeShine(),this.bonusWheelCount=0,this.imgItemMask.active=!1,r.isNormalGame()||(a.FreeRemaining--,a.FreeTimeNow++,o.emit(n.UPDATE_FREE_TIME_NOW)),o.emit(n.PLAY_AUDIO_EF,"rollSound")},onStopImmediately:function(){for(var t=0;t<this.wheelList.length;t++)this.toNewWheelRollEnd(t);this.stopImmediately=!0},onLoginGameResult:function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(t){o.emit(n.SET_LINES_VALUE,t.gameDict.betlist.length),o.emit(n.SET_BET_VALUE,t.gameDict.betsum),a.FreeTimeAll=t.gameDict.totalFreeTimes,a.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(a.GameMode=s.GAME_MODE.FREE),o.emit(n.CHANGE_GAME_MODE,t),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onLotteryResult:function(){a.Status=s.GAME_STATE.ROLL_END,o.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=r.convertNetData(a.LotteryRes.viewarray.sHandCards),this.wheelNetWinData=r.convertNetData(a.LotteryRes.viewarray.nWinCards),this.winItemNetData=r.getWinItemNetData(a.LotteryRes.viewarray.nWinCards,a.LotteryRes.viewarray.sHandCards),a.isFast?this.onStopImmediately():this.toNewWheelRollEnd(0)},onLotteryErrResult:function(t){cc.log(t),o.emit(n.RESET_WHEEL),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){a.GameMode==s.GAME_MODE.NORMAL?this.pnlDecorate.active=!0:a.GameMode==s.GAME_MODE.FREE&&(this.pnlDecorate.active=!1)},onWheelRollEnd:function(t){var e=this;o.emit(n.STOP_AUDIO_EF,"waitBonus"),this.wheelAniList[t].getComponent(i+"WheelAni").isShowBounsEffectIng(),this.wheelAniList[t].getComponent(i+"WheelAni").hideBounsEffect();var a=this.wheelList[t].getComponent(i+"Wheel").checkBoundItem();if(this.bonusWheelCount+=a,this.bonusWheelCount>0&&a>0&&o.emit(n.PLAY_AUDIO_EF,"bonusItem"),t!=s.WHEEL_COUNT-1){if(!this.stopImmediately)return this.bonusWheelCount>=2?(this.wheelAniList[t+1].getComponent(i+"WheelAni").playBonusEffect(),o.emit(n.PLAY_AUDIO_EF,"waitBonus"),void this.scheduleOnce(function(){e.toNewWheelRollEnd(t+1)},2)):void this.toNewWheelRollEnd(t+1)}else this.stateCallBack()},onEnable:function(){o.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),o.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},initNormalWheel:function(){this.wheelList=[];for(var t=0;t<s.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheel);this.wheelPnl.addChild(e),this.wheelList.push(e),e.getComponent(i+"Wheel").setWheelData(t)}},initAniWheel:function(){this.wheelAniList=[];for(var t=0;t<s.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.wheelAniPnl.addChild(e),this.wheelAniList.push(e),e.getComponent(i+"WheelAni").setWheelData(t)}},initWheelAni:function(){this.wheelAniItemList=[];for(var t=s.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var n=this.wheelAniList[e].getComponent(i+"WheelAni").getItemAnilist();this.wheelAniItemList.push(n[t])}},initLineList:function(){this.lineTable=cc.instantiate(this.preLineTable),this.pnlLine.addChild(this.lineTable)},initFreePnl:function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode)}}),cc._RF.pop()},{}],DragonKingdomNetWheelConfig:[function(t,e){"use strict";var i;cc._RF.push(e,"4d8d71xrAlNMZB4Krsf3KSK","DragonKingdomNetWheelConfig");var n=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:(i={getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0,wheels:[30,36,90]},nChangeCards:{},nWinCards:[!1,!0,!0,!1,!1,!0,!0,!0,!1,!1,!0,!0,!0,!1,!0]},i.nChangeCards={},i.nHandCards=[0,7,0,0,0,7,7,0,0,0,7,7,0,0,0],i.sHandCards=[0,7,7,0,0,7,7,7,0,0,7,7,7,0,7],i.nWinDetail=[2],i.nWinLinesDetail=[[5,10,1,6,11,2,7,12,14]],i.nWinLines=[1],i.win=10,i)}],o=0,s={Inint:function(){o=0},GetNetConfig:function(){var t;o>=(t=n).length&&(o=0);var e=t[o];return o++,e}};e.exports=s,cc._RF.pop()},{}],DragonKingdomNetwork:[function(t,e){"use strict";cc._RF.push(e,"cf524Ta0PdMzrckQYxjmYjq","DragonKingdomNetwork");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomGameData"),s=t("DragonKingdomUserData"),a=t("DragonKingdomItemConfig"),c=(t("DragonKingdomNetWheelConfig"),t("PlayerInfo")),r=!1,l=0;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=c.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){var o=null;if("error"==t&&(cc.log("socket error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})),"connect_error"==t&&(cc.log("connect_error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})),"UPDATE_COIN"==t&&n.emit("UPDATE_COIN"),"connect_timeout"==t&&(cc.log("connect_timeout"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})),"disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})}if("loginGameResult"==t){if(o=changeResultJSON_Function(e),cc.log("LoginGameResult:",o),"1"!=o.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),window.sendNetWorkData("LoginfreeCount",JSON.stringify({})),n.emit(i.ON_LOGIN_GAME_RESULT,o),s.LoginGameResultData=o}if("lotteryResult"==t)if((o=changeResultJSON_Function(e)).ResultCode&&1==o.ResultCode){if(s.LotteryRes=JSON.parse(JSON.stringify(o.ResultData)),r){for(var c=0,h=0,m=0;m<s.LotteryRes.viewarray.nHandCards.length;m++)s.LotteryRes.viewarray.nHandCards[m]==a.ItemID.BONUS1&&c++,s.LotteryRes.viewarray.nHandCards[m]==a.ItemID.BONUS2&&h++;cc.log("index2 count",h,"TEST_INDEX",l),cc.log("bouns count",c,"TEST_INDEX",l),s.LotteryRes.viewarray.getFreeTime.bFlag?(r=!1,n.emit(i.ON_LOTTERY_RESULT)):(cc.log(s.LotteryRes.viewarray.getFreeTime),this.sendRollData(),l++)}r||n.emit(i.ON_LOTTERY_RESULT)}else n.emit(i.ON_LOTTERY_RESULT_ERR);if("LoginRoomResult"==t&&(o=changeResultJSON_Function(e),cc.log("LoginRoomResult",o)),"pushGamblingWinPool"==t&&(o=changeResultJSON_Function(e),cc.log("pushGamblingWinPool=>",o),1==o.ResultCode&&n.emit(i.ON_PUSH_GAMBLING_WIN_POOL,o.nGamblingWinPool)),"betResult"==t){if(o=changeResultJSON_Function(e),cc.log("betResult=>",o),1!=o.ResultCode)return;n.emit(i.ON_GAMBLE_RESULT,o.ResultData)}"LoginfreeCountResult"==t&&(o=changeResultJSON_Function(e),cc.log("LoginfreeCountResult:",o),1==o.ResultCode&&(o.freeType=Number(o.freeType))),"selectFreeTypeResult"==t&&(o=changeResultJSON_Function(e),cc.log("selectFreeTypeResult",o),1==o.ResultCode&&(s.FreeSoltRes.viewarray.frees=o.result.frees,s.FreeRemaining+=o.result.nFreeTime,s.FreeTimeAll+=o.result.nFreeTime,n.emit(i.UPDATE_FREE_TIME_NOW),n.emit(i.UPDATE_FREE_TIME_ALL),n.emit(i.ON_SELECT_FREE_RESULT,o)))},sendRollData:function(){for(var t=[],e=0;e<s.Line;e++)t.push(s.BetValue/s.Line);cc.log("lottery=>",JSON.stringify({bet:s.BetIndex,nBetList:t})),window.sendNetWorkData("lottery",JSON.stringify({bet:s.BetIndex,nBetList:t}))},selectFreeType:function(t){cc.log("selectFreeType=>",JSON.stringify({type:t})),window.sendNetWorkData("selectFreeType",JSON.stringify({type:t}))},onLoginNet:function(){},onStartRoll:function(){if(s.Status=o.GAME_STATE.REQUEST,n.emit(i.CHANGE_GAME_STATUS),!s.IsFakeSolt){if(s.IsFreeSolt)return s.LotteryRes.viewarray=s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex],s.LotteryRes.winscore=s.FreeSoltRes.viewarray.frees[s.FreeSoltIndex].win,s.FreeSoltIndex++,void this.scheduleOnce(function(){n.emit(i.ON_LOTTERY_RESULT)},.5);this.sendRollData()}},onAddUserCoins:function(t){cc.log("chargeAll =>",t)},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.isOutGameIng=!0,n.destroy(),cc.director.loadScene(window.hallName)},onEnable:function(){n.addEventListener(i.SEND_FREE_TYPE,this.selectFreeType,this),n.addEventListener(i.ADD_USER_COINS,this.onAddUserCoins,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.OUT_GAME,this.onOutGame,this),n.addEventListener(i.LOGIN_NET,this.onLoginNet,this)},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],DragonKingdomScene:[function(t,e){"use strict";cc._RF.push(e,"e34ab0DONxAh6OSsZHearTV","DragonKingdomScene");var i="DragonKingdom",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=(t(i+"GameData"),t(i+"UserData")),a=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.scheduleOnce(function(){},2)},initData:function(){s.slotBetList=a.getInstant.slotBetList,s.slotBetList||(s.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),a.getInstant.maxBet||(a.getInstant.maxBet=2e3),a.getInstant.fixedBet||(a.getInstant.fixedBet=50),s.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),s.BetValue=s.Line},onShowNotMoney:function(){var t=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){},onEnable:function(){o.addEventListener(n.HAVE_NO_MONEY,this.onShowNotMoney,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node),this.labCoinsTip=cc.find("nodeCoinsTip",this.topNode),this.labCoinsTip.active=!1},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIDown(),this.initGameUIUp(),this.initHelp(),this.initBigWin(),this.initTipView(),this.initAddCoins(),this.initAutoUI(),this.initAnimation(),this.initTransit(),this.initYouWin()},loadComplete:function(){this.loadCount--,0==this.loadCount&&o.emit(n.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initAutoUI:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(e,n){if(e)cc.log(e);else{var o=cc.instantiate(n);o.addComponent(i+"Auto"),t.topNode.addChild(o),o.active=!1,t.loadComplete()}})},initBigWin:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,n){if(e)cc.log(e);else{var o=cc.instantiate(n);o.addComponent(i+"BigWin"),t.topNode.addChild(o),o.active=!1,t.loadComplete()}})},initYouWin:function(){var t=cc.instantiate(this.preYouWin);this.topNode.addChild(t),t.active=!1},initGameUIDown:function(){this.loadCount++,cc.resources.load("prefabs/commonUi",function(t,e){if(t)cc.log(t);else{var n=cc.instantiate(e);n.addComponent(i+"DownUI"),this.gameNode.addChild(n,1e3);var o=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",n.width,n.height,o),n.scaleX=o.width/1920,n.scaleY=o.height/1080,this.loadComplete()}}.bind(this))},initGameUIUp:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preUpUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var o=cc.instantiate(n);o.addComponent(i+"UpUI"),t.gameNode.addChild(o),t.loadComplete()}})},initHelp:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preHelp",cc.Prefab,function(e,n){if(e)cc.log(e);else{var o=cc.instantiate(n);o.addComponent(i+"Help"),t.topNode.addChild(o),o.active=!1,t.loadComplete()}})},initGameMenu:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,n){if(e)cc.log(e);else{var o=cc.instantiate(n);o.addComponent(i+"Menu"),t.showNode.addChild(o),o.active=!1,t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,n){if(e)cc.log(e);else{var o=cc.instantiate(n);o.addComponent(i+"TipView"),t.topNode.addChild(o),o.active=!1,t.loadComplete()}})},initAddCoins:function(){var t=this;this.loadCount++,s.Bundle.load("resources/prefab/preAddCoins",cc.Prefab,function(e,n){if(e)cc.log(e);else{var o=cc.instantiate(n);o.addComponent(i+"AddCoins"),t.topNode.addChild(o),o.active=!1,t.loadComplete()}})},initAnimation:function(){var t=cc.instantiate(this.preAnimation);this.topNode.addChild(t)},initTransit:function(){var t=cc.instantiate(this.preTransit);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],DragonKingdomTipView:[function(t,e){"use strict";cc._RF.push(e,"69077vS6/ZF3pGnejRgTEsg","DragonKingdomTipView");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomUserData"),s=(t("DragonKingdomGameData"),[]);s[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;o.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,i){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=s[e])},onClickOK:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.callback(),this.node.active=!1},onClickHide:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){n.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],DragonKingdomTransit:[function(t,e){"use strict";cc._RF.push(e,"ee4f0ECG21GBIjiJS+ZxS3X","DragonKingdomTransit");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager");t("DragonKingdomUserData"),t("DragonKingdomGameData"),t("DragonKingdomUtil"),cc.Class({extends:cc.Component,properties:{itemList:{type:cc.Node,default:[]}},onLoad:function(){},onClickItem:function(t,e){if(!this.isSelect){this.isSelect=!0;for(var o=0;o<this.itemList.length;o++)o+1==Number(e)?cc.tween(this.itemList[o]).to(.3,{scaleX:1.1,scaleY:1.1}).start():cc.tween(this.itemList[o]).to(.3,{scaleX:.8,scaleY:.8}).start();n.emit(i.SEND_FREE_TYPE,Number(e))}},show:function(t){this.node.active=!0,this.data=t,this.isSelect=!1,this.node.opacity=0,cc.tween(this.node).to(.5,{opacity:255}).start();for(var e=0;e<this.itemList.length;e++)this.itemList[e].scaleX=1,this.itemList[e].scaleY=1},onSelectFreeResult:function(t){var e=this;cc.tween(this.node).delay(3).to(.5,{opacity:0}).call(function(){n.emit(i.PLAY_AUDIO_EF,"selectItem"),e.data.callback(t),e.node.active=!1}).start()},onEnable:function(){n.addEventListener(i.ON_SELECT_FREE_RESULT,this.onSelectFreeResult,this),n.addEventListener(i.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],DragonKingdomUpUI:[function(t,e){"use strict";cc._RF.push(e,"ebd25J9W/FF0J+2sMsY9dkm","DragonKingdomUpUI");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomGameData"),s=t("DragonKingdomUserData"),a=t("DragonKingdomUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.initUI(),this.loadUI(),this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.aniFrame.getComponent(cc.Animation).on("finished",function(){t.aniFrame.active=!1},this),this.node.scale=0,this.initHandTween(),window.resizeWinX(this)},initUI:function(){var t=cc.find("pnlWin",this.node);this.aniFrame=cc.find("aniFrame",t),this.aniCoins=cc.find("aniCoins",t);var e=cc.find("pnlBalance",this.node);this.imgAddCoinsHand=cc.find("btnAdd/imgAdd/imgAddCoinsHand",e),e.active=!1,this.labBalance=cc.find("labCoins",t).getComponent(cc.Label),this.labWinning=cc.find("labCoins",e).getComponent(cc.Label),this.btnAdd=cc.find("btnAdd",e),this.btnAdd.on("click",this.onClickAddCoins,this),this.btnSound=cc.find("pnlMenu/btnSound",this.node),this.btnSound.on("click",this.onClickSound,this),this.btnHome=cc.find("pnlMenu/btnHome",this.node),this.btnHome.on("click",this.onClickHome,this),cc.find("pnlMenu",this.node).active=!1,t.active=!1},loadUI:function(){var t=this;s.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(e,i){if(!e){t.spAtlas=i,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_up_base_02"),cc.find("pnlWin",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_coin");var n=cc.find("pnlBalance",t.node);cc.find("imgBg",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_coin");var o=cc.find("pnlMenu",t.node);cc.find("btnHome/btnImg",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_lobby_02"),cc.find("btnSound/Background",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_setting_01"),cc.find("btnSound/checkmark",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_setting_02")}}),s.Bundle.load("resources/image/gamepop",cc.SpriteAtlas,function(e,i){if(!e){var n=cc.find("pnlBalance/btnAdd/imgAdd",t.node);n.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("addBtn_0"),cc.find("imgAddCoinsHand",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("hand")}}),s.Bundle.load("resources/fnt/BEBAS",cc.Font,function(e,i){e||(t.labBalance.font=i,t.labWinning.font=i,cc.find("pnlBalance/labFnt",t.node).font=i)}),s.Bundle.load("resources/ani/wincredit",cc.SpriteAtlas,function(e,i){if(!e){var n=i.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(n,n.length);o.name="wincredit",o.speed=1,o.Sample=60,o.wrapMode=cc.WrapMode.Normal;var s=t.aniFrame.getComponent(cc.Animation);s.addClip(o),s.defaultClip=o}}),s.Bundle.load("resources/ani/aniCoins",cc.SpriteAtlas,function(e,i){if(!e){var n=i.getSpriteFrames(),o=cc.AnimationClip.createWithSpriteFrames(n,n.length);o.name="aniCoins",o.speed=1,o.Sample=20,o.wrapMode=cc.WrapMode.Normal;var s=t.aniCoins.getComponent(cc.Animation);s.addClip(o),s.defaultClip=o,t.aniCoins.getComponent(cc.Sprite).spriteFrame=n[0]}})},initHandTween:function(){this.addCoinsHandTween=cc.tween(this.imgAddCoinsHand).repeatForever(cc.tween().to(.5,{x:40,y:-40}).to(.5,{x:100,y:-100})),this.imgAddCoinsHand.active=!1},onClickAddCoins:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.SHOW_ADD_USER_COINS)},onClickSound:function(t){c.getInstant.musicControl=!t.isChecked,c.getInstant.soundEffectControl=!t.isChecked,c.getInstant.musicControl?(s.GameMode==o.GAME_MODE.NORMAL?n.emit(i.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):n.emit(i.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),n.emit(i.PLAY_AUDIO_EF,"btnShow")):n.emit(i.STOP_AUDIO)},onClickHome:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)},type:0})},updageGameWin:function(t){0!=t&&(c.getInstant.playerCoin+=t,c.getInstant.labBalance.string=this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.aniFrame.active=!0,this.aniFrame.getComponent(cc.Animation).play("wincredit"),this.aniCoins.getComponent(cc.Animation).play("aniCoins"))},onChargeAllResult:function(t){t&&(this.hideHandTip(),c.getInstant.playerCoin=t.score?t.score:0,c.getInstant.labBalance.string=this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin))},onLotteryResult:function(){this.hideHandTip()},hideHandTip:function(){this.addCoinsHandTween.stop(),this.imgAddCoinsHand.active=!1},onHaveNoMoney:function(){this.imgAddCoinsHand.active=!0,this.addCoinsHandTween.start()},onStartRoll:function(){a.isNormalGame()&&!s.IsFakeSolt&&(c.getInstant.playerCoin-=s.BetValue,c.getInstant.labBalance.string=this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin))},onChangeGameMode:function(){this.btnAdd.getComponent(cc.Button).interactable=s.GameMode==o.GAME_MODE.NORMAL,this.btnHome.getComponent(cc.Button).interactable=s.GameMode==o.GAME_MODE.NORMAL},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.addEventListener(i.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),n.addEventListener(i.HAVE_NO_MONEY,this.onHaveNoMoney,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],DragonKingdomUserData:[function(t,e){"use strict";cc._RF.push(e,"1ed391wzQ1L6oBABaZDjiFh","DragonKingdomUserData");var i={Bundle:null,LotteryRes:null,init:function(t){i.Bundle=t,i.GameMode=0,i.Status=0,i.BetIndex=0,i.BetIndex=0,i.Line=25,i.FakeFreeTime=0,i.AllFakeFreeTime=0,i.isFast=!1,i.FakeSoltIndex=0,i.Multiplier=1,i.IsAuto=!1,i.IsFreeSolt=!1,i.IsFakeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeRemaining=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};e.exports=i,cc._RF.pop()},{}],DragonKingdomUtil:[function(t,e){"use strict";cc._RF.push(e,"4f41c4sLeRLAbfV1vN+k7tc","DragonKingdomUtil");var i=t("DragonKingdomGameData"),n=t("DragonKingdomUserData"),o=(t("DragonKingdomItemConfig"),t("PlayerInfo")),s={convertNetData:function(t){for(var e=[],n=0;n<5;n++)e[n]=[];for(var o in t)e[o%5][i.VERTICAL_ITEM_COUNT-1-parseInt(o/5)]=t[o];return e},netDataConverHandCard:function(t,e){return t+(e=2-e)*i.WHEEL_COUNT},getItemWheelID:function(t){return t%5},getWheelIDListByItemList:function(t){for(var e=[],i=0;i<t.length;i++){for(var n=s.getItemWheelID(t[i]),o=!0,a=0;a<e.length;a++)if(e[a]==n){o=!1;break}o&&e.push(n)}return e},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,i){for(var n=[],o=0;o<15;o++)i[o]?n[o]=i[o]:n[o]=s.getRandID(t,e);return n},formattingCoins:function(t){return(t/o.getInstant.exchangeRate).toFixed(2)},getRandItemFromList:function(t){return t[s.getRandID(0,t.length-1)]},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},getRate:function(t){return t/n.BetValue},getBigWinRate:function(t){var e=s.getRate(t),i=0;return e>=500?i=4:e>=200?i=3:e>=100?i=2:e>=50?i=1:e>=20&&(i=0),i},checkBigWin:function(t){return t/n.BetValue>=20},getItemCount:function(t,e){for(var i=0,n=0;n<t.length;n++)t[n]==e&&i++;return i},checkWinItemID:function(t,e){for(var i=0,n=0;n<t.length;n++)t[n]==e&&i++;return i},getWinItemNetData:function(t,e){for(var i=[],n=0;n<t.length;n++)t[n]&&i.push(e[n]);return i},checkWinItem:function(t,e,i){for(var n=0;n<i.length;n++)if(i[n]==t&&e[n])return!0;return!1},extendCopy:function(t){var e={};for(var i in t)e[i]=t[i];return e}};e.exports=s,cc._RF.pop()},{PlayerInfo:void 0}],DragonKingdomWheelAni:[function(t,e){"use strict";cc._RF.push(e,"887f95H/+pLla9ro+0oC5H1","DragonKingdomWheelAni");var i="DragonKingdom",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=(t(i+"UserData"),t(i+"ItemConfig"));cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node,bonusAni:cc.Node},onLoad:function(){this.node.width=a.WHEEL_WIDTH,this.bonusAni.active=!1},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(i+"ItemAni").reset(),e.active=!1}},showSelectAni:function(){for(var t=0;t<this.itemAniList.length;t++)this.itemAniList[t].getComponent(i+"ItemAni").showSelectAni()},hideSelectAni:function(){for(var t=0;t<this.itemAniList.length;t++)this.itemAniList[t].getComponent(i+"ItemAni").hideSelectAni()},setItemmData:function(t,e){for(var n=0;n<this.itemAniList.length;n++)this.itemAniList[n].getComponent(i+"ItemAni").changeItem(t[n]);this.pnlItemAni.y=1==e?a.ITEM_HEIGHT/2:0},showWinItem:function(t){for(var e=0;e<t.length;e++)t[e]&&(this.itemAniList[e].active=!0,this.itemAniList[e].getComponent(i+"ItemAni").playSelectAni())},isShowBounsEffectIng:function(){return this.bonusAni.active},hideBounsEffect:function(){this.bonusAni.active=!1},playBonusEffect:function(){this.bonusAni.active=!0},onStartRoll:function(){this.resetItem()},onChangeGameMode:function(){},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT;t++){var e=a.ITEM_HEIGHT*t-a.ITEM_HEIGHT*(s.VERTICAL_ITEM_COUNT-1)/2,n=cc.instantiate(this.preItemAni);this.itemAniList.push(n),this.pnlItemAni.addChild(n),n.getComponent(i+"ItemAni").initItem(this.wheelId),n.y=e,n.active=!1}}}),cc._RF.pop()},{}],DragonKingdomWheel:[function(t,e){"use strict";cc._RF.push(e,"fa42cWlFrdEhKwg5mf4fcWa","DragonKingdomWheel");var i="DragonKingdom",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"ItemConfig"),r=-c.ITEM_HEIGHT*s.VERTICAL_ITEM_COUNT/2,l=c.ITEM_HEIGHT*(s.VERTICAL_ITEM_COUNT+1)/2;cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node,pnlUpItem:cc.Node,imgNormal:cc.Node,imgFree:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=c.WHEEL_WIDTH,this.node.height=c.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=2*c.WHEEL_WIDTH,t.height=c.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(i+"Item").isBonusItem()&&t++;return t},checkScatterItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(i+"Item").isScatter()&&t++;return t},checkWildItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(i+"Item").isWildItem()&&t++;return t},changeToItem:function(t){for(var e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(i+"Item").changeItem(t)},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(i+"Item").reset()},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onChangeGameMode:function(){this.imgFree.active=a.GameMode==s.GAME_MODE.FREE,this.imgNormal.active=a.GameMode==s.GAME_MODE.NORMAL},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.RESET_WHEEL,this.onResetWheel,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},onGetNetData:function(t){this.isStopRoll||(this.netIdList=t,this.isStopRoll=!0)},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var n=t.itemList[e],o=cc.tween(n);n.getComponent(i+"Item").setItemVericalPos(-1),o.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){n.y<r&&(n.y=l,n.getComponent(i+"Item").randImg()),t.isStopRoll&&(o.stop(),t.rollEnd(n,e)),t.isResetRoll&&(o.stop(),t.resetRolePos(n,e))})).start()},n=0;n<this.itemList.length;n++)e(n)},rollEnd:function(t,e){var a=this,h=this;cc.tween(t).repeat(s.VERTICAL_ITEM_COUNT+1,cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){t.y<r&&(t.y=l,h.itemIndex>=h.netIdList.length?t.getComponent(i+"Item").randImg():(t.getComponent(i+"Item").changeItem(h.netIdList[h.itemIndex]),h.resultItemList.push(t)),t.getComponent(i+"Item").setItemVericalPos(h.itemIndex),h.itemIndex++)})).call(function(){var c=t.getComponent(i+"Item").getItemVerticalPos();c=-1==c?s.VERTICAL_ITEM_COUNT+1:c,a.resetRolePos(t,c),e==a.itemList.length-1&&o.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<c.ITEM_HEIGHT+c.ITEM_HEIGHT/2&&t.getComponent(i+"Item").rollEnd(),a.itemList.length-1==e&&o.emit(n.ON_WHEEL_ROLL_END,a.wheelId)}).start()},resetRolePos:function(t,e){t.y=c.ITEM_HEIGHT*e-c.ITEM_HEIGHT*(s.VERTICAL_ITEM_COUNT-1)/2},playDoppelganer:function(t){for(var e=this,n=0;n<10;n++)this.scheduleOnce(function(){var n,o;n=cc.instantiate(e.preItem),o=cc.instantiate(e.preItem),e.pnlItem.addChild(n),e.pnlItem.addChild(o),n.getComponent(i+"Item").changeItem(t),o.getComponent(i+"Item").changeItem(t),cc.tween(n).to(.5,{y:2*c.ITEM_HEIGHT}).call(function(){n.removeFromParent()}).start(),cc.tween(o).to(.5,{y:2*-c.ITEM_HEIGHT}).call(function(){o.removeFromParent()}).start()},.15*n);var o=cc.instantiate(this.preItem);this.pnlUpItem.addChild(o),o.getComponent(i+"Item").changeItem(t),cc.tween(o).delay(2.5).to(.5,{opacity:0}).call(function(){o.removeFromParent()}).start()},initItem:function(){this.itemList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT+1;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),this.resetRolePos(e,t),e.getComponent(i+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],DragonKingdomYouWin:[function(t,e){"use strict";cc._RF.push(e,"c15155dOaxByaGzAl+Tr9cG","DragonKingdomYouWin");var i=t("DragonKingdomEventConfig"),n=t("DragonKingdomEventManager"),o=t("DragonKingdomUserData"),s=t("DragonKingdomGameData"),a=t("DragonKingdomUtil");cc.Class({extends:cc.Component,properties:{labWin:cc.Label,labFreeCount:cc.Label},onLoad:function(){this.addEventListener()},show:function(t){var e=this;this.callback=t.callback,this.node.active=!0,this.labFreeCount.string=o.FreeTimeAll,n.emit(i.PLAY_AUDIO_EF,"freeWin"),this.labWin.string=a.formattingCoins(0),this.rollCoins(t.count),this.scheduleOnce(function(){e.hide(t)},8)},rollCoins:function(t){var e=Math.ceil(t/40);this.labWin.string=a.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=e,this.schedule(this.addNowCoinsAction,.1,39)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.labWin.string=a.formattingCoins(this.nowCoins),this.nowCoins==this.winCoins&&this.unschedule(this.addNowCoinsAction)},hide:function(){o.GameMode=s.GAME_MODE.NORMAL,n.emit(i.CHANGE_GAME_MODE),this.callback(),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["DragonKingdomAddCoins","DragonKingdomAuto","DragonKingdomBigWin","DragonKingdomDownUI","DragonKingdomHelp","DragonKingdomTipView","DragonKingdomUpUI","DragonKingdomEventConfig","DragonKingdomEventManager","DragonKingdomGameData","DragonKingdomItemConfig","DragonKingdomLineConfig","DragonKingdomNetWheelConfig","DragonKingdomUserData","DragonKingdomAnimation","DragonKingdomAudio","DragonKingdomBg","DragonKingdomFree","DragonKingdomItem","DragonKingdomItemAni","DragonKingdomLine","DragonKingdomLineItem","DragonKingdomLineTabel","DragonKingdomMain","DragonKingdomNetwork","DragonKingdomScene","DragonKingdomTransit","DragonKingdomUtil","DragonKingdomWheel","DragonKingdomWheelAni","DragonKingdomYouWin"]);