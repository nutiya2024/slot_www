window.__require=function e(t,i,n){function o(a,c){if(!i[a]){if(!t[a]){var h=a.split("/");if(h=h[h.length-1],!t[h]){var r="function"==typeof __require&&__require;if(!c&&r)return r(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+a+"'")}a=h}var l=i[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({WheelOfFortuneAddCoins:[function(e,t){"use strict";cc._RF.push(t,"22ee0HgSgBJ0qtaBtHhkwEi","WheelOfFortuneAddCoins");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneUserData"),o=e("WheelOfFortuneEventManager");e("WheelOfFortuneUtil"),e("PlayerInfo"),cc.Class({extends:cc.Component,onLoad:function(){this.initAddCoins()},initAddCoins:function(){var e=this;cc.find("mask",this.node).on("click",this.onClickHideAddCoins,this);var t=cc.find("nodeAdd",this.node);this.labelWinning=cc.find("pnlGameWin/labWin",t).getComponent(cc.Label);var i=[this.onClickAddCoins1,this.onClickAddCoins10,this.onClickAddCoins50,this.onClickAddCoins100,this.onClickAddCoinsAll];this.btnAddGroup=[];for(var o=1;o<=5;o++){var s=cc.find("pnlGroup/item"+o,t);s.on("click",i[o-1],this),this.btnAddGroup.push(s)}n.Bundle.load("resources/image/gamepop",cc.SpriteAtlas,function(i,n){if(!i&&e){cc.find("imgBg",t).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0"),cc.find("pnlGroup",t).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("commonBtn");for(var o=0;o<e.btnAddGroup.length;o++)e.btnAddGroup[o].getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0")}})},onClickHideAddCoins:function(){o.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.node.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){},chargeSum:function(e){o.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.node.active=!1;var t=0==e?{}:{sum:e};o.emit(i.ADD_USER_COINS,t)},onEnable:function(){o.addEventListener(i.SHOW_ADD_USER_COINS,this.showAddCoins,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],WheelOfFortuneAnimation:[function(e,t){"use strict";cc._RF.push(t,"5d5a77j/HtKJp9nzs9+xyZe","WheelOfFortuneAnimation");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager");e("WheelOfFortuneGameData"),e("WheelOfFortuneUserData"),cc.Class({extends:cc.Component,properties:{aniDiamond:cc.Node},onLoad:function(){this.aniDiamond.active=!1},playDiamondAni:function(e){var t=this;this.aniDiamond.active=!0;var i=this.node.convertToNodeSpaceAR(e.or),n=this.node.convertToNodeSpaceAR(e.to);this.aniDiamond.x=i.x,this.aniDiamond.y=i.y,this.aniDiamond.scaleX=.5,this.aniDiamond.scaleY=.5,cc.tween(this.aniDiamond).to(.2,{x:0,y:0}).to(1,{scaleX:1,scaleY:1}).delay(.2).to(1,{scaleX:.1,scaleY:.1,x:n.x,y:n.y}).call(function(){t.aniDiamond.active=!1,e.callback()}).start()},onEnable:function(){n.addEventListener(i.PLAY_DIAMOND_ANI,this.playDiamondAni,this)}}),cc._RF.pop()},{}],WheelOfFortuneAudio:[function(e,t){"use strict";cc._RF.push(t,"d7038JVlmBOtrTs4JA2Apj4","WheelOfFortuneAudio");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneUserData");e("WheelOfFortuneUtil"),cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},Rollings:[cc.AudioClip],RollDown:cc.AudioClip,FirstEnter:cc.AudioClip,HitPayLine:cc.AudioClip,PayoutEnd:cc.AudioClip,PayoutLoop:cc.AudioClip,Lookup:cc.AudioClip,Delay:cc.AudioClip,Jackpot:cc.AudioClip,Bigwin:cc.AudioClip,Superwin:cc.AudioClip,Megawin:cc.AudioClip,CoinExplose:cc.AudioClip,CoinDown:cc.AudioClip,BonusReel:cc.AudioClip,WheelSpin:cc.AudioClip,WheelSlowly:cc.AudioClip,JackpotScatter1:cc.AudioClip,JackpotScatter2:cc.AudioClip,JackpotScatter3:cc.AudioClip,Wild:cc.AudioClip,ChangeScatter:cc.AudioClip,BetButton:cc.AudioClip,LineButton:cc.AudioClip,OtherButton:cc.AudioClip,SpinButton:cc.AudioClip},onLoad:function(){this.pInfo=e("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0}),n.emit(i.PLAY_AUDIO_EF,"FirstEnter")},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(e){0!=this.pInfo.musicControl&&this.bgmAudio[e.id]&&(this.bgmID=e.id,o.BGAM_ID=e.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[e.id],!0))},playEf:function(e){if(0!=this.pInfo.soundEffectControl)if("Rolling"!=e)this[e]?this.audioID[e]=this.callAudioPlayEff(this[e]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",e);else{cc.audioEngine.stopEffect(this.audioID.Rolling);var t=Math.floor(Math.random()*this.Rollings.length);this.audioID[e]=this.callAudioPlayEff(this.Rollings[t])}},playLoopEf:function(e){0!=this.pInfo.soundEffectControl&&(this[e]?this.audioID[e]=this.callAudioPlayEff1(this[e]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",e))},callAudioPlayEff1:function(e){return cc.audioEngine.playEffect(e,!0)},callAudioPlayEff:function(e){return cc.audioEngine.playEffect(e)},stopAudioEf:function(e){this.audioID[e]&&cc.audioEngine.stopEffect(this.audioID[e])},stopMusic:function(){cc.audioEngine.stopMusic()},onEnable:function(){n.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.addEventListener(i.PLAY_LoopAUDIO_EF,this.playLoopEf,this),n.addEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),n.addEventListener(i.STOP_AUDIO,this.stopAudio,this),n.addEventListener(i.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],WheelOfFortuneAuto:[function(e,t){"use strict";cc._RF.push(t,"20a3fYlD1tL1J/vDpPmvKxK","WheelOfFortuneAuto");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager");e("WheelOfFortuneUserData"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI(),this.pnlAuto=cc.find("pnlAuto",this.node),this.autoShowAni=cc.tween(this.pnlAuto).to(.5,{y:-240}),this.autoHideAni=cc.tween(this.pnlAuto).to(.5,{y:-720})},loadUI:function(){var e=[this.onClick10,this.onClick20,this.onClick50,this.onClick100,this.onClick200,this.onClick500],t=["X10","X20","X50","X100","X200","X500"];cc.find("touchNode",this.node).on("click",this.hide,this);for(var i=cc.find("pnlAuto/layout",this.node),n=cc.find("pnlAuto/item",this.node),o=0;o<e.length;o++){var s=cc.instantiate(n);i.addChild(s),s.on("click",e[o],this),cc.find("itemImg",s).getComponent(cc.Label).string=t[o]}n.active=!1},onClick10:function(){this.onClickAuto(10)},onClick20:function(){this.onClickAuto(20)},onClick50:function(){this.onClickAuto(50)},onClick100:function(){this.onClickAuto(100)},onClick200:function(){this.onClickAuto(200)},onClick500:function(){this.onClickAuto(500)},onClickUM:function(){this.onClickAuto(-1)},onClickAuto:function(e){n.emit(i.PLAY_AUDIO_EF,"SpinButton"),n.emit(i.UPDATE_AUTO_COUNT,e),this.hide()},showAuto:function(){this.node.active=!0,this.autoShowAni.start()},hide:function(){var e=this;this.autoHideAni.start(),this.scheduleOnce(function(){e.node.active=!1},.5)},onEnable:function(){n.addEventListener(i.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],WheelOfFortuneBg:[function(e,t){"use strict";cc._RF.push(t,"e6e7c9HM/JJJb7uT9Y4TtlG","WheelOfFortuneBg");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneGameData"),s=e("WheelOfFortuneUserData");cc.Class({extends:cc.Component,properties:{imgNormal:cc.Node,imgFree:cc.Node},onLoad:function(){this.imgFree.active=!1},onChangeGameMode:function(){this.imgNormal.active=s.GameMode==o.GAME_MODE.NORMAL,this.imgFree.active=s.GameMode==o.GAME_MODE.FREE},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],WheelOfFortuneBigWin:[function(e,t){"use strict";cc._RF.push(t,"88cadjyTSFBFbLCqU9KWo68","WheelOfFortuneBigWin");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=(e("WheelOfFortuneUserData"),e("WheelOfFortuneUtil"));cc.Class({extends:cc.Component,properties:{jackpotNd:cc.Node,bigwinNd:cc.Node,superwinNd:cc.Node,megawinNd:cc.Node,neon:cc.Sprite,neonSF:[cc.SpriteFrame],jackpot:cc.Node,big:cc.Node,win2:cc.Node,super:cc.Node,win3:cc.Node,mega:cc.Node,win4:cc.Node,pop1:cc.Node,pop2:cc.Node,pop3:cc.Node,pop4:cc.Node,stars:[cc.Node],megawinLight:cc.Node,winLabel1:cc.Node,winLabel2:cc.Node,winLabel3:cc.Node,winLabel4:cc.Node,preCoin:cc.Prefab,coinNd:cc.Node,btnOk:cc.Node},onLoad:function(){this.initUI(),this.addEventListener(),this.reset()},updateNeonSF:function(e){var t=this;this.neon.spriteFrame=this.neonSF[e?0:1],this.neon.node.y=e?22:16.5,this.scheduleOnce(function(){t.updateNeonSF(!e)},.5)},updateWinCoin1:function(){var e=this,t=0,i=Math.ceil(this.coins/40);this.schedule(function(){(t+=i)>e.coins&&(t=e.coins),e.winLabel1.getComponent(cc.Label).string=o.formattingCoins(t)},.03,40),this.scheduleOnce(function(){e.btnOk.active=!0},2.7)},playStars:function(){for(var e=0;e<this.stars.length;e++)cc.tween(this.stars[e]).delay(.3*Math.floor(e/2)).to(.5,{scale:1},{easing:"backOut"}).start()},updateWinCoin2:function(){var e=this,t=0,i=Math.ceil(this.coins/40);this.schedule(function(){(t+=i)>e.coins&&(t=e.coins),e.winLabel2.getComponent(cc.Label).string=o.formattingCoins(t)},.03,40),this.scheduleOnce(function(){e.btnOk.active=!0},2.7)},updateWinCoin3:function(){var e=this,t=0,i=Math.ceil(this.coins/40);this.schedule(function(){(t+=i)>e.coins&&(t=e.coins),e.winLabel3.getComponent(cc.Label).string=o.formattingCoins(t)},.03,40),this.scheduleOnce(function(){e.btnOk.active=!0},2.7)},updateWinCoin4:function(){var e=this,t=0,i=Math.ceil(this.coins/40);this.schedule(function(){(t+=i)>e.coins&&(t=e.coins),e.winLabel4.getComponent(cc.Label).string=o.formattingCoins(t)},.03,40),this.scheduleOnce(function(){e.btnOk.active=!0},2.7)},initUI:function(){var e=this;this.coinList=[];for(var t=0;t<60;t++){var i=cc.instantiate(this.preCoin);this.coinNd.addChild(i),this.coinList.push(i),i.active=!1}this.megawinLight.getComponent(cc.Animation).on("finished",function(){e.megawinLight.active=!1}),this.jackpotAni=cc.tween(this.jackpot).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.popAni1.start(),e.playStars(),e.megawinLight.active=!0,e.megawinLight.getComponent(cc.Animation).play("megawin")}),this.bigwinAni=cc.tween(this.big).to(.5,{scale:1},{easing:"backOut"}).call(function(){cc.tween(e.win2).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.popAni2.start()}).start()}),this.superwinAni=cc.tween(this.win3).to(.5,{scale:1},{easing:"backOut"}).call(function(){cc.tween(e.super).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.popAni3.start(),e.megawinLight.active=!0,e.megawinLight.getComponent(cc.Animation).play("megawin")}).start()}),this.megawinAni=cc.tween(this.win4).to(.5,{scale:1},{easing:"backOut"}).call(function(){cc.tween(e.mega).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.popAni4.start(),e.megawinLight.active=!0,e.megawinLight.getComponent(cc.Animation).play("megawin")}).start()}),this.popAni1=cc.tween(this.pop1).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.updateWinCoin1(),e.sajinbi()}),this.updateNeonSF(!0),this.popAni2=cc.tween(this.pop2).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.updateWinCoin2(),e.sajinbi()}),this.popAni3=cc.tween(this.pop3).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.updateWinCoin3(),e.sajinbi()}),this.popAni4=cc.tween(this.pop4).to(.5,{scale:1},{easing:"backOut"}).call(function(){e.updateWinCoin4(),e.sajinbi()})},reset:function(){this.jackpot.scale=0,this.pop1.scale=0,this.big.scale=0,this.win2.scale=0,this.pop2.scale=0,this.super.scale=0,this.win3.scale=0,this.pop3.scale=0,this.mega.scale=0,this.win4.scale=0,this.pop4.scale=0,this.jackpotNd.active=!1,this.bigwinNd.active=!1,this.superwinNd.active=!1,this.megawinNd.active=!1;for(var e=0;e<this.stars.length;e++)this.stars[e].scale=0;this.megawinLight.x=-130,this.megawinLight.active=!1;for(var t=0;t<this.coinList.length;t++)this.coinList[t].active=!1;this.btnOk.active=!1,this.winLabel1.getComponent(cc.Label).string=o.formattingCoins(0),this.winLabel2.getComponent(cc.Label).string=o.formattingCoins(0),this.winLabel3.getComponent(cc.Label).string=o.formattingCoins(0),this.winLabel4.getComponent(cc.Label).string=o.formattingCoins(0)},sajinbi:function(){var e=this;n.emit(i.PLAY_AUDIO_EF,"CoinExplose"),this.scheduleOnce(function(){n.emit(i.PLAY_AUDIO_EF,"CoinDown")},.5);for(var t=function(t){e.scheduleOnce(function(){e.coinList[t].active=!0,e.coinList[t].getComponent("WheelOfFortuneCoin").play2()},.03*t)},o=0;o<this.coinList.length;o++)t(o)},onBtnOkClick:function(){n.emit(i.STOP_AUDIO_EF,"Jackpot"),n.emit(i.STOP_AUDIO_EF,"BonusReel"),this.callback(),this.node.active=!1,this.reset()},show:function(){cc.log("bigwin"),n.emit(i.PLAY_AUDIO_BGM,{id:1}),this.node.active=!0,this.isJackpot?(n.emit(i.PLAY_AUDIO_EF,"Jackpot"),this.jackpotNd.active=!0,this.jackpotAni.start()):o.checkMegaBigWin(this.coins)?(n.emit(i.PLAY_AUDIO_EF,"Megawin"),this.megawinNd.active=!0,this.megawinAni.start()):o.checkSuperBigWin(this.coins)?(n.emit(i.PLAY_AUDIO_EF,"Superwin"),this.superwinNd.active=!0,this.superwinAni.start()):(n.emit(i.PLAY_AUDIO_EF,"Bigwin"),this.bigwinNd.active=!0,this.bigwinAni.start())},onStartRoll:function(){this.node.active=!1},onShowBigWin:function(e){this.callback=e.callback,this.coins=e.coins,this.isJackpot=e.isJackpot,this.show()},addEventListener:function(){n.addEventListener(i.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],WheelOfFortuneCoin:[function(e,t){"use strict";cc._RF.push(t,"c583cc6PJdDdZnPAzSFc+MV","WheelOfFortuneCoin"),cc.Class({extends:cc.Component,properties:{nd:cc.Node},start:function(){},play2:function(){this.gSpeed=-600,this.useGSpeed=!1,this.xSpeed=0,this.ySpeed=0,this.time=0,this.nd.opacity=0,this.node.angle=Math.floor(360*Math.random()),this.nd.getComponent(cc.Animation).play("starOpacity"),this.baseY=this.node.y=200+50*Math.random(),this.useGSpeed=!0,this.node.active=!0,this.xSpeed=200*Math.random()*(Math.random()>.5?1:-1),this.ySpeed=100+300*Math.random(),this.baseX=this.node.x=400*Math.random()-200},update:function(e){this.useGSpeed&&this.node.active?(this.time+=e,this.node.x=this.baseX+this.xSpeed*this.time,this.node.y=this.baseY+this.ySpeed*this.time+this.gSpeed*this.time*this.time):this.useGSpeed=!1}}),cc._RF.pop()},{}],WheelOfFortuneDownUI:[function(e,t){"use strict";cc._RF.push(t,"2987bed2ItENbh5Mqzv4ZUJ","WheelOfFortuneDownUI");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneGameData"),s=e("WheelOfFortuneUserData"),a=e("WheelOfFortuneUtil"),c=e("PlayerInfo"),h=[];h[0]=0,h[2]=1,h[3]=2,h[4]=3,cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;resizeWinX(this),c.getInstant.slotBetList?this.BETList=c.getInstant.slotBetList:this.BETList=o.BET,this.betIndex=0,this.autoCount=0,this.gameWin=0,this.commonUiTs=this.node.getComponent("CommonUI"),this.commonFast=cc.find("audioView/quickSwitch",this.node),this.commonFast.on("toggle",this.onClickFast,this),this.commonFast.getComponent(cc.Toggle).isChecked=!1,this.initUI(),this.initSpinTouchEvent();for(var t=0;t<this.BETList.length;t++){if(s.Line*this.BETList[t]==50){this.betIndex=t;break}if(s.Line*this.BETList[t]<50){if(!(t+1<this.BETList.length)){this.betIndex=t;break}}else if(s.Line*this.BETList[t]>50){if(t-1>=0){if(s.Line*this.BETList[t]-50>=50-s.Line*this.BETList[t-1]){this.betIndex=t-1;break}this.betIndex=t;break}this.betIndex=t;break}}this.updateBet(),this.updateTotalBet(),this.aniWin.getComponent(cc.Animation).on("finished",function(){n.emit(i.PLAY_AUDIO_EF,"PayoutEnd"),e.aniWin.active=!1},this),this.imgUnLimited.active=!1,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.spinAni.active=!1,this.labLine.string=s.Line,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin)},initUI:function(){this.paiticleCoin=cc.find("paiticleCoin",this.node),this.paiticleWinCoin=cc.find("paiticleWinCoin",this.node),this.paiticleCoin.active=!1,this.paiticleWinCoin.active=!1;var e=cc.find("nodeMain",this.node);this.btnSub=cc.find("btnSub",e),this.btnSub.on("click",this.onClickDecBet,this),this.btnAdd=cc.find("btnAdd",e),this.btnAdd.on("click",this.onClickAddBet,this),this.btnHelp=cc.find("btnHelp",e),this.btnHelp.on("click",this.onClickHelp,this),this.btnLines=cc.find("btnLines",e),this.btnLines.on("click",this.onClickLine,this),this.labLine=cc.find("labLine",this.btnLines).getComponent(cc.Label);var t=cc.find("nodeBet",e);this.labLineBet=cc.find("labLinePlay",t).getComponent(cc.Label),this.labTotalBet=cc.find("labTotalPlay",t).getComponent(cc.Label);var i=cc.find("nodeMain/btnFast",this.node);this.btnFast=i,i.on("toggle",this.onClickFast,this),this.nodeFastAni=cc.find("nodeAni",i),this.fastAni=cc.find("ani",this.nodeFastAni).getComponent(cc.Animation);var n=cc.find("nodeWin",this.node);this.aniWin=cc.find("aniWin",n),this.labWin=cc.find("labWin",n).getComponent(cc.Label),this.labBalance=cc.find("labBalance",n).getComponent(cc.Label);var o=cc.find("nodeSpin",this.node);this.btnSpin=cc.find("btnSpin",o),this.spinAni=cc.find("nodeAni",o);var s=cc.find("nodeAutoCount",o);this.imgUnLimited=cc.find("imgUnlimited",s),this.labAutoCount=cc.find("labCount",s)},loadUI:function(){var e=this;s.Bundle.load("resProject/image/Atlas_GameUI",cc.SpriteAtlas,function(t,i){if(!t){e.spAtlas=i,cc.find("bg",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("bg_bottom");var n=cc.find("nodeMain",e.node);cc.find("btnHelp",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_help"),cc.find("btnLines",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_line"),cc.find("btnSub",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_sub"),cc.find("btnAdd",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_add");var o=cc.find("nodeBet",n);o.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("bg_bet"),cc.find("nodeLine/imgFnt",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("txt_lineplay"),cc.find("nodeBet/imgFnt",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("txt_totalplay");var s=cc.find("nodeWin",e.node);cc.find("fntWiin",s).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("txt_win");var a=cc.find("nodeSpin",e.node);cc.find("btnSpin",a).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_spin_01"),cc.find("nodeAutoCount/imgUnlimited",a).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("times_wuqiong")}})},update:function(e){this.startTouch&&0==this.spinState&&(this.touchTimeDonw+=e,this.touchTimeDonw>=1&&(this.startTouch=!1,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(h[this.spinState]),this.showAutoList()))},changeSpinBtnState:function(e){this.spinState=e,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(h[e])},initSpinTouchEvent:function(){var e=this;this.startTouch=!1,this.touchTimeDonw=0,this.spinState=0,this.btnSpinSmallAni=cc.tween(this.btnSpin).to(.1,{scale:.95}),this.btnSpinBigAni=cc.tween(this.btnSpin).to(.1,{scale:1}),this.btnSpin.on(cc.Node.EventType.TOUCH_START,function(){s.Status!=o.GAME_STATE.INIT&&4!=e.spinState&&a.isNormalGame()&&(e.btnSpinSmallAni.start(),e.btnSpin.getComponent(cc.Sprite).spriteFrame=e.commonUiTs.getBtnFrame(h[e.spinState]),"btn_spin"==h[e.spinState]?e.btnSpin.getComponent(cc.Button).pressedColor=new cc.Color(200,255,200,255):e.btnSpin.getComponent(cc.Button).pressedColor=new cc.Color(255,200,200,255),e.touchTimeDonw=0,e.startTouch=!0)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_END,function(){e.startTouch&&(0==e.spinState?(n.emit(i.PLAY_AUDIO_EF,"SpinButton"),e.onClickRoll()):2==e.spinState?s.Status==o.GAME_STATE.ROLL_END&&(n.emit(i.STOP_IMMEDIATELY),e.changeSpinBtnState(4)):3==e.spinState&&e.enterAuto(!1)),e.startTouch=!1,e.btnSpinBigAni.start(),e.btnSpin.getComponent(cc.Button).pressedColor=new cc.Color(255,255,255,255),4!=e.spinState&&(e.btnSpin.getComponent(cc.Sprite).spriteFrame=e.commonUiTs.getBtnFrame(h[e.spinState]))},this),this.btnSpin.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.btnSpinBigAni.start(),e.btnSpin.getComponent(cc.Button).pressedColor=new cc.Color(255,255,255,255),4!=e.spinState&&(e.btnSpin.getComponent(cc.Sprite).spriteFrame=e.commonUiTs.getBtnFrame(h[e.spinState])),e.startTouch=!1},this)},onClickFast:function(e){n.emit(i.PLAY_AUDIO_EF,"FastSpeedButton"),s.isFast=!s.isFast,s.isFast?cc.director.getScheduler().setTimeScale(2):cc.director.getScheduler().setTimeScale(1),this.nodeFastAni.active=s.isFast,this.commonFast.getComponent(cc.Toggle).isChecked=e.isChecked,cc.find("Background",this.commonFast).active=!e.isChecked,cc.find("checkmark",this.commonFast).active=e.isChecked,this.btnFast.getComponent(cc.Toggle).isChecked=e.isChecked},onClickRoll:function(){s.Status!=o.GAME_STATE.INIT&&(this.checkCoinsEntries()?s.Status==o.GAME_STATE.LEISURE&&(n.emit(i.PLAY_AUDIO_EF,"Rolling"),s.Status=o.GAME_STATE.REQUEST,n.emit(i.START_ROLL)):n.emit(i.HAVE_NO_MONEY))},showAutoList:function(){n.emit(i.PLAY_AUDIO_EF,"SpinButton"),n.emit(i.SHOW_AUTO)},enterAuto:function(e){s.IsAuto=e,e?(this.banButton(!1),this.changeSpinBtnState(3),this.spinAni.active=!0,s.Status==o.GAME_STATE.LEISURE&&(n.emit(i.PLAY_AUDIO_EF,"Rolling"),n.emit(i.START_ROLL))):(this.autoCount=0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.imgUnLimited.active=!1,this.spinAni.active=!1,s.Status==o.GAME_STATE.LEISURE?this.changeSpinBtnState(0):s.Status==o.GAME_STATE.ROLL_END?this.changeSpinBtnState(2):this.changeSpinBtnState(4))},enterLeisure:function(){this.checkCoinsEntries()||(n.emit(i.HAVE_NO_MONEY),this.enterAuto(!1)),a.isNormalGame()?s.IsAuto?0==this.autoCount?this.enterAuto(!1):this.scheduleOnce(function(){n.emit(i.START_ROLL),n.emit(i.PLAY_AUDIO_EF,"Rolling")},1):this.banButton(!0):s.IsAuto?this.scheduleOnce(function(){n.emit(i.START_ROLL),n.emit(i.PLAY_AUDIO_EF,"Rolling")},1):this.enterAuto(!0)},banButton:function(e){s.IsAuto||(this.btnSub.getComponent(cc.Button).interactable=e,this.btnAdd.getComponent(cc.Button).interactable=e,e?s.Status==o.GAME_STATE.LEISURE&&this.changeSpinBtnState(0):this.changeSpinBtnState(4))},onClickHelp:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),n.emit(i.SHOW_HELP_VIEW)},onClickAddBet:function(){this.betIndex++,this.betIndex>=this.BETList.length&&(this.betIndex=0),this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.betIndex--,this.betIndex<0&&(this.betIndex=this.BETList.length-1),this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){this.betIndex,this.BETList.length,n.emit(i.PLAY_AUDIO_EF,"BetButton")},updateBet:function(){this.labLineBet.string=a.formattingCoins(this.BETList[this.betIndex]),s.BetValue=s.Line*this.BETList[this.betIndex],this.updateTotalBet()},onClickLine:function(){a.isNormalGame()&&(n.emit(i.PLAY_AUDIO_EF,"LineButton"),n.emit(i.SHOW_LINE,-1))},updateTotalBet:function(){this.labTotalBet.string=a.formattingCoins(s.BetValue),n.emit(i.UPDATE_BET)},checkCoinsEntries:function(){return c.getInstant.playerCoin>=s.BetValue},updateAutoCount:function(e){this.autoCount=e,-1==this.autoCount?this.imgUnLimited.active=!0:(this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.enterAuto(!0)},onStartRoll:function(){this.autoCount>0&&(this.autoCount--,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.banButton(!1),this.gameWin=0,this.labWin.string=a.formattingCoins(0)},onChangeGameStatus:function(){s.Status==o.GAME_STATE.LEISURE?this.enterLeisure():s.Status==o.GAME_STATE.RESULT&&(s.IsAuto||this.changeSpinBtnState(4))},updageGameWin:function(e){var t=this;if(0!=e){this.gameWin+=e;var o=0,c=Math.ceil(this.gameWin/40);this.schedule(function(){(o+=c)>t.gameWin&&(o=t.gameWin),t.labWin.string=a.formattingCoins(t.gameWin)},.03,40),n.emit(i.PLAY_AUDIO_EF,"PayoutLoop"),this.scheduleOnce(function(){n.emit(i.STOP_AUDIO_EF,"PayoutLoop"),t.aniWin.active=!0,t.aniWin.getComponent(cc.Animation).play()},1.2),a.isNormalGame()||(s.FreeWinCoins+=e)}},resetGameWin:function(e){0!=e&&this.gameWin!=e&&(this.gameWin=e,this.labWin.string=a.formattingCoins(this.gameWin),this.aniWin.active=!0,this.aniWin.getComponent(cc.Animation).play(),a.isNormalGame()||(s.FreeWinCoins+=e))},onLotteryResult:function(){s.IsAuto||this.changeSpinBtnState(2)},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL?this.enterAuto(!1):(this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1,this.updateAutoCount(-1))},onShowPaiticleCoin:function(e){var t=this,o=e.coins,s=e.callback;this.paiticleCoin.active=!0,this.paiticleWinCoin.active=!0,this.labWin.node.active=!1;var c=0,h=Math.ceil(o/40);this.schedule(function(){(c+=h)>o&&(c=o),t.paiticleWinCoin.getComponent(cc.Label).string=a.formattingCoins(c)},.03,40),n.emit(i.PLAY_AUDIO_EF,"PayoutLoop"),this.scheduleOnce(function(){n.emit(i.STOP_AUDIO_EF,"PayoutLoop")},1.2),this.scheduleOnce(function(){t.paiticleCoin.active=!1,t.paiticleWinCoin.active=!1,t.labWin.node.active=!0,s()},2.2)},onLoginGameResult:function(e){if(e.Obj&&e.Obj.betList&&(this.BETList=e.Obj.betList),this.betIndex=0,e.Obj&&e.Obj.betDefault)for(var t=0;t<e.Obj.betList.length;t++)if(e.Obj.betList[t]==e.Obj.betDefault){this.betIndex=t;break}this.updateBet()},UPDATE_COIN:function(){this.labEntries&&(this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin)),this.labBalance&&(this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin))},onEnable:function(){n.addEventListener("UPDATE_COIN",this.UPDATE_COIN,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.UPDATE_AUTO_COUNT,this.updateAutoCount,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.addEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.addEventListener(i.RESET_GAME_WIN,this.resetGameWin,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),n.addEventListener(i.PAITICLE_COIN,this.onShowPaiticleCoin,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],WheelOfFortuneEventConfig:[function(e,t){"use strict";cc._RF.push(t,"1135cPc/aFKKaxP8PKrtgz4","WheelOfFortuneEventConfig"),t.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ADD_FAKE_FREE:"ADD_FAKE_FREE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",UPDATE_DIAMOND:"UPDATE_DIAMOND",PLAY_DIAMOND_ANI:"PLAY_DIAMOND_ANI",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LoopAUDIO_EF:"PLAY_LoopAUDIO_EF",SHOW_AUTO:"SHOW_AUTO",PLAY_ANIMATION:"PLAY_ANIMATION",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_YOU_WIN:"SHOW_YOU_WIN",SHOW_FREE_VIEW:"SHOW_FREE_VIEW",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",SHOW_HELP_VIEW:"SHOW_HELP_VIEW",SHOW_MENU_VIEW:"SHOW_MENU_VIEW",SHOW_ADD_USER_COINS:"SHOW_ADD_USER_COINS",PAITICLE_COIN:"PAITICLE_COIN"},cc._RF.pop()},{}],WheelOfFortuneEventManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"95ea6sbFgFCrKZlMSo1xZBh","WheelOfFortuneEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(e,t,i){for(var n=-1,o=0;o<s._eventListeners[e].length;o++){var a=s._eventListeners[e][o];if(a.callBack==t&&(!i||a.target==i)){n=o;break}}return n},addEventListener:function(e,t,i){if(e){if(null==t)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:t,target:i};return null==s._eventListeners[e]?s._eventListeners[e]=[n]:-1==s.getEventListenersIndex(e,t,i)&&s._eventListeners[e].push(n),!0}cc.warn("eventName is empty",i)},removeEventListener:function(e,t,i){if(null!=s._eventListeners[e]){var n=s.getEventListenersIndex(e,t,i);-1!=n&&s._eventListeners[e].splice(n,1)}},emit:function(e,t){if(null!=s._eventListeners[e]){for(var n,o=[],a=i(s._eventListeners[e]);!(n=a()).done;){var c=n.value;o.push({callBack:c.callBack,target:c.target})}for(var h=function(){var e=l[r];new Promise(function(){e.callBack.call(e.target,t)})},r=0,l=o;r<l.length;r++)h()}}};t.exports=s,cc._RF.pop()},{}],WheelOfFortuneFakeFree:[function(e,t){"use strict";cc._RF.push(t,"bcbdc9c5RBMFK7Aa30XUhwY","WheelOfFortuneFakeFree");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneGameData"),s=e("WheelOfFortuneUserData");cc.Class({extends:cc.Component,properties:{nodeMain:cc.Node,labCount:cc.Label,nodeAni:cc.Node},onLoad:function(){this.addEventListener(),this.labCount.string=0},updateTime:function(){this.labCount.string=s.FakeFreeTime},newFree:function(e,t){var i=this,n=cc.instantiate(this.nodeMain);cc.find("labCount",n).getComponent(cc.Label).string="+1",this.nodeAni.addChild(n);var o=this.node.convertToNodeSpaceAR(e);n.x=o.x,n.y=o.y,cc.tween(n).delay(1).to(.5,{x:0,y:0}).call(function(){n.removeFromParent(),i.scheduleOnce(function(){t()},.5),s.FakeFreeTime++,s.AllFakeFreeTime++,i.labCount.string=s.FakeFreeTime,cc.tween(i.nodeMain).to(.02,{x:7,y:7}).to(.02,{x:-7,y:-7}).to(.02,{x:7,y:-7}).to(.02,{x:-7,y:7}).to(.02,{x:0,y:0}).start()}).start()},onAddFakeFree:function(e){this.node.active=!0,this.newFree(e.pos,e.callback)},onStartRoll:function(){o.GAME_MODE.FAKE_FREE==s.GameMode&&(s.FakeFreeTime--,this.updateTime())},addEventListener:function(){n.addEventListener(i.ADD_FAKE_FREE,this.onAddFakeFree,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this)}}),cc._RF.pop()},{}],WheelOfFortuneFree:[function(e,t){"use strict";cc._RF.push(t,"b3c83SULQZFHb1WGI/Ph7BQ","WheelOfFortuneFree");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=(e("WheelOfFortuneGameData"),e("WheelOfFortuneUserData"));cc.Class({extends:cc.Component,properties:{labNow:cc.Node,imgFnt:cc.Node},onLoad:function(){this.addEventListener()},show:function(e){this.labNow.getComponent(cc.Label).string=o.FreeRemaining,this.imgFnt.x=0,this.imgFnt.y=-282,this.imgFnt.scaleX=2,this.imgFnt.scaleY=2,this.labNow.x=0,this.labNow.y=-282,this.labNow.scaleX=2,this.labNow.scaleY=2,cc.tween(this.imgFnt).delay(3.5).to(1,{x:-74,y:0,scaleX:.9,scaleY:.9}).delay(.5).call(function(){e()}).start(),cc.tween(this.labNow).delay(.5).to(.5,{y:-175}).delay(2.5).to(1,{x:158,y:-1,scaleX:1,scaleY:1}).start()},onUpdateFreeTimeNow:function(){this.labNow.getComponent(cc.Label).string=o.FreeRemaining},onUpdateFreeTimeAll:function(){},addEventListener:function(){n.addEventListener(i.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),n.addEventListener(i.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{}],WheelOfFortuneGameData:[function(e,t){"use strict";cc._RF.push(t,"5d76ezhFi1C2pkxjCwYQH30","WheelOfFortuneGameData");t.exports={BUNDLE_NAME:"WheelOfFortune",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},BET:[2,10,20,40,60,80,100,120,140,160,180,200],VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:3,GAME_MODE:{NORMAL:0,FREE:1,FAKE_FREE:2},LINE_OFFSET:0},cc._RF.pop()},{}],WheelOfFortuneHelp:[function(e,t){"use strict";cc._RF.push(t,"6980edtlz1PYYnqc1jjOqtN","WheelOfFortuneHelp");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager");cc.Class({extends:cc.Component,properties:{imgHelpList:[cc.Node]},onLoad:function(){this.addEventListener(),window.resizeWinX(this)},show:function(){this.node.active=!0,this.pageIndex=0,this.setHelpView()},setHelpView:function(){for(var e=0;e<this.imgHelpList.length;e++)this.pageIndex==e?this.imgHelpList[e].active=!0:this.imgHelpList[e].active=!1},onClickNext:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.pageIndex++,this.pageIndex>=this.imgHelpList.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.imgHelpList.length-1),this.setHelpView()},onClickHideHelp:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],WheelOfFortuneItemAni:[function(e,t){"use strict";cc._RF.push(t,"31266SDowJBKZaqKDbOrjOI","WheelOfFortuneItemAni");var i=e("WheelOfFortuneItemConfig"),n=(e("WheelOfFortuneUserData"),e("WheelOfFortuneGameData"),[]);n[i.ItemID.item00]="",n[i.ItemID.item01]="itemAni1",n[i.ItemID.item02]="itemAni2",n[i.ItemID.item03]="itemAni3",n[i.ItemID.item04]="itemAni4",n[i.ItemID.item05]="itemAni5",n[i.ItemID.WILDX1]="itemAni6",n[i.ItemID.WILDX2]="itemAni7",n[i.ItemID.WILDX3]="itemAni8",n[i.ItemID.BONUS]="itemAni9",n[i.ItemID.JACKPOT]="itemAni10",cc.Class({extends:cc.Component,properties:{imgItem:cc.Node,aniItem:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.reset()},changeItem:function(e){this.itemID=e,this.reset(),this.imgItem.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[e])},IsWildID:function(){return i.IsWildID(this.itemID)},reset:function(){this.imgItem.active=!0,this.aniItem.active=!1},playSelectAni:function(){this.playItemAni()},playItemAni:function(){this.aniItem.active=!0,this.imgItem.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(n[this.itemID])},playAniBonus:function(){this.playItemAni()}}),cc._RF.pop()},{}],WheelOfFortuneItemConfig:[function(e,t){"use strict";cc._RF.push(t,"e2039I4TopEGYKhFYQvpUtW","WheelOfFortuneItemConfig");var i={item00:0,item01:1,item02:2,item03:3,item04:4,item05:5,WILDX1:6,WILDX2:7,WILDX3:8,BONUS:9,JACKPOT:10},n={ITEM_HEIGHT:160,ITEM_WIDTH:260,WHEEL_WIDTH:260,WHEEL_HEIGHT:320,SpriteFramelist:["None","icon_0","icon_1","icon_4","icon_2","icon_3","icon_5","icon_6","icon_7","icon_8","icon_9"],ItemID:i,IsBonusID:function(e){return e==i.BONUS},IsWildID:function(e){return e==i.WILDX1||e==i.WILDX2||e==i.WILDX3},IsJackpotID:function(e){return e==i.JACKPOT},GAME_LINES_DIAMOND:[[4,5,6],[1,2,3],[7,8,9],[1,5,9],[7,5,3]]};t.exports=n,cc._RF.pop()},{}],WheelOfFortuneItem:[function(e,t){"use strict";cc._RF.push(t,"a2044VfV0JCTLqSD92/vQzK","WheelOfFortuneItem");var i="WheelOfFortune",n=e(i+"Util"),o=e(i+"ItemConfig");e(i+"UserData"),e(i+"GameData"),e(i+"EventConfig"),e(i+"EventManager"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.randImg()},randImg:function(){this.changeItem(n.getRandItemID(o.SpriteFramelist))},reset:function(){},changeItem:function(e,t){if(t)return this.itemID=0,void(this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(o.SpriteFramelist[this.itemID]));0!=e?(this.itemID=e-2,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(o.SpriteFramelist[this.itemID])):this.randImg()},getItemId:function(){return this.itemID},setItemWheelID:function(e){this.wheelID=e},setItemVericalPos:function(e){this.verticalPos=e},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return o.IsBonusID(this.itemID)},isWildItem:function(){return o.IsWildID(this.itemID)},rollEnd:function(){},playWildAni:function(){},playSelectAni:function(){}}),cc._RF.pop()},{}],WheelOfFortuneLineConfig:[function(e,t){"use strict";cc._RF.push(t,"286612f2TtNVoviYjQPh7zW","WheelOfFortuneLineConfig");t.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],WheelOfFortuneLineItem:[function(e,t){"use strict";cc._RF.push(t,"165f2StxB1P05df8KOjTI8+","WheelOfFortuneLineItem"),cc.Class({extends:cc.Component,properties:{imgDefault:cc.Node,imgSelect:cc.Node},onLoad:function(){},init:function(e,t){this.imgDefault.getComponent(cc.Sprite).spriteFrame=e,this.imgSelect.getComponent(cc.Sprite).spriteFrame=t},setSelect:function(){}}),cc._RF.pop()},{}],WheelOfFortuneLineTabel:[function(e,t){"use strict";cc._RF.push(t,"f0905Ji36lOkqiBPPL+abgO","WheelOfFortuneLineTabel");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneUserData"),s=e("WheelOfFortuneGameData");e("WheelOfFortuneItemConfig"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,preLineItem:cc.Prefab,lineNode:cc.Node,preLine:cc.Prefab,spAtlas:cc.SpriteAtlas},onLoad:function(){this.addEventListener(),this.initLine(),this.initLineItem(),this.reset(),this.isShow=!1},showLineTabel:function(e){e=Number(e)-s.LINE_OFFSET,this.reset(),this.lineList[e].active=!0},reset:function(){this.hideAllLine()},hideAllLine:function(){for(var e=0;e<o.Line;e++)this.lineList[e].active=!1},showAllLine:function(){for(var e=0;e<o.Line;e++)this.lineList[e].active=!0},showAllSelectLine:function(e){this.hideAllLine();for(var t=0;t<e.length;t++)this.lineList[e[t]].active=!0},onStartRoll:function(){this.reset()},showLine:function(){this.isShow?(this.isShow=!1,this.hideAllLine()):(this.isShow=!0,this.showAllLine())},updateLineBet:function(){},addEventListener:function(){n.addEventListener(i.SHOW_LINE,this.showLine,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.UPDATE_BET,this.updateLineBet,this)},initLineItem:function(){this.lineItemList=[];for(var e=[5,3,1,2,4],t=[4,3,1,2,5],i=[{Y:-117},{Y:-80},{Y:0},{Y:80},{Y:117}],n=0;n<e.length;n++){var o=cc.instantiate(this.preLineItem);this.itemNode.addChild(o),o.x=-574,o.y=i[n].Y;var a=this.spAtlas.getSpriteFrame("lineItem"+e[n]),c=this.spAtlas.getSpriteFrame("lineItem"+e[n]);o.getComponent(s.BUNDLE_NAME+"LineItem").init(a,c),this.lineItemList[e[n]]=o}for(var h=0;h<t.length;h++){var r=cc.instantiate(this.preLineItem);this.itemNode.addChild(r),r.x=574,r.y=i[h].Y;var l=this.spAtlas.getSpriteFrame("lineItem"+t[h]),u=this.spAtlas.getSpriteFrame("lineItem"+t[h]);r.getComponent(s.BUNDLE_NAME+"LineItem").init(l,u),this.lineItemList[t[h]]=r}},initLine:function(){this.lineList=[];for(var e=[{Y:0},{Y:80},{Y:-80},{Y:0},{Y:0}],t=0;t<o.Line;t++){var i=cc.instantiate(this.preLine);this.lineNode.addChild(i);var n=e[t],a=this.spAtlas.getSpriteFrame("line"+(t+1));i.getComponent(s.BUNDLE_NAME+"Line").init(a),i.y=n.Y,this.lineList[t]=i,i.active=!1}}}),cc._RF.pop()},{}],WheelOfFortuneLine:[function(e,t){"use strict";cc._RF.push(t,"0922efMr1hK/LPDIj7EgKrD","WheelOfFortuneLine"),cc.Class({extends:cc.Component,properties:{imgLine:cc.Sprite},onLoad:function(){},init:function(e){this.imgLine.spriteFrame=e}}),cc._RF.pop()},{}],WheelOfFortuneMain:[function(e,t){"use strict";cc._RF.push(t,"497feg4cbtDrboMHRpgqUm8","WheelOfFortuneMain");var i="WheelOfFortune",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=e(i+"ItemConfig"),h=e(i+"Util"),r=e("PlayerInfo");cc.Class({extends:cc.Component,properties:{pnlLine:cc.Node,preLineTable:cc.Prefab,bgNormal:cc.Node,bgFree:cc.Node,wheelPnl:cc.Node,wheelAniPnl:cc.Node,preWheel:cc.Prefab,preWheelAni:cc.Prefab,imgItemMask:cc.Node,wheelViewMain:cc.Node,noMoney:cc.Node,bigWheel:cc.Node,roll:cc.Node,wheelLeft1:cc.Node,wheelLeft2:cc.Node,wheelRight1:cc.Node,wheelRight2:cc.Node,tipNd:cc.Node,tipList:[cc.Node],wheelMask:cc.Node,sideHitLeft:cc.Node,sideLoopLeft:cc.Node,sideHitRight:cc.Node,sideLoopRight:cc.Node,barUp:cc.Node,barDown:cc.Node,backeff:cc.Node,wheelHitDot:cc.Node,wheelOpenLightLeft:cc.Node,wheelOpenLightRight:cc.Node,wheelSpinLightLeft:cc.Node,wheelSpinLightRight:cc.Node,wheelHitLightLeft:cc.Node,wheelHitLightRight:cc.Node,colorCircel:cc.Node,smallCircel:cc.Node,bigCircel:cc.Node},onLoad:function(){var e=this;r.getInstant.slotBetList?this.BETList=r.getInstant.slotBetList:this.BETList=s.BET,a.Status=s.GAME_STATE.INIT,a.GameMode=s.GAME_MODE.NORMAL,this.bgFree.active=!1,this.imgItemMask.active=!1,this.resultList=[],this.initNormalWheel(),this.initAniWheel(),this.initWheelAni(),this.initLineList(),o.emit(n.PLAY_AUDIO_BGM,{id:0,isFrist:!0}),this.wheelViewUp=cc.tween(this.wheelViewMain).to(3,{y:-1202}).call(function(){e.wheelLight(0),e.wheelHitDot.active=!0,e.colorCircel.active=!0,e.smallCircel.active=!1,e.bigCircel.active=!1,e.tipNd.active=!0,e.tipList[2].active=!1,e.backeff.active=!1}).delay(1).call(function(){e.bigWheelRoll(),e.wheelLight(1),e.wheelHitDot.active=!1,e.colorCircel.active=!1,e.smallCircel.active=!0,e.bigCircel.active=!0}),this.wheelViewDown=cc.tween(this.wheelViewMain).to(3,{y:-20}).call(function(){e.onGameOver(),e.wheelLight(2),e.wheelHitDot.active=!1,e.colorCircel.active=!1,e.smallCircel.active=!1,e.bigCircel.active=!1,e.wheelMask.active=!1}),this.bigWheelOdds=[5e3,200,500,250,1e3,100,2e3,150,500,250,300,500,1500,150,2e3,1e3,150,100,600,150,750,150],this.initBigWheel(),this.initTipList(!0),this.initSide(!0),this.barUp.getComponent(cc.Animation).play("barLoop"),this.barDown.getComponent(cc.Animation).play("barLoop"),this.wheelViewMain.y=-1202,this.wheelViewDown.start(),resizeWinX(this)},wheelLight:function(e){0==e?(this.wheelOpenLightLeft.active=!0,this.wheelOpenLightRight.active=!0,this.wheelOpenLightLeft.getComponent(cc.Animation).play("wheelOpenLight"),this.wheelOpenLightRight.getComponent(cc.Animation).play("wheelOpenLight"),this.wheelSpinLightLeft.active=!1,this.wheelSpinLightRight.active=!1,this.wheelHitLightLeft.active=!1,this.wheelHitLightRight.active=!1):1==e?(this.wheelOpenLightLeft.active=!1,this.wheelOpenLightRight.active=!1,this.wheelSpinLightLeft.active=!0,this.wheelSpinLightRight.active=!0,this.wheelHitLightLeft.active=!1,this.wheelHitLightRight.active=!1):(this.wheelOpenLightLeft.active=!1,this.wheelOpenLightRight.active=!1,this.wheelSpinLightLeft.active=!1,this.wheelSpinLightRight.active=!1,this.wheelHitLightLeft.active=!1,this.wheelHitLightRight.active=!1)},initSide:function(e){this.sideHitLeft.active=e,this.sideLoopLeft.active=!e,this.sideHitRight.active=e,this.sideLoopRight.active=!e},initTipList:function(e){var t=this;this.tipList[0].active=e,this.tipList[1].active=!e,this.scheduleOnce(function(){t.initTipList(!e)},3)},initBigWheel:function(){this.itemAngle=360/this.bigWheelOdds.length,this.bigWheel.angle=0},bigWheelRoll:function(){var e,t=this;o.emit(n.PLAY_AUDIO_EF,"BonusReel"),o.emit(n.PLAY_AUDIO_EF,"WheelSpin"),this.bigWheel.angle=0;for(var i=0;i<this.bigWheelOdds.length;i++)this.bigWheelOdds[i]==a.LotteryRes.viewarray.getFreeTime.bonus&&(e=i);cc.log("\u62bd\u4e2d\u7b2c",e,"\u4e2a\u8d54\u7387\uff0c\u4e3a\uff1a",this.bigWheelOdds[e]),cc.tween(this.bigWheel).to(6,{angle:-1080-this.itemAngle*e-this.itemAngle/4},{easing:"sineInOut"}).delay(1).to(.5,{angle:-720-this.itemAngle*e}).call(function(){cc.log("\u8f6c\u76d8\u505c\u6b62"),t.wheelMask.active=!0,t.wheelHitDot.active=!0,t.colorCircel.active=!0,t.smallCircel.active=!1,t.bigCircel.active=!1,o.emit(n.PLAY_AUDIO_EF,"WheelSlowly"),t.wheelLight(1),o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.viewarray.getFreeTime.win),o.emit(n.PAITICLE_COIN,{coins:a.LotteryRes.viewarray.getFreeTime.win,callback:function(){o.emit(n.SHOW_BIG_WIN,{coins:a.LotteryRes.viewarray.getFreeTime.win,callback:function(){t.wheelViewDown.start()},isJackpot:t.checkJackpot()})}})}).start()},testBtnClick:function(){var e=Math.floor(Math.random()*this.bigWheelOdds.length);a.LotteryRes.viewarray.getFreeTime.bonus=this.bigWheelOdds[e],this.wheelViewUp.start()},testBtnClick1:function(){this.wheelViewDown.start()},stateCallBack:function(){if(a.Status==s.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),this.roll.active=!1,a.Status=s.GAME_STATE.RESULT,o.emit(n.CHANGE_GAME_STATUS),this.resultList=[];for(var e=s.VERTICAL_ITEM_COUNT-1;e>=0;e--)for(var t=0;t<this.wheelList.length;t++){var i=this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(i[e])}!h.isNormalGame()&&a.LotteryRes.viewarray.nChangeCards.changes?this.checkWild():this.showResult()}},showResult:function(){if(a.LotteryRes.winscore>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",a.LotteryRes.winscore),this.wheelLeft1.getComponent(cc.Animation).play("wheelRollLoop"),this.wheelLeft2.getComponent(cc.Animation).play("wheelRollLoop"),this.wheelRight1.getComponent(cc.Animation).play("wheelRollLoop"),this.wheelRight2.getComponent(cc.Animation).play("wheelRollLoop"),this.wheelLeft1.active=!0,this.wheelLeft2.active=!0,this.wheelRight1.active=!0,this.wheelRight2.active=!0,this.barUp.getComponent(cc.Animation).play("barHit"),this.barDown.getComponent(cc.Animation).play("barHit"),this.initSide(!1),void this.playWinAnim();cc.log("\u6ca1\u4e2d=\u300b"),this.wheelLeft1.getComponent(cc.Animation).stop(),this.wheelLeft2.getComponent(cc.Animation).stop(),this.wheelRight1.getComponent(cc.Animation).stop(),this.wheelRight2.getComponent(cc.Animation).stop(),this.wheelLeft1.active=!1,this.wheelLeft2.active=!1,this.wheelRight1.active=!1,this.wheelRight2.active=!1,this.toGameOver()},checkBonusAndJackpot:function(e,t){for(var i=0,n=0,o=0;o<e.length;o++)if(c.IsBonusID(e[o]-2)){i++;break}for(var s=0;s<t.length;s++)if(c.IsBonusID(t[s]-2)){i++;break}for(var a=0;a<e.length;a++)if(c.IsWildID(e[a]-2)||c.IsJackpotID(e[a]-2)){n++;break}for(var h=0;h<t.length;h++)if(c.IsWildID(t[h]-2)||c.IsJackpotID(t[h]-2)){n++;break}return 2==i||2==n},checkWild:function(){for(var e=this,t=[],i=a.LotteryRes.viewarray.nChangeCards.changes,h=0;h<i.length;h++){var r=this.resultList[i[h]].getComponent(s.BUNDLE_NAME+"Item").getItemWheelID();t.includes(r)||t.push(r)}if(0!=t.length){o.emit(n.PLAY_AUDIO_EF,"FadeToFree");for(var l=0;l<t.length;l++)this.wheelAniList[t[l]].getComponent(s.BUNDLE_NAME+"WheelAni").playWildEffect();this.scheduleOnce(function(){for(var t=0;t<i.length;t++)e.resultList[i[t]].getComponent(s.BUNDLE_NAME+"Item").changeItem(c.ItemID.WILD)},.5),this.scheduleOnce(function(){e.showResult()},1)}else this.showResult()},resetItemAni:function(){for(var e=0;e<this.wheelAniItemList.length;e++)this.wheelAniItemList[e].getComponent(s.BUNDLE_NAME+"ItemAni").reset(),this.wheelAniItemList[e].active=!1,this.resultList[e]&&(this.resultList[e].active=!0)},closeShine:function(){this.lineTable.getComponent(s.BUNDLE_NAME+"LineTabel").reset(),this.resetItemAni();for(var e=0;e<this.wheelList.length;e++)this.wheelList[e].getComponent(s.BUNDLE_NAME+"Wheel").resetItem()},getWinLinesDetail:function(){for(var e=[],t=0;t<a.LotteryRes.viewarray.nWinLines.length;t++){for(var i=Number(a.LotteryRes.viewarray.nWinLines[t]),n=[],o=0,s=0;s<c.GAME_LINES_DIAMOND[i].length;s++)5==a.LotteryRes.viewarray.nHandCards[c.GAME_LINES_DIAMOND[i][s]-1]&&(o++,n.push(c.GAME_LINES_DIAMOND[i][s]-1));for(var h=0;h<c.GAME_LINES_DIAMOND[i].length;h++)o>0||a.LotteryRes.viewarray.nWinCards[c.GAME_LINES_DIAMOND[i][h]-1]&&n.push(c.GAME_LINES_DIAMOND[i][h]-1);n.length>0&&e.push(n)}return e},playWinAnim:function(){var e=this;a.LotteryRes.viewarray.nWinLinesDetail=this.getWinLinesDetail();var t=a.LotteryRes.viewarray.nWinDetail,i=a.LotteryRes.viewarray.nWinLines,c=(a.LotteryRes.viewarray.nWinLinesDetail,a.LotteryRes.viewarray.nWinCards);o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.viewarray.win-a.LotteryRes.viewarray.getFreeTime.win),o.emit(n.PLAY_AUDIO_EF,"HitPayLine");var h=function(){for(var t=0;t<c.length;t++)if(c[t]){var i=e.resultList[t].getComponent(s.BUNDLE_NAME+"Item");e.resultList[t].active=!1,e.wheelAniItemList[t].active=!0,e.wheelAniItemList[t].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(i.getItemId()),e.wheelAniItemList[t].getComponent(s.BUNDLE_NAME+"ItemAni").playSelectAni()}};if(0==t.length)return h(),void this.showWinView(a.LotteryRes.winscore-a.LotteryRes.viewarray.getFreeTime.win,function(){e.toGameOver()});this.imgItemMask.active=!0;var r=function(t){e.resetItemAni();for(var i=0;i<t.length;i++){var n=t[i],o=e.resultList[n].getComponent(s.BUNDLE_NAME+"Item");e.resultList[n].active=!1,e.wheelAniItemList[n].active=!0,e.wheelAniItemList[n].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(o.getItemId()),e.wheelAniItemList[n].getComponent(s.BUNDLE_NAME+"ItemAni").playSelectAni()}},l=this,u=function e(n,o){l.imgItemMask.active&&(i[n]!=a.LotteryRes.viewarray.nWinLines[n]||a.LotteryRes.viewarray.nWinLines.length<=n||(l.lineTable.getComponent(s.BUNDLE_NAME+"LineTabel").showLineTabel(Number(i[n])),r(a.LotteryRes.viewarray.nWinLinesDetail[n]),l.imgItemMask.active&&!o&&l.scheduleOnce(function(){e(n,!1)},1.7*t.length)))};this.lineTable.getComponent(s.BUNDLE_NAME+"LineTabel").showAllSelectLine(i),h(),this.scheduleOnce(function(){for(var i=function(i){e.scheduleOnce(function(){1==t.length?u(i,!0):u(i,!1)},1.7*i)},n=0;n<t.length;n++)i(n);e.showWinView(a.LotteryRes.winscore-a.LotteryRes.viewarray.getFreeTime.win,function(){e.toGameOver()})},1.7)},toGameOver:function(){var e=this;if(a.Status!=s.GAME_STATE.SHOW_END){if(a.Status=s.GAME_STATE.SHOW_END,a.LotteryRes.viewarray.getFreeTime.bFlag)return this.tipNd.active=!1,this.tipList[2].active=!0,this.backeff.active=!0,o.emit(n.PLAY_AUDIO_EF,"ChangeScatter"),this.scheduleOnce(function(){o.emit(n.PLAY_AUDIO_EF,"Lookup")},1),void this.scheduleOnce(function(){e.wheelViewUp.start()},2);this.onGameOver()}},onGameOver:function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},checkJackpot:function(){for(var e=0;e<c.GAME_LINES_DIAMOND.length;e++){for(var t=0,i=0;i<c.GAME_LINES_DIAMOND[e].length;i++)(c.IsWildID(a.LotteryRes.viewarray.nHandCards[c.GAME_LINES_DIAMOND[e][i]-1]-2)||c.IsJackpotID(a.LotteryRes.viewarray.nHandCards[c.GAME_LINES_DIAMOND[e][i]-1]-2))&&t++;if(t>=3)return!0}return!1},showWinView:function(e,t){var i=this;h.checkBigWin(e)||this.checkJackpot()?o.emit(n.PAITICLE_COIN,{coins:e,callback:function(){o.emit(n.SHOW_BIG_WIN,{coins:e,callback:t,isJackpot:i.checkJackpot()})}}):t()},stopFakeFreeTimes:function(){this.showFakeFreeOver()},enterFakeGame:function(){cc.log("\u4e00\u6b21\u514d\u8d39"),o.emit(n.PLAY_AUDIO_BGM,{id:3}),a.GameMode=s.GAME_MODE.FAKE_FREE,o.emit(n.CHANGE_GAME_MODE);var e=[],t=a.LotteryRes.viewarray.nChangeCards.changes;if(t)for(var i=0;i<t.length;i++)e.push(this.resultList[t[i]]);else for(var h=0;h<this.resultList.length;h++)this.resultList[h].getComponent(s.BUNDLE_NAME+"Item").getItemId()==c.ItemID.BONUS_FAKE&&e.push(this.resultList[h])},stopFreeTimes:function(){var e=this;cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),a.IsFreeSolt=!1,o.emit(n.SHOW_YOU_WIN,{count:a.FreeWinCoins,callback:function(){e.showWinView(a.FreeWinCoins,function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),e.onGameOver()})}})},enterFreeGame:function(){o.emit(n.PLAY_AUDIO_EF,"WinScatter"),h.isNormalGame()&&(a.FreeSoltRes=h.extendCopy(a.LotteryRes),a.initFreeData()),a.FreeRemaining+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,a.FreeTimeAll+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,a.FreeTimeNow+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,o.emit(n.UPDATE_FREE_TIME_NOW),o.emit(n.UPDATE_FREE_TIME_ALL),h.isNormalGame()&&this.playBonusAni(),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){var e=this;this.closeShine();for(var t=0;t<this.resultList.length;t++)if(this.resultList[t].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()){var i=this.resultList[t].getComponent(s.BUNDLE_NAME+"Item");this.resultList[t].active=!1,this.wheelAniItemList[t].active=!0,this.wheelAniItemList[t].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(i.getItemId()),this.wheelAniItemList[t].getComponent(s.BUNDLE_NAME+"ItemAni").playAniBonus()}this.scheduleOnce(function(){e.closeShine(),o.emit(n.PLAY_AUDIO_BGM,{id:2}),e.onGameOver()},2)},showFakeFreeOver:function(){},onStartRoll:function(){this.stopImmediately=!1,this.closeShine(),this.bonusWheelCount=0,this.imgItemMask.active=!1,h.isNormalGame()||(a.FreeRemaining--,o.emit(n.UPDATE_FREE_TIME_NOW)),this.wheelLeft1.getComponent(cc.Animation).play("wheelRolling"),this.wheelLeft2.getComponent(cc.Animation).play("wheelRolling"),this.wheelRight1.getComponent(cc.Animation).play("wheelRolling"),this.wheelRight2.getComponent(cc.Animation).play("wheelRolling"),this.wheelLeft1.active=!0,this.wheelLeft2.active=!0,this.wheelRight1.active=!0,this.wheelRight2.active=!0,this.barUp.getComponent(cc.Animation).play("barLoop"),this.barDown.getComponent(cc.Animation).play("barLoop"),this.initSide(!0)},onStopImmediately:function(){for(var e=0;e<this.wheelList.length;e++)this.wheelList[e].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[e],!1);this.stopImmediately=!0},onLoginGameResult:function(e){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS),e.Obj&&e.Obj.betList&&(this.BETList=r.getInstant.slotBetList=e.Obj.betList)},onLoginFreeCountResult:function(e){o.emit(n.SET_LINES_VALUE,e.gameDict.betlist.length),o.emit(n.SET_BET_VALUE,e.gameDict.betsum),a.FreeTimeAll=e.gameDict.totalFreeTimes,a.FreeTimeNow=e.gameDict.totalFreeTimes-e.freeCount,e.freeCount>0&&(a.GameMode=s.GAME_MODE.FREE),o.emit(n.CHANGE_GAME_MODE,e),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onLotteryResult:function(){a.Status=s.GAME_STATE.ROLL_END,o.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=h.convertNetData(a.LotteryRes.viewarray.nHandCards),this.wheelList[0].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[0],!1)},onLotteryErrResult:function(e){cc.log(e),o.emit(n.RESET_WHEEL),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){a.GameMode==s.GAME_MODE.NORMAL?(this.bgNormal.active=!0,this.bgFree.active=!1):a.GameMode==s.GAME_MODE.FREE&&(this.bgNormal.active=!1,this.bgFree.active=!0)},onWheelRollEnd:function(e){e!=s.WHEEL_COUNT-1?this.stopImmediately||(e==s.WHEEL_COUNT-2&&this.checkBonusAndJackpot(this.wheelNetData[0],this.wheelNetData[1])?(o.emit(n.PLAY_AUDIO_EF,"Delay"),this.roll.active=!0,this.wheelList[e+1].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[e+1],!0)):this.wheelList[e+1].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[e+1],!1)):this.stateCallBack()},onHaveNoMoney:function(){0==this.noMoney.opacity&&cc.tween(this.noMoney).to(.5,{opacity:255}).delay(2).to(.5,{opacity:0}).start()},onEnable:function(){o.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),o.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this),o.addEventListener(n.HAVE_NO_MONEY,this.onHaveNoMoney,this)},initNormalWheel:function(){this.wheelList=[];for(var e=0;e<s.WHEEL_COUNT;e++){var t=cc.instantiate(this.preWheel);this.wheelPnl.addChild(t),this.wheelList.push(t),t.getComponent(s.BUNDLE_NAME+"Wheel").setWheelData(e)}},initAniWheel:function(){this.wheelAniList=[];for(var e=0;e<s.WHEEL_COUNT;e++){var t=cc.instantiate(this.preWheelAni);this.wheelAniPnl.addChild(t),this.wheelAniList.push(t),t.getComponent(s.BUNDLE_NAME+"WheelAni").setWheelData(e)}},initWheelAni:function(){this.wheelAniItemList=[];for(var e=s.VERTICAL_ITEM_COUNT-1;e>=0;e--)for(var t=0;t<this.wheelList.length;t++){var i=this.wheelAniList[t].getComponent(s.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(i[e])}},initLineList:function(){this.lineTable=cc.instantiate(this.preLineTable),this.pnlLine.addChild(this.lineTable)},initFree:function(){var e=cc.instantiate(this.preFree);this.pnlDec.addChild(e),e.active=!1,this.nodeFree=e},initFakeFree:function(){var e=cc.instantiate(this.preFakeFree);this.pnlFree.addChild(e),e.active=!1,this.nodeFakeFree=e}}),cc._RF.pop()},{PlayerInfo:void 0}],WheelOfFortuneNetWheelConfig:[function(e,t){"use strict";cc._RF.push(t,"9de65FHMudOrIoqBs8gG68X","WheelOfFortuneNetWheelConfig");var i=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!0,freeType:0,nFreeTime:4,aFlag:!0},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[9,2,3,4,5,6,7,8,9,1,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:3,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nChangeCards:{},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,2,3,4,5,6,7,8,9,1,2,3,5,4,4],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:2,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nChangeCards:{},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[2,2,3,4,5,6,7,8,3,1,2,3,5,4,4],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:1,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nChangeCards:{},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[6,2,3,4,5,6,7,8,5,1,2,3,5,4,4],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}},{freeCount:0,freeTotal:4,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},nChangeCards:{},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nHandCards:[9,2,3,4,5,6,7,8,9,1,2,3,5,4,4],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}}],n=0,o={Inint:function(){n=0},GetNetConfig:function(){var e;n>=(e=i).length&&(n=0);var t=e[n];return n++,t}};t.exports=o,cc._RF.pop()},{}],WheelOfFortuneNetwork:[function(e,t){"use strict";cc._RF.push(t,"b8b8ekushZKw6+FsIJsfpOq","WheelOfFortuneNetwork");var i="WheelOfFortune",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=(e(i+"ItemConfig"),e(i+"NetWheelConfig"),e("PlayerInfo"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=c.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(e,t){"UPDATE_COIN"==e&&o.emit("UPDATE_COIN");var i=null;if("error"==e&&(cc.log("socket error"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"connect_error"==e&&(cc.log("connect_error"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"connect_timeout"==e&&(cc.log("connect_timeout"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"disconnect"==e){if(this.isOutGameIng)return;cc.log("disconnect"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})}if("loginGameResult"==e){if(i=changeResultJSON_Function(t),cc.log("LoginGameResult:",i),"1"!=i.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),o.emit(n.ON_LOGIN_GAME_RESULT,i),a.LoginGameResultData=i}if("lotteryResult"==e&&((i=changeResultJSON_Function(t)).ResultCode&&1==i.ResultCode?(a.LotteryRes=JSON.parse(JSON.stringify(i.ResultData)),o.emit(n.ON_LOTTERY_RESULT)):o.emit(n.ON_LOTTERY_RESULT_ERR)),"LoginRoomResult"==e&&(i=changeResultJSON_Function(t),cc.log("LoginRoomResult",i)),"pushGamblingWinPool"==e&&(i=changeResultJSON_Function(t),cc.log("pushGamblingWinPool=>",i),1==i.ResultCode&&o.emit(n.ON_PUSH_GAMBLING_WIN_POOL,i.nGamblingWinPool)),i=changeResultJSON_Function(t),cc.log("LoginfreeCountResult:",i),1==i.ResultCode&&(i.freeType=Number(i.freeType)),"betResult"==e){if(i=changeResultJSON_Function(t),cc.log("betResult",i),1!=i.ResultCode)return;o.emit(n.ON_GAMBLE_RESULT,i.ResultData)}},sendRollData:function(){var e=a.BetValue/a.Line;window.sendNetWorkData("lottery",JSON.stringify({bet:e,line:a.Line}))},onLoginNet:function(){},onStartRoll:function(){a.Status=s.GAME_STATE.REQUEST,o.emit(n.CHANGE_GAME_STATUS),this.sendRollData()},onAddUserCoins:function(e){cc.log("chargeAll =>",e)},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.isOutGameIng=!0,o.destroy(),cc.director.loadScene(window.hallName)},onEnable:function(){o.addEventListener(n.ADD_USER_COINS,this.onAddUserCoins,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.OUT_GAME,this.onOutGame,this),o.addEventListener(n.LOGIN_NET,this.onLoginNet,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],WheelOfFortuneScene:[function(e,t){"use strict";cc._RF.push(t,"f071cVhrsBNtrpgltPtumFV","WheelOfFortuneScene");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneGameData"),s=e("WheelOfFortuneUserData");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preHelp:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab},onLoad:function(){s.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),this.initNode(),this.initUI(),this.scheduleOnce(function(){},2)},onChangeGameMode:function(){},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initAutoUI(),this.initGameUIDown(),this.initGameUIUp(),this.initHelp(),this.initBigWin(),this.initTipView(),this.initAddCoins(),this.initAnimation(),this.initTransit(),this.initYouWin()},loadComplete:function(){this.loadCount--,0==this.loadCount&&n.emit(i.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var e=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(e)},initAutoUI:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"Auto"),e.gameNode.addChild(n),n.active=!1,e.loadComplete()}})},initBigWin:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);e.topNode.addChild(n),n.active=!1,e.loadComplete()}})},initYouWin:function(){var e=cc.instantiate(this.preYouWin);this.topNode.addChild(e),e.active=!1},onDestroy:function(){n.destroy()},initGameUIDown:function(){this.loadCount++,cc.resources.load("prefabs/commonUi",function(e,t){if(e)cc.log(e);else{var i=cc.instantiate(t);i.addComponent("WheelOfFortuneDownUI"),this.gameNode.addChild(i,1e3);var n=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",i.width,i.height,n),i.scaleX=n.width/1920,i.scaleY=n.height/1080,this.loadComplete()}}.bind(this))},initGameUIUp:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preUpUI",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"UpUI"),e.gameNode.addChild(n),e.loadComplete()}})},initHelp:function(){var e=cc.instantiate(this.preHelp);this.topNode.addChild(e),e.active=!1},initGameMenu:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"Menu"),e.showNode.addChild(n),n.active=!1,e.loadComplete()}})},initTipView:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"TipView"),e.topNode.addChild(n),n.active=!1,e.loadComplete()}})},initAddCoins:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preAddCoins",cc.Prefab,function(t,i){if(t)cc.log(t);else{var n=cc.instantiate(i);n.addComponent(o.BUNDLE_NAME+"AddCoins"),e.topNode.addChild(n),n.active=!1,e.loadComplete()}})},initAnimation:function(){var e=cc.instantiate(this.preAnimation);this.topNode.addChild(e)},initTransit:function(){var e=cc.instantiate(this.preTransit);this.topNode.addChild(e),e.active=!1}}),cc._RF.pop()},{}],WheelOfFortuneTipView:[function(e,t){"use strict";cc._RF.push(t,"ccdecFD8ulNoK4aef8K4QQa","WheelOfFortuneTipView");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneUserData"),s=(e("WheelOfFortuneGameData"),[]);s[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var e=this;o.Bundle.load("resProject/image/Atlas_Win",cc.SpriteAtlas,function(t,i){t||(cc.find("btnOK",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_ok"))}),o.Bundle.load("resProject/image/bgp_full",cc.SpriteFrame,function(t,i){t||(cc.find("imgBg",e.node).getComponent(cc.Sprite).spriteFrame=i)})},show:function(e,t){this.node.active=!0,this.callback=e,null!=t&&(this.labContext.string=s[t])},onClickOK:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.callback(),this.node.active=!1},onClickHide:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.node.active=!1},onShowView:function(e){this.show(e.callback,e.type)},addEventListener:function(){n.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],WheelOfFortuneTransit:[function(e,t){"use strict";cc._RF.push(t,"987ae33DtxB5JYHhrGBLY6o","WheelOfFortuneTransit");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneUserData"),s=e("WheelOfFortuneGameData");cc.Class({extends:cc.Component,properties:{imgMask:cc.Node},onLoad:function(){},show:function(e){this.data=e,this.node.active=!0,this.imgMask.active=!1,this.onRolePlayOver(),n.emit(i.PLAY_AUDIO_EF,"BeforFadeToFree")},onRolePlayOver:function(){var e=this;this.imgMask.active=!0,n.emit(i.PLAY_AUDIO_EF,"FadeToFree"),this.scheduleOnce(function(){e.data.callback()},.5),this.scheduleOnce(function(){e.hide()},3),o.GameMode=s.GAME_MODE.FREE,n.emit(i.CHANGE_GAME_MODE)},hide:function(){this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],WheelOfFortuneUpUI:[function(e,t){"use strict";cc._RF.push(t,"c0cd8bUO39PNIKoxpLWdruU","WheelOfFortuneUpUI");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneGameData"),s=e("WheelOfFortuneUserData"),a=e("WheelOfFortuneUtil"),c=e("PlayerInfo"),h=[];h[0]="btn_spin",h[2]="btn_stop",h[3]="btn_stop_auto",h[4]="btn_spin",cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.initUI(),this.loadUI(),this.initFakeGain(0),resizeWinX(this),this.labWinning.string=a.formattingCoins(c.getInstant.playerCoin),n.emit("UPDATE_COIN")},initUI:function(){var e=cc.find("pnlWin",this.node);e.active=!1,this.labWinning=cc.find("labCoins",e).getComponent(cc.Label),this.jackpotLabel=cc.find("pnlJackpot/jackpotLabel",this.node).getComponent(cc.Label),cc.find("pnlMenu/btnHome",this.node).on("click",this.onClickHome,this)},loadUI:function(){var e=this;s.Bundle.load("resProject/image/Atlas_GameUI",cc.SpriteAtlas,function(t,i){if(!t){e.spAtlas=i,cc.find("bg",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("bg_top"),cc.find("pnlWin",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("bg_coin"),cc.find("pnlJackpot/jackpotImg",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Icon_jackpot"),cc.find("pnlJackpot/Icon_line",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Icon_line");var n=cc.find("pnlMenu",e.node);n.active=!1,cc.find("btnHome/btnImg",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_home")}})},initFakeGain:function(e){var t=this;this.scheduleOnce(function(){e%10==0&&(t.jackpotLabel.string=a.formattingCoins(101e3+Math.floor(1e3*Math.random())),e=0),e++,t.initFakeGain(e)},1)},onChangeGameMode:function(){s.GameMode==o.GAME_MODE.NORMAL||(s.GameMode,o.GAME_MODE.FREE)},initHandTween:function(){var e=this;this.addCoinsHandTween=cc.tween(this.imgAddCoinsHand).repeatForever(cc.tween().to(.5,{x:40,y:-40}).to(.5,{x:100,y:-100}).call(function(){c.getInstant.playerCoin>=s.BetValue&&(e.addCoinsHandTween.stop(),e.imgAddCoinsHand.active=!1)})),this.imgAddCoinsHand.active=!1},onClickAddCoins:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),n.emit(i.SHOW_ADD_USER_COINS)},onClickSound:function(e){c.getInstant.musicControl=!e.isChecked,c.getInstant.soundEffectControl=!e.isChecked,c.getInstant.musicControl?(n.emit(i.PLAY_AUDIO_BGM,{id:0,isFrist:!0}),n.emit(i.PLAY_AUDIO_EF,"OtherButton")):n.emit(i.STOP_AUDIO)},onClickHome:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),n.emit(i.OUT_GAME)},updageGameWin:function(e){0!=e&&(c.getInstant.playerCoin+=e,this.labWinning.string=a.formattingCoins(c.getInstant.playerCoin),n.emit("UPDATE_COIN"))},onChargeAllResult:function(e){e&&(c.getInstant.playerCoin=e.score?e.score:0,this.labWinning.string=a.formattingCoins(c.getInstant.playerCoin),n.emit("UPDATE_COIN"))},onLotteryResult:function(){a.isNormalGame()&&(c.getInstant.playerCoin-=s.BetValue),this.labWinning.string=a.formattingCoins(c.getInstant.playerCoin),n.emit("UPDATE_COIN")},onHaveNoMoney:function(){},onEnable:function(){n.addEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.addEventListener(i.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),n.addEventListener(i.HAVE_NO_MONEY,this.onHaveNoMoney,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],WheelOfFortuneUserData:[function(e,t){"use strict";cc._RF.push(t,"bc71bZZUt1JFY4V+gCJEsjC","WheelOfFortuneUserData");var i={Bundle:null,LotteryRes:null,init:function(e){i.Bundle=e,i.GameMode=0,i.Status=0,i.BetIndex=0,i.Line=5,i.BetValue=i.Line,i.FakeFreeTime=0,i.AllFakeFreeTime=0,i.isFast=!1,i.FakeSoltIndex=0,i.IsAuto=!1,i.IsFreeSolt=!1,i.IsFakeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeRemaining=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};t.exports=i,cc._RF.pop()},{}],WheelOfFortuneUtil:[function(e,t){"use strict";cc._RF.push(t,"92817RiiOJBc54CjP4+b8tZ","WheelOfFortuneUtil");var i=e("WheelOfFortuneGameData"),n=e("WheelOfFortuneUserData"),o=(e("WheelOfFortuneItemConfig"),e("PlayerInfo")),s={convertNetData:function(e){for(var t=[],n=0;n<3;n++)t[n]=[];for(var o in e)t[o%3][i.VERTICAL_ITEM_COUNT-1-parseInt(o/3)]=e[o];return t},getRandID:function(e,t){return parseInt(Math.random()*(t+1-e))+e},getFakeNetData:function(e,t,i){for(var n=[],o=0;o<15;o++)i[o]?n[o]=i[o]:n[o]=s.getRandID(e,t);return n},formattingCoins:function(e){return(e/o.getInstant.exchangeRate).toFixed(2)},getRandItemFromList:function(e){return e[s.getRandID(0,e.length-1)]},getRandItemID:function(e){var t=parseInt(Math.random()*e.length);return t>=e.length&&(t=e.length-1),t<=0&&(t=0),t>0?t+=2:0==t&&(t=5),t},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},getRate:function(e){return e/n.BetValue},getBigWinRate:function(e){var t=s.getRate(e),i=0;return t>=500?i=4:t>=200?i=3:t>=100?i=2:t>=50?i=1:t>=20&&(i=0),i},checkBigWin:function(e){return e/n.BetValue>=10},checkIncredible:function(e){return e/n.BetValue>=20},checkSuperBigWin:function(e){return e/n.BetValue>=20},checkUltraBigWin:function(e){return e/n.BetValue>=50},checkMegaBigWin:function(e){return e/n.BetValue>=50},checkUltraMegaBigWin:function(e){return e/n.BetValue>=200},getItemCount:function(e,t){for(var i=0,n=0;n<e.length;n++)e[n]==t&&i++;return i},checkWinItem:function(e,t,i){for(var n=0;n<i.length;n++)if(i[n]==e&&t[n])return!0;return!1},updateSetString:function(e,t,i,n,o,s){var a=0,c=Math.ceil(e/n);i.string=t;var h=0;s.schedule(function(){(a+=c)>e&&(a=e),i.string=a+t,++h==n+1&&o()},.02,n)},extendCopy:function(e){var t={};for(var i in e)t[i]=e[i];return t}};t.exports=s,cc._RF.pop()},{PlayerInfo:void 0}],WheelOfFortuneWheelAni:[function(e,t){"use strict";cc._RF.push(t,"53fc8fPaq9MdYZfuil+vqB5","WheelOfFortuneWheelAni");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneGameData"),s=(e("WheelOfFortuneUserData"),e("WheelOfFortuneItemConfig"));cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=s.WHEEL_WIDTH},setWheelData:function(e){this.wheelId=e,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var e=0;e<this.itemAniList.length;e++){var t=this.itemAniList[e];t.getComponent(o.BUNDLE_NAME+"ItemAni").reset(),t.active=!1}},playWildEffect:function(){},hideBounsEffect:function(){},playBonusEffect:function(){},onStartRoll:function(){this.resetItem()},onEnable:function(){n.addEventListener(i.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var e=0;e<o.VERTICAL_ITEM_COUNT;e++){var t=s.ITEM_HEIGHT*e/2-s.ITEM_HEIGHT/2,i=cc.instantiate(this.preItemAni);this.itemAniList.push(i),this.pnlItemAni.addChild(i),i.y=t,i.active=!1}}}),cc._RF.pop()},{}],WheelOfFortuneWheel:[function(e,t){"use strict";cc._RF.push(t,"719ec2x2JRKkoWnOnF3oXXC","WheelOfFortuneWheel");var i="WheelOfFortune",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=e(i+"ItemConfig"),h=e(i+"Util");cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=c.WHEEL_WIDTH,this.node.height=c.WHEEL_HEIGHT;var e=cc.find("pnlMask",this.node);e.width=c.WHEEL_WIDTH,e.height=c.WHEEL_HEIGHT},setWheelData:function(e){this.wheelId=e,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var e=0,t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()&&e++;return e},resetItem:function(){for(var e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").reset()},getResultItemByItemPos:function(e){return this.resultItemList[e]},getListItemByItemPos:function(e){return this.itemList[e]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.unschedule(this.onStopRollScheduleCallback),this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(a.GameMode)},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.RESET_WHEEL,this.onResetWheel,this),o.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){o.removeEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.removeEventListener(n.START_ROLL,this.onStartRoll,this),o.removeEventListener(n.RESET_WHEEL,this.onResetWheel,this),o.removeEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(e,t){var i=this;this.netIdList=e,t?this.scheduleOnce(function(){i.onStopRollScheduleCallback()},3):this.onStopRollScheduleCallback()},onStopRollScheduleCallback:function(){this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var e=this;this.resultItemList=[];for(var t=function(t){var i=e.itemList[t];e.resetRolePos(i,t);var n=cc.tween(i);i.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){i.y<-c.ITEM_HEIGHT-c.ITEM_HEIGHT/2&&(i.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT,i.getComponent(s.BUNDLE_NAME+"Item").randImg()),e.isStopRoll&&(n.stop(),e.rollEnd(i,t)),e.isResetRoll&&(n.stop(),e.resetRolePos(i,t))})).start()},i=0;i<this.itemList.length;i++)t(i)},checkItemtype:function(e){return 0==e[0]?0==e[2]?0:1:0==e[1]?2:0==e[2]?3:4},rollEnd:function(e,t){var i=this,r=this;cc.tween(e).repeat(4,cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){if(e.y<-c.ITEM_HEIGHT-c.ITEM_HEIGHT/2){if(r.itemIndex>=r.netIdList.length)e.getComponent(s.BUNDLE_NAME+"Item").randImg(),e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT,e.zIndex=0;else{switch(i.checkItemtype(r.netIdList)){case 0:e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT,e.getComponent(s.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex]);break;case 1:2==r.itemIndex?e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT-c.ITEM_HEIGHT/2:e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT,e.getComponent(s.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex]);break;case 2:0==r.itemIndex?(e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT+c.ITEM_HEIGHT/2,e.getComponent(s.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex])):1==r.itemIndex?(e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT,e.getComponent(s.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex],!0)):(e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT-c.ITEM_HEIGHT/2,e.getComponent(s.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex]));break;case 3:0==r.itemIndex?e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT+c.ITEM_HEIGHT/2:e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT,e.getComponent(s.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex]);break;case 4:0==r.itemIndex?e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT+c.ITEM_HEIGHT/2:1==r.itemIndex?e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT:e.y=3*c.ITEM_HEIGHT-c.ITEM_HEIGHT-c.ITEM_HEIGHT/2,e.getComponent(s.BUNDLE_NAME+"Item").changeItem(r.netIdList[r.itemIndex])}e.zIndex=r.netIdList.length-r.itemIndex,r.resultItemList.push(e)}e.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(r.itemIndex),r.itemIndex++}})).call(function(){var l=e.getComponent(s.BUNDLE_NAME+"Item").getItemVerticalPos();switch(l=-1==l?3:l){case 0:switch(i.checkItemtype(r.netIdList)){case 0:case 1:e.y=l*c.ITEM_HEIGHT-c.ITEM_HEIGHT;break;case 2:case 3:case 4:e.y=l*c.ITEM_HEIGHT-c.ITEM_HEIGHT+c.ITEM_HEIGHT/2}break;case 1:e.y=l*c.ITEM_HEIGHT-c.ITEM_HEIGHT;break;case 2:switch(i.checkItemtype(r.netIdList)){case 0:case 3:e.y=l*c.ITEM_HEIGHT-c.ITEM_HEIGHT;break;case 1:case 2:case 4:e.y=l*c.ITEM_HEIGHT-c.ITEM_HEIGHT-c.ITEM_HEIGHT/2}break;case 3:e.y=l*c.ITEM_HEIGHT-c.ITEM_HEIGHT}if(t==i.itemList.length-1){o.emit(n.PLAY_AUDIO_EF,"RollDown");for(var u=h.convertNetData(a.LotteryRes.viewarray.nHandCards),d=0,m=0,p=0;p<u[i.wheelId].length;p++)c.IsWildID(u[i.wheelId][p]-2)&&m++;for(var f=0;f<u.length;f++)for(var E=0;E<u[f].length;E++)if(c.IsWildID(u[f][E]-2)||c.IsJackpotID(u[f][E]-2)){0==f?d=1:1==f?1==d&&(d=2):2==d&&(d=3);break}0==d&&m>0&&o.emit(n.PLAY_AUDIO_EF,"Wild"),0==i.wheelId?d>=1&&o.emit(n.PLAY_AUDIO_EF,"JackpotScatter1"):1==i.wheelId?d>=2&&o.emit(n.PLAY_AUDIO_EF,"JackpotScatter2"):d>=3&&o.emit(n.PLAY_AUDIO_EF,"JackpotScatter3")}}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){e.y<c.ITEM_HEIGHT+c.ITEM_HEIGHT/2&&e.getComponent(s.BUNDLE_NAME+"Item").rollEnd(),i.itemList.length-1==t&&o.emit(n.ON_WHEEL_ROLL_END,i.wheelId)}).start()},resetRolePos:function(e,t){e.y=c.ITEM_HEIGHT*t-c.ITEM_HEIGHT},initItem:function(){this.itemList=[];for(var e=0;e<4;e++){var t=cc.instantiate(this.preItem);this.itemList.push(t),this.pnlItem.addChild(t),t.y=c.ITEM_HEIGHT*e-c.ITEM_HEIGHT,t.getComponent(s.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],WheelOfFortuneYouWin:[function(e,t){"use strict";cc._RF.push(t,"5009aS9LT9HTY3N7JU8/gzq","WheelOfFortuneYouWin");var i=e("WheelOfFortuneEventConfig"),n=e("WheelOfFortuneEventManager"),o=e("WheelOfFortuneUserData"),s=e("WheelOfFortuneGameData"),a=e("WheelOfFortuneUtil");cc.Class({extends:cc.Component,properties:{labWin:cc.Label,imgMask:cc.Node,nodeMain:cc.Node},onLoad:function(){this.addEventListener()},show:function(e){var t=this;this.callback=e.callback,this.node.active=!0,this.labWin.string=a.formattingCoins(e.count),this.imgMask.opacity=0,this.nodeMain.active=!0,this.node.scaleX=0,this.node.scaleY=0,cc.tween(this.node).to(.5,{scaleX:1,scaleY:1}).start(),this.scheduleOnce(function(){t.hide(e)},4)},hide:function(){var e=this;cc.tween(this.imgMask).to(.5,{opacity:255}).call(function(){e.nodeMain.active=!1,o.GameMode=s.GAME_MODE.NORMAL,n.emit(i.CHANGE_GAME_MODE)}).to(.5,{opacity:0}).call(function(){e.callback(),e.node.active=!1}).start()},addEventListener:function(){n.addEventListener(i.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["WheelOfFortuneAddCoins","WheelOfFortuneAuto","WheelOfFortuneBigWin","WheelOfFortuneDownUI","WheelOfFortuneTipView","WheelOfFortuneUpUI","WheelOfFortuneEventConfig","WheelOfFortuneEventManager","WheelOfFortuneGameData","WheelOfFortuneItemConfig","WheelOfFortuneLineConfig","WheelOfFortuneNetWheelConfig","WheelOfFortuneUserData","WheelOfFortuneAnimation","WheelOfFortuneAudio","WheelOfFortuneBg","WheelOfFortuneCoin","WheelOfFortuneFakeFree","WheelOfFortuneFree","WheelOfFortuneHelp","WheelOfFortuneItem","WheelOfFortuneItemAni","WheelOfFortuneLine","WheelOfFortuneLineItem","WheelOfFortuneLineTabel","WheelOfFortuneMain","WheelOfFortuneNetwork","WheelOfFortuneScene","WheelOfFortuneTransit","WheelOfFortuneUtil","WheelOfFortuneWheel","WheelOfFortuneWheelAni","WheelOfFortuneYouWin"]);