window.__require=function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return o(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({PTFireLinkChinaStreetAddCoins:[function(t,e){"use strict";cc._RF.push(e,"d11986zSEdN15jsrwj78nGn","PTFireLinkChinaStreetAddCoins");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"UserData"),s=t(i+"GameData"),a=t(i+"EventManager"),c=t(i+"Util"),r=t("PlayerInfo");cc.Class({extends:cc.Component,onLoad:function(){this.initAddCoins()},initAddCoins:function(){var t=this;cc.find("mask",this.node).on("click",this.onClickHideAddCoins,this);var e=cc.find("nodeAdd",this.node);this.labelWinning=cc.find("pnlGameWin/labWin",e).getComponent(cc.Label);var i=[this.onClickAddCoins1,this.onClickAddCoins10,this.onClickAddCoins50,this.onClickAddCoins100,this.onClickAddCoinsAll];this.btnAddGroup=[];for(var n=1;n<=5;n++){var s=cc.find("pnlGroup/item"+n,e);s.on("click",i[n-1],this),this.btnAddGroup.push(s)}o.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(i,n){if(!i&&t){cc.find("imgBg",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0"),cc.find("pnlGroup",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("commonBtn");for(var o=0;o<t.btnAddGroup.length;o++)t.btnAddGroup[o].getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0")}})},onClickHideAddCoins:function(){a.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){r.getInstant&&(this.node.active=!0,this.labelWinning.string=c.formattingCoins(r.getInstant.playerDiamond),this.btnAddGroup[0].getComponent(cc.Button).interactable=r.getInstant.playerDiamond>=100,this.btnAddGroup[1].getComponent(cc.Button).interactable=r.getInstant.playerDiamond>=1e3,this.btnAddGroup[2].getComponent(cc.Button).interactable=r.getInstant.playerDiamond>=5e3,this.btnAddGroup[3].getComponent(cc.Button).interactable=r.getInstant.playerDiamond>=1e4,this.btnAddGroup[4].getComponent(cc.Button).interactable=r.getInstant.playerDiamond>0)},chargeSum:function(t){a.emit(n.PLAY_AUDIO_EF,"btnShow"),this.node.active=!1;var e=0==t?{}:{sum:t};a.emit(n.ADD_USER_COINS,e)},onChangeGameMode:function(){o.GameMode==s.GAME_MODE.FREE&&(this.node.active=!1)},onEnable:function(){a.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),a.addEventListener(n.SHOW_ADD_USER_COINS,this.showAddCoins,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTFireLinkChinaStreetAnimation:[function(t,e){"use strict";cc._RF.push(e,"499ffpI45BBQY40xdmCUFKT","PTFireLinkChinaStreetAnimation");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager");t(i+"GameData"),t(i+"UserData"),cc.Class({extends:cc.Component,properties:{item:cc.Node,nodeItem:cc.Node,aniItem:cc.Node,imgItem:cc.Node,labScore:cc.Label},onLoad:function(){var t=this;this.item.active=!1,this.aniItem.getComponent(cc.Animation).on("finished",function(){t.aniItem.active=!1,t.item.active=!1,t.data.callback()},this)},playAnimation:function(t){var e=this;this.data=t,this.item.active=!0,this.nodeItem.active=!0,this.labScore.string=t.itemScore;var i=this.node.convertToNodeSpaceAR(this.data.or),s=this.node.convertToNodeSpaceAR(this.data.to),a=Math.atan2(i.y-s.y,i.x-s.x)*(180/Math.PI);this.imgItem.angle=a+180+90,this.item.x=i.x,this.item.y=i.y,o.emit(n.PLAY_AUDIO_EF,"FireBallFly"),cc.tween(this.item).to(.1,{x:s.x,y:s.y}).call(function(){e.nodeItem.active=!1,o.emit(n.PLAY_AUDIO_EF,"FireBallBoom"),e.aniItem.active=!0,e.aniItem.getComponent(cc.Animation).play()}).start()},onEnable:function(){o.addEventListener(n.PLAY_ANIMATION,this.playAnimation,this)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetAudio:[function(t,e){"use strict";var i;cc._RF.push(e,"625e66P7JRCEZwNlQqILjcv","PTFireLinkChinaStreetAudio");var n="PTFireLinkChinaStreet",o=t(n+"EventConfig"),s=t(n+"EventManager"),a=t(n+"UserData");t(n+"Util"),cc.Class({extends:cc.Component,properties:(i={bgmAudio:{type:cc.AudioClip,default:[]},startWheel:cc.AudioClip,stopWheel:cc.AudioClip,btnShow:cc.AudioClip,btnHide:cc.AudioClip,rollOver:cc.AudioClip,BetButton:cc.AudioClip,MaxBetButton:cc.AudioClip,WinLine:cc.AudioClip,SpinButton:cc.AudioClip,StopButton:cc.AudioClip,lineAudio:{type:cc.AudioClip,default:[]},itemAudio:{type:cc.AudioClip,default:[]},FireBallBoom:cc.AudioClip,Fast:cc.AudioClip,AddFireBall:cc.AudioClip,FireBallAppeared:cc.AudioClip,FireBallDown:cc.AudioClip,FireBallFly:cc.AudioClip,FireballGot4:cc.AudioClip,FireLinkEnd:cc.AudioClip,Freegame:cc.AudioClip,FreeGameAlert:cc.AudioClip,FreeGameSymbols1:cc.AudioClip,FreeGameSymbols2:cc.AudioClip,FreeGameSymbols3:cc.AudioClip,LockRow1:cc.AudioClip,LockRow2:cc.AudioClip,LockRow3:cc.AudioClip,LockRow4:cc.AudioClip,SymbolFallDown:cc.AudioClip,UnlockRow:cc.AudioClip},i.WinLine=cc.AudioClip,i.CardHide=cc.AudioClip,i.Poker=cc.AudioClip,i),onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&this.bgmAudio[t.id]&&(this.bgmID=t.id,a.BGAM_ID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},callAudioPlayEff:function(t){return cc.audioEngine.playEffect(t)},playEf:function(t){0!=this.pInfo.soundEffectControl&&(this[t]?this.audioID[t]=this.callAudioPlayEff(this[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300b",t))},playLineEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.lineAudio[t]?this.callAudioPlayEff(this.lineAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bLineEffect :",t))},playItemEffect:function(t){0!=this.pInfo.soundEffectControl&&(this.itemAudio[t]?this.callAudioPlayEff(this.itemAudio[t]):cc.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bItemEffect :",t))},stopAudioEf:function(t){this.audioID[t]&&cc.audioEngine.stopEffect(this.audioID[t])},stopMusic:function(){cc.audioEngine.stopMusic()},onEnable:function(){s.addEventListener(o.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),s.addEventListener(o.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),s.addEventListener(o.PLAY_AUDIO_BGM,this.playBgm,this),s.addEventListener(o.PLAY_AUDIO_EF,this.playEf,this),s.addEventListener(o.STOP_AUDIO_EF,this.stopAudioEf,this),s.addEventListener(o.STOP_AUDIO,this.stopAudio,this),s.addEventListener(o.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTFireLinkChinaStreetAuto:[function(t,e){"use strict";cc._RF.push(e,"a01f35ncdxK3IJIORrbaK/0","PTFireLinkChinaStreetAuto");var i=t("PTFireLinkChinaStreetEventConfig"),n=t("PTFireLinkChinaStreetEventManager");t("PTFireLinkChinaStreetUserData"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI()},loadUI:function(){var t=[this.onClick10,this.onClick20,this.onClick50,this.onClick100,this.onClick200,this.onClick500],e=["X10","X20","X50","X100","X200","X500"];cc.find("touchNode",this.node).on("click",this.hide,this);for(var i=cc.find("pnlAuto/layout",this.node),n=cc.find("pnlAuto/item",this.node),o=0;o<t.length;o++){var s=cc.instantiate(n);i.addChild(s),s.on("click",t[o],this),cc.find("itemImg",s).getComponent(cc.Label).string=e[o]}n.active=!1},onClick10:function(){this.onClickAuto(10)},onClick20:function(){this.onClickAuto(20)},onClick50:function(){this.onClickAuto(50)},onClick100:function(){this.onClickAuto(100)},onClick200:function(){this.onClickAuto(200)},onClick500:function(){this.onClickAuto(500)},onClickUM:function(){this.onClickAuto(-1)},onClickAuto:function(t){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.UPDATE_AUTO_COUNT,t),this.hide()},showAuto:function(){this.node.active=!0},hide:function(){this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetBg:[function(t,e){"use strict";cc._RF.push(e,"234e6MgXn9EtLalhDt5Ucsg","PTFireLinkChinaStreetBg");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData");cc.Class({extends:cc.Component,properties:{bgNormal:cc.Node,bgFree:cc.Node,nodeFire:cc.Node,aniItem:cc.Node},onLoad:function(){this.initFire(),this.nodeFire.active=!1},onChangeGameMode:function(){this.bgFree.active=a.GameMode==s.GAME_MODE.FREE,a.GameMode==s.GAME_MODE.FREE||(a.GameMode==s.GAME_MODE.FAKE_FREE?this.nodeFire.active=!0:this.nodeFire.active=!1)},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initFire:function(){for(var t=[this.aniItem],e=0;e<3;e++){var i=cc.instantiate(this.aniItem);this.nodeFire.addChild(i),t.push(i)}for(var n=function(e){var i=t[e],n={x:e>=2?-500-100*Math.random():500+100*Math.random(),y:100*Math.random()-400};i.angle=e>=2?-45:45,cc.tween(i).repeatForever(cc.tween().call(function(){i.x=0,i.y=100+100*Math.random()}).delay(5*Math.random()).to(10+5*Math.random(),{x:n.x,y:n.y}).delay(5*Math.random())).start()},o=0;o<t.length;o++)n(o)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetBigWin:[function(t,e){"use strict";cc._RF.push(e,"f78f3QoFQNPrqdWlL+YW6kZ","PTFireLinkChinaStreetBigWin");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager");t(i+"UserData"),t(i+"Util"),cc.Class({extends:cc.Component,properties:{pnlCoins:cc.Node,itemCoin:cc.Node,aniEffect:cc.Node},onLoad:function(){var t=this;this.level=0,this.addEventListener(),this.aniEffect.getComponent(cc.Animation).on("finished",function(){t.schedule(t.runCoinsAction,.03,60),t.aniEffect.active=!1},this)},show:function(){this.node.active=!0,o.emit(n.PLAY_AUDIO_EF,"FireLinkEnd"),this.scheduleOnce(this.hide,6),this.aniEffect.active=!0,this.aniEffect.getComponent(cc.Animation).play()},runCoinsAction:function(){var t=cc.instantiate(this.itemCoin);t.active=!0,this.pnlCoins.addChild(t),t.x=400*Math.random()-200,t.y=200*Math.random()-100,t.angle=360*Math.random();var e=1200*Math.random()-600,i=1e3*Math.random(),n=e/3+e,o=i/3+400*Math.random(),s=n+100*Math.random()-50,a=200*Math.random()-200;cc.tween(t).bezierTo(1.5,cc.v2(e,i),cc.v2(n,o),cc.v2(s,a)).call(function(){t.removeFromParent()}).start()},hide:function(){o.emit(n.STOP_MUSIC),this.callback(),this.unschedule(this.hide),o.emit(n.PLAY_AUDIO_BGM,{id:0}),this.node.active=!1},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins,t.rate)},addEventListener:function(){o.addEventListener(n.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetDownUI:[function(t,e){"use strict";cc._RF.push(e,"986daQ0YdJJjZIr3gydPLUk","PTFireLinkChinaStreetDownUI");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"Util"),r=t("PlayerInfo"),l={LEISURE:0,STOP:2,AUTO:3,DISABLED:4},h=[];h[l.LEISURE]=0,h[l.STOP]=1,h[l.AUTO]=2,h[l.DISABLED]=3;var m=new cc.Color(255,255,255),u=new cc.Color(132,132,132);cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.commonUiTs=this.node.getComponent("CommonUI"),this.commonFast=cc.find("audioView/quickSwitch",this.node),this.commonFast.on("toggle",this.onClickFast,this),this.commonFast.getComponent(cc.Toggle).isChecked=!1,this.initUI(),this.autoCount=0,this.gameWin=0,this.initSpinTouchEvent(),a.LoginGameResultData&&this.onLoginGameResult(a.LoginGameResultData),window.resizeWinX(this)},initBetData:function(t){this.bet=t;var e=r.getInstant.maxBet/a.Line;this.betLimit=a.slotBetList.length-1;for(var i=0;i<a.slotBetList.length;i++)if(e<a.slotBetList[i]){this.betLimit=i-1;break}this.updateBet(),this.updateTotalBet()},initUI:function(){var t=cc.find("nodeTotalBet",this.node);this.btnSub=cc.find("btnSub",t),this.btnSub.on("click",this.onClickDecBet,this),this.btnAdd=cc.find("btnAdd",t),this.btnAdd.on("click",this.onClickAddBet,this),this.labTotalBet=cc.find("labBet",t).getComponent(cc.Label),this.labGameWin=cc.find("labGameWin",this.node).getComponent(cc.Label),cc.find("btn_help",this.node).on("click",this.onClickHelp,this);var e=cc.find("pnlSpin",this.node);this.btnSpin=cc.find("btnSpin",e),this.imgUnLimited=cc.find("pnlAuto/imgUnlimited",e),this.labAutoCount=cc.find("pnlAuto/labCount",e),this.imgStop=cc.find("imgStop",e),this.imgAuto=cc.find("imgAuto",e),this.pnlAutoEffect0=cc.find("pnlAutoEffect0",e),this.imgCircle0=cc.find("imgCircle",this.pnlAutoEffect0),this.particle0=cc.find("particle",this.pnlAutoEffect0),cc.find("btnFast",this.node).active=!1,cc.tween(this.imgCircle0).repeatForever(cc.tween().by(.8,{angle:360})).start(),this.pnlAutoEffect1=cc.find("pnlAutoEffect1",e),this.imgCircle1=cc.find("imgCircle",this.pnlAutoEffect1),this.particle1=cc.find("particle",this.pnlAutoEffect1),this.pnlAutoEffect2=cc.find("pnlAutoEffect2",e),this.particle2=cc.find("particle",this.pnlAutoEffect2),this.labBalance=cc.find("pnlWin/labCoins",this.node).getComponent(cc.Label),this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin),r.getInstant.labBalance=this.labBalance},loadUI:function(){var t=this;a.Bundle.load("resources/image/Atlas_GameUI",cc.SpriteAtlas,function(e,i){if(!e){t.spAtlas=i,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Bottom_BG");var n=cc.find("pnlSpin",t.node);cc.find("btnSpin",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Spin"),cc.find("imgStop",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_BG"),cc.find("imgStop/Btn_Stop",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Stop"),cc.find("imgAuto",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_BG"),cc.find("imgAuto/Btn_Auto",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Auto"),cc.find("pnlWin",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Win_BG");var o=cc.find("nodeTotalBet",t.node);cc.find("imgBg",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Item_BG"),cc.find("btnSub",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Sub"),cc.find("btnAdd",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Add"),cc.find("btnHelp",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Spin_BG"),cc.find("btnHelp/Btn_Help",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Help"),t.changeSpinBtnState(l.LEISURE)}})},runAutoActon:function(){1!=this.pnlAutoEffect0.active&&(this.pnlAutoEffect0.scaleX=1,this.pnlAutoEffect0.scaleY=1,o.emit(n.PLAY_AUDIO_EF,"auto"),this.pnlAutoEffect0.active=!0)},update:function(t){var e=this;this.startTouch&&this.spinState==l.LEISURE&&(this.touchTimeDonw+=t,this.touchTimeDonw>=.2&&this.runAutoActon(),this.touchTimeDonw>=1&&(this.startTouch=!1,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(h[this.spinState]),this.btnSpin.color=m,cc.tween(this.pnlAutoEffect0).to(.5,{scaleX:0,scaleY:0}).call(function(){e.pnlAutoEffect0.active=!1,e.imgCircle1.active=!0,e.imgCircle1.scaleX=0,e.imgCircle1.scaleY=0,cc.tween(e.imgCircle1).to(.2,{scaleX:3,scaleY:3}).call(function(){e.pnlAutoEffect2.active=!0,e.imgCircle1.active=!1}).start()}).start(),this.showAutoList()))},changeSpinBtnState:function(t){this.spinState=t,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(h[t]),this.btnSpin.color=t==l.DISABLED?u:m},initSpinTouchEvent:function(){var t=this;this.startTouch=!1,this.touchTimeDonw=0,this.spinState=l.LEISURE,this.btnSpin.on(cc.Node.EventType.TOUCH_START,function(){a.Status!=s.GAME_STATE.INIT&&t.spinState!=l.DISABLED&&c.isNormalGame()&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(h[t.spinState]),t.btnSpin.color=u,t.touchTimeDonw=0,t.startTouch=!0)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_END,function(){t.startTouch&&(t.pnlAutoEffect0.active=!1,cc.log("this.spinState ",t.spinState,l.AUTO,l),t.spinState==l.LEISURE?(o.emit(n.PLAY_AUDIO_EF,"SpinButton"),t.onClickRoll()):t.spinState==l.STOP?(o.emit(n.PLAY_AUDIO_EF,"StopButton"),o.emit(n.STOP_IMMEDIATELY),t.changeSpinBtnState(l.DISABLED)):t.spinState==l.AUTO&&(o.emit(n.PLAY_AUDIO_EF,"StopButton"),t.enterAuto(!1))),t.startTouch=!1,t.spinState!=l.DISABLED&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(h[t.spinState]),t.btnSpin.color=m)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.pnlAutoEffect0.active=!1,t.spinState!=l.DISABLED&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(h[t.spinState]),t.btnSpin.color=m),t.startTouch=!1},this)},onClickFast:function(){o.emit(n.PLAY_AUDIO_EF,"FastSpeedButton"),a.isFast=!a.isFast},onClickRoll:function(){a.Status!=s.GAME_STATE.INIT&&(this.checkCoinsEntries()?a.Status==s.GAME_STATE.LEISURE&&(a.Status=s.GAME_STATE.REQUEST,o.emit(n.START_ROLL)):o.emit(n.HAVE_NO_MONEY))},onClickStop:function(){o.emit(n.STOP_IMMEDIATELY),this.banButton(!1)},showAutoList:function(){this.enterAuto(!0)},enterAuto:function(t){a.IsAuto=t,t?(this.banButton(!1),this.changeSpinBtnState(l.AUTO),this.labAutoCount.getComponent(cc.Label).string="STOP",a.Status==s.GAME_STATE.LEISURE&&o.emit(n.START_ROLL)):(this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.pnlAutoEffect2.active=!1,a.Status==s.GAME_STATE.LEISURE?this.changeSpinBtnState(l.LEISURE):a.Status==s.GAME_STATE.ROLL_END?this.changeSpinBtnState(l.STOP):this.changeSpinBtnState(l.DISABLED))},enterLeisure:function(){this.checkCoinsEntries()||(o.emit(n.HAVE_NO_MONEY),this.enterAuto(!1)),c.isNormalGame()?a.IsAuto?o.emit(n.START_ROLL):this.banButton(!0):a.IsAuto?o.emit(n.START_ROLL):this.enterAuto(!0)},banButton:function(t){a.IsAuto||(this.btnSub.getComponent(cc.Button).interactable=t,this.btnAdd.getComponent(cc.Button).interactable=t,t?a.Status==s.GAME_STATE.LEISURE&&this.changeSpinBtnState(l.LEISURE):this.changeSpinBtnState(l.DISABLED))},onClickHelp:function(){o.emit(n.PLAY_AUDIO_EF,"btnShow"),o.emit(n.SHOW_HELP_VIEW)},onClickAddBet:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){this.bet==this.betLimit?o.emit(n.PLAY_AUDIO_EF,"MaxBetButton"):o.emit(n.PLAY_AUDIO_EF,"BetButton")},updateBet:function(){a.BetIndex=this.bet,a.BetValue=a.slotBetList[this.bet]*a.Line,this.updateTotalBet(),o.emit(n.ON_PUSH_GAMBLING_WIN_POOL,a.BetValue)},onClickLine:function(){c.isNormalGame()&&(o.emit(n.PLAY_AUDIO_EF,"LineButton"),o.emit(n.SHOW_LINE,-1))},updateTotalBet:function(){this.labTotalBet.string=c.formattingCoins(a.BetValue),o.emit(n.UPDATE_BET)},checkCoinsEntries:function(){return r.getInstant.playerCoin>=a.BetValue},updateAutoCount:function(t){this.autoCount=t,-1==this.autoCount?(this.imgUnLimited.active=!0,this.labAutoCount.active=!1):(this.imgUnLimited.active=!1,this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount),this.enterAuto(!0)},onStartRoll:function(){this.banButton(!1),this.gameWin=0,this.labGameWin.string=c.formattingCoins(0)},onChangeGameStatus:function(){a.Status==s.GAME_STATE.LEISURE?this.enterLeisure():a.Status==s.GAME_STATE.RESULT&&(a.IsAuto||this.changeSpinBtnState(l.DISABLED))},updageGameWin:function(t){0!=t&&(this.gameWin+=t,this.labGameWin.string=c.formattingCoins(this.gameWin),c.isNormalGame()||(a.FreeWinCoins+=t))},resetGameWin:function(){},onLotteryResult:function(){this.banButton(!0),a.IsAuto||this.changeSpinBtnState(l.STOP)},onChargeAllResult:function(t){t&&(r.getInstant.playerDiamond=t.wins?t.wins:0,this.labWinning.string=c.formattingCoins(r.getInstant.playerDiamond))},onChangeGameMode:function(){a.GameMode==s.GAME_MODE.NORMAL?this.enterAuto(!1):(this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1)},onLoginGameResult:function(t){var e=0;if(t.Obj&&(t.Obj.betList&&(a.slotBetList=t.Obj.betList),t.Obj.betDefault&&t.Obj.betList))for(var i=0;i<t.Obj.betList.length;i++)if(t.Obj.betDefault==t.Obj.betList[i]){e=i;break}this.initBetData(e)},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.UPDATE_AUTO_COUNT,this.updateAutoCount,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.UPDATE_GAME_WIN,this.updageGameWin,this),o.addEventListener(n.RESET_GAME_WIN,this.resetGameWin,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),o.addEventListener(n.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),o.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTFireLinkChinaStreetEventConfig:[function(t,e){"use strict";var i;cc._RF.push(e,"79673H1lGNJTbiKTY0gJCk/","PTFireLinkChinaStreetEventConfig");var n=((i={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE_COINS:"SHOW_LINE_COINS",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",START_UP_ROLL:"START_UP_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",STOP_UP_GAME:"STOP_UP_GAME",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ADD_FAKE_FREE:"ADD_FAKE_FREE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",ON_WHEEL_UP_ROLL_END:"ON_WHEEL_UP_ROLL_END",UPDATE_DIAMOND:"UPDATE_DIAMOND",PLAY_ANIMATION:"PLAY_ANIMATION",PLAY_RABBIT_ANI:"PLAY_RABBIT_ANI",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LINE_AUDIO_EF:"PLAY_LINE_AUDIO_EF",PLAY_ITEM_AUDIO_EF:"PLAY_ITEM_AUDIO_EF",SHOW_AUTO:"SHOW_AUTO"}).PLAY_ANIMATION="PLAY_ANIMATION",i.SHOW_BIG_WIN="SHOW_BIG_WIN",i.SHOW_TRANSIT_ANI="SHOW_TRANSIT_ANI",i.SHOW_YOU_WIN="SHOW_YOU_WIN",i.SHOW_FREE_VIEW="SHOW_FREE_VIEW",i.SHOW_TIP_VIEW="SHOW_TIP_VIEW",i.SHOW_HELP_VIEW="SHOW_HELP_VIEW",i.SHOW_MENU_VIEW="SHOW_MENU_VIEW",i.SHOW_ADD_USER_COINS="SHOW_ADD_USER_COINS",i.ON_WHEEL_FREE_ROLL_END="ON_WHEEL_FREE_ROLL_END",i.SHOW_SELECT_CARD="SHOW_SELECT_CARD",i.SEND_FREE_TYPE="SEND_FREE_TYPE",i.ON_SELECT_FREE_RESULT="ON_SELECT_FREE_RESULT",i);e.exports=n,cc._RF.pop()},{}],PTFireLinkChinaStreetEventManager:[function(t,e){"use strict";function i(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}cc._RF.push(e,"9cf76VRLNBF343D5wuYb21d","PTFireLinkChinaStreetEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(t,e,i){for(var n=-1,o=0;o<s._eventListeners[t].length;o++){var a=s._eventListeners[t][o];if(a.callBack==e&&(!i||a.target==i)){n=o;break}}return n},addEventListener:function(t,e,i){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:e,target:i};return null==s._eventListeners[t]?s._eventListeners[t]=[n]:-1==s.getEventListenersIndex(t,e,i)&&s._eventListeners[t].push(n),!0}cc.warn("eventName is empty",i)},removeEventListener:function(t,e,i){if(null!=s._eventListeners[t]){var n=s.getEventListenersIndex(t,e,i);-1!=n&&s._eventListeners[t].splice(n,1)}},emit:function(t,e){if(null!=s._eventListeners[t]){for(var n,o=[],a=i(s._eventListeners[t]);!(n=a()).done;){var c=n.value;o.push({callBack:c.callBack,target:c.target})}for(var r=function(){var t=h[l];new Promise(function(){t.callBack.call(t.target,e)})},l=0,h=o;l<h.length;l++)r()}}};e.exports=s,cc._RF.pop()},{}],PTFireLinkChinaStreetFree:[function(t,e){"use strict";cc._RF.push(e,"939d0AJOHZNtahSE2KIG8gU","PTFireLinkChinaStreetFree"),t("./Data/PTFireLinkChinaStreetItemConfig");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"Util"),r=[];r[20]=["Jinhou_2x","Jinhou_3x","Jinhou_5x"],r[15]=["Jinhou_3x","Jinhou_5x","Jinhou_8x"],r[10]=["Jinhou_5x","Jinhou_8x","Jinhou_10x"],r[7]=["Jinhou_8x","Jinhou_10x","Jinhou_15x"],r[5]=["Jinhou_10x","Jinhou_15x","Jinhou_25x"],cc.Class({extends:cc.Component,properties:{labNow:cc.Node,labAll:cc.Node,labWin:cc.Label,pnlWheel:cc.Node,preWheel:cc.Prefab,pnlWheelAni:cc.Node,preWheelAni:cc.Prefab,imgMask:cc.Node,pnlMain:cc.Node,imgFree:cc.Node,imgMult:cc.Node,aniFire:cc.Node,imgFntFreeCount:cc.Sprite,multList:{type:cc.Sprite,default:[]},spAtlas:cc.SpriteAtlas},onLoad:function(){var t=this;this.addEventListener(),this.initNormalWheel(),this.initAniWheel(),this.initWheelAni(),this.resultList=[],this.aniFire.getComponent(cc.Animation).on("finished",function(){t.aniFire.active=!1},this),this.aniFire.active=!1},show:function(t){o.emit(n.PLAY_AUDIO_EF,"Freegame"),this.freesIndex=0,this.winCoins=0,this.labWin.string=c.formattingCoins(this.winCoins),this.callback=t,this.labNow.getComponent(cc.Label).string=a.FreeTimeNow,this.labAll.getComponent(cc.Label).string=a.FreeTimeAll,cc.log("FreeTimeAll",a.FreeTimeAll),this.imgFntFreeCount.spriteFrame=this.spAtlas.getSpriteFrame("FreeTimes_"+a.FreeTimeAll);for(var e=0;e<this.multList.length;e++)this.multList[e].spriteFrame=this.spAtlas.getSpriteFrame(r[a.FreeTimeAll][e]);this.imgMask.active=!1,this.pnlMain.active=!0,this.srtartRoll()},clearing:function(){var t=this;this.scheduleOnce(function(){t.pnlMain.active=!1,t.callback()},1.4)},stateCallBack:function(){o.emit(n.STOP_AUDIO_EF,"rollSound"),a.Status=s.GAME_STATE.RESULT,o.emit(n.CHANGE_GAME_STATUS),this.resultList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT;t++)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelList[e].getComponent(s.BUNDLE_NAME+"WheelFree").getResultList();this.resultList.push(i[t])}this.showResult()},showResult:function(){var t=this;if(this.freeData.getFreeTime.bFlag&&(a.FreeTimeAll+=this.freeData.getFreeTime.nFreeTime,this.onUpdateFreeTimeAll()),this.freeData.win>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",this.freeData.win),this.freeData.fMultiple>0&&(this.imgMult.active=!0,this.aniFire.active=!0,this.imgMult.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Jinhou_"+this.freeData.fMultiple+"x"),this.aniFire.getComponent(cc.Animation).play()),void this.playWinAnim();cc.log("\u6ca1\u4e2d=\u300b"),this.scheduleOnce(function(){t.srtartRoll()},1)},resetItemList:function(){for(var t=0;t<this.resultList.length;t++)this.resultList[t].active=!0;for(var e=0;e<this.wheelAniItemList.length;e++)this.wheelAniItemList[e].active=!1},playWinAnim:function(){var t=this;this.imgMask.active=!0;for(var e=0;e<this.freeData.nWinCards.length;e++)this.freeData.nWinCards[e]&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(s.BUNDLE_NAME+"Item").changeItem(this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").getItemId()),this.wheelAniItemList[e].getComponent(s.BUNDLE_NAME+"Item").playSelectAni());o.emit(n.PLAY_AUDIO_EF,"WinLine"),o.emit(n.UPDATE_GAME_WIN,this.freeData.win),this.updageGameWin(this.freeData.win),this.scheduleOnce(function(){t.srtartRoll()},3)},srtartRoll:function(){var t=this;if(this.resetItemList(),this.imgMult.active=!1,this.imgMask.active=!1,this.freeData=a.LotteryRes.viewarray.frees[this.freesIndex],this.freeData){this.wheelCompelete=0,this.wheelNetData=c.convertNetData(this.freeData.nHandCards);for(var e=0;e<this.wheelList.length;e++)this.wheelList[e].getComponent(s.BUNDLE_NAME+"WheelFree").onStartRoll();this.scheduleOnce(function(){t.wheelList[0].getComponent(s.BUNDLE_NAME+"WheelFree").onGetNetData(t.wheelNetData[0])},1),a.FreeTimeNow++,this.onUpdateFreeTimeNow(),this.freesIndex++}else this.clearing()},onUpdateFreeTimeNow:function(){this.labNow.getComponent(cc.Label).string=a.FreeTimeNow},onUpdateFreeTimeAll:function(){this.labAll.getComponent(cc.Label).string=a.FreeTimeAll},updageGameWin:function(t){var e=this;if(0!=t){var i=this.winCoins,n=i+t,o=Math.ceil(n/20);this.schedule(function(){(i+=o)>n&&(i=n),e.labWin.string=c.formattingCoins(i)},.03,20),this.winCoins+=t}},onWheelRollEnd:function(t){this.wheelCompelete!=s.WHEEL_COUNT-1?(this.wheelList[t+1].getComponent(s.BUNDLE_NAME+"WheelFree").onGetNetData(this.wheelNetData[t+1]),this.wheelCompelete++):this.stateCallBack()},addEventListener:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),o.addEventListener(n.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this),o.addEventListener(n.ON_WHEEL_FREE_ROLL_END,this.onWheelRollEnd,this)},initNormalWheel:function(){this.wheelList=[];for(var t=0;t<s.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheel);this.pnlWheel.addChild(e),this.wheelList.push(e),e.getComponent(s.BUNDLE_NAME+"WheelFree").setWheelData(t)}},initAniWheel:function(){this.wheelAniList=[];for(var t=0;t<s.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.pnlWheelAni.addChild(e),this.wheelAniList.push(e),e.getComponent(s.BUNDLE_NAME+"WheelAni").setWheelData(t)}},initWheelAni:function(){this.wheelAniItemList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT;t++)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelAniList[e].getComponent(s.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(i[t])}}}),cc._RF.pop()},{"./Data/PTFireLinkChinaStreetItemConfig":"PTFireLinkChinaStreetItemConfig"}],PTFireLinkChinaStreetGameData:[function(t,e){"use strict";cc._RF.push(e,"14d83C/hUNPaIDNaOrnmw/4","PTFireLinkChinaStreetGameData");e.exports={BUNDLE_NAME:"PTFireLinkChinaStreet",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},VERTICAL_ITEM_COUNT:4,WHEEL_COUNT:5,GAME_MODE:{NORMAL:0,FREE:1,FAKE_FREE:2},LINE_OFFSET:1,ONE_GOLD_MODE:!1},cc._RF.pop()},{}],PTFireLinkChinaStreetHelp:[function(t,e){"use strict";cc._RF.push(e,"093869Vor5DMJ1Y9fvMlUCa","PTFireLinkChinaStreetHelp");var i=t("PTFireLinkChinaStreetEventConfig"),n=t("PTFireLinkChinaStreetEventManager"),o=t("PTFireLinkChinaStreetUserData");cc.Class({extends:cc.Component,properties:{imgHelp:cc.Sprite,asset:cc.SpriteAtlas},onLoad:function(){this.addEventListener(),this.loadUI(),this.helpSpriteFrames=this.asset.getSpriteFrames(),window.resizeWinX(this)},loadUI:function(){var t=this;o.Bundle.load("resources/image/Atlas_GameUI",cc.SpriteAtlas,function(e,i){e||(t.spAtlas=i,cc.find("nodeMenu/pnlMain/btnHome",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Home"),cc.find("nodeMenu/pnlMain/btnNext",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Next"),cc.find("nodeMenu/pnlMain/btnPre",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Prev"),cc.find("nodeMenu",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Bottom_BG"))})},show:function(){this.node.active=!0,this.pageIndex=0,this.setHelpView()},setHelpView:function(){this.imgHelp.spriteFrame=this.helpSpriteFrames[this.pageIndex]},onClickNext:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.pageIndex++,this.pageIndex>=this.helpSpriteFrames.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.helpSpriteFrames.length-1),this.setHelpView()},onClickHideHelp:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetItemConfig:[function(t,e){"use strict";cc._RF.push(e,"38807+dX9RNy7MbFkA5OoHj","PTFireLinkChinaStreetItemConfig");var i={item00:0,item01:1,item02:2,item03:3,item04:4,item05:5,item06:6,item07:7,item08:8,WILD:23,BONUS:24,MINI:25,MINOR:26,MAJOR:27,MEGA:28},n={ITEM_HEIGHT:87,ITEM_WIDTH:127,WHEEL_WIDTH:127,WHEEL_HEIGHT:348,UP_CONFIG:[50,75,100,125,150,200,250,375,500,625,750,1e3,2500,5e3],ITEM_HEIGHT_UP:87,SpriteFramelist:["FKDHZ_Icon_00","FKDHZ_Icon_01","FKDHZ_Icon_02","FKDHZ_Icon_03","FKDHZ_Icon_04","FKDHZ_Icon_05","FKDHZ_Icon_06","FKDHZ_Icon_07","FKDHZ_Icon_08","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_11","FKDHZ_Icon_09","FKDHZ_Icon_10","FKDHZ_Icon_15","FKDHZ_Icon_16","FKDHZ_Icon_17","FKDHZ_Icon_18"],ItemID:i,IsUpID:function(t){return t>=9&&t<=22},IsBonusID:function(t){return t==i.BONUS},IsWildID:function(t){return t>=i.WILD}};e.exports=n,cc._RF.pop()},{}],PTFireLinkChinaStreetItem:[function(t,e){"use strict";cc._RF.push(e,"b111dY/LRlKfI9T2LbXD8aD","PTFireLinkChinaStreetItem");var i="PTFireLinkChinaStreet",n=t(i+"Util"),o=t(i+"ItemConfig"),s=t(i+"UserData");t(i+"GameData"),t(i+"EventConfig"),t(i+"EventManager"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,labCount:cc.Node,aniItem:cc.Node,aniBoom:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){var t=this;this.itemID=0,this.wheelID=0,this.verticalPos=0,this.itemScore=0,this.aniBoom.active=!1,this.tweenSelect=cc.tween(this.itemImg).repeatForever(cc.tween().to(.6,{scaleX:1.3,scaleY:1.3}).to(.6,{scaleX:1,scaleY:1})),this.aniBoom.getComponent(cc.Animation).on("finished",function(){t.aniBoom.active=!1},this),this.randImg()},randImg:function(){var t=n.getRandID(0,o.ItemID.item08);this.changeItem(t)},reset:function(){this.tweenSelect.stop(),this.aniItem.active=!1,this.labCount.active=!1,this.itemImg.active=!0},changeItem:function(t){this.reset(),this.itemID=t,this.itemImg.scaleX=1,this.itemImg.scaleY=1,o.IsUpID(t)&&(this.labCount.active=!0,this.itemScore=o.UP_CONFIG[t-9]*(s.BetValue/s.Line),this.labCount.getComponent(cc.Label).string=n.formattingCoins(this.itemScore),this.playItemAni()),this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(o.SpriteFramelist[t])},getItemScore:function(){return this.itemScore},startRoll:function(){},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return o.IsBonusID(this.itemID)},isWildItem:function(){return o.IsWildID(this.itemID)},isUpItem:function(){return o.IsUpID(this.itemID)},rollEnd:function(){this.isBonusItem()&&this.playAniBonus()},playWildAni:function(){},playBoomAni:function(){this.aniBoom.active=!0,this.aniBoom.getComponent(cc.Animation).play()},playSelectAni:function(){o.IsUpID(this.itemID)||o.IsBonusID(this.itemID)?this.playItemAni():this.tweenSelect.start()},playItemAni:function(t){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.scaleX=.6,this.aniItem.scaleY=.6,this.aniItem.angle=0,o.IsUpID(this.itemID)?(t="game02",this.aniItem.scaleX=.7,this.aniItem.scaleY=.7,this.aniItem.angle=90):t||(t="game03"),this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(t)},playAniBonus:function(){this.playItemAni("game03Show")}}),cc._RF.pop()},{}],PTFireLinkChinaStreetLineConfig:[function(t,e){"use strict";cc._RF.push(e,"c91c5MI9KRFWqHhIPVyaFUh","PTFireLinkChinaStreetLineConfig");e.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],PTFireLinkChinaStreetLockItem:[function(t,e){"use strict";cc._RF.push(e,"0f4452v3T5AG74q7E/t3/YW","PTFireLinkChinaStreetLockItem");var i="PTFireLinkChinaStreet",n=t(i+"UserData"),o=t(i+"EventManager"),s=t(i+"EventConfig"),a=t(i+"ItemConfig");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.initUI(),this.loadUI(),this.node.height=a.ITEM_HEIGHT_UP,this.pnlMain.active=!1},initUI:function(){this.pnlMain=cc.find("pnlMain",this.node),this.labLockCount=cc.find("imgLock/labLockCount",this.pnlMain).getComponent(cc.Label),cc.find("imgBg",this.pnlMain).height=a.ITEM_HEIGHT_UP},loadUI:function(){var t=this;n.Bundle.load("resources/image/Atlas_GameUI",cc.SpriteAtlas,function(e,i){e||(t.spAtlas=i,cc.find("pnlMain/fntMore",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("UI_NumLock03"),cc.find("pnlMain/fntUnlock",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("UI_NumLock01"),cc.find("pnlMain/imgBall",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("UI_NumLock04"),cc.find("pnlMain/imgLock",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("UI_NumLock02"))}),n.Bundle.load("resources/fnt/0",cc.Font,function(e,i){e||(t.labLockCount.font=i)})},getLockCount:function(){return this.lockCount},subLock:function(){0!=this.lockCount&&(this.lockCount--,0!=this.lockCount?this.labLockCount.string=this.lockCount:this.unlock())},isUnLock:function(){return this.lockCount<=0},reset:function(){this.pnlMain.active=!1},lock:function(t){this.lockCount=t,this.labLockCount.string=this.lockCount,this.pnlMain.active=!0},unlock:function(){this.pnlMain.active=!1,o.emit(s.PLAY_AUDIO_EF,"UnlockRow")}}),cc._RF.pop()},{}],PTFireLinkChinaStreetMainUp:[function(t,e){"use strict";cc._RF.push(e,"46473iHdelLI7nunPm+89/Z","PTFireLinkChinaStreetMainUp");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"ItemConfig"),r=t(i+"Util"),l=[8,12,16,20];cc.Class({extends:cc.Component,properties:{preWheel:cc.Prefab,pnlWheel:cc.Node,preItem:cc.Prefab,pnlWheelUp:cc.Node,preLock:cc.Prefab,pnlLock:cc.Node,imgBg:cc.Node,aniWinEffect:cc.Node,labWin:cc.Node,pnlWin:cc.Node,imgFreeCount:cc.Node,lineListUp:{type:cc.Node,default:[]},lineListLeft:{type:cc.Node,default:[]},lineListRight:{type:cc.Node,default:[]},pnlMain:cc.Node,aniBall:cc.Node,mask:cc.Node,partcle:cc.Node,pnlLine:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.initLine(),this.initLock(),this.initWin(),this.initFreeCount(),this.initWheelUp(),this.initWheel(),this.freeCount=0,this.unlockWheel=0,this.lockItemCount=0,this.pnlWheel.y=this.imgBg.y+this.pnlLine.y+4*c.ITEM_HEIGHT_UP,this.pnlWheelUp.y=this.pnlWheel.y,this.pnlLock.y=this.pnlWheel.y},initLine:function(){for(var t=0;t<this.lineListUp.length;t++)this.lineListUp[t].y=2*c.WHEEL_HEIGHT;for(var e=0;e<this.lineListLeft.length;e++)this.lineListLeft[e].y=2*c.WHEEL_HEIGHT-c.ITEM_HEIGHT_UP-c.ITEM_HEIGHT_UP*e*2,this.lineListLeft[e].x=5*-c.WHEEL_WIDTH/2;for(var i=0;i<this.lineListRight.length;i++)this.lineListRight[i].y=2*c.WHEEL_HEIGHT-2*c.ITEM_HEIGHT_UP-c.ITEM_HEIGHT_UP*i*2,this.lineListRight[i].x=5*c.WHEEL_WIDTH/2;this.partcleList=[this.partcle];for(var n=0;n<12;n++){var o=cc.instantiate(this.partcle);this.pnlLine.addChild(o),this.partcleList.push(o)}for(var s=0;s<this.partcleList.length;s++)this.partcleList[s].getComponent(cc.ParticleSystem).stopSystem()},setFreeCount:function(t){this.freeCount=t,this.imgFreeCount.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame("Tip_Freelink"+t)},show:function(t,e){var i=this;this.clearingCallback=t,this.overCallback=e,this.initWin(),this.initFreeCount(),o.emit(n.PLAY_AUDIO_EF,"FireBallDown");for(var c=0;c<this.lockList.length;c++)this.lockList[c].getComponent(s.BUNDLE_NAME+"LockItem").reset();for(var r=0;r<this.wheelList.length;r++)this.wheelList[r].active=!1;this.pnlMain.active=!1,this.pnlWin.active=!1,this.aniBall.active=!0,this.aniBall.y=1334,cc.tween(this.aniBall).to(4,{y:-1334}).call(function(){i.showLine(),i.aniBall.active=!1}).start(),this.scheduleOnce(function(){a.GameMode=s.GAME_MODE.FAKE_FREE,o.emit(n.CHANGE_GAME_MODE),i.pnlMain.active=!0},2);for(var l=0;l<this.lineListUp.length;l++)this.lineListUp[l].active=!1;for(var h=0;h<this.lineListLeft.length;h++)this.lineListLeft[h].active=!1;for(var m=0;m<this.lineListRight.length;m++)this.lineListRight[m].active=!1;this.imgBg.height=391},showLine:function(){var t=this,e=0,i=function(){for(var i=function(i){t.lineListUp[i].active=!0,t.lineListUp[i].height=0,cc.tween(t.lineListUp[i]).to(1,{height:2*c.WHEEL_HEIGHT}).start();var n=t.partcleList[e];n.y=t.lineListUp[i].y,n.x=t.lineListUp[i].x,n.getComponent(cc.ParticleSystem).resetSystem(),cc.tween(n).to(1,{y:0}).call(function(){n.getComponent(cc.ParticleSystem).stopSystem()}).start(),e++},n=0;n<t.lineListUp.length;n++)i(n);for(var o=function(i){var n=t.partcleList[e];n.y=2*c.WHEEL_HEIGHT,n.x=0,n.getComponent(cc.ParticleSystem).resetSystem(),cc.tween(n).to(1,{x:0==i?2.5*-c.WHEEL_WIDTH:2.5*c.WHEEL_WIDTH}).to(1,{y:0}).to(1,{x:0}).call(function(){n.getComponent(cc.ParticleSystem).stopSystem()}).start(),e++},s=0;s<2;s++)o(s);t.scheduleOnce(function(){for(var i=function(i){t.lineListLeft[i].active=!0,t.lineListLeft[i].width=0,cc.tween(t.lineListLeft[i]).to(1,{width:5*c.WHEEL_WIDTH}).start();var n=t.partcleList[e];n.y=t.lineListLeft[i].y,n.x=t.lineListLeft[i].x,n.getComponent(cc.ParticleSystem).resetSystem(),cc.tween(n).by(1,{x:5*c.WHEEL_WIDTH}).call(function(){n.getComponent(cc.ParticleSystem).stopSystem()}).start(),e++},n=0;n<t.lineListLeft.length;n++)i(n);for(var o=function(i){t.lineListRight[i].active=!0,t.lineListRight[i].width=0,cc.tween(t.lineListRight[i]).to(1,{width:5*c.WHEEL_WIDTH}).start();var n=t.partcleList[e];n.y=t.lineListRight[i].y,n.x=t.lineListRight[i].x,n.getComponent(cc.ParticleSystem).resetSystem(),cc.tween(n).by(1,{x:5*-c.WHEEL_WIDTH}).call(function(){n.getComponent(cc.ParticleSystem).stopSystem()}).start(),e++},s=0;s<t.lineListRight.length;s++)o(s)},1),t.scheduleOnce(function(){t.outTransit()},3)};cc.tween(this.imgBg).to(.5,{height:this.imgBg.height+4*c.ITEM_HEIGHT_UP}).call(function(){i()}).start()},outTransit:function(){for(var t=this,e=0;e<this.wheelList.length;e++)this.wheelList[e].active=!0,this.wheelList[e].opacity=0,this.wheelList[e].getComponent(s.BUNDLE_NAME+"WheelUp").resetItem(),cc.tween(this.wheelList[e]).to(2,{opacity:255}).start();this.firelink=a.LotteryRes.viewarray.getFirelink.firelink,this.scheduleOnce(function(){for(var e in t.firelink.startIdx)t.lockItemCount++,t.unLockItem(Number(e),t.firelink.startIdx[e]),t.wheelList[Number(e)].getComponent(s.BUNDLE_NAME+"WheelUp").lockWheel();o.emit(n.STOP_MUSIC),t.scheduleOnce(function(){t.showLock()},1)},3)},showLock:function(){var t=this,e=Object.keys(this.firelink.startIdx).length;this.imgFreeCount.active=!0,this.setFreeCount(3),this.unlockWheel=3;for(var i=0,a=function(a){var c=l[a]-e;if(c<=0)return t.unlockWheel++,"continue";t.scheduleOnce(function(){o.emit(n.PLAY_AUDIO_EF,"LockRow"+(a+1)),t.lockList[a].active=!0,t.lockList[a].getComponent(s.BUNDLE_NAME+"LockItem").lock(c)},.3*i),i++},c=0;c<this.lockList.length;c++)a(c);this.firelinkIndex=0,this.scheduleOnce(function(){o.emit(n.PLAY_AUDIO_BGM,{id:3}),t.startRoll()},2)},startRoll:function(){var t=this,e=this.firelink.turns[this.firelinkIndex];if(e){this.rollItemCount=0,this.freeCount--,this.setFreeCount(this.freeCount),o.emit(n.PLAY_AUDIO_EF,"FireballGot4"),o.emit(n.START_UP_ROLL),this.lockItemCount=0;for(var i=0,c=this.wheelRollList.length-1;c>=0;c--)for(var r=function(n){var o=t.wheelRollList[c][n].getComponent(s.BUNDLE_NAME+"WheelUp");o.getIsLock()&&t.lockItemCount++,t.scheduleOnce(function(){o.onGetNetData(e[o.getWheelID()])},a.isFast?.5:.05*i),i++},l=0;l<this.wheelRollList[c].length;l++)r(l)}else this.toGameOver()},toGameOver:function(){this.startClearing()},startClearing:function(){var t=this,e=0;this.clearingCallback(),this.pnlWin.active=!0,this.labWin.getComponent(cc.Label).string=r.formattingCoins(e),function i(a){if(t.upItemList[a])if(t.upItemList[a].active){var c=t.aniWinEffect.parent.convertToWorldSpaceAR(t.aniWinEffect.getPosition());c.x=c.x+400*Math.random()-200,c.y=c.y+120*Math.random()-60;var l=t.upItemList[a],h={itemScore:l.getComponent(s.BUNDLE_NAME+"Item").getItemScore(),or:l.parent.convertToWorldSpaceAR(l.getPosition()),to:c,callback:function(){}};t.scheduleOnce(function(){e+=l.getComponent(s.BUNDLE_NAME+"Item").getItemScore(),t.labWin.getComponent(cc.Label).string=r.formattingCoins(e)},.1),t.aniWinEffect.active=!0,t.aniWinEffect.opacity=255,cc.tween(t.aniWinEffect).by(.05,{x:-2,y:-2}).by(.05,{x:2,y:-2}).by(.05,{x:2,y:2}).by(.05,{x:-2,y:-2}).to(.05,{x:0,y:6}).to(.1,{opacity:0}).start(),l.active=!1,o.emit(n.PLAY_ANIMATION,h),t.scheduleOnce(function(){i(--a)},1.2)}else i(--a);else t.clearingOver(e)}(this.upItemList.length-1)},clearingOver:function(t){var e=this;this.scheduleOnce(function(){e.overCallback(t)},1)},subLock:function(){o.emit(n.PLAY_AUDIO_EF,"FireBallBoom");for(var t=0;t<this.lockList.length;t++){var e=this.lockList[t].getComponent(s.BUNDLE_NAME+"LockItem");e.isUnLock()||(e.subLock(),e.isUnLock()&&this.unLockWheel())}},unLockWheel:function(){this.unlockWheel++;for(var t=0;t<5;t++){if(!this.wheelRollList[this.unlockWheel])return;var e=this.wheelRollList[this.unlockWheel][t].getComponent(s.BUNDLE_NAME+"WheelUp");e.getIsLock()&&(this.subLock(),this.unLockItem(e.getWheelID(),e.getItemData()))}},unLockItem:function(t,e){this.wheelList[t].active=!1,this.upItemList[t].active=!0,this.upItemList[t].getComponent(s.BUNDLE_NAME+"Item").changeItem(e),this.upItemList[t].getComponent(s.BUNDLE_NAME+"Item").playBoomAni()},onWheelUpRollEnd:function(t){var e=this;this.rollItemCount++,this.rollItemCount==this.wheelList.length-this.lockItemCount&&this.scheduleOnce(function(){3==e.freeCount&&e.setFreeCount(3),e.scheduleOnce(function(){e.firelinkIndex++,e.startRoll()},1)},1);var i=this.firelink.turns[this.firelinkIndex][t];if(null!=i){var n=this.wheelList[t].getComponent(s.BUNDLE_NAME+"WheelUp");n.lockWheel(),n.getHeightID()>this.unlockWheel||(this.unLockItem(t,i),this.subLock(),this.freeCount=3)}},onEnable:function(){o.addEventListener(n.ON_WHEEL_UP_ROLL_END,this.onWheelUpRollEnd,this)},onDisable:function(){o.removeEventListener(n.ON_WHEEL_UP_ROLL_END,this.onWheelUpRollEnd,this)},resetWheel:function(){for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(s.BUNDLE_NAME+"WheelUp").resetItem()},initLock:function(){this.lockList=[];for(var t=0;t<4;t++){var e=cc.instantiate(this.preLock);e.addComponent(s.BUNDLE_NAME+"LockItem"),this.pnlLock.addChild(e),this.lockList.push(e)}},initWin:function(){this.pnlWin.active=!1},initFreeCount:function(){this.imgFreeCount.active=!1},initWheel:function(){this.wheelList=[],this.wheelRollList=[];for(var t=0;t<8;t++){this.wheelRollList[t]=[];for(var e=0;e<5;e++){var i=cc.instantiate(this.preWheel);this.pnlWheel.addChild(i),i.getComponent(s.BUNDLE_NAME+"WheelUp").setWheelData(this.wheelList.length,t),i.x=-2.5*c.ITEM_WIDTH+c.ITEM_WIDTH/2+c.ITEM_WIDTH*e,i.y=-4*c.ITEM_HEIGHT_UP+c.ITEM_HEIGHT_UP/2+c.ITEM_HEIGHT_UP*t,this.wheelList.push(i),this.wheelRollList[t][e]=i}}},initWheelUp:function(){this.upItemList=[];for(var t=0;t<8;t++)for(var e=0;e<5;e++){var i=cc.instantiate(this.preItem);this.pnlWheelUp.addChild(i),i.x=-2.5*c.ITEM_WIDTH+c.ITEM_WIDTH/2+c.ITEM_WIDTH*e,i.y=-4*c.ITEM_HEIGHT_UP+c.ITEM_HEIGHT_UP/2+c.ITEM_HEIGHT_UP*t,this.upItemList.push(i),i.active=!1}}}),cc._RF.pop()},{}],PTFireLinkChinaStreetMain:[function(t,e){"use strict";cc._RF.push(e,"06b5cuEy9tG0K0NZHZk8oaB","PTFireLinkChinaStreetMain");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=(t(i+"ItemConfig"),t(i+"Util"));cc.Class({extends:cc.Component,properties:{preWheel:cc.Prefab,wheelPnl:cc.Node,imgMask:cc.Node,preWheelAni:cc.Prefab,wheelPnlAni:cc.Node,pnlFree:cc.Node,preFree:cc.Prefab,imgTip:cc.Node,pnlBg:cc.Node,pnlMain:cc.Node,pnlMainUp:cc.Node,preMainUp:cc.Prefab,prePool:cc.Prefab,pnlPool:cc.Node,tipSpAtlas:cc.SpriteAtlas},onLoad:function(){a.Status=s.GAME_STATE.INIT,a.GameMode=s.GAME_MODE.NORMAL,this.imgMask.active=!1,this.resultList=[],this.initNormalWheel(),this.initAniWheel(),this.initWheelAni(),this.initPool(),this.initFree(),this.initMainUp(),this.initTip()},stateCallBack:function(){if(a.Status==s.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),o.emit(n.STOP_AUDIO_EF,"NormalRolling"),a.Status=s.GAME_STATE.RESULT,o.emit(n.CHANGE_GAME_STATUS),this.resultList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT;t++)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelList[e].getComponent(s.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(i[t])}this.showResult()}},showResult:function(){if(a.LotteryRes.winscore>0)return cc.log("\u4e2d\u5956\u4e86=\u300b",a.LotteryRes.winscore),o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.winscore),o.emit(n.PLAY_AUDIO_EF,"WinLine"),a.LotteryRes.winscore/a.BetValue>=10&&o.emit(n.PLAY_RABBIT_ANI),void this.playWinAnim();cc.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.resetLineAni();for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").resetItem()},playWinAnim:function(){this.onLineAniOver(),0!=a.LotteryRes.viewarray.nWinLinesDetail.length&&this.playLineAni()},playLineAni:function(){for(var t=a.LotteryRes.viewarray.nWinLinesDetail,e=a.LotteryRes.viewarray.nWinDetail,i=a.LotteryRes.viewarray.nWinLines,n=[],o=0;o<t.length;o++)n=n.concat(t[o]);for(var s=[],c=0;c<i.length;c++)s=s.concat(i[c]);for(var r=0,l=0;l<e.length;l++)r+=e[l];this.linesList={allWinLinesDetail:[n].concat(t,[n]),allWinLines:[s].concat(i,[s]),allWinDetail:[r].concat(e,[r])},this.imgMask.active=!0,this.lineSchedIndex=0,this.onLineSchedUleCallBack(),a.IsAuto||this.schedule(this.onLineSchedUleCallBack,1.5,this.linesList.allWinDetail.length-2,1.5)},resetLineAni:function(){for(var t=0;t<this.wheelAniItemList.length;t++)this.wheelAniItemList[t].getComponent(s.BUNDLE_NAME+"Item").reset(),this.wheelAniItemList[t].active=!1,this.resultList[t]&&(this.resultList[t].active=!0)},onLineSchedUleCallBack:function(){this.resetLineAni();for(var t=this.linesList.allWinLinesDetail[this.lineSchedIndex],e=(this.linesList.allWinLines[this.lineSchedIndex],this.linesList.allWinDetail[this.lineSchedIndex],0);e<t.length;e++){var i=this.resultList[t[e]].getComponent(s.BUNDLE_NAME+"Item").getItemId();this.resultList[t[e]].active=!1,this.wheelAniItemList[t[e]].active=!0,this.wheelAniItemList[t[e]].getComponent(s.BUNDLE_NAME+"Item").changeItem(i),this.wheelAniItemList[t[e]].getComponent(s.BUNDLE_NAME+"Item").playSelectAni()}this.lineSchedIndex,0!=this.lineSchedIndex&&(this.lineSchedIndex,this.linesList.allWinLinesDetail.length),this.lineSchedIndex,this.linesList.allWinLinesDetail.length,this.lineSchedIndex++},onLineAniOver:function(){var t=this;this.scheduleOnce(function(){c.isNormalGame()&&c.checkBigWin(a.LotteryRes.winscore)?t.scheduleOnce(function(){t.showWinView(a.LotteryRes.winscore,function(){o.emit(n.STOP_AUDIO_BGM),t.toGameOver()})},1):t.toGameOver()},a.IsAuto?1.5:.2)},toGameOver:function(){var t=this;a.Status!=s.GAME_STATE.SHOW_END&&(a.Status=s.GAME_STATE.SHOW_END,a.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){t.enterFreeGame()},1):a.LotteryRes.viewarray.getFirelink.bFlag?this.scheduleOnce(function(){t.enterUp()},1):this.scheduleOnce(function(){c.isNormalGame()||0!=a.LotteryRes.freeCount?t.onGameOver():t.stopFreeTimes()},.1))},onGameOver:function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},showWinView:function(t,e){c.checkBigWin(t)?o.emit(n.SHOW_BIG_WIN,{coins:t,callback:e}):e()},stopFreeTimes:function(){var t=this;cc.log("\u9000\u51fa\u514d\u8d39\u300b\u300b\u300b"),this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),a.IsFreeSolt=!1,this.showWinView(a.FreeWinCoins,function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()})},enterFreeGame:function(){var t=this;this.closeShine(),c.isNormalGame()&&(a.FreeSoltRes=c.extendCopy(a.LotteryRes),a.initFreeData()),a.FreeRemaining+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,a.FreeTimeAll+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,this.scheduleOnce(function(){o.emit(n.UPDATE_FREE_TIME_NOW),o.emit(n.UPDATE_FREE_TIME_ALL),t.playBonusAni()},2),cc.log("\u514d\u8d39\u8f6c=\u300b")},playBonusAni:function(){var t=this;o.emit(n.PLAY_AUDIO_EF,"FreeGameAlert"),this.imgMask.active=!1;for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()&&this.resultList[e].getComponent(s.BUNDLE_NAME+"Item").playItemAni();this.scheduleOnce(function(){c.isNormalGame()&&(t.closeShine(),o.emit(n.SHOW_SELECT_CARD,{callback:function(){t.pnlMain.active=!1,t.pnlPool.active=!1,a.GameMode=s.GAME_MODE.FREE,o.emit(n.CHANGE_GAME_MODE),o.emit(n.PLAY_AUDIO_BGM,{id:2}),t.imgTip.active=!1,t.nodeFree.active=!0,t.nodeFree.getComponent(s.BUNDLE_NAME+"Free").show(function(){t.nodeFree.active=!1,t.imgTip.active=!0,t.pnlMain.active=!0,t.pnlPool.active=!0,a.GameMode=s.GAME_MODE.NORMAL,o.emit(n.CHANGE_GAME_MODE),t.stopFreeTimes()})}}))},3)},enterUp:function(){var t=this;this.scheduleOnce(function(){t.playUpBonusAni()},2)},playUpBonusAni:function(){var t=this;o.emit(n.PLAY_AUDIO_EF,"FreeGameAlert"),this.mainUp.active=!0,this.mainUp.getComponent(s.BUNDLE_NAME+"MainUp").show(function(){t.pnlPool.active=!1},function(){t.imgTip.active=!0,t.pnlMain.active=!0,t.pnlPool.active=!0,t.pnlBg.active=!0,t.onStopUpGame()}),this.scheduleOnce(function(){t.imgTip.active=!1,t.pnlMain.active=!1,t.pnlBg.active=!1},2)},onStopUpGame:function(){var t=this;a.GameMode=s.GAME_MODE.NORMAL,o.emit(n.CHANGE_GAME_MODE),this.mainUp.active=!1,o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.viewarray.getFirelink.win),o.emit(n.PLAY_AUDIO_EF,"WinLine"),this.showWinView(a.LotteryRes.viewarray.getFirelink.win,function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()})},toNewWheelRollEnd:function(t){this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t])},onStartRoll:function(){this.stopImmediately=!1,this.closeShine(),this.bonusWheelCount=0,this.imgMask.active=!1,o.emit(n.PLAY_AUDIO_EF,"NormalRolling"),c.isNormalGame()||(a.FreeRemaining--,a.FreeTimeNow++,o.emit(n.UPDATE_FREE_TIME_NOW))},onStopImmediately:function(){for(var t=0;t<this.wheelList.length;t++)this.toNewWheelRollEnd(t);this.stopImmediately=!0},onLoginGameResult:function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(t){o.emit(n.SET_LINES_VALUE,t.gameDict.betlist.length),o.emit(n.SET_BET_VALUE,t.gameDict.betsum),a.FreeTimeAll=t.gameDict.totalFreeTimes,a.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(a.GameMode=s.GAME_MODE.FREE),o.emit(n.CHANGE_GAME_MODE,t),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onLotteryResult:function(){a.Status=s.GAME_STATE.ROLL_END,o.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(a.LotteryRes.viewarray.nHandCards),a.isFast?this.onStopImmediately():this.toNewWheelRollEnd(0)},onLotteryErrResult:function(t){cc.log(t),o.emit(n.RESET_WHEEL),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){this.imgTip.active=a.GameMode==s.GAME_MODE.NORMAL,a.GameMode==s.GAME_MODE.NORMAL||(a.GameMode,s.GAME_MODE.FREE)},onWheelRollEnd:function(t){var e=this;if(this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").hideBounsEffect(),this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").checkUpItem()>0&&o.emit(n.PLAY_AUDIO_EF,"FireBallAppeared"),t!=s.WHEEL_COUNT-1){if(!this.stopImmediately){var i=this.wheelList[t].getComponent(s.BUNDLE_NAME+"Wheel").checkBoundItem();this.bonusWheelCount+=i,i>0&&(1==this.bonusWheelCount?o.emit(n.PLAY_AUDIO_EF,"FreeGameSymbols1"):2==this.bonusWheelCount?o.emit(n.PLAY_AUDIO_EF,"FreeGameSymbols2"):3==this.bonusWheelCount&&o.emit(n.PLAY_AUDIO_EF,"FreeGameSymbols3")),this.bonusWheelCount<2||3==t?this.toNewWheelRollEnd(t+1):(o.emit(n.PLAY_AUDIO_EF,"Fast"),this.wheelList[t+1].getComponent(s.BUNDLE_NAME+"Wheel").playBonusEffect(),this.scheduleOnce(function(){e.toNewWheelRollEnd(t+1)},1))}}else this.stateCallBack()},onEnable:function(){o.addEventListener(n.STOP_UP_GAME,this.onStopUpGame,this),o.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),o.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},initNormalWheel:function(){this.wheelList=[];for(var t=0;t<s.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheel);this.wheelPnl.addChild(e),this.wheelList.push(e),e.getComponent(s.BUNDLE_NAME+"Wheel").setWheelData(t)}},initFree:function(){var t=cc.instantiate(this.preFree);this.pnlFree.addChild(t),t.active=!1,this.nodeFree=t},initAniWheel:function(){this.wheelAniList=[];for(var t=0;t<s.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.wheelPnlAni.addChild(e),this.wheelAniList.push(e),e.getComponent(s.BUNDLE_NAME+"WheelAni").setWheelData(t)}},initWheelAni:function(){this.wheelAniItemList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT;t++)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelAniList[e].getComponent(s.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(i[t])}},initPool:function(){this.pool=cc.instantiate(this.prePool),this.pnlPool.addChild(this.pool)},initMainUp:function(){this.mainUp=cc.instantiate(this.preMainUp),this.pnlMainUp.addChild(this.mainUp),this.mainUp.active=!1},initTip:function(){var t=this,e=["Tips01","Tips02","Tips03"],i=0;cc.tween(this.imgTip).repeatForever(cc.tween().delay(5).call(function(){t.imgTip.getComponent(cc.Sprite).spriteFrame=t.tipSpAtlas.getSpriteFrame(e[i]),++i>=e.length&&(i=0),t.imgTip.scaleX=0,t.imgTip.scaleY=0}).to(.2,{scaleX:1,scaleY:1},{easing:"expoOut"})).start()}}),cc._RF.pop()},{}],PTFireLinkChinaStreetNetWheelConfig:[function(t,e){"use strict";cc._RF.push(e,"8ac6111so5ETKiSd+bwhihR","PTFireLinkChinaStreetNetWheelConfig");var i=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!1,freeType:0,nFreeTime:4,aFlag:!0},getFirelink:{bFlag:!0,firelink:{fireballNum:7,jackpot:35298,nBet:50,startIdx:{0:17,2:17,7:11,13:11,14:10},turns:[{},{6:13,21:11,22:20,31:18},{9:15},{16:18,23:16,37:16},{},{26:10,38:13},{39:12}],win:1800},win:1800},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[9,12,12,12,5,6,23,24,24,24,2,3,5,4,4,2,3,10,10,10],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}}],n=0,o={Inint:function(){n=0},GetNetConfig:function(){var t;n>=(t=i).length&&(n=0);var e=t[n];return n++,e}};e.exports=o,cc._RF.pop()},{}],PTFireLinkChinaStreetNetwork:[function(t,e){"use strict";cc._RF.push(e,"531d1sbVzVB54bSqAJaCXVQ","PTFireLinkChinaStreetNetwork");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=(t(i+"ItemConfig"),t(i+"NetWheelConfig"),t("PlayerInfo"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=c.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){var i=null;if("error"==t&&(cc.log("socket error"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"connect_error"==t&&(cc.log("connect_error"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"UPDATE_COIN"==t&&o.emit("UPDATE_COIN"),"connect_timeout"==t&&(cc.log("connect_timeout"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})}if("loginGameResult"==t){if(i=changeResultJSON_Function(e),cc.log("LoginGameResult:",i),"1"!=i.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),window.sendNetWorkData("LoginfreeCount",JSON.stringify({})),o.emit(n.ON_LOGIN_GAME_RESULT,i),a.LoginGameResultData=i}if("lotteryResult"==t&&((i=changeResultJSON_Function(e)).ResultCode&&1==i.ResultCode?(a.LotteryRes=JSON.parse(JSON.stringify(i.ResultData)),o.emit(n.ON_LOTTERY_RESULT)):o.emit(n.ON_LOTTERY_RESULT_ERR)),"LoginRoomResult"==t&&(i=changeResultJSON_Function(e),cc.log("LoginRoomResult",i)),"pushGamblingWinPool"==t&&(i=changeResultJSON_Function(e),cc.log("pushGamblingWinPool=>",i),1==i.ResultCode&&o.emit(n.ON_PUSH_GAMBLING_WIN_POOL,i.nGamblingWinPool)),"LoginfreeCountResult"==t&&(i=changeResultJSON_Function(e),cc.log("LoginfreeCountResult:",i),1==i.ResultCode&&(i.freeType=Number(i.freeType))),"selectFreeTypeResult"==t&&(i=changeResultJSON_Function(e),cc.log("selectFreeTypeResult",i),1==i.ResultCode)){if(!a.FreeSoltRes)return;a.FreeSoltRes.viewarray.frees=i.frees,a.FreeRemaining=i.frees.length,a.FreeTimeAll=i.frees.length,a.VerticalItemCount=i.frees[0].nHandCards.length/5,o.emit(n.UPDATE_FREE_TIME_NOW),o.emit(n.UPDATE_FREE_TIME_ALL),o.emit(n.ON_SELECT_FREE_RESULT,i)}},sendRollData:function(){for(var t=[],e=0;e<a.Line;e++)t.push(a.BetValue/a.Line);cc.log("lottery=>",JSON.stringify({bet:a.BetIndex,nBetList:[a.BetValue]})),window.sendNetWorkData("lottery",JSON.stringify({bet:a.BetIndex,nBetList:[a.BetValue]}))},onLoginNet:function(){},onStartRoll:function(){a.Status=s.GAME_STATE.REQUEST,o.emit(n.CHANGE_GAME_STATUS),this.sendRollData()},onAddUserCoins:function(t){cc.log("chargeAll =>",t),this.socket.emit("chargeAll",JSON.stringify(t))},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.setSceneOrientation(),this.isOutGameIng=!0,o.destroy(),cc.director.loadScene(window.hallName)},setSceneOrientation:function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",1):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",1),cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE)},selectFreeType:function(t){cc.log("selectFreeType=>",JSON.stringify({type:t})),window.sendNetWorkData("selectFreeType",JSON.stringify({type:t}))},onEnable:function(){o.addEventListener(n.SEND_FREE_TYPE,this.selectFreeType,this),o.addEventListener(n.ADD_USER_COINS,this.onAddUserCoins,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.OUT_GAME,this.onOutGame,this),o.addEventListener(n.LOGIN_NET,this.onLoginNet,this)},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],PTFireLinkChinaStreetPool:[function(t,e){"use strict";cc._RF.push(e,"cbef3yW4AtMRKL4rVxhjowX","PTFireLinkChinaStreetPool");var i="PTFireLinkChinaStreet",n=t(i+"Util"),o=(t(i+"ItemConfig"),t(i+"UserData")),s=(t(i+"GameData"),t(i+"EventConfig")),a=t(i+"EventManager");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.labGrand=cc.find("pnlMega/labCount",this.node).getComponent(cc.Label),this.labMajor=cc.find("pnlMajor/labCount",this.node).getComponent(cc.Label),this.labMinor=cc.find("pnlMinor/labCount",this.node).getComponent(cc.Label),this.labMini=cc.find("pnlMini/labCount",this.node).getComponent(cc.Label),this.loadUI()},loadUI:function(){var t=this;o.Bundle.load("resources/image/Atlas_GameUI",cc.SpriteAtlas,function(e,i){e||(t.spAtlas=i,cc.find("pnlMega/New Sprite",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("MegaBG"),cc.find("pnlMinor/New Sprite",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("MinorBG"),cc.find("pnlMini/New Sprite",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("MiniBG"),cc.find("pnlMajor/New Sprite",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("MajorBG"))}),o.Bundle.load("resources/fnt/Font_Jackpot",cc.Font,function(e,i){e||(t.labGrand.font=i,t.labMajor.font=i,t.labMinor.font=i,t.labMini.font=i)})},updatePool:function(t){this.labGrand.string=n.formattingCoins(500*t),this.labMajor.string=n.formattingCoins(200*t),this.labMinor.string=n.formattingCoins(50*t),this.labMini.string=n.formattingCoins(15*t)},onLoginGameResult:function(t){1==t.resultid&&this.updatePool(t.Obj.nGamblingWinPool)},onPushGamblingWinPoolResult:function(t){this.updatePool(t)},onEnable:function(){a.addEventListener(s.ON_PUSH_GAMBLING_WIN_POOL,this.onPushGamblingWinPoolResult,this),a.addEventListener(s.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetScene:[function(t,e){"use strict";cc._RF.push(e,"c584490tFlE4oqT3Oa+fkfL","PTFireLinkChinaStreetScene");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preHelp:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab,preSelectCard:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.setSceneOrientation(),this.initNode(),this.initUI(),this.scheduleOnce(function(){},3),this.labCoinsTip.active=!1},initData:function(){a.slotBetList=c.getInstant.slotBetList,a.slotBetList||(a.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),c.getInstant.maxBet||(c.getInstant.maxBet=2e3),c.getInstant.fixedBet||(c.getInstant.fixedBet=50),a.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),a.BetValue=a.Line},setSceneOrientation:function(){cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","cocosChangeOrientation","(I)V",2):cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","cocosChangeOrientation:",2),cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT)},onShowNotMoney:function(){this.labCoinsTip.active||this.playTipAction()},playTipAction:function(){var t=this;this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3)},onChangeGameMode:function(){},onEnable:function(){o.addEventListener(n.HAVE_NO_MONEY,this.onShowNotMoney,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initBigWin(),this.initGameUIDown(),this.initGameUIUp(),this.initHelp(),this.initTipView(),this.initSelectCard(),this.initAnimation(),this.initTransit(),this.initYouWin()},loadComplete:function(){this.loadCount--,0==this.loadCount&&o.emit(n.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initAutoUI:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"Auto"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initBigWin:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);t.gameNode.addChild(n),n.active=!1,t.loadComplete()}})},onDestroy:function(){o.destroy()},initGameUIDown:function(){this.loadCount++,cc.resources.load("prefabs/commonUiV",function(t,e){if(t)cc.log(t);else{var n=cc.instantiate(e);n.addComponent(i+"DownUI"),this.gameNode.addChild(n,1e3);var o=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",n.width,n.height,o,o.width/n.width),n.scaleX=o.width/750,n.scaleY=o.height/1334,this.loadComplete()}}.bind(this))},initGameUIUp:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preUpUI",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"UpUI"),t.gameNode.addChild(n),t.loadComplete()}})},initHelp:function(){var t=cc.instantiate(this.preHelp);this.topNode.addChild(t),t.active=!1},initGameMenu:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"Menu"),t.showNode.addChild(n),n.active=!1,t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"TipView"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initAddCoins:function(){var t=this;this.loadCount++,a.Bundle.load("resources/prefab/preAddCoins",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"AddCoins"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initAnimation:function(){var t=cc.instantiate(this.preAnimation);this.topNode.addChild(t)},initTransit:function(){var t=cc.instantiate(this.preTransit);this.topNode.addChild(t),t.active=!1},initYouWin:function(){var t=cc.instantiate(this.preYouWin);this.topNode.addChild(t),t.active=!1},initSelectCard:function(){var t=cc.instantiate(this.preSelectCard);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],PTFireLinkChinaStreetSelectCard:[function(t,e){"use strict";cc._RF.push(e,"7f94fhAyhdCcZHVxOuT0QvO","PTFireLinkChinaStreetSelectCard"),t("./Data/PTFireLinkChinaStreetItemConfig");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager");t(i+"GameData"),t(i+"UserData"),t(i+"Util"),cc.Class({extends:cc.Component,properties:{itemList:{type:cc.Node,default:[]},itemCard:cc.Node,aniCard:cc.Node},onLoad:function(){var t=this;this.addEventListener(),this.aniCard.getComponent(cc.Animation).on("finished",function(){t.aniCard.active=!1},this),this.aniCard.active=!1},onClickItem:function(t,e){this.isTouch||(this.isTouch=!0,this.updateItemList(!0),o.emit(n.SEND_FREE_TYPE,Number(e)))},updateItemList:function(t){for(var e=0;e<this.itemList.length;e++)cc.find("itemOff",this.itemList[e]).active=t},show:function(t){this.data=t,this.node.active=!0,this.isTouch=!1,this.itemCard.active=!0,this.itemCard.x=257.5,this.itemCard.y=0,this.updateItemList(!1)},showResult:function(){var t=this;o.emit(n.PLAY_AUDIO_EF,"CardHide"),cc.tween(this.itemCard).to(1,{x:0}).delay(.5).call(function(){o.emit(n.PLAY_AUDIO_EF,"Poker"),t.itemCard.active=!1,t.aniCard.active=!0,t.aniCard.x=0,t.aniCard.y=0,t.aniCard.getComponent(cc.Animation).play(),cc.tween(t.aniCard).to(1.95,{x:-221,y:440}).call(function(){t.aniCard.active=!1,t.hide()}).start()}).start()},onSelectFreeResult:function(){this.showResult()},hide:function(){this.data.callback(),this.node.active=!1},addEventListener:function(){o.addEventListener(n.SHOW_SELECT_CARD,this.show,this),o.addEventListener(n.ON_SELECT_FREE_RESULT,this.onSelectFreeResult,this)}}),cc._RF.pop()},{"./Data/PTFireLinkChinaStreetItemConfig":"PTFireLinkChinaStreetItemConfig"}],PTFireLinkChinaStreetTipView:[function(t,e){"use strict";cc._RF.push(e,"469ddm1GVRLLrX/gb6XRoT4","PTFireLinkChinaStreetTipView");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"UserData"),a=(t(i+"GameData"),[]);a[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;s.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,i){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=a[e])},onClickOK:function(){o.emit(n.PLAY_AUDIO_EF,"btnShow"),this.callback(),this.node.active=!1},onClickHide:function(){o.emit(n.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){o.addEventListener(n.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetTransit:[function(t,e){"use strict";cc._RF.push(e,"d5733IT/ZVHL5eixAT83yyh","PTFireLinkChinaStreetTransit");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"UserData"),a=t(i+"GameData"),c=[];c[0]="xiaojindan",c[5]="zidan",c[7]="landan",c[10]="lvdan",c[15]="chengdan",c[20]="hongdan",cc.Class({extends:cc.Component,properties:{aniFire:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){},show:function(t){this.data=t,this.node.active=!0},toUp:function(){var t=this;if(this.aniFire.active=!0,-1334==this.aniFire.y)return this.aniFire.angle=180,void cc.tween(this.aniFire).to(4,{y:1334}).call(function(){t.data.callback(),t.aniFire.active=!1,t.hide()}).start();this.aniFire.angle=0,this.aniFire.y=1334,cc.tween(this.aniFire).to(4,{y:-1334}).call(function(){t.data.callback(),t.aniFire.active=!1,t.hide()}).start()},toFree:function(){var t=this;this.imgEgg.active=!0,this.imgEgg.scaleX=1,this.imgEgg.scaleY=1;var e=this.node.convertToNodeSpaceAR(this.data.or),i=this.node.convertToNodeSpaceAR(this.data.to);this.imgEgg.x=e.x,this.imgEgg.y=e.y;var r=this.spAtlas.getSpriteFrame(c[this.data.count]),l=this.spAtlas.getSpriteFrame(c[this.data.count]+"_1");this.imgEgg.getComponent(cc.Sprite).spriteFrame=r,o.emit(n.PLAY_AUDIO_EF,"SelectFan"),cc.tween(this.imgEgg).to(.5,{x:0,y:0,scaleY:10}).call(function(){s.GameMode=a.GAME_MODE.FREE,o.emit(n.CHANGE_GAME_MODE)}).to(.5,{x:i.x,y:i.y,scaleY:1.6}).call(function(){t.aniEgg.x=i.x,t.aniEgg.y=i.y,t.aniEgg.active=!0,t.aniEgg.getComponent(cc.Animation).play(),o.emit(n.STOP_AUDIO_EF,"SelectFan")}).start(),cc.tween(this.imgEgg).to(.05,{scaleX:2}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:1}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:4}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:2}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:6}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:4}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:8}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:4}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:10}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:6}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:8}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:4}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:6}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:2}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:4}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:1}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:3}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=l}).to(.05,{scaleX:1}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:2}).call(function(){t.imgEgg.getComponent(cc.Sprite).spriteFrame=r}).to(.05,{scaleX:1.6}).start()},hide:function(){this.node.active=!1},onEnable:function(){o.addEventListener(n.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],PTFireLinkChinaStreetUpUI:[function(t,e){"use strict";cc._RF.push(e,"2c043UEdl1LEYeX2Oub9/5k","PTFireLinkChinaStreetUpUI");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"Util"),r=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.initUI(),this.loadUI(),this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin),window.resizeWinX(this)},initUI:function(){var t=cc.find("nodeMain",this.node);this.btnHome=cc.find("btnHome",t),this.btnHome.on("click",this.onClickHome,this),this.btnMusic=cc.find("btnMusic",t),this.btnMusic.on("click",this.onClickBgm,this),this.btnSound=cc.find("btnSound",t),this.btnSound.on("click",this.onClickSound,this),this.labBalance=cc.find("nodeBalance/labBalance",t).getComponent(cc.Label),this.node.scale=0},loadUI:function(){var t=this;a.Bundle.load("resources/image/Atlas_GameUI",cc.SpriteAtlas,function(e,i){e||(t.spAtlas=i,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Top_BG"),cc.find("nodeMain/btnHome",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Btn_Return"),cc.find("nodeMain/btnMusic/imgOff",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Music_Off"),cc.find("nodeMain/btnMusic/imgOn",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Music_On"),cc.find("nodeMain/btnSound/imgOff",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Sound_Off"),cc.find("nodeMain/btnSound/imgOn",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Sound_On"),cc.find("nodeMain/nodeBalance",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("BGColider"),cc.find("nodeMain/nodeBalance/imgFnt",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Entries"))})},onClickHelp:function(){o.emit(n.PLAY_AUDIO_EF,"btnShow"),o.emit(n.SHOW_HELP_VIEW)},onClickMenu:function(){this.nodeMenu.active=!0,o.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickHideMenu:function(){o.emit(n.PLAY_AUDIO_EF,"btnHide"),this.nodeMenu.active=!1},onClickAddCoins:function(){o.emit(n.PLAY_AUDIO_EF,"btnShow"),o.emit(n.SHOW_ADD_USER_COINS)},onClickBgm:function(){r.getInstant.musicControl=!r.getInstant.musicControl,cc.find("imgOn",this.btnMusic).active=r.getInstant.musicControl,cc.find("imgOff",this.btnMusic).active=!r.getInstant.musicControl,r.getInstant.musicControl?(a.GameMode==s.GAME_MODE.NORMAL?o.emit(n.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):o.emit(n.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),o.emit(n.PLAY_AUDIO_EF,"btnShow")):o.emit(n.STOP_AUDIO)},onClickSound:function(){r.getInstant.soundEffectControl=!r.getInstant.soundEffectControl,cc.find("imgOn",this.btnSound).active=r.getInstant.soundEffectControl,cc.find("imgOff",this.btnSound).active=!r.getInstant.soundEffectControl,r.getInstant.soundEffectControl&&o.emit(n.PLAY_AUDIO_EF,"btnShow")},onClickHome:function(){o.emit(n.PLAY_AUDIO_EF,"btnHide"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)},type:0})},updageGameWin:function(t){0!=t&&(r.getInstant.playerCoin+=t,r.getInstant.labBalance.string=this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin))},onChargeAllResult:function(t){t&&(this.hideHandTip(),r.getInstant.playerCoin=t.score?t.score:0,r.getInstant.labBalance.string=this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin))},onLotteryResult:function(){},hideHandTip:function(){this.addCoinsHandTween.stop(),this.imgAddCoinsHand.active=!1},onHaveNoMoney:function(){this.imgAddCoinsHand.active=!0,this.addCoinsHandTween.start()},onStartRoll:function(){c.isNormalGame()&&(r.getInstant.playerCoin-=a.BetValue,r.getInstant.labBalance.string=this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin))},onChangeGameMode:function(){this.btnHome.getComponent(cc.Button).interactable=a.GameMode==s.GAME_MODE.NORMAL},showSelectCard:function(){this.btnHome.getComponent(cc.Button).interactable=!1},onEnable:function(){o.addEventListener(n.SHOW_SELECT_CARD,this.showSelectCard,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),o.addEventListener(n.HAVE_NO_MONEY,this.onHaveNoMoney,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.UPDATE_GAME_WIN,this.updageGameWin,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PTFireLinkChinaStreetUserData:[function(t,e){"use strict";cc._RF.push(e,"9e87b23eVJM6Jq4Lav/Fv0r","PTFireLinkChinaStreetUserData");var i={Bundle:null,LotteryRes:null,init:function(t){i.Bundle=t,i.GameMode=0,i.Status=0,i.BetIndex=0,i.Line=50,i.FakeFreeTime=0,i.AllFakeFreeTime=0,i.isFast=!1,i.FakeSoltIndex=0,i.IsAuto=!1,i.IsFreeSolt=!1,i.IsFakeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeRemaining=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};e.exports=i,cc._RF.pop()},{}],PTFireLinkChinaStreetUtil:[function(t,e){"use strict";cc._RF.push(e,"909ffctIxZKi7XkRnVkVOl+","PTFireLinkChinaStreetUtil");var i=t("PTFireLinkChinaStreetGameData"),n=t("PTFireLinkChinaStreetUserData"),o=(t("PTFireLinkChinaStreetItemConfig"),t("PlayerInfo")),s={convertNetData:function(t){for(var e=[],i=0;i<5;i++)e[i]=[];for(var n in t)e[n%5][parseInt(n/5)]=t[n];return e},getItemWheelID:function(t){return t%5},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,i){for(var n=[],o=0;o<15;o++)i[o]?n[o]=i[o]:n[o]=s.getRandID(t,e);return n},formattingCoins:function(t){return(t/o.getInstant.exchangeRate).toFixed(2)},getRandItemFromList:function(t){return t[s.getRandID(0,t.length-1)]},getRandItemID:function(t){var e=parseInt(Math.random()*t.length);return e>=t.length&&(e=t.length-1),e<=0&&(e=0),e},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},getRate:function(t){return t/n.BetValue},getBigWinRate:function(t){var e=s.getRate(t),i=0;return e>=500?i=4:e>=200?i=3:e>=100?i=2:e>=50?i=1:e>=20&&(i=0),i},checkBigWin:function(t){return t/n.BetValue>=20},getItemCount:function(t,e){for(var i=0,n=0;n<t.length;n++)t[n]==e&&i++;return i},checkWinItem:function(t,e,i){for(var n=0;n<i.length;n++)if(i[n]==t&&e[n])return!0;return!1},updateSetString:function(t,e,i,n,o,s){var a=0,c=Math.ceil(t/n);i.string=e;var r=0;s.schedule(function(){(a+=c)>t&&(a=t),i.string=a+e,++r==n+1&&o()},.02,n)},extendCopy:function(t){var e={};for(var i in t)e[i]=t[i];return e}};e.exports=s,cc._RF.pop()},{PlayerInfo:void 0}],PTFireLinkChinaStreetWheelAni:[function(t,e){"use strict";cc._RF.push(e,"cdca7/VgjRCAIN1ZXnrkBVi","PTFireLinkChinaStreetWheelAni");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=(t(i+"UserData"),t(i+"ItemConfig"));cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node},onLoad:function(){this.node.width=a.WHEEL_WIDTH},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(s.BUNDLE_NAME+"Item").reset(),e.active=!1}},setItemmData:function(t,e){for(var i=0;i<this.itemAniList.length;i++)this.itemAniList[i].getComponent(s.BUNDLE_NAME+"Item").changeItem(t[i]);this.pnlItemAni.y=1==e?a.ITEM_HEIGHT/2:0},showWinItem:function(t){for(var e=0;e<t.length;e++)t[e]&&(this.itemAniList[e].active=!0,this.itemAniList[e].getComponent(s.BUNDLE_NAME+"Item").playSelectAni())},hideBounsEffect:function(){this.bonusAni.active=!1},playBonusEffect:function(){this.bonusAni.active=!0},onStartRoll:function(){this.resetItem()},onChangeGameMode:function(){},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT;t++){var e=a.ITEM_HEIGHT*t-a.ITEM_HEIGHT*(s.VERTICAL_ITEM_COUNT-1)/2,i=cc.instantiate(this.preItemAni);this.itemAniList.push(i),this.pnlItemAni.addChild(i),i.y=e,i.active=!1}}}),cc._RF.pop()},{}],PTFireLinkChinaStreetWheelFree:[function(t,e){"use strict";cc._RF.push(e,"84261xjExVI2Iq745e0HiKY","PTFireLinkChinaStreetWheelFree");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"ItemConfig"),r=-(s.VERTICAL_ITEM_COUNT-1)/2*c.ITEM_HEIGHT,l=((s.VERTICAL_ITEM_COUNT-1)/2+1)*c.ITEM_HEIGHT;cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=c.WHEEL_WIDTH,this.node.height=c.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=c.WHEEL_WIDTH,t.height=c.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()&&t++;return t},checkUpItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isUpItem()&&t++;return t},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++){var e=this.resultItemList[t].getComponent(s.BUNDLE_NAME+"Item");c.IsUpID(e.getItemId())||this.resultItemList[t].getComponent(s.BUNDLE_NAME+"Item").reset()}},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(a.GameMode)},onEnable:function(){},onGetNetData:function(t){this.netIdList=t,this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var i=t.itemList[e],n=cc.tween(i);i.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.03,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){i.y<r&&(i.y=l,i.getComponent(s.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(n.stop(),t.rollEnd(i,e)),t.isResetRoll&&(n.stop(),t.resetRolePos(i,e))})).start()},i=0;i<this.itemList.length;i++)e(i)},rollEnd:function(t,e){var i=this,a=this;cc.tween(t).repeat(s.VERTICAL_ITEM_COUNT+1,cc.tween().by(.03,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){t.y<r&&(t.y=l,a.itemIndex>=a.netIdList.length?t.getComponent(s.BUNDLE_NAME+"Item").randImg():(t.getComponent(s.BUNDLE_NAME+"Item").changeItem(a.netIdList[a.itemIndex]),a.resultItemList.push(t)),t.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(a.itemIndex),a.itemIndex++)})).call(function(){var a=t.getComponent(s.BUNDLE_NAME+"Item").getItemVerticalPos();a=-1==a?s.VERTICAL_ITEM_COUNT+1:a,t.y=i.getOrightPos(a),e==i.itemList.length-1&&o.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<c.ITEM_HEIGHT+c.ITEM_HEIGHT/2&&t.getComponent(s.BUNDLE_NAME+"Item").rollEnd(),i.itemList.length-1==e&&o.emit(n.ON_WHEEL_FREE_ROLL_END,i.wheelId)}).start()},getOrightPos:function(t){return c.ITEM_HEIGHT*t-(s.VERTICAL_ITEM_COUNT+1-2)/2*c.ITEM_HEIGHT},resetRolePos:function(t,e){t.y=this.getOrightPos(e)},hideBounsEffect:function(){this.bonusAni.active=!1},playBonusEffect:function(){this.bonusAni.active=!0},initItem:function(){this.itemList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT+1;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=this.getOrightPos(t),e.getComponent(s.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],PTFireLinkChinaStreetWheelUp:[function(t,e){"use strict";cc._RF.push(e,"a505asuQZBGmp9EC3zE0+V7","PTFireLinkChinaStreetWheelUp");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=(t(i+"UserData"),t(i+"ItemConfig")),c=t(i+"Util"),r=-1*a.ITEM_HEIGHT_UP,l=2*a.ITEM_HEIGHT_UP;cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=a.WHEEL_WIDTH,this.node.height=a.ITEM_HEIGHT_UP;var t=cc.find("pnlMask",this.node);t.width=a.WHEEL_WIDTH,t.height=a.ITEM_HEIGHT_UP},setWheelData:function(t,e){this.wheelId=t,this.heightID=e,this.initItem()},getWheelID:function(){return this.wheelId},getHeightID:function(){return this.heightID},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},lockWheel:function(){this.isLock=!0},getIsLock:function(){return this.isLock},reset:function(){},getItemData:function(){return this.netIdList},onStartRoll:function(){this.isLock||(this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset())},onStopImmediately:function(){this.isStopRoll=!0},onEnable:function(){o.addEventListener(n.START_UP_ROLL,this.onStartRoll,this)},onDisable:function(){o.removeEventListener(n.START_UP_ROLL,this.onStartRoll,this)},onGetNetData:function(t){this.isLock||(this.netIdList=t,this.isStopRoll=!0)},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var i=t.itemList[e],n=cc.tween(i);i.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT_UP)}).call(function(){i.y<r&&(i.y=l,i.getComponent(s.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(n.stop(),t.rollEnd(i,e)),t.isResetRoll&&(n.stop(),t.resetRolePos(i,e))})).start()},i=0;i<this.itemList.length;i++)e(i)},rollEnd:function(t,e){var i=this,h=this;cc.tween(t).repeat(4,cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT_UP)}).call(function(){if(t.y<r){if(t.y=l,1==h.itemIndex&&null!=i.netIdList)t.getComponent(s.BUNDLE_NAME+"Item").changeItem(h.netIdList),h.resultItemList.push(t);else{var e=c.getRandID(a.ItemID.item00,a.ItemID.item08);t.getComponent(s.BUNDLE_NAME+"Item").changeItem(e)}t.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(h.itemIndex),h.itemIndex++}})).call(function(){var e=t.getComponent(s.BUNDLE_NAME+"Item").getItemVerticalPos();e=-1==e?4:e,t.y=i.getOrightPos(e)}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<a.ITEM_HEIGHT_UP+a.ITEM_HEIGHT_UP/2&&t.getComponent(s.BUNDLE_NAME+"Item").rollEnd(),i.itemList.length-1==e&&o.emit(n.ON_WHEEL_UP_ROLL_END,i.wheelId)}).start()},getOrightPos:function(t){return a.ITEM_HEIGHT_UP*t-1*a.ITEM_HEIGHT_UP},resetRolePos:function(t,e){t.y=this.getOrightPos(e)},initItem:function(){this.itemList=[];for(var t=0;t<4;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=this.getOrightPos(t);var i=e.getComponent(s.BUNDLE_NAME+"Item"),n=c.getRandID(a.ItemID.item00,a.ItemID.item08);i.changeItem(n),i.setItemWheelID(this.wheelId)}},resetItem:function(){this.isLock=!1;for(var t=0;t<this.itemList.length;t++){var e=c.getRandID(a.ItemID.item00,a.ItemID.item08);this.itemList[t].getComponent(s.BUNDLE_NAME+"Item").changeItem(e)}}}),cc._RF.pop()},{}],PTFireLinkChinaStreetWheel:[function(t,e){"use strict";cc._RF.push(e,"496d3+8O4RHfpTDeOj6whFS","PTFireLinkChinaStreetWheel");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"GameData"),a=t(i+"UserData"),c=t(i+"ItemConfig"),r=-(s.VERTICAL_ITEM_COUNT-1)/2*c.ITEM_HEIGHT,l=((s.VERTICAL_ITEM_COUNT-1)/2+1)*c.ITEM_HEIGHT;cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node,bonusAni:cc.Node},onLoad:function(){this.bonusAni.getComponent(sp.Skeleton).setAnimation(0,"animation",!0),this.bonusAni.active=!1,this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=c.WHEEL_WIDTH,this.node.height=c.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=c.WHEEL_WIDTH,t.height=c.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()&&t++;return t},checkUpItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isUpItem()&&t++;return t},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++){var e=this.resultItemList[t].getComponent(s.BUNDLE_NAME+"Item");c.IsUpID(e.getItemId())||this.resultItemList[t].getComponent(s.BUNDLE_NAME+"Item").reset()}},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(a.GameMode)},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.RESET_WHEEL,this.onResetWheel,this),o.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){o.removeEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.removeEventListener(n.START_ROLL,this.onStartRoll,this),o.removeEventListener(n.RESET_WHEEL,this.onResetWheel,this),o.removeEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(t){this.netIdList=t,this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var i=t.itemList[e],n=cc.tween(i);i.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){i.y<r&&(i.y=l,i.getComponent(s.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(n.stop(),t.rollEnd(i,e)),t.isResetRoll&&(n.stop(),t.resetRolePos(i,e))})).start()},i=0;i<this.itemList.length;i++)e(i)},rollEnd:function(t,e){var i=this,a=this;cc.tween(t).repeat(s.VERTICAL_ITEM_COUNT+1,cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){t.y<r&&(t.y=l,a.itemIndex>=a.netIdList.length?t.getComponent(s.BUNDLE_NAME+"Item").randImg():(t.getComponent(s.BUNDLE_NAME+"Item").changeItem(a.netIdList[a.itemIndex]),a.resultItemList.push(t)),t.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(a.itemIndex),a.itemIndex++)})).call(function(){var a=t.getComponent(s.BUNDLE_NAME+"Item").getItemVerticalPos();a=-1==a?s.VERTICAL_ITEM_COUNT+1:a,t.y=i.getOrightPos(a),e==i.itemList.length-1&&o.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<c.ITEM_HEIGHT+c.ITEM_HEIGHT/2&&t.getComponent(s.BUNDLE_NAME+"Item").rollEnd(),i.itemList.length-1==e&&o.emit(n.ON_WHEEL_ROLL_END,i.wheelId)}).start()},getOrightPos:function(t){return c.ITEM_HEIGHT*t-(s.VERTICAL_ITEM_COUNT+1-2)/2*c.ITEM_HEIGHT},resetRolePos:function(t,e){t.y=this.getOrightPos(e)},hideBounsEffect:function(){this.bonusAni.active=!1},playBonusEffect:function(){this.bonusAni.active=!0},initItem:function(){this.itemList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT+1;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=this.getOrightPos(t),e.getComponent(s.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],PTFireLinkChinaStreetYouWin:[function(t,e){"use strict";cc._RF.push(e,"50337YO/ptM167HYgGAng//","PTFireLinkChinaStreetYouWin");var i="PTFireLinkChinaStreet",n=t(i+"EventConfig"),o=t(i+"EventManager"),s=t(i+"UserData"),a=t(i+"GameData");t(i+"Util"),cc.Class({extends:cc.Component,properties:{mask:cc.Node},onLoad:function(){this.addEventListener()},show:function(t){var e=this;this.callback=t.callback,this.node.active=!0,this.mask.opacity=0,cc.tween(this.mask).to(.5,{opacity:255}).call(function(){s.GameMode=a.GAME_MODE.NORMAL,o.emit(n.CHANGE_GAME_MODE)}).to(.5,{opacity:0}).call(function(){e.hide()}).start()},hide:function(){this.callback(),this.node.active=!1},addEventListener:function(){o.addEventListener(n.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["PTFireLinkChinaStreetAddCoins","PTFireLinkChinaStreetAuto","PTFireLinkChinaStreetBigWin","PTFireLinkChinaStreetDownUI","PTFireLinkChinaStreetTipView","PTFireLinkChinaStreetUpUI","PTFireLinkChinaStreetEventConfig","PTFireLinkChinaStreetEventManager","PTFireLinkChinaStreetGameData","PTFireLinkChinaStreetItemConfig","PTFireLinkChinaStreetLineConfig","PTFireLinkChinaStreetNetWheelConfig","PTFireLinkChinaStreetUserData","PTFireLinkChinaStreetAnimation","PTFireLinkChinaStreetAudio","PTFireLinkChinaStreetBg","PTFireLinkChinaStreetFree","PTFireLinkChinaStreetHelp","PTFireLinkChinaStreetItem","PTFireLinkChinaStreetLockItem","PTFireLinkChinaStreetMain","PTFireLinkChinaStreetMainUp","PTFireLinkChinaStreetNetwork","PTFireLinkChinaStreetPool","PTFireLinkChinaStreetScene","PTFireLinkChinaStreetSelectCard","PTFireLinkChinaStreetTransit","PTFireLinkChinaStreetUtil","PTFireLinkChinaStreetWheel","PTFireLinkChinaStreetWheelAni","PTFireLinkChinaStreetWheelFree","PTFireLinkChinaStreetWheelUp","PTFireLinkChinaStreetYouWin"]);