window.__require=function t(e,i,n){function s(a,c){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){return s(e[a][1][t]||t)},h,h.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)s(n[a]);return s}({PirateAddCoins:[function(t,e){"use strict";cc._RF.push(e,"093d6t/d3VKIZos6mMizO1Y","PirateAddCoins");var i=t("PirateEventConfig"),n=t("PirateUserData"),s=t("PirateEventManager");t("PirateUtil"),t("PlayerInfo"),cc.Class({extends:cc.Component,onLoad:function(){this.initAddCoins()},initAddCoins:function(){var t=this;cc.find("mask",this.node).on("click",this.onClickHideAddCoins,this);var e=cc.find("nodeAdd",this.node);this.labelWinning=cc.find("pnlGameWin/labWin",e).getComponent(cc.Label);var i=[this.onClickAddCoins1,this.onClickAddCoins10,this.onClickAddCoins50,this.onClickAddCoins100,this.onClickAddCoinsAll];this.btnAddGroup=[];for(var s=1;s<=5;s++){var o=cc.find("pnlGroup/item"+s,e);o.on("click",i[s-1],this),this.btnAddGroup.push(o)}n.Bundle.load("resources/image/gamepop",cc.SpriteAtlas,function(i,n){if(!i&&t){cc.find("imgBg",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0"),cc.find("pnlGroup",e).getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("commonBtn");for(var s=0;s<t.btnAddGroup.length;s++)t.btnAddGroup[s].getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame("checkbox_0")}})},onClickHideAddCoins:function(){s.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onClickAddCoins1:function(){this.chargeSum(1)},onClickAddCoins10:function(){this.chargeSum(10)},onClickAddCoins50:function(){this.chargeSum(50)},onClickAddCoins100:function(){this.chargeSum(100)},onClickAddCoinsAll:function(){this.chargeSum(0)},showAddCoins:function(){},chargeSum:function(t){s.emit(i.PLAY_AUDIO_EF,"btnShow"),this.node.active=!1;var e=0==t?{}:{sum:t};s.emit(i.ADD_USER_COINS,e)},onEnable:function(){s.addEventListener(i.SHOW_ADD_USER_COINS,this.showAddCoins,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PirateAnimation:[function(t,e){"use strict";cc._RF.push(e,"b19e4BVeIJJzZ1A0Rvs+1xW","PirateAnimation");var i=t("PirateEventConfig"),n=t("PirateEventManager");t("PirateGameData"),t("PirateUserData"),cc.Class({extends:cc.Component,properties:{aniDiamond:cc.Node},onLoad:function(){this.aniDiamond.active=!1},playDiamondAni:function(t){var e=this;this.aniDiamond.active=!0,n.emit(i.PLAY_AUDIO_EF,"ZuanShi");var s=this.node.convertToNodeSpaceAR(t.or),o=this.node.convertToNodeSpaceAR(t.to);this.aniDiamond.x=s.x,this.aniDiamond.y=s.y,this.aniDiamond.scaleX=.5,this.aniDiamond.scaleY=.5,cc.tween(this.aniDiamond).to(.2,{x:0,y:0}).to(1,{scaleX:1,scaleY:1}).delay(.2).to(1,{scaleX:.1,scaleY:.1,x:o.x,y:o.y}).call(function(){n.emit(i.STOP_AUDIO_EF,"ZuanShi"),n.emit(i.PLAY_AUDIO_EF,"ZuanShiEnd"),e.aniDiamond.active=!1,t.callback()}).start()},onEnable:function(){n.addEventListener(i.PLAY_DIAMOND_ANI,this.playDiamondAni,this)}}),cc._RF.pop()},{}],PirateAudio:[function(t,e){"use strict";cc._RF.push(e,"1e5ef7K2PBKg5gNiVmDWdT5","PirateAudio");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateUserData"),o=t("PirateUtil");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},btnShow:cc.AudioClip,btnHide:cc.AudioClip,rollOver:cc.AudioClip,bigwinsegment:cc.AudioClip,bigwinwfx_end:cc.AudioClip,en_us_amazing:cc.AudioClip,en_us_awesome:cc.AudioClip,en_us_excellent:cc.AudioClip,en_us_impossible:cc.AudioClip,en_us_unbelievable:cc.AudioClip,BetButton:cc.AudioClip,FastSpeedButton:cc.AudioClip,LastPageButton:cc.AudioClip,LineButton:cc.AudioClip,MaxBetButton:cc.AudioClip,WinLine:cc.AudioClip,SpinButton:cc.AudioClip,StopButton:cc.AudioClip,enterFree:cc.AudioClip,waitBonus:cc.AudioClip,lineAudio:{type:cc.AudioClip,default:[]},itemAudio:{type:cc.AudioClip,default:[]},rollAudio:{type:cc.AudioClip,default:[]},Bonus:cc.AudioClip,BonusDown1:cc.AudioClip,BonusDown2:cc.AudioClip,BonusDown3:cc.AudioClip,EndJP:cc.AudioClip,NormalToReward:cc.AudioClip,RewardRolling:cc.AudioClip,Scatter:cc.AudioClip,ScatterDown:cc.AudioClip,ScatterEnd:cc.AudioClip,ScatterWheel:cc.AudioClip,SymbolFallDown1:cc.AudioClip,SymbolFallDown2:cc.AudioClip,SymbolFallDown3:cc.AudioClip,SymbolFallDown4:cc.AudioClip,SymbolFallDown5:cc.AudioClip,Wild:cc.AudioClip,WildDown:cc.AudioClip,WinSymbol:cc.AudioClip,WinSymbol1:cc.AudioClip,WinSymbol2:cc.AudioClip,WinSymbol3:cc.AudioClip,WinSymbol4:cc.AudioClip,StopScatterWheel:cc.AudioClip,MovePanel:cc.AudioClip,StartWheel:cc.AudioClip,StopRoll:cc.AudioClip,StopWheel:cc.AudioClip,RollScore:cc.AudioClip},onLoad:function(){this.pInfo=t("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(t){0!=this.pInfo.musicControl&&this.bgmAudio[t.id]&&(this.bgmID=t.id,s.BGAM_ID=t.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[t.id],!0))},callAudioPlayEff:function(t){return cc.audioEngine.playEffect(t)},playEf:function(t){0!=this.pInfo.soundEffectControl&&(this[t]?this.audioID[t]=this.callAudioPlayEff(this[t]):"rollSound"!=t||(this.audioID[t]=this.playRollEffect()))},playRollEffect:function(){var t=o.getRandID(0,this.rollAudio.length-1);if(this.rollAudio[t])return this.callAudioPlayEff(this.rollAudio[t])},playLineEffect:function(t){0!=this.pInfo.soundEffectControl&&this.lineAudio[t]&&this.callAudioPlayEff(this.lineAudio[t])},playItemEffect:function(t){0!=this.pInfo.soundEffectControl&&this.itemAudio[t]&&this.callAudioPlayEff(this.itemAudio[t])},stopAudioEf:function(t){this.audioID[t]&&cc.audioEngine.stopEffect(this.audioID[t])},stopMusic:function(){cc.audioEngine.stopMusic()},onDestroy:function(){n.removeEventListener(i.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),n.removeEventListener(i.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),n.removeEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.removeEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.removeEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),n.removeEventListener(i.STOP_AUDIO,this.stopAudio,this),n.removeEventListener(i.STOP_MUSIC,this.stopMusic,this)},onEnable:function(){n.addEventListener(i.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),n.addEventListener(i.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),n.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.addEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),n.addEventListener(i.STOP_AUDIO,this.stopAudio,this),n.addEventListener(i.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PirateAuto:[function(t,e){"use strict";cc._RF.push(e,"3f704qdHaJAIaMhTeRswCJi","PirateAuto");var i=t("PirateEventConfig"),n=t("PirateEventManager");t("PirateUserData"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI()},loadUI:function(){var t=[this.onClick10,this.onClick20,this.onClick50,this.onClick100,this.onClick200,this.onClick500],e=["X10","X20","X50","X100","X200","X500"];cc.find("touchNode",this.node).on("click",this.hide,this);for(var i=cc.find("pnlAuto/layout",this.node),n=cc.find("pnlAuto/item",this.node),s=0;s<t.length;s++){var o=cc.instantiate(n);i.addChild(o),o.on("click",t[s],this),cc.find("itemImg",o).getComponent(cc.Label).string=e[s]}n.active=!1},onClick10:function(){this.onClickAuto(10)},onClick20:function(){this.onClickAuto(20)},onClick50:function(){this.onClickAuto(50)},onClick100:function(){this.onClickAuto(100)},onClick200:function(){this.onClickAuto(200)},onClick500:function(){this.onClickAuto(500)},onClickUM:function(){this.onClickAuto(-1)},onClickAuto:function(t){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.UPDATE_AUTO_COUNT,t),this.hide()},showAuto:function(){this.node.active=!0},hide:function(){this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],PirateBg:[function(t,e){"use strict";cc._RF.push(e,"5acebOo6ChAJaN7m/rEbvKx","PirateBg"),t("PirateEventConfig"),t("PirateEventManager"),t("PirateGameData"),t("PirateUserData"),cc.Class({extends:cc.Component,properties:{imgNormal:cc.Node,imgFree:cc.Node},onLoad:function(){},onChangeGameMode:function(){},onEnable:function(){}}),cc._RF.pop()},{}],PirateBigWin:[function(t,e){"use strict";cc._RF.push(e,"af7c0eDmFNPxpS4Ss6SgAdw","PirateBigWin");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateUserData"),o=t("PirateUtil"),a=[cc.v2(-140,1),cc.v2(-74,-84),cc.v2(-21,-16),cc.v2(73,13),cc.v2(139,-55)],c=[cc.v2(-179,-1),cc.v2(-74,-84),cc.v2(18,16),cc.v2(117,8),cc.v2(146,-85)],r=[cc.v2(-175,-1),cc.v2(-71,-85),cc.v2(18,16),cc.v2(117,8),cc.v2(153,-90)],l=[cc.v2(-175,-1),cc.v2(-96,-67),cc.v2(18,16),cc.v2(96,-35),cc.v2(187,-2)],h=[cc.v2(-258,-10),cc.v2(-86,-68),cc.v2(10,17),cc.v2(143,-26),cc.v2(295,-16)];cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.level=0,this.pointList=[a,c,r,l,h],this.addEventListener(),cc.find("New Sprite",this.node).on("click",this.hide,this)},initUI:function(){this.initEffectCoins(),this.initWin(),this.initFreeBg(),this.initWinTween()},initEffectCoins:function(){this.effectCoins=cc.find("coins",this.node),this.nodeCoin=cc.find("nodeCoins",this.node)},initWin:function(){var t=this;this.pnlWin=cc.find("pnlWin",this.node),this.imgWin=cc.find("imgWin",this.pnlWin),this.imgGlow=cc.find("glow",this.pnlWin);var e=cc.find("pnlPoint",this.pnlWin);this.effectLignt=[];for(var i=1;i<=5;i++){var n=cc.find("ligntPoint"+i,e);this.effectLignt.push(n)}s.Bundle.load("resources/image/gameui",cc.SpriteAtlas,function(e,i){if(e)cc.log(e);else{t.imgWinSpAtlas=i,t.imgGlow.getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("glow");for(var n=0;n<t.effectLignt.length;n++)t.effectLignt[n].getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("star_small");var s=cc.find("pnlFreeBg",t.node);cc.find("imgBg",s).getComponent(cc.Sprite).spriteFrame=t.imgWinSpAtlas.getSpriteFrame("awardBg")}}),this.initLightPointTween()},initFreeBg:function(){var t=cc.find("pnlFreeBg",this.node);this.lblWinCoin=cc.find("labelWin",t).getComponent(cc.Label)},initLightPointTween:function(){for(var t=0;t<this.effectLignt.length;t++){var e=o.getRandID(5,10)/10,i=cc.tween;i(this.effectLignt[t]).repeatForever(i().parallel(i().by(.5,{angle:90}).by(.5,{angle:90}),i().to(.5,{scaleX:e,scaleY:e}).to(.5,{scaleX:.2,scaleY:.2}))).start(),this.effectLignt[t].active=!1}},initWinTween:function(){this.WinTween=cc.tween(this.pnlWin).repeatForever(cc.tween().to(.5,{scaleX:1,scaleY:1}).to(.5,{scaleX:.9,scaleY:.9}))},playWin:function(){this.imgWin.active=!0,this.imgWin.getComponent(cc.Sprite).spriteFrame=this.imgWinSpAtlas.getSpriteFrame("awardLevel_"+this.level);for(var t=0;t<this.effectLignt.length;t++)this.effectLignt[t].setPosition(this.pointList[this.level][t]),this.effectLignt[t].active=!0},show:function(t){var e=this;this.node.active=!0,n.emit(i.PLAY_AUDIO_BGM,{id:1}),n.emit(i.PLAY_AUDIO_EF,"bigwinsegment"),this.level=o.getBigWinRate(t),this.playWin();var s=Math.ceil(t/70);this.lblWinCoin.string=o.formattingCoins(0),this.nowCoins=0,this.winCoins=t,this.addCoins=s,this.playEnd=!1,this.schedule(this.addNowCoinsAction,.1,69),this.schedule(this.playCoins,.03,parseInt(7/.03)),this.schedule(this.playGlow,4,1),this.playGlow(),this.WinTween.start(),this.scheduleOnce(this.hide,11),this.scheduleOnce(function(){e.playPeopleSound(t)},1)},playPeopleSound:function(t){var e=o.getBigWinRate(t);e>=200?n.emit(i.PLAY_AUDIO_EF,"en_us_unbelievable"):e>=100?n.emit(i.PLAY_AUDIO_EF,"en_us_impossible"):e>=50?n.emit(i.PLAY_AUDIO_EF,"en_us_amazing"):e>=20?n.emit(i.PLAY_AUDIO_EF,"en_us_awesome"):n.emit(i.PLAY_AUDIO_EF,"en_us_excellent")},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.lblWinCoin.string=o.formattingCoins(this.nowCoins),this.nowCoins!=this.winCoins||this.playEnd||(this.playEnd=!0,n.emit(i.STOP_AUDIO_EF,"Bangup"+this.levelSound+"_QUIETER"),n.emit(i.PLAY_AUDIO_EF,"bigwinwfx_end"),n.emit(i.STOP_AUDIO_EF,"bigwinsegment"))},hide:function(){n.emit(i.STOP_MUSIC),this.callback(),this.unschedule(this.playCoins),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.WinTween.stop(),n.emit(i.STOP_AUDIO_EF,"Bangup"+this.levelSound+"_QUIETER"),n.emit(i.STOP_AUDIO_EF,"bigwinsegment"),n.emit(i.PLAY_AUDIO_BGM,{id:0}),this.lblWinCoin.string=0,this.imgWin.active=!1,this.node.active=!1},playGlow:function(){var t=this,e=this.imgWin.width;this.imgGlow.active=!0,this.imgGlow.opacity=0,this.imgGlow.x=-e/2-this.imgGlow.width/4;var i=cc.tween;i(this.imgGlow).parallel(i().by(2,{x:e}),i().to(1,{opacity:255}).to(1,{opacity:0})).call(function(){t.imgGlow.active=!1}).start()},playCoins:function(){var t=cc.instantiate(this.effectCoins);this.nodeCoin.addChild(t),this.rundCoinsAction(t)},rundCoinsAction:function(t){var e=600*Math.random()-300,i=200*Math.random()-100;t.x=e,t.y=i,cc.tween(t).by(.1*o.getRandID(1,2),{y:100}).to(.1*o.getRandID(4,6),{y:-400}).call(function(){t.removeFromParent()}).start()},onShowBigWin:function(t){this.callback=t.callback,this.show(t.coins,t.rate)},addEventListener:function(){n.addEventListener(i.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],PirateCircleMain:[function(t,e){"use strict";cc._RF.push(e,"aa535SZ05lNfJESoahhdVxK","PirateCircleMain"),t("PirateUtil"),t("PirateItemConfig");var i=t("PirateUserData"),n=t("PirateGameData"),s=t("PirateEventConfig"),o=t("PirateEventManager"),a=[[270.54,1500,180,420,240,345,480,255,0,3e3,180,270,325,1500,180,555,240,345,480,255,0,6e3],[150.54,750,90,360,120,175,240,120,0,1500,90,135,280,750,90,640,120,165,240,125,0,1500],[150.54,75,50,300,60,175,100,120,0,300,50,75,125,225,50,100,250,125,165,75,0,300]];cc.Class({extends:cc.Component,properties:{pnlCircle1:cc.Node,pnlCircle2:cc.Node,pnlCircle3:cc.Node},onLoad:function(){var t=this;this.circleList=[this.pnlCircle1,this.pnlCircle2,this.pnlCircle3];for(var e=0;e<this.circleList.length;e++)this.circleList[e].addComponent(n.BUNDLE_NAME+"Circle"),this.circleList[e].getComponent(n.BUNDLE_NAME+"Circle").setCircleData(a[e]),this.circleList[e].getComponent(n.BUNDLE_NAME+"Circle").addCallback(function(){t.onCircleCallback()})},init:function(){this.pnlCircle1.y=-238,this.pnlCircle2.y=-238},show:function(t){var e=this;this.wheelsData=t,this.pnlCircle1.y=-238,this.pnlCircle2.y=-238,cc.tween(this.pnlCircle1).to(.5,{y:-190},{easing:"circOut"}).to(.5,{y:-25},{easing:"circOut"}).start(),cc.tween(this.pnlCircle2).to(.5,{y:-190},{easing:"circOut"}).start(),this.scheduleOnce(function(){e.rollCircle()},2)},onCircleCallback:function(){var t=this;this.rollCircleCount--,0==this.rollCircleCount&&o.emit(s.SHOW_TRANSIT_ANI,{wheelData:this.wheelsData,count:i.LotteryRes.viewarray.getFreeTime.win,type:0,callback:function(){for(var e=0;e<t.circleList.length;e++)t.circleList[e].getComponent(n.BUNDLE_NAME+"Circle").reset();o.emit(s.ON_FREE_CIRCLE_ROLL_END)}})},rollCircle:function(){this.rollCircleCount=0,o.emit(s.PLAY_AUDIO_EF,"StartWheel");for(var t=0;t<this.circleList.length;t++)if(this.wheelsData[t]){if(this.rollCircleCount++,-1==a[t].indexOf(this.wheelsData[t])){var e=Helper.deepCopy(a[t]);e[5]=this.wheelsData[t],this.circleList[t].getComponent(n.BUNDLE_NAME+"Circle").setCircleData(e)}this.circleList[t].getComponent(n.BUNDLE_NAME+"Circle").setData(this.wheelsData[t])}}}),cc._RF.pop()},{}],PirateCircle:[function(t,e){"use strict";cc._RF.push(e,"91155BVG/tKcZPEDMQrp6an","PirateCircle");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=(t("PirateUserData"),-1);cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.imgCircle=cc.find("imgCircle",this.node),this.aniEffect=cc.find("aniEffect",this.node)},setCircleData:function(t){this.circleData=t,this.initCircle()},initCircle:function(){this.itemList=[];for(var t=cc.find("nodeCount",this.imgCircle),e=this.imgCircle.children.length,i=0;i<this.circleData.length||i<e;i++){var n=this.imgCircle.children[i]||cc.instantiate(t);n.parent=this.imgCircle,n.angle=i/this.circleData.length*360,n.active=i<this.circleData.length,cc.find("labCount",n).getComponent(cc.Label).string=this.circleData[i],this.itemList.push(n)}t.active=!1},updateCircleData:function(t){this.circleData=t;for(var e=0;e<this.itemList.length;e++)cc.find("labCount",this.itemList[e]).getComponent(cc.Label).string=this.circleData[e]},addCallback:function(t){this.callback=t},setData:function(t){this.resultData=t,this.aniEffect.active=!1,this.changeState(1)},reset:function(){this.aniEffect.active=!1,this.imgCircle.angle=0},showResult:function(){var t=this;this.aniEffect.active=!0,n.emit(i.STOP_AUDIO_EF,"StartWheel"),n.emit(i.PLAY_AUDIO_EF,"StopWheel"),this.scheduleOnce(function(){t.callback()},2)},getTagAngle:function(){for(var t=0;t<this.circleData.length;t++)if(this.circleData[t]==this.resultData)return 360/this.circleData.length*t},changeState:function(t){switch(t){case s:case 0:break;case 1:case 2:this.nowTime=0;break;case 3:this.nowTime=0;var e=360+this.getTagAngle();this.deceA=-this.uniformSpeed*this.uniformSpeed/2/e,this.deceT=Math.abs(this.uniformSpeed/this.deceA);break;case 4:this.showResult()}this.nowState=t},update:function(t){this.nowState!=s&&0!=this.nowState&&4!=this.nowState&&(this.nowTime+=t,1==this.nowState&&this.stateAccelerate(t),2==this.nowState&&this.stateUniform(t),3==this.nowState&&this.stateDecelerate(t))},stateAccelerate:function(){var t=90*this.nowTime*this.nowTime;this.imgCircle.angle=-t,t>180&&(this.uniformSpeed=180*this.nowTime,this.changeState(2))},stateUniform:function(){var t=this.uniformSpeed*this.nowTime+180;this.imgCircle.angle=-t,t>=720&&this.changeState(3)},stateDecelerate:function(){var t=this.uniformSpeed*this.nowTime+.5*this.deceA*this.nowTime*this.nowTime;this.imgCircle.angle=-t,this.nowTime>=this.deceT&&this.changeState(4)}}),cc._RF.pop()},{}],PirateDownUI:[function(t,e){"use strict";cc._RF.push(e,"b73b5wipxBO6bfzsxp051B1","PirateDownUI");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=t("PirateUserData"),a=t("PirateUtil"),c=t("PlayerInfo"),r=[];r[0]=0,r[2]=1,r[3]=2,r[4]=3,cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.autoCount=0,this.gameWin=0,resizeWinX(this),this.commonUiTs=this.node.getComponent("CommonUI"),this.commonFast=cc.find("audioView/quickSwitch",this.node),this.commonFast.active=!1,this.initUI(),this.initSpinTouchEvent(),this.aniMaxBet.getComponent(cc.Animation).on("finished",function(){t.aniMaxBet.active=!1},this),this.aniWin.getComponent(cc.Animation).on("finished",function(){t.aniWin.active=!1},this),this.nodeFastAni.active=!1,this.imgUnLimited.active=!1,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.spinAni.active=!1,this.labLine.string=o.Line,o.LoginGameResultData&&this.onLoginGameResult(o.LoginGameResultData)},initBetData:function(){var t=c.getInstant.maxBet/o.Line;this.betLimit=o.slotBetList.length-1;for(var e=0;e<o.slotBetList.length;e++)if(t<o.slotBetList[e]){this.betLimit=e-1;break}this.updateBet(),this.updateTotalBet()},initUI:function(){var t=cc.find("nodeMain",this.node);this.btnSub=cc.find("btnSub",t),this.btnSub.on("click",this.onClickDecBet,this),this.btnAdd=cc.find("btnAdd",t),this.btnAdd.on("click",this.onClickAddBet,this),this.btnHelp=cc.find("btnHelp",t),this.btnHelp.on("click",this.onClickHelp,this),this.btnLines=cc.find("btnLines",t),this.btnLines.on("click",this.onClickLine,this),this.labLine=cc.find("labLine",this.btnLines).getComponent(cc.Label);var e=cc.find("nodeBet",t);this.aniMaxBet=cc.find("aniMaxBet",e),this.labLineBet=cc.find("labLinePlay",e).getComponent(cc.Label),this.labTotalBet=cc.find("labTotalPlay",e).getComponent(cc.Label);var i=cc.find("btnFast",t);i.on("toggle",this.onClickFast,this),this.nodeFastAni=cc.find("nodeAni",i),this.fastAni=cc.find("ani",this.nodeFastAni).getComponent(cc.Animation);var n=cc.find("nodeWin",this.node);this.aniWin=cc.find("aniWin",n),this.labWin=cc.find("labWin",n).getComponent(cc.Label);var s=cc.find("nodeSpin",this.node);this.btnSpin=cc.find("btnSpin",s),this.spinAni=cc.find("nodeAni",s);var o=cc.find("nodeAutoCount",s);this.imgUnLimited=cc.find("imgUnlimited",o),this.labAutoCount=cc.find("labCount",o),this.labBalance=cc.find("nodeWin/labBalance",this.node).getComponent(cc.Label),this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),c.getInstant.labBalance=this.labBalance},loadUI:function(){var t=this;o.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(e,i){if(!e){t.spAtlas=i,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_bottom_base");var n=cc.find("nodeMain",t.node);cc.find("btnHelp",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_paytable");var s=cc.find("btnLines",n);s.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_lines"),cc.find("imgFnt",s).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("lines");var o=cc.find("btnSub",n);o.getComponent(cc.Button).normalSprite=i.getSpriteFrame("btn_minus_01"),o.getComponent(cc.Button).pressedSprite=i.getSpriteFrame("btn_minus_02"),o.getComponent(cc.Button).hoverSprite=i.getSpriteFrame("btn_minus_01"),o.getComponent(cc.Button).disabledSprite=i.getSpriteFrame("btn_minus_02");var a=cc.find("btnAdd",n);a.getComponent(cc.Button).normalSprite=i.getSpriteFrame("btn_add_01"),a.getComponent(cc.Button).pressedSprite=i.getSpriteFrame("btn_add_002"),a.getComponent(cc.Button).hoverSprite=i.getSpriteFrame("btn_add_01"),a.getComponent(cc.Button).disabledSprite=i.getSpriteFrame("btn_add_002");var c=cc.find("btnFast",n);c.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_fast_01"),cc.find("nodeAni/imgOn",c).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_fast_02");var r=cc.find("nodeBet",n);r.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_bet"),cc.find("nodeLine/imgFnt",r).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("line  play"),cc.find("nodeBet/imgFnt",r).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("total play");var l=cc.find("nodeWin",t.node);l.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_win_02"),cc.find("fntWiin",l).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("win");var h=cc.find("nodeSpin",t.node);cc.find("btnSpin",h).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_spin_01"),cc.find("nodeAutoCount/imgUnlimited",h).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("times_unlimited_02")}})},update:function(t){this.startTouch&&0==this.spinState&&(this.touchTimeDonw+=t,this.touchTimeDonw>=1&&(this.startTouch=!1,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(r[this.spinState]),this.showAutoList()))},changeSpinBtnState:function(t){this.spinState=t,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(r[t])},initSpinTouchEvent:function(){var t=this;this.startTouch=!1,this.touchTimeDonw=0,this.spinState=0,this.btnSpin.on(cc.Node.EventType.TOUCH_START,function(){o.Status!=s.GAME_STATE.INIT&&4!=t.spinState&&a.isNormalGame()&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState]),t.touchTimeDonw=0,t.startTouch=!0)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_END,function(){t.startTouch&&(0==t.spinState?(n.emit(i.PLAY_AUDIO_EF,"SpinButton"),t.onClickRoll()):2==t.spinState?(n.emit(i.PLAY_AUDIO_EF,"StopButton"),n.emit(i.STOP_IMMEDIATELY),t.changeSpinBtnState(4)):3==t.spinState&&(n.emit(i.PLAY_AUDIO_EF,"StopButton"),t.enterAuto(!1))),t.startTouch=!1,4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState]))},this),this.btnSpin.on(cc.Node.EventType.TOUCH_CANCEL,function(){4!=t.spinState&&(t.btnSpin.getComponent(cc.Sprite).spriteFrame=t.commonUiTs.getBtnFrame(r[t.spinState])),t.startTouch=!1},this)},onClickFast:function(){n.emit(i.PLAY_AUDIO_EF,"FastSpeedButton"),o.isFast=!o.isFast},onClickRoll:function(){o.Status!=s.GAME_STATE.INIT&&(this.checkCoinsEntries()?o.Status==s.GAME_STATE.LEISURE&&(o.Status=s.GAME_STATE.REQUEST,n.emit(i.START_ROLL)):n.emit(i.HAVE_NO_MONEY))},showAutoList:function(){n.emit(i.PLAY_AUDIO_EF,"StopButton"),n.emit(i.SHOW_AUTO)},enterAuto:function(t){o.IsAuto=t,t?(this.banButton(!1),this.banBetButtkon(!1),this.changeSpinBtnState(3),this.spinAni.active=!0,o.Status==s.GAME_STATE.LEISURE&&n.emit(i.START_ROLL)):(this.autoCount=0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.imgUnLimited.active=!1,this.spinAni.active=!1,o.Status==s.GAME_STATE.LEISURE?this.changeSpinBtnState(0):o.Status==s.GAME_STATE.ROLL_END?this.changeSpinBtnState(2):this.changeSpinBtnState(4))},enterLeisure:function(){this.checkCoinsEntries()||(n.emit(i.HAVE_NO_MONEY),this.enterAuto(!1)),a.isNormalGame()?o.IsAuto?0==this.autoCount?this.enterAuto(!1):n.emit(i.START_ROLL):(this.banButton(!0),this.banBetButtkon(!0)):o.IsAuto?n.emit(i.START_ROLL):this.enterAuto(!0)},banBetButtkon:function(t){this.btnSub.getComponent(cc.Button).interactable=t,this.btnAdd.getComponent(cc.Button).interactable=t},banButton:function(t){o.IsAuto||(t?o.Status==s.GAME_STATE.LEISURE&&this.changeSpinBtnState(0):this.changeSpinBtnState(4))},onClickHelp:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.SHOW_HELP_VIEW)},onClickAddBet:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){this.bet==this.betLimit?(this.aniMaxBet.active=!0,this.aniMaxBet.getComponent(cc.Animation).play(),n.emit(i.PLAY_AUDIO_EF,"MaxBetButton")):n.emit(i.PLAY_AUDIO_EF,"btnShow")},updateBet:function(){o.BetIndex=this.bet,o.BetValue=o.slotBetList[this.bet]*o.Line,this.labLineBet.string=a.formattingCoins(o.slotBetList[this.bet]),this.updateTotalBet(),n.emit(i.ON_PUSH_GAMBLING_WIN_POOL,o.BetValue)},onClickLine:function(){a.isNormalGame()&&(n.emit(i.PLAY_AUDIO_EF,"LineButton"),n.emit(i.SHOW_LINE,-1))},updateTotalBet:function(){this.labTotalBet.string=a.formattingCoins(o.BetValue),n.emit(i.UPDATE_BET)},checkCoinsEntries:function(){return c.getInstant.playerCoin>=o.BetValue},updateAutoCount:function(t){this.autoCount=t,-1==this.autoCount?(this.imgUnLimited.active=!0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO"):(this.imgUnLimited.active=!1,this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.enterAuto(!0)},onStartRoll:function(){this.autoCount>0&&(this.autoCount--,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.banButton(!1),this.banBetButtkon(!1),this.gameWin=0,this.labWin.string=a.formattingCoins(0)},onChangeGameStatus:function(){o.Status==s.GAME_STATE.LEISURE?this.enterLeisure():o.Status==s.GAME_STATE.RESULT&&(o.IsAuto||this.changeSpinBtnState(4))},updageGameWin:function(t){0!=t&&(this.gameWin+=t,this.labWin.string=a.formattingCoins(this.gameWin),this.aniWin.active=!0,this.aniWin.getComponent(cc.Animation).play(),a.isNormalGame()||(o.FreeWinCoins+=t))},resetGameWin:function(t){0!=t&&this.gameWin!=t&&(this.gameWin=t,this.labWin.string=a.formattingCoins(this.gameWin),this.aniWin.active=!0,this.aniWin.getComponent(cc.Animation).play(),a.isNormalGame()||(o.FreeWinCoins+=t))},onLotteryResult:function(){this.banButton(!0),o.IsAuto||this.changeSpinBtnState(2)},onChangeGameMode:function(){o.GameMode==s.GAME_MODE.NORMAL?this.enterAuto(!1):(this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1,this.updateAutoCount(-1))},onLoginGameResult:function(t){if(t.Obj&&t.Obj.betList&&(o.slotBetList=t.Obj.betList),this.bet=0,t.Obj&&t.Obj.betDefault)for(var e=0;e<t.Obj.betList.length;e++)if(t.Obj.betList[e]==t.Obj.betDefault){this.bet=e;break}this.initBetData()},UPDATE_COIN:function(){this.labEntries&&(this.labEntries.string=a.formattingCoins(c.getInstant.playerCoin)),this.labBalance&&(this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin))},onDestroy:function(){n.removeEventListener("UPDATE_COIN",this.UPDATE_COIN,this),n.removeEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.removeEventListener(i.UPDATE_AUTO_COUNT,this.updateAutoCount,this),n.removeEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.removeEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.removeEventListener(i.RESET_GAME_WIN,this.resetGameWin,this),n.removeEventListener(i.START_ROLL,this.onStartRoll,this),n.removeEventListener(i.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),n.removeEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)},onEnable:function(){n.addEventListener("UPDATE_COIN",this.UPDATE_COIN,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.UPDATE_AUTO_COUNT,this.updateAutoCount,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this),n.addEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.addEventListener(i.RESET_GAME_WIN,this.resetGameWin,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),n.addEventListener(i.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PirateEventConfig:[function(t,e){"use strict";cc._RF.push(e,"d202fGqmOVDW7/A3uBFZKGE","PirateEventConfig"),e.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",STOP_LITTLE_CIRCLE:"STOP_LITTLE_CIRCLE",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ADD_FAKE_FREE:"ADD_FAKE_FREE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",ON_FREE_WHEEL_ROLL_END:"ON_FREE_WHEEL_ROLL_END",ON_FREE_CIRCLE_ROLL_END:"ON_FREE_CIRCLE_ROLL_END",UPDATE_DIAMOND:"UPDATE_DIAMOND",PLAY_DIAMOND_ANI:"PLAY_DIAMOND_ANI",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LINE_AUDIO_EF:"PLAY_LINE_AUDIO_EF",PLAY_ITEM_AUDIO_EF:"PLAY_ITEM_AUDIO_EF",SHOW_AUTO:"SHOW_AUTO",PLAY_ANIMATION:"PLAY_ANIMATION",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_YOU_WIN:"SHOW_YOU_WIN",SHOW_FREE_VIEW:"SHOW_FREE_VIEW",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",SHOW_HELP_VIEW:"SHOW_HELP_VIEW",SHOW_MENU_VIEW:"SHOW_MENU_VIEW",SHOW_ADD_USER_COINS:"SHOW_ADD_USER_COINS"},cc._RF.pop()},{}],PirateEventManager:[function(t,e){"use strict";function i(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0;return function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}cc._RF.push(e,"42972aBKn1EhpXSpjEXfH7P","PirateEventManager");var o={_eventListeners:[],destroy:function(){o._eventListeners=[]},getEventListenersIndex:function(t,e,i){for(var n=-1,s=0;s<o._eventListeners[t].length;s++){var a=o._eventListeners[t][s];if(a.callBack==e&&(!i||a.target==i)){n=s;break}}return n},addEventListener:function(t,e,i){if(t){if(null==e)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:e,target:i};return null==o._eventListeners[t]?o._eventListeners[t]=[n]:-1==o.getEventListenersIndex(t,e,i)&&o._eventListeners[t].push(n),!0}cc.warn("eventName is empty",i)},removeEventListener:function(t,e,i){if(null!=o._eventListeners[t]){var n=o.getEventListenersIndex(t,e,i);-1!=n&&o._eventListeners[t].splice(n,1)}},emit:function(t,e){if(null!=o._eventListeners[t]){for(var n,s=[],a=i(o._eventListeners[t]);!(n=a()).done;){var c=n.value;s.push({callBack:c.callBack,target:c.target})}for(var r=function(){var t=h[l];new Promise(function(){t.callBack.call(t.target,e)})},l=0,h=s;l<h.length;l++)r()}}};e.exports=o,cc._RF.pop()},{}],PirateFakeFree:[function(t,e){"use strict";cc._RF.push(e,"8b5eaGP3pBFEYauuQ3nzoJq","PirateFakeFree");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=t("PirateUserData");cc.Class({extends:cc.Component,properties:{nodeMain:cc.Node,labCount:cc.Label,nodeAni:cc.Node},onLoad:function(){this.addEventListener(),this.labCount.string=0},updateTime:function(){this.labCount.string=o.FakeFreeTime},newFree:function(t,e){var i=this,n=cc.instantiate(this.nodeMain);cc.find("labCount",n).getComponent(cc.Label).string="+1",this.nodeAni.addChild(n);var s=this.node.convertToNodeSpaceAR(t);n.x=s.x,n.y=s.y,cc.tween(n).delay(1).to(.5,{x:0,y:0}).call(function(){n.removeFromParent(),i.scheduleOnce(function(){e()},.5),o.FakeFreeTime++,o.AllFakeFreeTime++,i.labCount.string=o.FakeFreeTime,cc.tween(i.nodeMain).to(.02,{x:7,y:7}).to(.02,{x:-7,y:-7}).to(.02,{x:7,y:-7}).to(.02,{x:-7,y:7}).to(.02,{x:0,y:0}).start()}).start()},onAddFakeFree:function(t){this.node.active=!0,this.newFree(t.pos,t.callback)},onStartRoll:function(){s.GAME_MODE.FAKE_FREE==o.GameMode&&(o.FakeFreeTime--,this.updateTime())},addEventListener:function(){n.addEventListener(i.ADD_FAKE_FREE,this.onAddFakeFree,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this)}}),cc._RF.pop()},{}],PirateFree:[function(t,e){"use strict";cc._RF.push(e,"805e9ICSLxGU4NYCpPQKCpG","PirateFree");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=(t("PirateGameData"),t("PirateUserData"));cc.Class({extends:cc.Component,properties:{labNow:cc.Node,labAll:cc.Node,labMultplier:cc.Node},onLoad:function(){this.addEventListener(),cc.tween(this.labMultplier).repeatForever(cc.tween().to(.5,{scaleX:1.2,scaleY:1.2}).to(.5,{scaleX:1,scaleY:1})).start()},show:function(){this.labNow.getComponent(cc.Label).string=s.FreeRemaining,this.labMultplier.getComponent(cc.Label).string="X"+s.Multiplier},onUpdateFreeTimeNow:function(){this.labNow.getComponent(cc.Label).string=s.FreeRemaining},onUpdateFreeTimeAll:function(){},addEventListener:function(){n.addEventListener(i.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),n.addEventListener(i.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{}],PirateGameData:[function(t,e){"use strict";cc._RF.push(e,"a52adJTTwJOpo5+F/KlNocB","PirateGameData");e.exports={BUNDLE_NAME:"Pirate",GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,GAME_MODE:{NORMAL:0,FREE:1,FAKE_FREE:2},LINE_OFFSET:1},cc._RF.pop()},{}],PirateHelp:[function(t,e){"use strict";cc._RF.push(e,"3fc0cKovblExYggfiDK7VkG","PirateHelp");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=["001","002","003","004","005","006","007"];cc.Class({extends:cc.Component,properties:{nodeState:cc.Node,item:cc.Node,imgHelp:cc.Sprite,spAtlas:cc.SpriteAtlas},onLoad:function(){this.addEventListener(),this.itemList=[];for(var t=0;t<s.length;t++){var e=cc.instantiate(this.item);this.nodeState.addChild(e),this.itemList.push(e)}this.item.active=!1},show:function(){this.node.active=!0,this.pageIndex=0,this.setHelpView()},setHelpView:function(){this.imgHelp.spriteFrame=this.spAtlas.getSpriteFrame(s[this.pageIndex]);for(var t=0;t<this.itemList.length;t++)cc.find("imgOn",this.itemList[t]).active=this.pageIndex==t},onClickNext:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.pageIndex++,this.pageIndex>=this.itemList.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.itemList.length-1),this.setHelpView()},onClickHideHelp:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],PirateItemAni:[function(t,e){"use strict";cc._RF.push(e,"f8d5dxGDi5PQ5hlufy5buk9","PirateItemAni");var i=t("PirateItemConfig"),n=(t("PirateUserData"),t("PirateGameData"),t("PirateEventConfig")),s=t("PirateEventManager"),o=t("PirateUtil"),a=[];a[i.ItemID.item01]="itemChuanmao",a[i.ItemID.item02]="ItemJianpao",a[i.ItemID.item03]="itemChuanchang",a[i.ItemID.item04]="itemShuishou",a[i.ItemID.item05]="itemPaodan",a[i.ItemID.item06]="itemA",a[i.ItemID.item07]="itemK",a[i.ItemID.item08]="itemQ",a[i.ItemID.item09]="itemJ",a[i.ItemID.WILD2]="itemWild",a[i.ItemID.WILD3]="itemWild",a[i.ItemID.WILD4]="itemWild",a[i.ItemID.WILD5]="itemWild",a[i.ItemID.WILD6]="itemRiches",a[i.ItemID.BONUS2]="itemUltra";var c=[];c[i.ItemID.WILD2]="x2_00000",c[i.ItemID.WILD3]="x3_00000",c[i.ItemID.WILD4]="x4_00000",c[i.ItemID.WILD5]="x5_00000";var r=[[9,12,30,6,15,12,6,60],[36,9,21,9,150,30,15,60],[30,45,18,15,300,45,24,150],[90,45,39,600,51,60,300,48],[300,60,1200,75,120,600,90,120]];cc.Class({extends:cc.Component,properties:{aniLiZi:cc.Node,imgItem:cc.Node,aniItem:cc.Node,aniSelect:cc.Node,imgWild:cc.Node,nodeCircle:cc.Node,nodeAniWheel:cc.Node,nodeNormal:cc.Node,imgCircle:cc.Node,nodeCount:cc.Node,labCount:cc.Node,labResult:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.initCircle(),this.reset(),cc.tween(this.imgWild).repeatForever(cc.tween().to(.5,{scaleX:.8,scaleY:.8}).to(.75,{scaleX:1,scaleY:1}))},changeItem:function(t){this.itemID=t,this.reset(),this.imgItem.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(i.SpriteFramelist[t])},IsWildID:function(){return i.IsWildID(this.itemID)},reset:function(){this.imgItem.active=!0,this.aniItem.active=!1,this.aniSelect.active=!1,this.imgWild.active=!1,this.aniLiZi.active=!1,this.nodeCircle.active=!1},playSelectAni:function(){this.aniSelect.active=!0,this.itemID!=i.ItemID.BONUS1&&(this.itemID==i.ItemID.BONUS2&&(this.aniLiZi.active=!0),this.itemID>=i.ItemID.WILD2&&this.itemID<=i.ItemID.WILD5&&(this.imgWild.active=!0,this.imgWild.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(c[this.itemID])),this.playItemAni(a[this.itemID]))},playItemAni:function(t){this.aniItem.active=!0,this.imgItem.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(t)},playAniBonus:function(){this.playItemAni(a[this.itemID])},initCircle:function(){var t=this;this.labCountList=[];for(var e=0;e<8;e++){var i=cc.instantiate(this.nodeCount);i.angle=45*e,this.imgCircle.addChild(i),this.labCountList.push(i)}this.nodeCount.active=!1,this.nodeCircle.active=!1,cc.find("aniCircle",this.nodeAniWheel).getComponent(cc.Animation).on("finished",function(){t.nodeAniWheel.active=!1},this)},playCircle:function(t,e){var n=this;this.circleData=t,this.changeItem(i.ItemID.BONUS1),this.aniLiZi.active=!0,this.nodeNormal.active=!1,this.setCircleListData(),this.scheduleOnce(function(){n.rollCircle()},.5*e+2)},rollCircle:function(){var t=this;this.nodeCircle.active=!0,this.nodeAniWheel.active=!0,this.imgItem.active=!1,this.labResult.active=!1;var e=cc.find("imgBg",this.nodeAniWheel),i=cc.find("aniCircle",this.nodeAniWheel);e.scaleX=.2,e.scaleY=.2,cc.tween(e).to(.5,{scaleX:1.1,scaleY:1.1}).to(.5,{scaleX:1,scaleY:1}).start(),cc.tween(e).by(1.85,{angle:-720}).start(),i.getComponent(cc.Animation).play(),this.scheduleOnce(function(){t.showCircleNormal()},1.8)},setCircleListData:function(){for(var t=[],e=0;e<r.length;e++)for(var i=0;i<r[e].length;i++)if(r[e][i]==this.circleData){t.push(r[e]);break}if(0!=t.length){if(1==t.length)this.circleListData=t[0];else{var n=o.getRandID(0,t.length-1);this.circleListData=t[n]}for(var s=0;s<this.circleListData.length;s++)cc.find("labCount",this.labCountList[s]).getComponent(cc.Label).string=this.circleListData[s];this.labResult.y=50,this.labResult.getComponent(cc.Label).string=this.circleData}},showResult:function(){var t=this;this.labResult.active=!0,this.labResult.opacity=255,this.resultTween&&this.resultTween.stop(),cc.tween(this.labResult).to(.5,{y:0}).call(function(){s.emit(n.PLAY_AUDIO_EF,"StopScatterWheel"),t.resultTween=cc.tween(t.labResult).repeatForever(cc.tween().to(.4,{opacity:0}).to(.4,{opacity:255})).start()}).start(),this.scheduleOnce(function(){s.emit(n.STOP_LITTLE_CIRCLE)},2)},showCircleNormal:function(){this.nodeNormal.active=!0,this.changeState(0)},getTagAngle:function(){for(var t=0;t<this.circleListData.length;t++)if(this.circleListData[t]==this.circleData)return t/this.circleListData.length*360},changeState:function(t){switch(t){case-1:break;case 0:this.nowTime=0;break;case 1:s.emit(n.PLAY_AUDIO_EF,"ScatterWheel"),this.deceVt=-360*this.nowTime,this.nowTime=0;break;case 2:this.nowTime=0;break;case 3:this.nowTime=0;var e=1800+this.getTagAngle();this.deceA=-this.uniformSpeed*this.uniformSpeed/2/e,this.deceT=Math.abs(this.uniformSpeed/this.deceA);break;case 4:this.showResult()}this.nowState=t},update:function(t){-1!=this.nowState&&4!=this.nowState&&(this.nowTime+=t,0==this.nowState&&this.stateDecelerate0(t),1==this.nowState&&this.stateAccelerate(t),2==this.nowState&&this.stateUniform(t),3==this.nowState&&this.stateDecelerate(t))},stateDecelerate0:function(){var t=1020*this.nowTime+-180*this.nowTime*this.nowTime;this.imgCircle.angle=-t,t>1080&&this.changeState(1)},stateAccelerate:function(){var t=-this.deceVt*this.nowTime+180*this.nowTime*this.nowTime;this.imgCircle.angle=-t,t>3600&&(this.uniformSpeed=360*this.nowTime,this.changeState(2))},stateUniform:function(){var t=this.uniformSpeed*this.nowTime+3600;this.imgCircle.angle=-t,t>=720&&this.changeState(3)},stateDecelerate:function(){var t=this.uniformSpeed*this.nowTime+.5*this.deceA*this.nowTime*this.nowTime;this.imgCircle.angle=-t,this.nowTime>=this.deceT&&this.changeState(4)}}),cc._RF.pop()},{}],PirateItemConfig:[function(t,e){"use strict";cc._RF.push(e,"df6121UO6dEUYz0z4skty7l","PirateItemConfig");var i={itemNull:0,item01:1,item02:2,item03:3,item04:4,item05:5,item06:6,item07:7,item08:8,item09:9,WILD2:10,WILD3:11,WILD4:12,WILD5:13,WILD6:14,BONUS1:15,BONUS2:16},n={ITEM_HEIGHT:150,ITEM_WIDTH:164,WHEEL_WIDTH:164,WHEEL_HEIGHT:450,FREE_ITEM_HEIGHT:450,SpriteFramelist:[null,"Symbol1","Symbol2","Symbol3","Symbol4","Symbol5","Symbol6","Symbol7","Symbol8","Symbol9","Wild","Wild","Wild","Wild","Riches","Scatter","Bonus"],ItemID:i,IsScatter:function(t){return t==i.BONUS1},IsBonusID:function(t){return t==i.BONUS2},IsWildID:function(t){return t>=i.WILD2&&t<=i.WILD5}};e.exports=n,cc._RF.pop()},{}],PirateItemWheel:[function(t,e){"use strict";cc._RF.push(e,"efa89nlhBVD0IR0oLBAjk3Y","PirateItemWheel");var i=t("PirateUtil"),n=(t("PirateItemConfig"),t("PirateUserData"),t("PirateGameData"),t("PirateEventConfig"),t("PirateEventManager"),["1","2","3"]),s=["itemWheel1","itemWheel2","itemWheel3"];cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,aniItem:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.randImg()},randImg:function(){this.changeItem(i.getRandID(0,n.length-1))},reset:function(){this.aniItem.active=!1,this.itemImg.active=!0},changeItem:function(t){this.reset(),this.itemID=t,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n[t])},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemVerticalPos:function(){return this.verticalPos},playWildAni:function(){},playSelectAni:function(){this.playItemAni()},playItemAni:function(){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(s[this.itemID])}}),cc._RF.pop()},{}],PirateItem:[function(t,e){"use strict";cc._RF.push(e,"8e82aIWlI1LKZD7lbB6qyKG","PirateItem");var i=t("PirateUtil"),n=t("PirateItemConfig");t("PirateUserData"),t("PirateGameData"),t("PirateEventConfig"),t("PirateEventManager"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,aniItem:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.isSelected=!1,this.randImg()},randImg:function(){this.changeItem(i.getRandID(n.ItemID.item01,n.ItemID.item09))},reset:function(){this.aniItem.active=!1,this.itemImg.active=!0,this.isSelected=!1},changeItem:function(t){this.reset(),this.itemID=t,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[t])},getItemId:function(){return this.itemID},setItemWheelID:function(t){this.wheelID=t},setItemVericalPos:function(t){this.verticalPos=t},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return n.IsBonusID(this.itemID)},isScatter:function(){return n.IsScatter(this.itemID)},isWildItem:function(){return n.IsWildID(this.itemID)},rollEnd:function(){},playWildAni:function(){},setItemUnSelect:function(){},playSelectAni:function(){},playItemAni:function(t){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(t)},playAniBonus:function(){this.playItemAni("itemBonus")}}),cc._RF.pop()},{}],PirateLineConfig:[function(t,e){"use strict";cc._RF.push(e,"90be99Q/EhERp8jrpIOTDhI","PirateLineConfig");e.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],PirateLineItem:[function(t,e){"use strict";cc._RF.push(e,"f511apEUExNPYjztXJABpMm","PirateLineItem"),cc.Class({extends:cc.Component,properties:{imgDefault:cc.Node,imgSelect:cc.Node},onLoad:function(){},init:function(t,e){this.imgDefault.getComponent(cc.Sprite).spriteFrame=t,this.imgSelect.getComponent(cc.Sprite).spriteFrame=e},setSelect:function(t){this.imgSelect.active=t}}),cc._RF.pop()},{}],PirateLineTabel:[function(t,e){"use strict";cc._RF.push(e,"c96ec+6T+tO45kpR2dCqD7x","PirateLineTabel");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateUserData"),o=t("PirateGameData");t("PirateItemConfig"),cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,preLineItem:cc.Prefab,itemSpAtlas:cc.SpriteAtlas,lineNode:cc.Node,preLine:cc.Prefab,lineSpAtlas:cc.SpriteAtlas},onLoad:function(){this.addEventListener(),this.initLine(),this.initLineItem(),this.reset()},showLineAni:function(t,e){if(Array.isArray(t))return this.showAllSelectLine(t,e),void this.showAllSelectItem(t);this.showLineTabel(t,e)},showLineTabel:function(t,e){t=Number(t)+o.LINE_OFFSET,n.emit(i.PLAY_LINE_AUDIO_EF,t),this.reset(),this.setLineItemSelect(t,!0),this.lineList[t].active=!0,this.lineList[t].getComponent(o.BUNDLE_NAME+"Line").setSelect(e)},setLineItemSelect:function(t,e){this.lineItemList[t].rightItem.getComponent(o.BUNDLE_NAME+"LineItem").setSelect(e),this.lineItemList[t].leftItem.getComponent(o.BUNDLE_NAME+"LineItem").setSelect(e)},reset:function(){this.hideAllLineItem(),this.hideAllLine()},hideAllLineItem:function(){for(var t=1;t<=s.Line;t++)this.setLineItemSelect(t,!1)},showAllSelectItem:function(t){this.hideAllLineItem();for(var e=0;e<t.length;e++)this.setLineItemSelect(Number(t[e])+o.LINE_OFFSET,!0)},hideAllLine:function(){for(var t=1;t<=s.Line;t++)this.lineList[t].active=!1},showAllLine:function(){for(var t=1;t<=s.Line;t++)this.lineList[t].active=!0,this.lineList[t].getComponent(o.BUNDLE_NAME+"Line").setSelect(0)},showAllSelectLine:function(t,e){this.hideAllLine();for(var i=0;i<t.length;i++){var n=Number(t[i])+o.LINE_OFFSET;this.lineList[n].active=!0,this.lineList[n].getComponent(o.BUNDLE_NAME+"Line").setSelect(e[i])}},onStartRoll:function(){this.reset()},showLine:function(t){if(-1==t&&-1==this.showLineIndex||-2==t)return this.showLineIndex=0,void this.hideAllLine();this.showLineIndex=t,this.hideAllLine(),-1!=t?this.lineList[t].active=!0:this.showAllLine()},updateLineBet:function(){},addEventListener:function(){n.addEventListener(i.SHOW_LINE,this.showLine,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.UPDATE_BET,this.updateLineBet,this)},initLineItem:function(){var t=this;this.lineItemList=[];var e=[5,3,7,9,1,8,6,2,4],i=e,n=function(e,i,n){for(var s=0;s<i.length;s++){var a=cc.instantiate(t.preLineItem);t.itemNode.addChild(a),a.x=e,a.y=n[s];var c=t.itemSpAtlas.getSpriteFrame("lineNum"+i[s]),r=t.itemSpAtlas.getSpriteFrame("lineNumLiang"+i[s]);a.getComponent(o.BUNDLE_NAME+"LineItem").init(c,r),t.lineItemList[i[s]]||(t.lineItemList[i[s]]={}),e>0?t.lineItemList[i[s]].rightItem=a:t.lineItemList[i[s]].leftItem=a}};n(-427,e,[-137,-105,-74,-31,0,32,75,106,138]),n(427,i,[-137,-104,-72,-30,2,33,74,106,138])},initLine:function(){this.lineList=[];for(var t=[NaN,{lineY:0},{lineY:105},{lineY:-105},{lineY:0},{lineY:-28},{lineY:35},{lineY:-32},{lineY:84},{lineY:-83}],e=1;e<=s.Line;e++){var i=cc.instantiate(this.preLine);this.lineNode.addChild(i);var n=t[e],a=this.lineSpAtlas.getSpriteFrame(e);i.getComponent(o.BUNDLE_NAME+"Line").init(a,e),i.y=n.lineY,this.lineList[e]=i}}}),cc._RF.pop()},{}],PirateLine:[function(t,e){"use strict";cc._RF.push(e,"0a0902FSpxIJo8zJMFCxTsN","PirateLine");var i=t("PirateUtil"),n=[NaN,{coinsY:0},{coinsY:0},{coinsY:0},{coinsY:-103},{coinsY:75},{coinsY:-1},{coinsY:1},{coinsY:33},{coinsY:-33}];cc.Class({extends:cc.Component,properties:{imgLine:cc.Sprite,labWin:cc.Node},onLoad:function(){},init:function(t,e){this.imgLine.spriteFrame=t,this.labWin.y=n[e].coinsY},setSelect:function(t){this.labWin.active=t>0,this.labWin.getComponent(cc.Label).string=i.formattingCoins(t)}}),cc._RF.pop()},{}],PirateMain:[function(t,e){"use strict";var i;cc._RF.push(e,"ee5b1UCmutB4ZVHwKeiCzxD","PirateMain");var n=t("PirateEventConfig"),s=t("PirateEventManager"),o=t("PirateGameData"),a=t("PirateUserData"),c=(t("PirateItemConfig"),t("PirateUtil"));cc.Class(((i={extends:cc.Component,properties:{bgNormal:cc.Node,bgFree:cc.Node,wheelPnl:cc.Node,wheelAniPnl:cc.Node,wheelFree:cc.Node,preWheel:cc.Prefab,preWheelAni:cc.Prefab,preWheelFree:cc.Prefab,imgItemMask:cc.Node,labWin:cc.Node,nodeEnterFree:cc.Node,pnlMain:cc.Node,pnlFree:cc.Node,preFree:cc.Prefab},onLoad:function(){a.Status=o.GAME_STATE.INIT,a.GameMode=o.GAME_MODE.NORMAL,this.bgFree.active=!1,this.imgItemMask.active=!1,this.pnlFree.active=!1,this.resultList=[],this.initNormalWheel(),this.initFreeWheel(),this.initAniWheel(),this.initWheelAni(),this.initFreePnl(),this.scheduleOnce(function(){},2)},stateCallBack:function(){if(a.Status==o.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),s.emit(n.STOP_AUDIO_EF,"rollSound"),a.Status=o.GAME_STATE.RESULT,s.emit(n.CHANGE_GAME_STATUS),this.resultList=[],this.resultList=[];for(var t=o.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelList[e].getComponent(o.BUNDLE_NAME+"Wheel").getResultList();this.resultList.push(i[t])}this.showResult()}},showResult:function(){if(a.LotteryRes.winscore>0)return s.emit(n.UPDATE_GAME_WIN,a.LotteryRes.winscore),a.LotteryRes.winscore/a.BetValue>100?s.emit(n.PLAY_AUDIO_EF,"WinSymbol4"):a.LotteryRes.winscore/a.BetValue>50?s.emit(n.PLAY_AUDIO_EF,"WinSymbol3"):a.LotteryRes.winscore/a.BetValue>20?s.emit(n.PLAY_AUDIO_EF,"WinSymbol2"):a.LotteryRes.winscore/a.BetValue>10?s.emit(n.PLAY_AUDIO_EF,"WinSymbol1"):s.emit(n.PLAY_AUDIO_EF,"WinSymbol"),void this.playWinAnim();this.toGameOver()},resetLineAni:function(){for(var t=0;t<this.wheelAniItemList.length;t++)this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").reset(),this.wheelAniItemList[t].active=!1,this.resultList[t]&&(this.resultList[t].active=!0)},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.imgItemMask.active=!1,this.resetLineAni();for(var t=0;t<this.wheelList.length;t++)this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").resetItem()},showGameWin:function(t){this.winTween&&this.winTween.stop(),this.labWin.active=!0,this.labWin.scaleX=.2,this.labWin.scaleY=.2,this.labWin.getComponent(cc.Label).string=c.formattingCoins(t),this.winTween=cc.tween(this.labWin).to(.5,{scaleX:1,scaleY:1},{easing:"expoOut"}).start(),this.unschedule(this.hideGameWin),this.scheduleOnce(this.hideGameWin,1)},hideGameWin:function(){this.labWin.active=!1},playWinAnim:function(){this.onLineAniOver(),0!=a.LotteryRes.viewarray.nWinLinesDetail.length&&this.playLineAni()},playLineAni:function(){for(var t=a.LotteryRes.viewarray.nWinLinesDetail,e=a.LotteryRes.viewarray.nWinDetail,i=a.LotteryRes.viewarray.nWinLines,n=[],s=0;s<t.length;s++)n=n.concat(t[s]);for(var o=[],c=0;c<i.length;c++)o=o.concat(i[c]);for(var r=0,l=0;l<e.length;l++)r+=e[l];this.linesList={allWinLinesDetail:[n].concat(t,[n]),allWinLines:[o].concat(i,[o]),allWinDetail:[r].concat(e,[r])},this.imgItemMask.active=!0,this.lineSchedIndex=0,this.onLineSchedUleCallBack(),a.IsAuto||this.schedule(this.onLineSchedUleCallBack,1.5,this.linesList.allWinDetail.length-2,1.5)}}).resetLineAni=function(){for(var t=0;t<this.wheelAniItemList.length;t++)this.wheelAniItemList[t].getComponent(o.BUNDLE_NAME+"ItemAni").reset(),this.wheelAniItemList[t].active=!1,this.resultList[t]&&(this.resultList[t].active=!0)},i.onLineSchedUleCallBack=function(){this.resetLineAni();for(var t=this.linesList.allWinLinesDetail[this.lineSchedIndex],e=(this.linesList.allWinLines[this.lineSchedIndex],this.linesList.allWinDetail[this.lineSchedIndex]),i=0;i<t.length;i++){var a=this.resultList[t[i]].getComponent(o.BUNDLE_NAME+"Item").getItemId();this.resultList[t[i]].active=!1,this.wheelAniItemList[t[i]].active=!0,this.wheelAniItemList[t[i]].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(a),this.wheelAniItemList[t[i]].getComponent(o.BUNDLE_NAME+"ItemAni").playSelectAni()}this.lineSchedIndex,0!=this.lineSchedIndex&&this.lineSchedIndex!=this.linesList.allWinLinesDetail.length-1&&(this.showGameWin(e),s.emit(n.PLAY_AUDIO_EF,"WinLine")),this.lineSchedIndex,this.linesList.allWinLinesDetail.length,this.lineSchedIndex++},i.onLineAniOver=function(){var t=this;this.scheduleOnce(function(){c.isNormalGame()&&c.checkBigWin(a.LotteryRes.winscore)?t.scheduleOnce(function(){t.showWinView(a.LotteryRes.winscore,function(){s.emit(n.STOP_AUDIO_BGM),t.toGameOver()})},1):t.toGameOver()},a.IsAuto?1.5:.2)},i.toGameOver=function(){var t=this;a.Status!=o.GAME_STATE.SHOW_END&&(a.Status=o.GAME_STATE.SHOW_END,a.LotteryRes.viewarray.getFreeTime.bFlag?this.scheduleOnce(function(){1==a.LotteryRes.viewarray.getFreeTime.freeType?t.enterFreeGame1():t.enterFreeGame()},a.LotteryRes.winscore>0?2:0):this.scheduleOnce(function(){c.isNormalGame()||0!=a.LotteryRes.freeCount?t.onGameOver():t.stopFreeTimes()},.1))},i.onGameOver=function(){a.Status=o.GAME_STATE.LEISURE,s.emit(n.CHANGE_GAME_STATUS)},i.showWinView=function(t,e){c.checkBigWin(t)?s.emit(n.SHOW_BIG_WIN,{coins:t,callback:e}):e()},i.enterFreeGame1=function(){s.emit(n.PLAY_AUDIO_EF,"Bonus"),this.unschedule(this.onLineSchedUleCallBack),this.closeShine();for(var t=a.LotteryRes.viewarray.getFreeTime.wheels,e=0,i=0;i<this.resultList.length;i++)this.resultList[i].getComponent(o.BUNDLE_NAME+"Item").isScatter()&&(this.resultList[i].active=!1,this.wheelAniItemList[i].active=!0,this.wheelAniItemList[i].getComponent(o.BUNDLE_NAME+"ItemAni").playCircle(t[e],e),e++);this.circleCount=t.length},i.stopFreeTimes=function(){var t=this;this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),a.IsFreeSolt=!1,s.emit(n.SHOW_YOU_WIN,{count:a.FreeWinCoins,callback:function(){t.showWinView(a.FreeWinCoins,function(){s.emit(n.PLAY_AUDIO_BGM,{id:0}),t.onGameOver()})}})},i.enterFreeGame=function(){var t=this;this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),s.emit(n.PLAY_AUDIO_EF,"Bonus");for(var e=0;e<this.resultList.length;e++){var i=this.resultList[e].getComponent(o.BUNDLE_NAME+"Item");i.isBonusItem()&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(o.BUNDLE_NAME+"ItemAni").changeItem(i.getItemId()),this.wheelAniItemList[e].getComponent(o.BUNDLE_NAME+"ItemAni").playSelectAni())}this.scheduleOnce(function(){t.playUltraAni()},4)},i.playUltraAni=function(){var t=this;this.nodeEnterFree.active=!0,s.emit(n.PLAY_AUDIO_EF,"NormalToReward"),a.GameMode=o.GAME_MODE.FREE,s.emit(n.CHANGE_GAME_MODE),this.wheelFree.active=!0,this.wheelPnl.active=!1,this.scheduleOnce(function(){t.closeShine(),t.nodeEnterFree.active=!1,s.emit(n.PLAY_AUDIO_BGM,{id:2}),s.emit(n.SHOW_TRANSIT_ANI,{type:2,callback:function(){t.rollFreeWheel()}})},4)},i.rollFreeWheel=function(){for(var t=this,e=a.LotteryRes.viewarray.getFreeTime.wheels,i=[],r=0;r<e.length;r++)0!=e[r]&&i.push(r);var l=[];(function t(e){if(null!=i[e]){var n=c.getRandID(0,2);if(null!=l[n])return t(e);l[n]=i[e],t(++e)}})(0),s.emit(n.PLAY_AUDIO_EF,"rollSound");for(var h=function(e){var i=t.wheelFreeList[e].getComponent(o.BUNDLE_NAME+"WheelFree");i.onStartRoll(),t.scheduleOnce(function(){i.onGetNetData(l[e])},1*e)},m=0;m<this.wheelFreeList.length;m++)h(m)},i.freeStateCallBack=function(){var t=this;s.emit(n.STOP_AUDIO_EF,"rollSound"),s.emit(n.PLAY_AUDIO_EF,"StopRoll");for(var e=0;e<this.wheelFreeList.length;e++){var i=this.wheelFreeList[e].getComponent(o.BUNDLE_NAME+"WheelFree").getResultList()[0];i&&i.getComponent(o.BUNDLE_NAME+"ItemWheel").playSelectAni()}this.scheduleOnce(function(){t.changeScene()},2)},i.changeScene=function(){var t=this;s.emit(n.PLAY_AUDIO_EF,"MovePanel"),cc.tween(this.pnlMain).to(.05,{x:-5}).to(.05,{x:5,y:5}).to(.05,{x:5,y:-5}).to(.05,{x:-5,y:5}).to(.05,{x:5,y:-5}).to(.05,{x:5,y:5}).to(.05,{x:-5,y:5}).to(.05,{x:5,y:5}).to(1,{x:0,y:-720},{easing:"circIn"}).call(function(){for(var e=0;e<t.wheelFreeList.length;e++)t.wheelFreeList[e].getComponent(o.BUNDLE_NAME+"WheelFree").resetItem();t.freeNode.getComponent(o.BUNDLE_NAME+"CircleMain").init(),t.pnlFree.active=!0,t.pnlFree.y=-720,cc.tween(t.pnlFree).to(1,{y:0},{easing:"circOut"}).call(function(){t.showCircle()}).start()}).start()},i.showCircle=function(){this.freeNode.getComponent(o.BUNDLE_NAME+"CircleMain").show(a.LotteryRes.viewarray.getFreeTime.wheels)},i.toNewWheelRollEnd=function(t){this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(this.wheelNetData[t])},i.onStartRoll=function(){this.stopImmediately=!1,this.closeShine(),this.hideGameWin(),this.bonusWheelCount=0,this.imgItemMask.active=!1,c.isNormalGame()||(a.FreeRemaining--,a.FreeTimeNow++,s.emit(n.UPDATE_FREE_TIME_NOW)),s.emit(n.PLAY_AUDIO_EF,"rollSound")},i.onStopImmediately=function(){for(var t=0;t<this.wheelList.length;t++)this.toNewWheelRollEnd(t);this.stopImmediately=!0},i.onLoginGameResult=function(){a.Status=o.GAME_STATE.LEISURE,s.emit(n.CHANGE_GAME_STATUS)},i.onLoginFreeCountResult=function(t){s.emit(n.SET_LINES_VALUE,t.gameDict.betlist.length),s.emit(n.SET_BET_VALUE,t.gameDict.betsum),a.FreeTimeAll=t.gameDict.totalFreeTimes,a.FreeTimeNow=t.gameDict.totalFreeTimes-t.freeCount,t.freeCount>0&&(a.GameMode=o.GAME_MODE.FREE),s.emit(n.CHANGE_GAME_MODE,t),a.Status=o.GAME_STATE.LEISURE,s.emit(n.CHANGE_GAME_STATUS)},i.onLotteryResult=function(){a.Status=o.GAME_STATE.ROLL_END,s.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=c.convertNetData(a.LotteryRes.viewarray.nHandCards),this.wheelNetWinData=c.convertNetData(a.LotteryRes.viewarray.nWinCards),a.isFast?this.onStopImmediately():this.toNewWheelRollEnd(0)},i.onLotteryErrResult=function(){s.emit(n.RESET_WHEEL),a.Status=o.GAME_STATE.LEISURE,s.emit(n.CHANGE_GAME_STATUS)},i.onChangeGameMode=function(){this.bgFree.active=a.GameMode==o.GAME_MODE.FREE,this.bgNormal.active=a.GameMode==o.GAME_MODE.NORMAL,a.GameMode==o.GAME_MODE.NORMAL||(a.GameMode,o.GAME_MODE.FREE)},i.onWheelRollEnd=function(t){var e=this;if(s.emit(n.STOP_AUDIO_EF,"waitBonus"),this.wheelAniList[t].getComponent(o.BUNDLE_NAME+"WheelAni").hideBounsEffect(),t!=o.WHEEL_COUNT-1){if(!this.stopImmediately){var i=this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").checkBoundItem();if(this.bonusWheelCount+=i,i>0&&(1==this.bonusWheelCount?s.emit(n.PLAY_AUDIO_EF,"BonusDown1"):2==this.bonusWheelCount?s.emit(n.PLAY_AUDIO_EF,"BonusDown2"):this.bonusWheelCount>=3&&s.emit(n.PLAY_AUDIO_EF,"BonusDown3")),this.bonusWheelCount>=2)return this.wheelAniList[t+1].getComponent(o.BUNDLE_NAME+"WheelAni").playBonusEffect(),s.emit(n.PLAY_AUDIO_EF,"waitBonus"),void this.scheduleOnce(function(){e.wheelList[t+1].getComponent(o.BUNDLE_NAME+"Wheel").onGetNetData(e.wheelNetData[t+1])},2);this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").checkScatterItem()>0?s.emit(n.PLAY_AUDIO_EF,"ScatterDown"):this.wheelList[t].getComponent(o.BUNDLE_NAME+"Wheel").checkWildItem()>0&&s.emit(n.PLAY_AUDIO_EF,"WildDown"),this.toNewWheelRollEnd(t+1)}}else this.stateCallBack()},i.onStopLittleCircle=function(){var t=this;this.circleCount--,0==this.circleCount&&s.emit(n.SHOW_TRANSIT_ANI,{count:a.LotteryRes.viewarray.getFreeTime.win,type:1,callback:function(){t.onGameOver()}})},i.onFreeWheelRollEnd=function(t){t==this.wheelFreeList.length-1&&this.freeStateCallBack()},i.onFreeCircleRollEnd=function(){var t=this;a.GameMode=o.GAME_MODE.NORMAL,s.emit(n.CHANGE_GAME_MODE),this.wheelFree.active=!1,this.wheelPnl.active=!0,s.emit(n.PLAY_AUDIO_EF,"MovePanel"),cc.tween(this.pnlFree).to(1,{y:-720},{easing:"circIn"}).call(function(){s.emit(n.PLAY_AUDIO_BGM,{id:0}),t.pnlFree.active=!1,cc.tween(t.pnlMain).to(1,{y:40},{easing:"circOut"}).call(function(){t.onGameOver()}).start()}).start()},i.onEnable=function(){s.addEventListener(n.ON_FREE_CIRCLE_ROLL_END,this.onFreeCircleRollEnd,this),s.addEventListener(n.ON_FREE_WHEEL_ROLL_END,this.onFreeWheelRollEnd,this),s.addEventListener(n.STOP_LITTLE_CIRCLE,this.onStopLittleCircle,this),s.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),s.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),s.addEventListener(n.START_ROLL,this.onStartRoll,this),s.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),s.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),s.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),s.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},i.initNormalWheel=function(){this.wheelList=[];for(var t=0;t<o.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheel);this.wheelPnl.addChild(e),this.wheelList.push(e),e.getComponent(o.BUNDLE_NAME+"Wheel").setWheelData(t)}},i.initFreeWheel=function(){this.wheelFreeList=[],this.wheelFree.active=!1;for(var t=0;t<3;t++){var e=cc.instantiate(this.preWheelFree);this.wheelFree.addChild(e),this.wheelFreeList.push(e),e.getComponent(o.BUNDLE_NAME+"WheelFree").setWheelData(t)}},i.initAniWheel=function(){this.wheelAniList=[];for(var t=0;t<o.WHEEL_COUNT;t++){var e=cc.instantiate(this.preWheelAni);this.wheelAniPnl.addChild(e),this.wheelAniList.push(e),e.getComponent(o.BUNDLE_NAME+"WheelAni").setWheelData(t)}},i.initWheelAni=function(){this.wheelAniItemList=[];for(var t=o.VERTICAL_ITEM_COUNT-1;t>=0;t--)for(var e=0;e<this.wheelList.length;e++){var i=this.wheelAniList[e].getComponent(o.BUNDLE_NAME+"WheelAni").getItemAnilist();this.wheelAniItemList.push(i[t])}},i.initLineList=function(){this.lineTable=cc.instantiate(this.preLineTable),this.pnlLine.addChild(this.lineTable)},i.initFreePnl=function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode)},i)),cc._RF.pop()},{}],PirateNetWheelConfig:[function(t,e){"use strict";cc._RF.push(e,"7853fkD+xhILr+1uHx2bw2d","PirateNetWheelConfig");var i=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!0,freeType:1,nFreeTime:4,aFlag:!0,wheels:[30,36,90],win:30},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[15,15,8,8,8,8,8,8,8,15,8,1,8,4,5],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}}],n=0,s={Inint:function(){n=0},GetNetConfig:function(){var t;n>=(t=i).length&&(n=0);var e=t[n];return n++,e}};e.exports=s,cc._RF.pop()},{}],PirateNetwork:[function(t,e){"use strict";cc._RF.push(e,"546ccJ3f3JNfpSc8WF4Qr89","PirateNetwork");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=t("PirateUserData"),a=(t("PirateItemConfig"),t("PirateNetWheelConfig"),t("PlayerInfo"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=a.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(t,e){if("UPDATE_COIN"==t&&n.emit("UPDATE_COIN"),"error"==t)cc.log("socket error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});else if("connect_error"==t)cc.log("connect_error"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});else if("connect_timeout"==t)cc.log("connect_timeout"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});else if("disconnect"==t){if(this.isOutGameIng)return;cc.log("disconnect"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}})}else if("loginGameResult"==t){var s=changeResultJSON_Function(e);if("1"!=s.resultid)return void n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)}});n.emit(i.ON_LOGIN_GAME_RESULT,s),o.LoginGameResultData=s}else if("lotteryResult"==t){var a=changeResultJSON_Function(e);a.ResultCode&&1==a.ResultCode?(o.LotteryRes=JSON.parse(JSON.stringify(a.ResultData)),n.emit(i.ON_LOTTERY_RESULT)):n.emit(i.ON_LOTTERY_RESULT_ERR)}else if("LoginRoomResult"==t)changeResultJSON_Function(e);else if("betResult"==t){var c=changeResultJSON_Function(e);if(1!=c.ResultCode)return;n.emit(i.ON_GAMBLE_RESULT,c.ResultData)}else if("LoginfreeCountResult"==t){var r=changeResultJSON_Function(r);1==r.ResultCode&&(r.freeType=Number(r.freeType))}else if("pushGamblingWinPool"==t){var l=changeResultJSON_Function(e);1==l.ResultCode&&n.emit(i.ON_PUSH_GAMBLING_WIN_POOL,l.nGamblingWinPool)}else if("chargeAllResult"==t){var h=changeResultJSON_Function(e);n.emit(i.ON_CHARGE_ALL_RESULT,h)}},sendRollData:function(){window.sendNetWorkData("lottery",JSON.stringify({bet:o.BetValue/o.Line,line:o.Line}))},onLoginNet:function(){},onStartRoll:function(){o.Status=s.GAME_STATE.REQUEST,n.emit(i.CHANGE_GAME_STATUS),this.sendRollData()},onAddUserCoins:function(){},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.isOutGameIng=!0,n.destroy(),cc.director.loadScene(window.hallName)},onEnable:function(){n.addEventListener(i.ADD_USER_COINS,this.onAddUserCoins,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.OUT_GAME,this.onOutGame,this),n.addEventListener(i.LOGIN_NET,this.onLoginNet,this)},onDestroy:function(){}}),cc._RF.pop()},{PlayerInfo:void 0}],PirateScene:[function(t,e){"use strict";cc._RF.push(e,"44accGRgk5CroIdHCkT+Vo1","PirateScene");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=t("PirateUserData"),a=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preHelp:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab,labCoinsTip:cc.Node},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.scheduleOnce(function(){},2),this.labCoinsTip.active=!1},initData:function(){o.slotBetList=a.getInstant.slotBetList,o.slotBetList||(o.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),a.getInstant.maxBet||(a.getInstant.maxBet=2e3),a.getInstant.fixedBet||(a.getInstant.fixedBet=50),o.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),o.BetValue=o.Line},onShowNotMoney:function(){var t=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(t.labCoinsTip).to(1,{opacity:0}).call(function(){t.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){},onEnable:function(){n.addEventListener(i.HAVE_NO_MONEY,this.onShowNotMoney,this),n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node)},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIDown(),this.initGameUIUp(),this.initHelp(),this.initBigWin(),this.initTipView(),this.initAddCoins(),this.initAutoUI(),this.initAnimation(),this.initTransit(),this.initYouWin()},loadComplete:function(){this.loadCount--,0==this.loadCount&&n.emit(i.LOGIN_NET)},initBg:function(){var t=cc.instantiate(this.preBg);this.bgNode.addChild(t),t.getComponent(cc.Widget).updateAlignment()},initGameUIMain:function(){var t=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(t)},initAutoUI:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"Auto"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initBigWin:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"BigWin"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initYouWin:function(){var t=cc.instantiate(this.preYouWin);this.topNode.addChild(t),t.active=!1},initGameUIDown:function(){this.loadCount++,cc.resources.load("prefabs/commonUi",function(t,e){if(t)cc.log(t);else{var i=cc.instantiate(e);i.addComponent("PirateDownUI"),this.gameNode.addChild(i,1e3);var n=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",i.width,i.height,n),i.scaleX=n.width/1920,i.scaleY=n.height/1080,this.loadComplete()}}.bind(this))},initGameUIUp:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preUpUI",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"UpUI"),t.gameNode.addChild(n),t.loadComplete()}})},initHelp:function(){var t=cc.instantiate(this.preHelp);this.topNode.addChild(t),t.active=!1},initGameMenu:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preMenuUI",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"Menu"),t.showNode.addChild(n),n.active=!1,t.loadComplete()}})},initTipView:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"TipView"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initAddCoins:function(){var t=this;this.loadCount++,o.Bundle.load("resources/prefab/preAddCoins",cc.Prefab,function(e,i){if(e)cc.log(e);else{var n=cc.instantiate(i);n.addComponent(s.BUNDLE_NAME+"AddCoins"),t.topNode.addChild(n),n.active=!1,t.loadComplete()}})},initAnimation:function(){var t=cc.instantiate(this.preAnimation);this.topNode.addChild(t)},initTransit:function(){var t=cc.instantiate(this.preTransit);this.topNode.addChild(t),t.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],PirateTipView:[function(t,e){"use strict";cc._RF.push(e,"5fee1Oa4OdPgLs0QIPNT5Z5","PirateTipView");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateUserData"),o=(t("PirateGameData"),[]);o[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var t=this;s.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(e,i){e||(cc.find("imgBg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_But_Close"))})},show:function(t,e){this.node.active=!0,this.callback=t,null!=e&&(this.labContext.string=o[e])},onClickOK:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.callback(),this.node.active=!1},onClickHide:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onShowView:function(t){this.show(t.callback,t.type)},addEventListener:function(){n.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],PirateTransit:[function(t,e){"use strict";cc._RF.push(e,"bb0e2ldnMlGbZLG35xWF4WV","PirateTransit");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=(t("PirateUserData"),t("PirateGameData"),t("PirateUtil"));cc.Class({extends:cc.Component,properties:{mainNode:cc.Node,nodeFreeWin:cc.Node,nodeFreeEnter:cc.Node,nodeFakeWin:cc.Node},onLoad:function(){this.viewList=[],this.viewList[1]=this.nodeFakeWin,this.viewList[2]=this.nodeFreeEnter,this.viewList[0]=this.nodeFreeWin},getViewNode:function(){for(var t=0;t<this.viewList.length;t++)this.viewList[t].active=!1;return this.viewList[this.data.type].active=!0,this.viewList[this.data.type]},show:function(t){this.node.active=!0,this.data=t,this.showView=this.getViewNode(),this.mainNode.scaleX=0,this.mainNode.scaleY=0,cc.tween(this.mainNode).to(.5,{scaleX:1,scaleY:1},{easing:"expoOut"}).start(),2!=this.data.type&&(n.emit(i.PLAY_AUDIO_EF,"EndJP"),this.rollCoins(),n.emit(i.UPDATE_GAME_WIN,this.data.count),0==this.data.type&&(this.setCircleWin("labCircle1",0),this.setCircleWin("labCircle2",1),this.setCircleWin("labCircle3",2)),this.scheduleOnce(this.hide,7))},setCircleWin:function(t,e){var i=cc.find(t,this.showView);i.active=!1,this.data.wheelData[e]>0&&(i.active=!0,i.getComponent(cc.Label).string=this.data.wheelData[e])},rollCoins:function(){var t=0,e=this.data.count,o=Math.ceil(e/20),a=cc.find("labWin",this.showView).getComponent(cc.Label);a.string=s.formattingCoins(t),this.schedule(function(){(t+=o)>e&&(t=e),n.emit(i.PLAY_AUDIO_EF,"RollScore"),a.string=s.formattingCoins(t)},.05,20)},hide:function(){this.unschedule(this.hide),this.data.callback(),this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],PirateUpUI:[function(t,e){"use strict";cc._RF.push(e,"c4c5eMPprhIE426AN0yj+Pa","PirateUpUI");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=t("PirateUserData"),a=t("PirateUtil"),c=t("PlayerInfo");cc.Class({extends:cc.Component,properties:{},onLoad:function(){var t=this;this.initUI(),this.loadUI(),resizeWinX(this),this.node.scale=0,this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.aniFrame.getComponent(cc.Animation).on("finished",function(){t.aniFrame.active=!1},this),this.initHandTween()},initUI:function(){var t=cc.find("pnlWin",this.node);this.aniFrame=cc.find("aniFrame",t),this.aniCoins=cc.find("aniCoins",t);var e=cc.find("pnlBalance",this.node);this.imgAddCoinsHand=cc.find("btnAdd/imgAdd/imgAddCoinsHand",e),this.labWinning=cc.find("labCoins",t).getComponent(cc.Label),this.labBalance=cc.find("labCoins",e).getComponent(cc.Label),cc.find("btnAdd",e).on("click",this.onClickAddCoins,this),this.btnSound=cc.find("pnlMenu/btnSound",this.node),this.btnSound.on("click",this.onClickSound,this),cc.find("pnlMenu/btnHome",this.node).on("click",this.onClickHome,this),cc.find("pnlMenu",this.node).active=!1},loadUI:function(){var t=this;o.Bundle.load("resources/image/buttonUI",cc.SpriteAtlas,function(e,i){if(!e){t.spAtlas=i,cc.find("bg",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_up_base_02"),cc.find("pnlWin",t.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_coin");var n=cc.find("pnlBalance",t.node);cc.find("imgBg",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("frame_coin");var s=cc.find("pnlMenu",t.node);cc.find("btnHome/btnImg",s).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_lobby_02"),cc.find("btnSound/Background",s).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_setting_01"),cc.find("btnSound/checkmark",s).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btn_setting_02")}})},initHandTween:function(){this.addCoinsHandTween=cc.tween(this.imgAddCoinsHand).repeatForever(cc.tween().to(.5,{x:40,y:-40}).to(.5,{x:100,y:-100})),this.imgAddCoinsHand.active=!1},onClickAddCoins:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),n.emit(i.SHOW_ADD_USER_COINS)},onClickSound:function(t){c.getInstant.musicControl=!t.isChecked,c.getInstant.soundEffectControl=!t.isChecked,c.getInstant.musicControl?(o.GameMode==s.GAME_MODE.NORMAL?n.emit(i.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):n.emit(i.PLAY_AUDIO_BGM,{id:2,isFrist:!0}),n.emit(i.PLAY_AUDIO_EF,"btnShow")):n.emit(i.STOP_AUDIO)},onClickHome:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),n.emit(i.SHOW_TIP_VIEW,{callback:function(){n.emit(i.OUT_GAME)},type:0})},updageGameWin:function(t){0!=t&&(c.getInstant.playerCoin+=t,c.getInstant.labBalance.string=this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin),this.aniFrame.active=!0,this.aniFrame.getComponent(cc.Animation).play(),this.aniCoins.getComponent(cc.Animation).play())},onChargeAllResult:function(t){t&&(this.hideHandTip(),c.getInstant.playerCoin=t.score?t.score:0,c.getInstant.labBalance.string=this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin))},onLotteryResult:function(){this.hideHandTip()},hideHandTip:function(){this.addCoinsHandTween.stop(),this.imgAddCoinsHand.active=!1},onHaveNoMoney:function(){this.imgAddCoinsHand.active=!0,this.addCoinsHandTween.start()},onStartRoll:function(){a.isNormalGame()&&(c.getInstant.playerCoin-=o.BetValue,c.getInstant.labBalance.string=this.labBalance.string=a.formattingCoins(c.getInstant.playerCoin))},onEnable:function(){n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.UPDATE_GAME_WIN,this.updageGameWin,this),n.addEventListener(i.ON_CHARGE_ALL_RESULT,this.onChargeAllResult,this),n.addEventListener(i.HAVE_NO_MONEY,this.onHaveNoMoney,this),n.addEventListener(i.ON_LOTTERY_RESULT,this.onLotteryResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],PirateUserData:[function(t,e){"use strict";cc._RF.push(e,"80d25VJkPZFPbrDxxklVFdH","PirateUserData");var i={Bundle:null,LotteryRes:null,init:function(t){i.Bundle=t,i.GameMode=0,i.Status=0,i.BetIndex=0,i.BetIndex=0,i.Line=30,i.FakeFreeTime=0,i.AllFakeFreeTime=0,i.isFast=!1,i.FakeSoltIndex=0,i.Multiplier=1,i.IsAuto=!1,i.IsFreeSolt=!1,i.IsFakeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeRemaining=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};e.exports=i,cc._RF.pop()},{}],PirateUtil:[function(t,e){"use strict";cc._RF.push(e,"159b4VtMjJC+a7DUQNtDkJW","PirateUtil");var i=t("PirateGameData"),n=t("PirateUserData"),s=(t("PirateItemConfig"),t("PlayerInfo")),o={convertNetData:function(t){for(var e=[],n=0;n<5;n++)e[n]=[];for(var s in t)e[s%5][i.VERTICAL_ITEM_COUNT-1-parseInt(s/5)]=t[s];return e},getItemWheelID:function(t){return t%5},getRandID:function(t,e){return parseInt(Math.random()*(e+1-t))+t},getFakeNetData:function(t,e,i){for(var n=[],s=0;s<15;s++)i[s]?n[s]=i[s]:n[s]=o.getRandID(t,e);return n},formattingCoins:function(t){return(t/s.getInstant.exchangeRate).toFixed(2)},getRandItemFromList:function(t){return t[o.getRandID(0,t.length-1)]},getRandItemID:function(t){var e=parseInt(Math.random()*t.length);return e>=t.length&&(e=t.length-1),e<=0&&(e=0),e},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},getRate:function(t){return t/n.BetValue},getBigWinRate:function(t){var e=o.getRate(t),i=0;return e>=500?i=4:e>=200?i=3:e>=100?i=2:e>=50?i=1:e>=20&&(i=0),i},checkBigWin:function(t){return t/n.BetValue>=20},getItemCount:function(t,e){for(var i=0,n=0;n<t.length;n++)t[n]==e&&i++;return i},checkWinItem:function(t,e,i){for(var n=0;n<i.length;n++)if(i[n]==t&&e[n])return!0;return!1},updateSetString:function(t,e,i,n,s,o){var a=0,c=Math.ceil(t/n);i.string=e;var r=0;o.schedule(function(){(a+=c)>t&&(a=t),i.string=a+e,++r==n+1&&s()},.02,n)},extendCopy:function(t){var e={};for(var i in t)e[i]=t[i];return e}};e.exports=o,cc._RF.pop()},{PlayerInfo:void 0}],PirateWheelAni:[function(t,e){"use strict";cc._RF.push(e,"848edNd8jhJOaPZK3pBnm6O","PirateWheelAni");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=(t("PirateUserData"),t("PirateItemConfig"));cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node,bonusAni:cc.Node},onLoad:function(){this.node.width=o.WHEEL_WIDTH,this.bonusAni.active=!1},setWheelData:function(t){this.wheelId=t,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var t=0;t<this.itemAniList.length;t++){var e=this.itemAniList[t];e.getComponent(s.BUNDLE_NAME+"ItemAni").reset(),e.active=!1}},setItemmData:function(t,e){for(var i=0;i<this.itemAniList.length;i++)this.itemAniList[i].getComponent(s.BUNDLE_NAME+"ItemAni").changeItem(t[i]);this.pnlItemAni.y=1==e?o.ITEM_HEIGHT/2:0},showWinItem:function(t){for(var e=0;e<t.length;e++)t[e]&&(this.itemAniList[e].active=!0,this.itemAniList[e].getComponent(s.BUNDLE_NAME+"ItemAni").playSelectAni())},hideBounsEffect:function(){this.bonusAni.active=!1},playBonusEffect:function(){this.bonusAni.active=!0},onStartRoll:function(){this.resetItem()},onChangeGameMode:function(){},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var t=0;t<s.VERTICAL_ITEM_COUNT;t++){var e=o.ITEM_HEIGHT*t-o.ITEM_HEIGHT,i=cc.instantiate(this.preItemAni);this.itemAniList.push(i),this.pnlItemAni.addChild(i),i.y=e,i.active=!1}}}),cc._RF.pop()},{}],PirateWheelFree:[function(t,e){"use strict";cc._RF.push(e,"17ddcIEKPpN0rjWPYb7c1At","PirateWheelFree");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=t("PirateUserData"),a=t("PirateItemConfig");cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=273,this.node.height=a.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=273,t.height=a.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"ItemWheel").isBonusItem()&&t++;return t},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(s.BUNDLE_NAME+"ItemWheel").reset()},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.unschedule(this.onStopRollScheduleCallback),this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(o.GameMode)},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.addEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){n.removeEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.removeEventListener(i.START_ROLL,this.onStartRoll,this),n.removeEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.removeEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(t){this.netIdList=t,this.completionNetData(),this.isStopRoll=!0},completionNetData:function(){null==this.netIdList?(this.wheelType=1,cc.tween(this.pnlItem).to(.2,{y:-a.FREE_ITEM_HEIGHT/2}).start()):(this.pnlItem.y=0,this.wheelType=0,cc.tween(this.pnlItem).to(.2,{y:0}).start())},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var i=t.itemList[e],n=cc.tween(i);i.getComponent(s.BUNDLE_NAME+"ItemWheel").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.3,{position:cc.v2(0,-a.FREE_ITEM_HEIGHT)}).call(function(){i.y<-a.FREE_ITEM_HEIGHT&&(i.y=a.FREE_ITEM_HEIGHT,i.getComponent(s.BUNDLE_NAME+"ItemWheel").randImg()),t.isStopRoll&&(n.stop(),t.rollEnd(i,e)),t.isResetRoll&&(n.stop(),t.resetRolePos(i,e))})).start()},i=0;i<this.itemList.length;i++)e(i)},rollEnd:function(t,e){var o=this,c=this;cc.tween(t).repeat(2,cc.tween().by(.3,{position:cc.v2(0,-a.FREE_ITEM_HEIGHT)}).call(function(){t.y<-a.FREE_ITEM_HEIGHT&&(t.y=a.FREE_ITEM_HEIGHT,0==o.wheelType&&0==c.itemIndex?(t.getComponent(s.BUNDLE_NAME+"ItemWheel").changeItem(c.netIdList),c.resultItemList.push(t)):t.getComponent(s.BUNDLE_NAME+"ItemWheel").randImg(),t.getComponent(s.BUNDLE_NAME+"ItemWheel").setItemVericalPos(c.itemIndex),c.itemIndex++)})).call(function(){var c=t.getComponent(s.BUNDLE_NAME+"ItemWheel").getItemVerticalPos();c=-1==c?1:c,t.y=c*a.FREE_ITEM_HEIGHT,e==o.itemList.length-1&&n.emit(i.PLAY_AUDIO_EF,"SymbolFallDown"+(o.wheelId+1))}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){o.itemList.length-1==e&&n.emit(i.ON_FREE_WHEEL_ROLL_END,o.wheelId)}).start()},resetRolePos:function(t,e){t.y=a.FREE_ITEM_HEIGHT*e},initItem:function(){this.itemList=[];for(var t=0;t<2;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=a.FREE_ITEM_HEIGHT*t,e.getComponent(s.BUNDLE_NAME+"ItemWheel").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],PirateWheel:[function(t,e){"use strict";cc._RF.push(e,"ee4bfICrIpCUpPOIfPGy+zv","PirateWheel");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateGameData"),o=t("PirateUserData"),a=t("PirateItemConfig");cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=a.WHEEL_WIDTH,this.node.height=a.WHEEL_HEIGHT;var t=cc.find("pnlMask",this.node);t.width=a.WHEEL_WIDTH,t.height=a.WHEEL_HEIGHT},setWheelData:function(t){this.wheelId=t,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isBonusItem()&&t++;return t},checkScatterItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isScatter()&&t++;return t},checkWildItem:function(){for(var t=0,e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(s.BUNDLE_NAME+"Item").isWildItem()&&t++;return t},resetItem:function(){for(var t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(s.BUNDLE_NAME+"Item").reset()},getResultItemByItemPos:function(t){return this.resultItemList[t]},getListItemByItemPos:function(t){return this.itemList[t]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onStopImmediately:function(){this.unschedule(this.onStopRollScheduleCallback),this.isStopRoll=!0},onChangeGameMode:function(){this.changeMode(o.GameMode)},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.addEventListener(i.START_ROLL,this.onStartRoll,this),n.addEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.addEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this)},onDisable:function(){n.removeEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this),n.removeEventListener(i.START_ROLL,this.onStartRoll,this),n.removeEventListener(i.RESET_WHEEL,this.onResetWheel,this),n.removeEventListener(i.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(t){this.netIdList=t,this.onStopRollScheduleCallback()},onStopRollScheduleCallback:function(){this.isStopRoll=!0},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var t=this;this.resultItemList=[];for(var e=function(e){var i=t.itemList[e],n=cc.tween(i);i.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(-1),n.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){i.y<-a.ITEM_HEIGHT-a.ITEM_HEIGHT/2&&(i.y=3*a.ITEM_HEIGHT-a.ITEM_HEIGHT,i.getComponent(s.BUNDLE_NAME+"Item").randImg()),t.isStopRoll&&(n.stop(),t.rollEnd(i,e)),t.isResetRoll&&(n.stop(),t.resetRolePos(i,e))})).start()},i=0;i<this.itemList.length;i++)e(i)},rollEnd:function(t,e){var o=this,c=this;cc.tween(t).repeat(4,cc.tween().by(.06,{position:cc.v2(0,-a.ITEM_HEIGHT)}).call(function(){t.y<-a.ITEM_HEIGHT-a.ITEM_HEIGHT/2&&(t.y=3*a.ITEM_HEIGHT-a.ITEM_HEIGHT,c.itemIndex>=c.netIdList.length?t.getComponent(s.BUNDLE_NAME+"Item").randImg():(t.getComponent(s.BUNDLE_NAME+"Item").changeItem(c.netIdList[c.itemIndex]),c.resultItemList.push(t)),t.getComponent(s.BUNDLE_NAME+"Item").setItemVericalPos(c.itemIndex),c.itemIndex++)})).call(function(){var c=t.getComponent(s.BUNDLE_NAME+"Item").getItemVerticalPos();c=-1==c?3:c,t.y=c*a.ITEM_HEIGHT-a.ITEM_HEIGHT,e==o.itemList.length-1&&n.emit(i.PLAY_AUDIO_EF,"SymbolFallDown"+(o.wheelId+1))}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){t.y<a.ITEM_HEIGHT+a.ITEM_HEIGHT/2&&t.getComponent(s.BUNDLE_NAME+"Item").rollEnd(),o.itemList.length-1==e&&n.emit(i.ON_WHEEL_ROLL_END,o.wheelId)}).start()},resetRolePos:function(t,e){t.y=a.ITEM_HEIGHT*e-a.ITEM_HEIGHT},initItem:function(){this.itemList=[];for(var t=0;t<4;t++){var e=cc.instantiate(this.preItem);this.itemList.push(e),this.pnlItem.addChild(e),e.y=a.ITEM_HEIGHT*t-a.ITEM_HEIGHT,e.getComponent(s.BUNDLE_NAME+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],PirateYouWin:[function(t,e){"use strict";cc._RF.push(e,"9ba91x7qJxGHZbfNwow4OoK","PirateYouWin");var i=t("PirateEventConfig"),n=t("PirateEventManager"),s=t("PirateUserData"),o=t("PirateGameData"),a=t("PirateUtil");cc.Class({extends:cc.Component,properties:{labWin:cc.Label,imgMask:cc.Node,nodeMain:cc.Node},onLoad:function(){this.addEventListener()},show:function(t){var e=this;this.callback=t.callback,this.node.active=!0,this.labWin.string=a.formattingCoins(t.count),this.imgMask.opacity=0,this.nodeMain.active=!0,this.node.scaleX=0,this.node.scaleY=0,cc.tween(this.node).to(.5,{scaleX:1,scaleY:1}).start(),this.scheduleOnce(function(){e.hide(t)},4)},hide:function(){var t=this;cc.tween(this.imgMask).to(.5,{opacity:255}).call(function(){t.nodeMain.active=!1,s.GameMode=o.GAME_MODE.NORMAL,n.emit(i.CHANGE_GAME_MODE)}).to(.5,{opacity:0}).call(function(){t.callback(),t.node.active=!1}).start()},addEventListener:function(){n.addEventListener(i.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["PirateAddCoins","PirateAuto","PirateBigWin","PirateDownUI","PirateTipView","PirateUpUI","PirateEventConfig","PirateEventManager","PirateGameData","PirateItemConfig","PirateLineConfig","PirateNetWheelConfig","PirateUserData","PirateAnimation","PirateAudio","PirateBg","PirateCircle","PirateCircleMain","PirateFakeFree","PirateFree","PirateHelp","PirateItem","PirateItemAni","PirateItemWheel","PirateLine","PirateLineItem","PirateLineTabel","PirateMain","PirateNetwork","PirateScene","PirateTransit","PirateUtil","PirateWheel","PirateWheelAni","PirateWheelFree","PirateYouWin"]);