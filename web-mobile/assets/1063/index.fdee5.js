window.__require=function e(t,i,n){function o(a,c){if(!i[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){return o(t[a][1][e]||e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({OSGemstoneGaloreAnimalItem:[function(e,t){"use strict";cc._RF.push(t,"19b7cmQ4+BJ8IpKOkOwWeLU","OSGemstoneGaloreAnimalItem");var i="OSGemstoneGalore",n=(e(i+"Util"),e(i+"ItemConfig"),e(i+"UserData"),e(i+"GameData"),e(i+"EventConfig")),o=e(i+"EventManager");cc.Class({extends:cc.Component,properties:{icon:cc.Sprite,broken:cc.Animation,fg:cc.Node,iconSF:[cc.SpriteFrame],sf:cc.SpriteFrame},onLoad:function(){},init:function(e){this.index=e,this.isSelected=!1},reset:function(){this.icon.node.active=!1,this.fg.active=!0,this.isSelected=!1,this.broken.node.getComponent(cc.Sprite).spriteFrame=this.sf},playSelectAni:function(e,t){var i=this;this.isSelected||(this.isSelected=!0,this.fg.active=t,this.broken.play(),this.scheduleOnce(function(){i.icon.node.active=!0},1),this.icon.spriteFrame=this.iconSF[e])},onClickSelectBtn:function(){this.isSelected||o.emit(n.SELECT_BTN,this.index)}}),cc._RF.pop()},{}],OSGemstoneGaloreAnimation:[function(e,t){"use strict";cc._RF.push(t,"05092jm7uZOYZOhNeZXCahj","OSGemstoneGaloreAnimation"),e("OSGemstoneGaloreEventConfig"),e("OSGemstoneGaloreEventManager"),e("OSGemstoneGaloreGameData"),e("OSGemstoneGaloreUserData"),cc.Class({extends:cc.Component,properties:{aniDiamond:cc.Node},onLoad:function(){this.aniDiamond.active=!1},playDiamondAni:function(){},onEnable:function(){}}),cc._RF.pop()},{}],OSGemstoneGaloreAudio:[function(e,t){"use strict";cc._RF.push(t,"45abf5X+0BP0ZReL3Rxp0cj","OSGemstoneGaloreAudio");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager"),o=e("OSGemstoneGaloreUserData"),s=e("OSGemstoneGaloreUtil");cc.Class({extends:cc.Component,properties:{bgmAudio:{type:cc.AudioClip,default:[]},OtherButton:cc.AudioClip,AutoGameButton:cc.AudioClip,BetButton:cc.AudioClip,LastPageButton:cc.AudioClip,LineButton:cc.AudioClip,MaxBetButton:cc.AudioClip,SpinButton:cc.AudioClip,lineAudio:{type:cc.AudioClip,default:[]},itemAudio:{type:cc.AudioClip,default:[]},rollAudio:{type:cc.AudioClip,default:[]},BigWin:cc.AudioClip,freePrize:cc.AudioClip,RewardPrize:cc.AudioClip,rollOver:cc.AudioClip,RollScore:cc.AudioClip,RollScoreBG:cc.AudioClip,ScatterDown:cc.AudioClip,waitBonus:cc.AudioClip,EndTx:cc.AudioClip,Pick:cc.AudioClip,Explode:cc.AudioClip,NormalRolling:cc.AudioClip,WinLine:cc.AudioClip,Wild:cc.AudioClip,Open:cc.AudioClip,Close:cc.AudioClip},onLoad:function(){this.pInfo=e("PlayerInfo").getInstant,this.bgmID=0,this.audioID={}},start:function(){cc.audioEngine.stopAll(),this.playBgm({id:0,isFrist:!0})},stopAudio:function(){cc.audioEngine.stopAll()},playBgm:function(e){0!=this.pInfo.musicControl&&this.bgmAudio[e.id]&&(this.bgmID=e.id,o.BGAM_ID=e.id,cc.audioEngine.stopMusic(),cc.audioEngine.playMusic(this.bgmAudio[e.id],!0))},callAudioPlayEff:function(e){return cc.audioEngine.playEffect(e)},playEf:function(e){0!=this.pInfo.soundEffectControl&&(this[e]?this.audioID[e]=this.callAudioPlayEff(this[e]):"rollSound"!=e||(this.audioID[e]=this.playRollEffect()))},playRollEffect:function(){var e=s.getRandID(0,this.rollAudio.length-1);if(this.rollAudio[e])return this.callAudioPlayEff(this.rollAudio[e])},playLineEffect:function(e){0!=this.pInfo.soundEffectControl&&(this.lineAudio[e]?this.callAudioPlayEff(this.lineAudio[e]):console.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bLineEffect :",e))},playItemEffect:function(e){0!=this.pInfo.soundEffectControl&&(this.itemAudio[e]?this.callAudioPlayEff(this.itemAudio[e]):console.log("\u627e\u4e0d\u5230\u58f0\u97f3\u6587\u4ef6 =\u300b\u300b\u300b\u300bItemEffect :",e))},stopAudioEf:function(e){this.audioID[e]&&cc.audioEngine.stopEffect(this.audioID[e])},stopMusic:function(){cc.audioEngine.stopMusic()},onEnable:function(){n.addEventListener(i.PLAY_LINE_AUDIO_EF,this.playLineEffect,this),n.addEventListener(i.PLAY_ITEM_AUDIO_EF,this.playItemEffect,this),n.addEventListener(i.PLAY_AUDIO_BGM,this.playBgm,this),n.addEventListener(i.PLAY_AUDIO_EF,this.playEf,this),n.addEventListener(i.STOP_AUDIO_EF,this.stopAudioEf,this),n.addEventListener(i.STOP_AUDIO,this.stopAudio,this),n.addEventListener(i.STOP_MUSIC,this.stopMusic,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],OSGemstoneGaloreAuto:[function(e,t){"use strict";cc._RF.push(t,"8a1d3ZUJPRDLJlfXhMrXl2h","OSGemstoneGaloreAuto");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager");e("OSGemstoneGaloreUserData"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.loadUI()},loadUI:function(){var e=this,t=[10,20,50,100,200,500],i=["X10","X20","X50","X100","X200","X500"];cc.find("touchNode",this.node).on("click",this.hide,this);for(var n=cc.find("pnlAuto/layout",this.node),o=cc.find("pnlAuto/item",this.node),s=function(s){var a=cc.instantiate(o);n.addChild(a),a.on("click",function(){e.onClickAuto(t[s])},e),cc.find("itemImg",a).getComponent(cc.Label).string=i[s]},a=0;a<t.length;a++)s(a);o.active=!1},onClickAuto:function(e){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),n.emit(i.UPDATE_AUTO_COUNT,e),this.hide()},showAuto:function(){this.node.active=!0},hide:function(){this.node.active=!1},onEnable:function(){n.addEventListener(i.SHOW_AUTO,this.showAuto,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreBg:[function(e,t){"use strict";cc._RF.push(t,"a3b107uv6dH27R102kYcBzn","OSGemstoneGaloreBg");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager"),o=e("OSGemstoneGaloreGameData"),s=e("OSGemstoneGaloreUserData");cc.Class({extends:cc.Component,properties:{imgNormal:cc.Node,imgFree:cc.Node},onLoad:function(){},onChangeGameMode:function(){this.imgNormal.active=s.GameMode==o.GAME_MODE.NORMAL,this.imgFree.active=s.GameMode==o.GAME_MODE.FREE},onEnable:function(){n.addEventListener(i.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreBigWin:[function(e,t){"use strict";cc._RF.push(t,"e2391C1xaVGFKQL4rOO5Al/","OSGemstoneGaloreBigWin");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager"),o=(e("OSGemstoneGaloreUserData"),e("OSGemstoneGaloreUtil"));cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,labCount:cc.Label},onLoad:function(){this.addEventListener()},show:function(e){this.node.active=!0,n.emit(i.PLAY_AUDIO_EF,"BigWin"),this.rollCoins(e),this.scheduleOnce(this.hide,8)},rollCoins:function(e){var t=Math.ceil(e/70);this.labCount.string=o.formattingCoins(0),this.nowCoins=0,this.winCoins=e,this.addCoins=t,this.playEnd=!1,this.schedule(this.addNowCoinsAction,.1,69)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.labCount.string=o.formattingCoins(this.nowCoins),n.emit(i.PLAY_AUDIO_EF,"RollScore"),this.nowCoins!=this.winCoins||this.playEnd||(this.playEnd=!0,this.unschedule(this.addNowCoinsAction))},hide:function(){n.emit(i.STOP_MUSIC),this.callback(),this.unschedule(this.hide),this.unschedule(this.addNowCoinsAction),this.labCount.string=0,this.node.active=!1},onShowBigWin:function(e){this.callback=e.callback,this.show(e.coins)},addEventListener:function(){n.addEventListener(i.SHOW_BIG_WIN,this.onShowBigWin,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreBonusView:[function(e,t){"use strict";cc._RF.push(t,"5ee07TONyhEarVtYknlGrXb","OSGemstoneGaloreBonusView");var i="OSGemstoneGalore",n=(e(i+"Util"),e(i+"ItemConfig"),e(i+"UserData"),e(i+"GameData"),e(i+"EventConfig")),o=e(i+"EventManager");cc.Class({extends:cc.Component,properties:{step0:cc.Node,step1:cc.Node,step0_picks:[cc.Node],gem_picks:[cc.Animation],step0_count:[cc.Label],step0_tip:[cc.Node],step1_picks:[cc.Node],tnt_picks:[cc.Animation],step1_count:[cc.Label],freeCount:cc.Label,multCount:cc.Label},onLoad:function(){var e=this;this.addEventListener();for(var t=function(t){e.tnt_picks[t].on("finished",function(){e.step1_count[t].node.active=!0},e)},i=0;i<this.tnt_picks.length;i++)t(i)},reset:function(){this.state=0,this.step0.active=!0,this.step1.active=!1;for(var e=0;e<this.step0_picks.length;e++)this.step0_count[e].node.active=!1,this.step0_tip[e].active=!1;for(var t=0;t<this.step1_picks.length;t++)this.step1_count[t].node.active=!1;this.freeCount.string=""+this.data.count,this.multCount.string="?"},onPickGEMBtnClick:function(e,t){var i=this;if(0==this.state){this.state=1;var s=Number(t);o.emit(n.PLAY_AUDIO_EF,"Pick"),this.step0_count[s].string=this.data.count,this.step0_count[s].fontSize=40,this.gem_picks[s].play(),this.scheduleOnce(function(){i.step0_count[s].node.active=!0,i.step0_tip[s].active=!0},1),this.scheduleOnce(function(){for(var e=function(e){e!=s&&(i.step0_count[e].string=i.data.count+Math.floor(3*Math.random()+1),i.step0_count[e].fontSize=30,i.gem_picks[e].play(),i.scheduleOnce(function(){i.step0_count[e].node.active=!0},1))},t=0;t<i.gem_picks.length;t++)e(t);i.scheduleOnce(function(){i.step0.active=!1,i.step1.active=!0,i.state=0},2)},2)}},onPickTNTBtnClick:function(e,t){var i=this;if(0==this.state){this.state=1;var s=Number(t);o.emit(n.PLAY_AUDIO_EF,"Explode"),this.step1_count[s].string="x"+this.data.mult,this.step1_count[s].fontSize=40,this.tnt_picks[s].play(),this.scheduleOnce(function(){for(var e=0;e<i.tnt_picks.length;e++)e!=s&&(i.step1_count[e].string="x"+(i.data.mult+Math.floor(3*Math.random()+1)),i.step1_count[e].fontSize=30,i.tnt_picks[e].play(),o.emit(n.PLAY_AUDIO_EF,"Explode"));i.scheduleOnce(function(){i.data.callback()},2),i.scheduleOnce(function(){i.hide()},5.1),i.multCount.string="x"+i.data.mult},2)}},show:function(e){this.node.active=!0,o.emit(n.PLAY_AUDIO_BGM,{id:1}),this.data=e,this.reset()},hide:function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),this.node.active=!1},addEventListener:function(){o.addEventListener(n.SHOW_BONUS,this.show,this),o.addEventListener(n.SELECT_BTN,this.selectBtn,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreCircleMain:[function(e,t){"use strict";cc._RF.push(t,"b1a84ZnCdtBQK+7Xoa2hsMZ","OSGemstoneGaloreCircleMain");var i="OSGemstoneGalore",n=(e(i+"Util"),e(i+"ItemConfig"),e(i+"UserData"),e(i+"GameData"),e(i+"EventConfig")),o=e(i+"EventManager"),s=[50,5,25,8,0,3,15,6,50,4,20,7,0,9,13,2,2500,3,9,38,1,5,50,4,30,8,0,6,10,2];cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,imgCircle:cc.Node,pnlSpin:cc.Node,imgSpin:cc.Node},onLoad:function(){var e=this;cc.tween(this.imgSpin).repeatForever(cc.tween().to(.5,{scaleX:1.2,scaleY:1.2}).to(.5,{scaleX:1,scaleY:1})).start(),this.imgCircle.addComponent(i+"Circle"),this.imgCircle.getComponent(i+"Circle").setCircleData(s),this.imgCircle.getComponent(i+"Circle").addCallback(function(){e.onCircleCallback()})},onCircleCallback:function(){var e=this;0==this.data.getFreeTime.nFreeTime&&o.emit(n.PLAY_AUDIO_EF,"Number"),cc.tween(this.pnlMain).to(.4,{scaleX:1.4,scaleY:1.4},{easing:"backIn"}).to(.1,{scaleX:1,scaleY:1}).delay(1).call(function(){e.data.getFreeTime.nFreeTime>0?o.emit(n.SHOW_TRANSIT_ANI,{count:e.data.getFreeTime.nFreeTime,callback:function(){e.hide()}}):o.emit(n.SHOW_YOU_WIN,{count:e.data.getFreeTime.win,callback:function(){e.imgCircle.getComponent(i+"Circle").reset(),e.hide()}})}).start()},rollCircle:function(){o.emit(n.PLAY_AUDIO_EF,"StartWheel"),this.imgCircle.getComponent(i+"Circle").setData(this.data.getFreeTime.nFreeTime>0?0:this.data.getFreeTime.win)},onClickSpin:function(){this.rollCircle(),this.pnlSpin.active=!1},show:function(e){this.node.active=!0,this.imgCircle.angle=0,this.data=e,o.emit(n.PLAY_AUDIO_BGM,{id:3}),o.emit(n.PLAY_AUDIO_EF,"EnterScatter"),this.pnlSpin.active=!0},hide:function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),this.data.callback(),this.node.active=!1},onEnable:function(){o.addEventListener(n.SHOW_CIRCLE,this.show,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreCircle:[function(e,t){"use strict";cc._RF.push(t,"b8060PwHfNEf7MMxI7FvFew","OSGemstoneGaloreCircle");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager"),o=(e("OSGemstoneGaloreUserData"),-1);cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.imgCircle=this.node},setCircleData:function(e){this.circleData=e,this.OFFSET=360/e.length/2},initCircle:function(){this.itemList=[];for(var e=cc.find("nodeCount",this.imgCircle),t=0;t<this.circleData.length;t++){var i=cc.instantiate(e);this.imgCircle.addChild(i),i.angle=t/this.circleData.length*360,cc.find("labCount",i).getComponent(cc.Label).string=this.circleData[t],this.itemList.push(i)}e.active=!1},updateCircleData:function(e){this.circleData=e;for(var t=0;t<this.itemList.length;t++)cc.find("labCount",this.itemList[t]).getComponent(cc.Label).string=this.circleData[t]},addCallback:function(e){this.callback=e},setData:function(e){this.resultData=e,n.emit(i.PLAY_AUDIO_EF,"Rotate"),this.changeState(1)},reset:function(){this.imgCircle.angle=0},showResult:function(){n.emit(i.STOP_AUDIO_EF,"Rotate"),n.emit(i.PLAY_AUDIO_EF,"RotateStop"),this.callback()},getTagAngle:function(){this.backLength=180+180*Math.random();for(var e=0;e<this.circleData.length;e++)if(this.circleData[e]==this.resultData)return 360/this.circleData.length*e+this.OFFSET+this.backLength},changeState:function(e){var t=this;switch(e){case o:case 0:break;case 1:case 2:this.nowTime=0;break;case 3:this.nowTime=0;var i=360+this.getTagAngle();this.deceA=-this.uniformSpeed*this.uniformSpeed/2/i,this.deceT=Math.abs(this.uniformSpeed/this.deceA);break;case 4:cc.tween(this.imgCircle).by(8,{angle:this.backLength},{easing:"sineInOut"}).call(function(){t.changeState(5)}).start();break;case 5:this.showResult()}this.nowState=e},update:function(e){this.nowState!=o&&0!=this.nowState&&5!=this.nowState&&(this.nowTime+=e,1==this.nowState&&this.stateAccelerate(e),2==this.nowState&&this.stateUniform(e),3==this.nowState&&this.stateDecelerate(e))},stateAccelerate:function(){var e=90*this.nowTime*this.nowTime;this.imgCircle.angle=-e,e>180&&(this.uniformSpeed=180*this.nowTime,this.changeState(2))},stateUniform:function(){var e=this.uniformSpeed*this.nowTime+180;this.imgCircle.angle=-e,e>=720&&this.changeState(3)},stateDecelerate:function(){var e=this.uniformSpeed*this.nowTime+.5*this.deceA*this.nowTime*this.nowTime;this.imgCircle.angle=-e,this.nowTime>=this.deceT&&this.changeState(4)}}),cc._RF.pop()},{}],OSGemstoneGaloreCoin:[function(e,t){"use strict";cc._RF.push(t,"75918uVZORJL6FtNWoftpYF","OSGemstoneGaloreCoin"),cc.Class({extends:cc.Component,properties:{nd:cc.Node},start:function(){},play1:function(){this.gSpeed=-500,this.useGSpeed=!1,this.xSpeed=0,this.ySpeed=0,this.time=0,this.node.angle=Math.floor(360*Math.random()),this.baseY=this.node.y=100*Math.random()-300,this.useGSpeed=!0,this.node.active=!0,this.xSpeed=400*Math.random()*(Math.random()>.5?1:-1),this.ySpeed=700+300*Math.random(),this.baseX=this.node.x=0},play2:function(){this.gSpeed=-500,this.useGSpeed=!1,this.xSpeed=0,this.ySpeed=0,this.time=0,this.node.angle=Math.floor(360*Math.random()),this.baseY=this.node.y=100*Math.random()-200,this.useGSpeed=!0,this.node.active=!0,this.xSpeed=400*Math.random()*(Math.random()>.5?1:-1),this.ySpeed=600+300*Math.random(),this.baseX=this.node.x=0},update:function(e){this.useGSpeed&&this.node.active?(this.time+=e,this.node.x=this.baseX+this.xSpeed*this.time,this.node.y=this.baseY+this.ySpeed*this.time+this.gSpeed*this.time*this.time):this.useGSpeed=!1}}),cc._RF.pop()},{}],OSGemstoneGaloreDownUI:[function(e,t){"use strict";cc._RF.push(t,"c5917sbjWlLOYvDt8j5r7BZ","OSGemstoneGaloreDownUI");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=e(i+"Util"),r=e("PlayerInfo"),l=[];l[0]=0,l[2]=1,l[3]=2,l[4]=3,cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.autoCount=0,this.gameWin=0,this.commonUiTs=this.node.getComponent("CommonUI"),this.commonFast=cc.find("audioView/quickSwitch",this.node),this.commonFast.on("toggle",this.onClickFast,this),this.commonFast.getComponent(cc.Toggle).isChecked=!1,this.initUI(),this.initSpinTouchEvent(),this.imgUnLimited.active=!1,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.labLine.string=a.Line,this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin),a.LoginGameResultData&&this.onLoginGameResult(a.LoginGameResultData)},initBetData:function(e){this.bet=e;var t=r.getInstant.maxBet/a.Line;this.betLimit=a.slotBetList.length-1;for(var i=0;i<a.slotBetList.length;i++)if(t<a.slotBetList[i]){this.betLimit=i-1;break}this.updateBet(),this.updateTotalBet()},initUI:function(){var e=cc.find("nodeMain",this.node);this.btnSub=cc.find("btnSub",e),this.btnSub.on("click",this.onClickDecBet,this),this.btnAdd=cc.find("btnAdd",e),this.btnAdd.on("click",this.onClickAddBet,this),this.btnHelp=cc.find("btnHelp",e),this.btnHelp.on("click",this.onClickHelp,this),this.btnLines=cc.find("btnLines",e),this.btnLines.on("click",this.onClickLine,this),this.labLine=cc.find("labLine",this.btnLines).getComponent(cc.Label);var t=cc.find("nodeBet",e);this.labLineBet=cc.find("labLinePlay",t).getComponent(cc.Label),this.labTotalBet=cc.find("labTotalPlay",t).getComponent(cc.Label);var i=cc.find("btnFast",e);this.btnFast=i,i.on("toggle",this.onClickFast,this),this.nodeFastAni=cc.find("nodeAni",i),this.fastAni=cc.find("ani",this.nodeFastAni).getComponent(cc.Animation);var n=cc.find("nodeWin",this.node);this.labBalance=cc.find("labBalance",n).getComponent(cc.Label),this.labWin=cc.find("labWin",n).getComponent(cc.Label);var o=cc.find("nodeSpin",this.node);this.btnSpin=cc.find("btnSpin",o);var s=cc.find("nodeAutoCount",o);this.imgUnLimited=cc.find("imgUnlimited",s),this.labAutoCount=cc.find("labCount",s)},loadUI:function(){var e=this;a.Bundle.load("resources/image/mainUI",cc.SpriteAtlas,function(t,i){if(!t){e.spAtlas=i,cc.find("bg",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("bg");var n=cc.find("nodeMain",e.node);cc.find("btnHelp",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnHelp"),cc.find("btnSub",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnSub"),cc.find("btnAdd",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnAdd");var o=cc.find("btnFast",n);cc.find("Background",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnFastOff"),cc.find("checkmark",o).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnFastOn");var s=cc.find("nodeSpin",e.node);cc.find("btnSpin",s).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnSpinStart"),cc.find("nodeAutoCount/imgUnlimited",s).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("autoUM")}}),a.Bundle.load("resources/fnt/BEBAS",cc.Font,function(t,i){t||(e.labLine.font=i,e.labLineBet.font=i,e.labTotalBet.font=i,e.labWin.font=i,e.labBalance.font=i,e.labAutoCount.getComponent(cc.Label).font=i)})},update:function(e){this.startTouch&&0==this.spinState&&(this.touchTimeDonw+=e,this.touchTimeDonw>=1&&(this.startTouch=!1,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(l[this.spinState]),this.btnSpin.color=s.COLOR_NORMAL,this.showAutoList()))},changeSpinBtnState:function(e){this.spinState=e,this.btnSpin.getComponent(cc.Sprite).spriteFrame=this.commonUiTs.getBtnFrame(l[e]),this.btnSpin.color=4==e?this.btnSpin.color=s.COLOR_GREY:s.COLOR_NORMAL},initSpinTouchEvent:function(){var e=this;this.startTouch=!1,this.touchTimeDonw=0,this.spinState=0,this.btnSpin.on(cc.Node.EventType.TOUCH_START,function(){a.Status!=s.GAME_STATE.INIT&&4!=e.spinState&&c.isNormalGame()&&(e.btnSpin.getComponent(cc.Sprite).spriteFrame=e.commonUiTs.getBtnFrame(l[e.spinState]),e.btnSpin.color=s.COLOR_GREY,e.touchTimeDonw=0,e.startTouch=!0)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_END,function(){e.startTouch&&(0==e.spinState?(o.emit(n.PLAY_AUDIO_EF,"SpinButton"),e.onClickRoll()):2==e.spinState?(o.emit(n.PLAY_AUDIO_EF,"OtherButton"),o.emit(n.STOP_IMMEDIATELY),e.changeSpinBtnState(4)):3==e.spinState&&(o.emit(n.PLAY_AUDIO_EF,"OtherButton"),e.enterAuto(!1))),e.startTouch=!1,4!=e.spinState&&(e.btnSpin.getComponent(cc.Sprite).spriteFrame=e.commonUiTs.getBtnFrame(l[e.spinState]),e.btnSpin.color=s.COLOR_NORMAL)},this),this.btnSpin.on(cc.Node.EventType.TOUCH_CANCEL,function(){4!=e.spinState&&(e.btnSpin.getComponent(cc.Sprite).spriteFrame=e.commonUiTs.getBtnFrame(l[e.spinState]),e.btnSpin.color=s.COLOR_NORMAL),e.startTouch=!1},this)},onClickFast:function(e){o.emit(n.PLAY_AUDIO_EF,"OtherButton"),a.isFast=e.isChecked,this.nodeFastAni.active=a.isFast,this.commonFast.getComponent(cc.Toggle).isChecked=e.isChecked,cc.find("Background",this.commonFast).active=!e.isChecked,cc.find("checkmark",this.commonFast).active=e.isChecked,this.btnFast.getComponent(cc.Toggle).isChecked=e.isChecked},onClickRoll:function(){a.Status!=s.GAME_STATE.INIT&&(this.checkCoinsEntries()?a.Status==s.GAME_STATE.LEISURE&&(a.Status=s.GAME_STATE.REQUEST,o.emit(n.START_ROLL)):o.emit(n.HAVE_NO_MONEY))},showAutoList:function(){o.emit(n.PLAY_AUDIO_EF,"AutoGameButton"),o.emit(n.SHOW_AUTO)},enterAuto:function(e){a.IsAuto=e,e?(this.banButton(!1),this.banBetButtkon(!1),this.changeSpinBtnState(3),a.Status==s.GAME_STATE.LEISURE&&o.emit(n.START_ROLL)):(this.autoCount=0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO",this.imgUnLimited.active=!1,a.Status==s.GAME_STATE.LEISURE?this.changeSpinBtnState(0):a.Status==s.GAME_STATE.ROLL_END?this.changeSpinBtnState(2):this.changeSpinBtnState(4))},enterLeisure:function(){this.checkCoinsEntries()||(o.emit(n.HAVE_NO_MONEY),this.enterAuto(!1)),c.isNormalGame()?a.IsAuto?0==this.autoCount?this.enterAuto(!1):o.emit(n.START_ROLL):(this.banButton(!0),this.banBetButtkon(!0)):a.IsAuto?o.emit(n.START_ROLL):this.enterAuto(!0)},banBetButtkon:function(e){a.IsAuto&&e||(this.btnSub.getComponent(cc.Button).interactable=e,this.btnAdd.getComponent(cc.Button).interactable=e)},banButton:function(e){a.IsAuto||(e?a.Status==s.GAME_STATE.LEISURE&&this.changeSpinBtnState(0):this.changeSpinBtnState(4))},onClickHelp:function(){o.emit(n.PLAY_AUDIO_EF,"OtherButton"),o.emit(n.SHOW_HELP_VIEW)},onClickAddBet:function(){this.bet+=1,this.bet=this.bet>this.betLimit?0:this.bet,this.playBetBtnSound(),this.updateBet()},onClickDecBet:function(){this.bet-=1,this.bet=this.bet<0?this.betLimit:this.bet,this.playBetBtnSound(),this.updateBet()},playBetBtnSound:function(){this.bet==this.betLimit?o.emit(n.PLAY_AUDIO_EF,"MaxBetButton"):o.emit(n.PLAY_AUDIO_EF,"BetButton")},updateBet:function(){a.BetIndex=this.bet,a.BetValue=a.slotBetList[this.bet]*a.Line,this.labLineBet.string=c.formattingCoins(a.slotBetList[this.bet]),this.updateTotalBet(),o.emit(n.ON_PUSH_GAMBLING_WIN_POOL,a.BetValue)},onClickLine:function(){c.isNormalGame()&&(o.emit(n.PLAY_AUDIO_EF,"LineButton"),o.emit(n.SHOW_LINE,-1))},updateTotalBet:function(){this.labTotalBet.string=c.formattingCoins(a.BetValue),o.emit(n.UPDATE_BET)},checkCoinsEntries:function(){return r.getInstant.playerCoin>=a.BetValue},updateAutoCount:function(e){this.autoCount=e,-1==this.autoCount?(this.imgUnLimited.active=!0,this.labAutoCount.getComponent(cc.Label).string="HOLD FOR AUTO"):(this.imgUnLimited.active=!1,this.labAutoCount.active=!0,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.enterAuto(!0)},onStartRoll:function(){this.autoCount>0&&(this.autoCount--,this.labAutoCount.getComponent(cc.Label).string=this.autoCount+" STOP"),this.banButton(!1),this.banBetButtkon(!1),c.isNormalGame()&&(this.gameWin=0,this.labWin.string=c.formattingCoins(0),r.getInstant.playerCoin-=a.BetValue,this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin))},onChangeGameStatus:function(){a.Status==s.GAME_STATE.LEISURE?this.enterLeisure():a.Status==s.GAME_STATE.RESULT&&(a.IsAuto||this.changeSpinBtnState(4))},updageGameWin:function(e){0!=e&&(this.gameWin+=e,this.labWin.string=c.formattingCoins(this.gameWin),c.isNormalGame()||(a.FreeWinCoins+=e),r.getInstant.playerCoin+=e,this.labBalance.string=c.formattingCoins(r.getInstant.playerCoin))},resetGameWin:function(e){0!=e&&this.gameWin!=e&&(this.gameWin=e,this.labWin.string=c.formattingCoins(this.gameWin),c.isNormalGame()||(a.FreeWinCoins+=e))},onLotteryResult:function(){this.banButton(!0),a.IsAuto||this.changeSpinBtnState(2)},onChangeGameMode:function(){a.GameMode==s.GAME_MODE.NORMAL?this.enterAuto(!1):(this.gameWin=0,this.labWin.string=c.formattingCoins(0),this.btnSub.getComponent(cc.Button).interactable=!1,this.btnAdd.getComponent(cc.Button).interactable=!1,this.updateAutoCount(-1))},onResetWheel:function(){this.enterAuto(!1)},onLoginGameResult:function(e){var t=0;if(e.Obj&&(e.Obj.betList&&(a.slotBetList=e.Obj.betList),e.Obj.betDefault&&e.Obj.betList))for(var i=0;i<e.Obj.betList.length;i++)if(e.Obj.betDefault==e.Obj.betList[i]){t=i;break}this.initBetData(t)},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.UPDATE_AUTO_COUNT,this.updateAutoCount,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.UPDATE_GAME_WIN,this.updageGameWin,this),o.addEventListener(n.RESET_GAME_WIN,this.resetGameWin,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.CHANGE_GAME_STATUS,this.onChangeGameStatus,this),o.addEventListener(n.RESET_WHEEL,this.onResetWheel,this),o.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],OSGemstoneGaloreEventConfig:[function(e,t){"use strict";cc._RF.push(t,"bde7456O5xOapVIE/tgzoo2","OSGemstoneGaloreEventConfig"),t.exports={LOGIN_NET:"LOGIN_NET",ON_LOGIN_GAME_RESULT:"ON_LOGIN_GAME_RESULT",ON_LOTTERY_RESULT:"ON_LOTTERY_RESULT",ON_LOTTERY_RESULT_ERR:"ON_LOTTERY_RESULT_ERR",ON_LOGIN_FREE_COUNT_RESULT:"ON_LOGIN_FREE_COUNT_RESULT",ON_PUSH_GAMBLING_WIN_POOL:"ON_PUSH_GAMBLING_WIN_POOL",ON_CHARGE_ALL_RESULT:"ON_CHARGE_ALL_RESULT",UPDATE_POOL:"UPDATE_POOL",UPDATE_GAME_WIN:"UPDATE_GAME_WIN",RESET_GAME_WIN:"RESET_GAME_WIN",ADD_USER_COINS:"ADD_USER_COINS",HAVE_NO_MONEY:"HAVE_NO_MONEY",UPDATE_BET:"UPDATE_BET",UPDATE_LINE:"UPDATE_LINE",UPDATE_TOTAL_BET:"UPDATE_TOTAL_BET",SHOW_LINE:"SHOW_LINE",UPDATE_AUTO_COUNT:"UPDATE_AUTO_COUNT",UPDATE_FREE_TIME_NOW:"UPDATE_FREE_TIME_NOW",UPDATE_FREE_TIME_ALL:"UPDATE_FREE_TIME_ALL",START_ROLL:"START_ROLL",STOP_IMMEDIATELY:"STOP_IMMEDIATELY",RESET_WHEEL:"RESET_WHEEL",OUT_GAME:"OUT_GAME",CHANGE_GAME_STATUS:"CHANGE_GAME_STATUS",CHANGE_GAME_MODE:"CHANGE_GAME_MODE",ON_WHEEL_ROLL_END:"ON_WHEEL_ROLL_END",PLAY_ANIMATION_VIEW:"PLAY_ANIMATION_VIEW",PLAY_AUDIO_BGM:"PLAY_AUDIO_BGM",PLAY_AUDIO_EF:"PLAY_AUDIO_EF",STOP_AUDIO_EF:"STOP_AUDIO_EF",STOP_AUDIO:"STOP_AUDIO",STOP_MUSIC:"STOP_MUSIC",PLAY_LINE_AUDIO_EF:"PLAY_LINE_AUDIO_EF",PLAY_ITEM_AUDIO_EF:"PLAY_ITEM_AUDIO_EF",SHOW_AUTO:"SHOW_AUTO",SHOW_BIG_WIN:"SHOW_BIG_WIN",SHOW_CIRCLE:"SHOW_CIRCLE",SHOW_BONUS:"SHOW_BONUS",SHOW_TRANSIT_ANI:"SHOW_TRANSIT_ANI",SHOW_YOU_WIN:"SHOW_YOU_WIN",SHOW_TIP_VIEW:"SHOW_TIP_VIEW",SHOW_HELP_VIEW:"SHOW_HELP_VIEW",SHOW_MENU_VIEW:"SHOW_MENU_VIEW",SHOW_ADD_USER_COINS:"SHOW_ADD_USER_COINS",SELECT_BTN:"SELECT_BTN"},cc._RF.pop()},{}],OSGemstoneGaloreEventManager:[function(e,t){"use strict";function i(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}cc._RF.push(t,"6ce38tRF6lEl5Li65/obmqw","OSGemstoneGaloreEventManager");var s={_eventListeners:[],destroy:function(){s._eventListeners=[]},getEventListenersIndex:function(e,t,i){for(var n=-1,o=0;o<s._eventListeners[e].length;o++){var a=s._eventListeners[e][o];if(a.callBack==t&&(!i||a.target==i)){n=o;break}}return n},addEventListener:function(e,t,i){if(e){if(null==t)return cc.log("addEventListener callBack is nil"),!1;var n={callBack:t,target:i};return null==s._eventListeners[e]?s._eventListeners[e]=[n]:-1==s.getEventListenersIndex(e,t,i)&&s._eventListeners[e].push(n),!0}cc.warn("eventName is empty",i)},removeEventListener:function(e,t,i){if(null!=s._eventListeners[e]){var n=s.getEventListenersIndex(e,t,i);-1!=n&&s._eventListeners[e].splice(n,1)}},emit:function(e,t){if(null!=s._eventListeners[e]){for(var n,o=[],a=i(s._eventListeners[e]);!(n=a()).done;){var c=n.value;o.push({callBack:c.callBack,target:c.target})}for(var r=function(){var e=h[l];new Promise(function(){e.callBack.call(e.target,t)})},l=0,h=o;l<h.length;l++)r()}}};t.exports=s,cc._RF.pop()},{}],OSGemstoneGaloreFree:[function(e,t){"use strict";cc._RF.push(t,"d2702yVoptPjapJv6EbikdB","OSGemstoneGaloreFree");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager"),o=(e("OSGemstoneGaloreGameData"),e("OSGemstoneGaloreUserData"));cc.Class({extends:cc.Component,properties:{labRemaining:cc.Node,labNow:cc.Node,labAll:cc.Node,multLabels:[cc.Label]},onLoad:function(){this.addEventListener()},show:function(){if(this.multLabels.length>0)for(var e=0;e<this.multLabels.length;e++)this.multLabels[e].string="x"+o.LotteryRes.viewarray.getFreeTime.multiple;this.labNow&&(this.labNow.getComponent(cc.Label).string=o.FreeTimeNow),this.labAll&&(this.labAll.getComponent(cc.Label).string=o.FreeTimeAll),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=o.FreeRemaining)},onUpdateFreeTimeNow:function(){this.labNow&&(this.labNow.getComponent(cc.Label).string=o.FreeTimeNow),this.labRemaining&&(this.labRemaining.getComponent(cc.Label).string=o.FreeRemaining)},onUpdateFreeTimeAll:function(){this.labAll&&(this.labAll.getComponent(cc.Label).string=o.FreeTimeAll)},addEventListener:function(){n.addEventListener(i.UPDATE_FREE_TIME_NOW,this.onUpdateFreeTimeNow,this),n.addEventListener(i.UPDATE_FREE_TIME_ALL,this.onUpdateFreeTimeAll,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreGameData:[function(e,t){"use strict";cc._RF.push(t,"de89c7PB4lOY7yar3p3o6Ac","OSGemstoneGaloreGameData");var i={GAME_STATE:{INIT:0,LEISURE:1,REQUEST:2,ROLL_END:3,RESULT:4,SHOW_END:5},VERTICAL_ITEM_COUNT:3,WHEEL_COUNT:5,GAME_MODE:{NORMAL:0,FREE:1,FAKE_FREE:2},LINE_OFFSET:1,COLOR_NORMAL:new cc.Color(255,255,255),COLOR_GREY:new cc.Color(132,132,132)};t.exports=i,cc._RF.pop()},{}],OSGemstoneGaloreHelp:[function(e,t){"use strict";cc._RF.push(t,"fd5afB3251GiKthMr9MzESP","OSGemstoneGaloreHelp");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager"),o=e("OSGemstoneGaloreUserData");cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.addEventListener(),this.initUI(),this.loadUI()},initUI:function(){this.nodeState=cc.find("nodeState",this.node),this.item=cc.find("item",this.node),this.item.active=!1,this.imgHelp=cc.find("imgHelp",this.node).getComponent(cc.Sprite);var e=cc.find("nodeMenu",this.node);cc.find("btnHome",e).on("click",this.onClickHideHelp,this),cc.find("btnPre",e).on("click",this.onClickPrevious,this),cc.find("btnNext",e).on("click",this.onClickNext,this)},loadUI:function(){var e=this;o.Bundle.load("resources/image/help",cc.SpriteAtlas,function(t,i){if(!t){cc.find("imgTable",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("bg"),cc.find("imgOff",e.item).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("itemBg"),cc.find("imgOn",e.item).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("item");var n=cc.find("nodeMenu",e.node);cc.find("btnHome",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnClose"),cc.find("btnPre",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnPre"),cc.find("btnNext",n).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnNext"),o.Bundle.load("resources/image/helpContent",cc.SpriteAtlas,function(t,i){if(!t){e.helpSpriteFrames=i.getSpriteFrames(),e.itemList=[];for(var n=0;n<e.helpSpriteFrames.length;n++){var o=cc.instantiate(e.item);o.active=!0,e.nodeState.addChild(o),e.itemList.push(o)}}})}})},show:function(){this.node.active=!0,this.pageIndex=0,this.setHelpView()},setHelpView:function(){this.imgHelp.spriteFrame=this.helpSpriteFrames[this.pageIndex];for(var e=0;e<this.itemList.length;e++)cc.find("imgOn",this.itemList[e]).active=this.pageIndex==e},onClickNext:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.pageIndex++,this.pageIndex>=this.itemList.length&&(this.pageIndex=0),this.setHelpView()},onClickPrevious:function(){n.emit(i.PLAY_AUDIO_EF,"LastPageButton"),this.pageIndex--,this.pageIndex<0&&(this.pageIndex=this.itemList.length-1),this.setHelpView()},onClickHideHelp:function(){n.emit(i.PLAY_AUDIO_EF,"OtherButton"),this.node.active=!1},addEventListener:function(){n.addEventListener(i.SHOW_HELP_VIEW,this.show,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreItemAni:[function(e,t){"use strict";cc._RF.push(t,"000ee88saFIhrupa2Zy0rHF","OSGemstoneGaloreItemAni");var i="OSGemstoneGalore",n=e(i+"ItemConfig"),o=(e(i+"UserData"),e(i+"GameData"),e(i+"EventConfig"),e(i+"EventManager"),e(i+"Util"),[]);o[n.ItemID.item01]="itemAni_0",o[n.ItemID.item02]="itemAni_1",o[n.ItemID.item03]="itemAni_2",o[n.ItemID.item04]="itemAni_3",o[n.ItemID.item05]="itemAni_4",o[n.ItemID.item06]="itemAni_5",o[n.ItemID.item07]="itemAni_6",o[n.ItemID.item08]="itemAni_7",o[n.ItemID.item09]="itemAni_8",o[n.ItemID.WILD]="itemAni_9",o[n.ItemID.SCATTER]="itemAni_10",o[n.ItemID.BONUS]="itemAni_11",cc.Class({extends:cc.Component,properties:{imgItem:cc.Node,itemAni:cc.Node,imgSelect:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.reset(),this.itemAni.getComponent(cc.Animation).on("finished",function(){},this)},initItem:function(e){this.wheelID=e},changeItem:function(e){this.itemID=e,this.reset(),this.imgItem.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(n.SpriteFramelist[e])},IsWildID:function(){return n.IsWildID(this.itemID)},reset:function(){this.imgItem.active=!0,this.itemAni.active=!1,this.imgSelect.active=!1},playSelectAni:function(){this.imgSelect.active=!0,this.imgSelect.getComponent(cc.Animation).play(),this.imgItem.active=!0,this.itemAni.active=!1},playItemAni:function(e){this.itemAni.active=!0,this.imgItem.active=!1,this.itemAni.getComponent(cc.Animation).stop(),this.itemAni.getComponent(cc.Animation).play(e)},playAniBonus:function(){this.playSelectAni()}}),cc._RF.pop()},{}],OSGemstoneGaloreItemConfig:[function(e,t){"use strict";cc._RF.push(t,"7876dGOok9Pp75lr++o3slT","OSGemstoneGaloreItemConfig");var i={item01:0,item02:1,item03:2,item04:3,item05:4,item06:5,item07:6,item08:7,item09:8,WILD:9,BONUS:10,SCATTER:11},n={ITEM_HEIGHT:130,ITEM_WIDTH:177,WHEEL_WIDTH:177,WHEEL_HEIGHT:420,SpriteFramelist:["Symbol1","Symbol2","Symbol3","Symbol4","Symbol5","Symbol6","Symbol7","Symbol8","Symbol9","Wild","Bonus","Scatter"],ItemID:i,IsBonusID:function(e){return e==i.BONUS},IsWildID:function(e){return e==i.WILD},IsScatter:function(e){return e==i.SCATTER}};t.exports=n,cc._RF.pop()},{}],OSGemstoneGaloreItem:[function(e,t){"use strict";cc._RF.push(t,"4d486XBIodEeZldhtGrvcoj","OSGemstoneGaloreItem");var i="OSGemstoneGalore",n=e(i+"Util"),o=e(i+"ItemConfig");e(i+"UserData"),e(i+"GameData"),e(i+"EventConfig"),e(i+"EventManager"),cc.Class({extends:cc.Component,properties:{itemImg:cc.Node,aniItem:cc.Node,spAtlas:cc.SpriteAtlas},onLoad:function(){this.itemID=0,this.wheelID=0,this.verticalPos=0,this.isSelected=!1,this.randImg()},randImg:function(){this.changeItem(n.getRandID(o.ItemID.item01,o.ItemID.item09))},reset:function(){this.aniItem.active=!1,this.itemImg.active=!0,this.isSelected=!1},changeItem:function(e){this.reset(),this.itemID=e,this.itemImg.getComponent(cc.Sprite).spriteFrame=this.spAtlas.getSpriteFrame(o.SpriteFramelist[e])},getItemId:function(){return this.itemID},setItemWheelID:function(e){this.wheelID=e},setItemVericalPos:function(e){this.verticalPos=e},getItemWheelID:function(){return this.wheelID},getItemVerticalPos:function(){return this.verticalPos},isBonusItem:function(){return o.IsBonusID(this.itemID)},isScatter:function(){return o.IsScatter(this.itemID)},isWildItem:function(){return o.IsWildID(this.itemID)},rollEnd:function(){},playWildAni:function(){},setItemUnSelect:function(){},playSelectAni:function(){},playItemAni:function(e){this.aniItem.active=!0,this.itemImg.active=!1,this.aniItem.getComponent(cc.Animation).stop(),this.aniItem.getComponent(cc.Animation).play(e)},playReplaceAni:function(){var e=this;this.scheduleOnce(function(){e.itemID==o.ItemID.WILD||(e.itemID==o.ItemID.SCATTER?e.itemImg.getComponent(cc.Sprite).spriteFrame=e.spAtlas.getSpriteFrame("Wild1"):e.itemID==o.ItemID.BONUS?e.itemImg.getComponent(cc.Sprite).spriteFrame=e.spAtlas.getSpriteFrame("Wild2"):e.itemImg.getComponent(cc.Sprite).spriteFrame=e.spAtlas.getSpriteFrame("Wild3"))},.5)},playAniBonus:function(){}}),cc._RF.pop()},{}],OSGemstoneGaloreLineConfig:[function(e,t){"use strict";cc._RF.push(t,"34dbad73n1Nlbp6HkOlmllb","OSGemstoneGaloreLineConfig");t.exports={LINE_SPRITE:[],LINE_TYPE:{},LINE_CONFIG:[]},cc._RF.pop()},{}],OSGemstoneGaloreLineItem:[function(e,t){"use strict";cc._RF.push(t,"5f407vMew1HRZ/r35VqABNd","OSGemstoneGaloreLineItem"),cc.Class({extends:cc.Component,properties:{imgDefault:cc.Node,imgSelect:cc.Node},onLoad:function(){},init:function(e,t){this.imgDefault.getComponent(cc.Sprite).spriteFrame=e,this.imgSelect.getComponent(cc.Sprite).spriteFrame=t},setSelect:function(e){this.imgSelect.active=e}}),cc._RF.pop()},{}],OSGemstoneGaloreLineTabel:[function(e,t){"use strict";cc._RF.push(t,"36adf5smYBBnpgFoKYEdPV3","OSGemstoneGaloreLineTabel");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"UserData"),a=e(i+"GameData"),c=(e(i+"ItemConfig"),!0),r=!0;cc.Class({extends:cc.Component,properties:{itemNode:cc.Node,preLineItem:cc.Prefab,itemSpAtlas:cc.SpriteAtlas,lineNode:cc.Node,preLine:cc.Prefab,lineSpAtlas:[cc.SpriteAtlas]},onLoad:function(){this.itemNode||(r=!1),this.lineNode||(c=!1),this.addEventListener(),this.initLine(),this.initLineItem(),this.reset()},showLineAni:function(e,t){if(cc.log("showLineAni",e),Array.isArray(e))return this.showAllSelectLine(e,t),void this.showAllSelectItem(e);e&&!isNaN(e)&&this.showLineTabel(e,t)},showLineTabel:function(e,t){e=Number(e)+a.LINE_OFFSET,this.reset(),this.setLineItemSelect(e,!0),this.setLineSelect(e,t)},setLineItemSelect:function(e,t){r&&(this.lineItemList[e].rightItem.getComponent(i+"LineItem").setSelect(t),this.lineItemList[e].leftItem.getComponent(i+"LineItem").setSelect(t))},setLineSelect:function(e,t){c&&(this.lineList[e].active=!0,this.lineList[e].getComponent(i+"Line").setSelect(t),o.emit(n.PLAY_AUDIO_EF,"WinLine"))},reset:function(){this.hideAllLineItem(),this.hideAllLine()},hideAllLineItem:function(){if(r)for(var e=1;e<=s.Line;e++)this.setLineItemSelect(e,!1)},showAllSelectItem:function(e){if(r){this.hideAllLineItem();for(var t=0;t<e.length;t++)this.setLineItemSelect(Number(e[t])+a.LINE_OFFSET,!0)}},hideAllLine:function(){if(c)for(var e=1;e<=s.Line;e++)this.lineList[e].active=!1},showAllLine:function(){if(c)for(var e=1;e<=s.Line;e++)this.lineList[e].active=!0,this.lineList[e].getComponent(i+"Line").setSelect(0)},showAllSelectLine:function(e,t){if(c){this.hideAllLine();for(var n=0;n<e.length;n++){var o=Number(e[n])+a.LINE_OFFSET;this.lineList[o].active=!0,this.lineList[o].getComponent(i+"Line").setSelect(t[n])}}},onStartRoll:function(){this.reset()},showLine:function(e){if(-1==e&&-1==this.showLineIndex||-2==e)return this.showLineIndex=0,void this.hideAllLine();this.showLineIndex=e,this.hideAllLine(),-1!=e?this.lineList[e].active=!0:this.showAllLine()},updateLineBet:function(){},addEventListener:function(){o.addEventListener(n.SHOW_LINE,this.showLine,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.UPDATE_BET,this.updateLineBet,this)},initLineItem:function(){var e=this;if(r){this.lineItemList=[];var t=[5,3,7,8,1,10,9,6,2,4],n=t,o=function(t,n){for(var o=0;o<n.length;o++){var s=cc.instantiate(e.preLineItem);e.itemNode.addChild(s),s.x=t,s.y=-n.length/2*50+50*o+25,s.getComponent(i+"LineItem").init(null,null,n[o]),e.lineItemList[n[o]]||(e.lineItemList[n[o]]={}),t>0?(s.x+=o>=5?-2*(o-5):2*(o-4),e.lineItemList[n[o]].rightItem=s):(s.x+=o>=5?2*(o-5):2*-(o-4),e.lineItemList[n[o]].leftItem=s)}};o(-555,t),o(555,n)}},initLine:function(){if(c){this.lineList=[];for(var e=[0,1,2,1,2,1,1,2,0,2,2,0,2,1,0,1,1,2,0,1,2],t=1;t<=s.Line;t++){var n=cc.instantiate(this.preLine);this.lineNode.addChild(n);var o=this.lineSpAtlas[e[t]].getSpriteFrame("LINE"+t);n.getComponent(i+"Line").init(o,t),this.lineList[t]=n}}}}),cc._RF.pop()},{}],OSGemstoneGaloreLine:[function(e,t){"use strict";cc._RF.push(t,"f000bGhxEdJeIeRA9Rtz+qd","OSGemstoneGaloreLine"),e("OSGemstoneGaloreUtil"),cc.Class({extends:cc.Component,properties:{imgLine:cc.Sprite,labWin:cc.Node},onLoad:function(){},init:function(e){this.imgLine.spriteFrame=e},setSelect:function(){}}),cc._RF.pop()},{}],OSGemstoneGaloreMain:[function(e,t){"use strict";cc._RF.push(t,"5186bl02N5BSIjcTqHGY8OI","OSGemstoneGaloreMain");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=e(i+"ItemConfig"),r=e(i+"Util");cc.Class({extends:cc.Component,properties:{bgNormal:cc.Node,bgFree:cc.Node,bgFrame:cc.Node,bgFrameFree:cc.Node,wheelPnl:cc.Node,wheelAniPnl:cc.Node,preWheel:cc.Prefab,preWheelAni:cc.Prefab,imgItemMask:cc.Node,pnlFree:cc.Node,preFree:cc.Prefab,preLineTable:cc.Prefab,pnlLine:cc.Node,gameName:cc.Node},onLoad:function(){a.Status=s.GAME_STATE.INIT,a.GameMode=s.GAME_MODE.NORMAL,this.bgFree.active=!1,this.bgFrameFree.active=!1,this.imgItemMask.active=!1,this.imgItemMask.width=5*c.WHEEL_WIDTH,this.imgItemMask.height=c.WHEEL_HEIGHT,this.resultList=[],this.initNormalWheel(),this.initAniWheel(),this.initWheelAni(),this.initFreePnl(),this.scheduleOnce(function(){},2),this.initLineList()},stateCallBack:function(){if(a.Status==s.GAME_STATE.ROLL_END){this.unschedule(this.stateCallBack),o.emit(n.STOP_AUDIO_EF,"FreeRolling"),o.emit(n.STOP_AUDIO_EF,"Rolling"),a.Status=s.GAME_STATE.RESULT,o.emit(n.CHANGE_GAME_STATUS),this.resultList=[],this.resultList=[];for(var e=s.VERTICAL_ITEM_COUNT-1;e>=0;e--)for(var t=0;t<this.wheelList.length;t++){var c=this.wheelList[t].getComponent(i+"Wheel").getResultList();this.resultList.push(c[e])}a.LotteryRes.viewarray.nChangeCards.changes?this.checkWild():this.showResult()}},checkWild:function(){var e=this,t=a.LotteryRes.viewarray.nChangeCards.changes;console.log("\u662f\u5426\u6709\u9700\u8981\u53d8\u6210\u767e\u642d\u7684",t.length),0!=t.length?(this.scheduleOnce(function(){for(var n=0;n<t.length;n++)e.resultList[t[n]].getComponent(i+"Item").playReplaceAni(),e.wheelAniItemList[t[n]].getComponent(i+"ItemAni").setWild()},.2),this.scheduleOnce(function(){e.showResult()},1.2)):this.showResult()},showResult:function(){if(a.LotteryRes.viewarray.getFreeTime&&a.LotteryRes.viewarray.getFreeTime.bFlag&&a.LotteryRes.viewarray.getFreeTime.nFreeTime>0&&(a.LotteryRes.viewarray.win-=a.LotteryRes.viewarray.getFreeTime.win),a.LotteryRes.viewarray.win>0){console.log("\u4e2d\u5956\u4e86=\u300b",a.LotteryRes.viewarray.win),o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.viewarray.win);for(var e=c.ItemID.item08;e>=c.ItemID.item05;e--)for(var t=0;t<this.winItemNetData.length&&this.winItemNetData[t]!=e;t++);this.playWinAnim()}else console.log("\u6ca1\u4e2d=\u300b"),this.toGameOver()},closeShine:function(){this.unschedule(this.onLineSchedUleCallBack),this.imgItemMask.active=!1,this.resetLineAni();for(var e=0;e<this.wheelList.length;e++)this.wheelList[e].getComponent(i+"Wheel").resetItem()},hideGameWin:function(){this.labWin.active=!1},playWinAnim:function(){0!=a.LotteryRes.viewarray.nWinLinesDetail.length?this.playLineAni():this.onLineAniOver()},playLineAni:function(){for(var e=this,t=a.LotteryRes.viewarray.nWinLinesDetail,i=a.LotteryRes.viewarray.nWinDetail,n=a.LotteryRes.viewarray.nWinLines,o=[],s=0;s<t.length;s++)o=o.concat(t[s]);for(var c=[],r=0;r<n.length;r++)c=c.concat(n[r]);for(var l=0,h=0;h<i.length;h++)l+=i[h];this.linesList={allWinLinesDetail:[o].concat(t,[o]),allWinLines:[c].concat(n,[c]),allWinDetail:[l].concat(i,[l])},this.imgItemMask.active=!0,this.lineSchedIndex=0,a.LotteryRes.viewarray.getFreeTime.bFlag&&a.LotteryRes.viewarray.getFreeTime.nFreeTime>0||this.scatterWheelCount>=3?(this.onLineSchedUleCallBack(),this.scheduleOnce(function(){e.onLineAniOver()},1)):(this.onLineSchedUleCallBack(),this.scheduleOnce(function(){e.onLineAniOver()},1),this.schedule(this.onLineSchedUleCallBack,1,this.linesList.allWinLinesDetail.length-2,1))},resetLineAni:function(){for(var e=0;e<this.wheelAniItemList.length;e++)this.wheelAniItemList[e].getComponent(i+"ItemAni").reset(),this.wheelAniItemList[e].active=!1,this.resultList[e]&&(this.resultList[e].active=!0);this.lineTable&&this.lineTable.getComponent(i+"LineTabel").reset()},onLineSchedUleCallBack:function(){this.resetLineAni();for(var e=this.linesList.allWinLinesDetail[this.lineSchedIndex],t=this.linesList.allWinLines[this.lineSchedIndex],n=this.linesList.allWinDetail[this.lineSchedIndex],o=0;o<e.length;o++){var s=this.resultList[e[o]].getComponent(i+"Item").getItemId();this.resultList[e[o]].active=!1,this.wheelAniItemList[e[o]].active=!0,this.wheelAniItemList[e[o]].getComponent(i+"ItemAni").changeItem(s),this.wheelAniItemList[e[o]].getComponent(i+"ItemAni").playSelectAni()}this.lineSchedIndex,0!=this.lineSchedIndex&&(this.lineSchedIndex,this.linesList.allWinLinesDetail.length),this.lineSchedIndex!=this.linesList.allWinLinesDetail.length-1&&this.lineTable&&this.lineTable.getComponent(i+"LineTabel").showLineAni(t,n),this.lineSchedIndex++},onLineAniOver:function(){var e=this;this.scheduleOnce(function(){r.isNormalGame()&&r.checkBigWin(a.LotteryRes.viewarray.win)?e.scheduleOnce(function(){e.showWinView(a.LotteryRes.viewarray.win,function(){e.toGameOver()})},1):e.toGameOver()},(a.IsAuto,.2))},toGameOver:function(){var e=this;a.Status!=s.GAME_STATE.SHOW_END&&(a.Status=s.GAME_STATE.SHOW_END,a.LotteryRes.viewarray.getFreeTime.bFlag&&a.LotteryRes.viewarray.getFreeTime.nFreeTime>0?this.scheduleOnce(function(){e.enterFreeGame()},a.LotteryRes.viewarray.win>0?2:0):this.scatterWheelCount>=3?this.enterBonusGame():this.scheduleOnce(function(){r.isNormalGame()||a.FreeSoltRes.viewarray.frees[a.FreeSoltIndex]?e.onGameOver():e.stopFreeTimes()},.1))},onGameOver:function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},showWinView:function(e,t){r.checkBigWin(e)?o.emit(n.SHOW_BIG_WIN,{coins:e,callback:t}):t()},enterBonusGame:function(){this.closeShine();for(var e=0;e<this.resultList.length;e++)this.resultList[e].getComponent(i+"Item").isScatter()&&(this.resultList[e].active=!1,this.wheelAniItemList[e].active=!0,this.wheelAniItemList[e].getComponent(i+"ItemAni").changeItem(this.resultList[e].getComponent(i+"Item").getItemId()),this.wheelAniItemList[e].getComponent(i+"ItemAni").playSelectAni());this.onGameOver(),o.emit(n.PLAY_AUDIO_EF,"FreePrize")},stopFreeTimes:function(){var e=this;this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),a.IsFreeSolt=!1,console.log(a.LotteryRes.viewarray.getFreeTime),o.emit(n.SHOW_YOU_WIN,{count:a.FreeWinCoins,freeTimeWin:this.freeTimeWin,callback:function(){a.GameMode=s.GAME_MODE.NORMAL,o.emit(n.CHANGE_GAME_MODE),e.showWinView(a.FreeWinCoins,function(){o.emit(n.PLAY_AUDIO_BGM,{id:0}),e.onGameOver()})}})},enterFreeGame:function(){this.unschedule(this.onLineSchedUleCallBack),this.closeShine(),r.isNormalGame()&&(a.FreeSoltRes=r.extendCopy(a.LotteryRes),a.initFreeData()),a.FreeRemaining+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,a.FreeTimeAll+=a.LotteryRes.viewarray.getFreeTime.nFreeTime,o.emit(n.UPDATE_FREE_TIME_NOW),this.playBonusAni()},playBonusAni:function(){var e=this;this.closeShine(),o.emit(n.PLAY_AUDIO_EF,"RewardPrize");for(var t=0;t<this.resultList.length;t++)this.resultList[t].getComponent(i+"Item").isBonusItem()&&(this.resultList[t].active=!1,this.wheelAniItemList[t].active=!0,this.wheelAniItemList[t].getComponent(i+"ItemAni").changeItem(this.resultList[t].getComponent(i+"Item").getItemId()),this.wheelAniItemList[t].getComponent(i+"ItemAni").playSelectAni());this.scheduleOnce(function(){e.closeShine(),r.isNormalGame()?(o.emit(n.PLAY_AUDIO_BGM,{id:2}),o.emit(n.UPDATE_GAME_WIN,a.LotteryRes.viewarray.getFreeTime.win),e.freeTimeWin=a.LotteryRes.viewarray.getFreeTime.win,o.emit(n.SHOW_TRANSIT_ANI,{type:"enterFree",callback:function(){o.emit(n.SHOW_BONUS,{count:a.LotteryRes.viewarray.getFreeTime.nFreeTime,mult:a.LotteryRes.viewarray.getFreeTime.multiple,callback:function(){o.emit(n.SHOW_TRANSIT_ANI,{type:"result",count:a.LotteryRes.viewarray.getFreeTime.nFreeTime,mult:a.LotteryRes.viewarray.getFreeTime.multiple,callback:function(){a.GameMode=s.GAME_MODE.FREE,o.emit(n.CHANGE_GAME_MODE),e.scheduleOnce(function(){e.onGameOver()},.5)}})}})}})):(o.emit(n.UPDATE_FREE_TIME_ALL),e.onGameOver())},2)},toNewWheelRollEnd:function(e){this.wheelList[e].getComponent(i+"Wheel").onGetNetData(this.wheelNetData[e])},onStartRoll:function(){this.stopImmediately=!1,this.closeShine(),this.bonusWheelCount=0,this.scatterWheelCount=0,this.imgItemMask.active=!1,this.unschedule(this.onLineSchedUleCallBack),r.isNormalGame()||(a.FreeRemaining--,a.FreeTimeNow++,o.emit(n.UPDATE_FREE_TIME_NOW)),o.emit(n.PLAY_AUDIO_EF,a.GameMode==s.GAME_MODE.NORMAL?"NormalRolling":"")},onStopImmediately:function(){for(var e=0;e<this.wheelList.length;e++)this.toNewWheelRollEnd(e);this.stopImmediately=!0},onLoginGameResult:function(){a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onLoginFreeCountResult:function(e){o.emit(n.SET_LINES_VALUE,e.gameDict.betlist.length),o.emit(n.SET_BET_VALUE,e.gameDict.betsum),a.FreeTimeAll=e.gameDict.totalFreeTimes,a.FreeTimeNow=e.gameDict.totalFreeTimes-e.freeCount,e.freeCount>0&&(a.GameMode=s.GAME_MODE.FREE),o.emit(n.CHANGE_GAME_MODE,e),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onLotteryResult:function(){a.Status=s.GAME_STATE.ROLL_END,o.emit(n.CHANGE_GAME_STATUS),this.wheelNetData=r.convertNetData(a.LotteryRes.viewarray.sHandCards),this.wheelNetWinData=r.convertNetData(a.LotteryRes.viewarray.nWinCards),this.winItemNetData=r.getWinItemNetData(a.LotteryRes.viewarray.nWinCards,a.LotteryRes.viewarray.sHandCards),a.isFast?this.onStopImmediately():this.toNewWheelRollEnd(0)},onLotteryErrResult:function(e){console.log(e),o.emit(n.RESET_WHEEL),a.Status=s.GAME_STATE.LEISURE,o.emit(n.CHANGE_GAME_STATUS)},onChangeGameMode:function(){this.bgFree.active=a.GameMode==s.GAME_MODE.FREE,this.bgFrame.active=a.GameMode==s.GAME_MODE.NORMAL,this.bgFrameFree.active=a.GameMode==s.GAME_MODE.FREE,a.GameMode==s.GAME_MODE.NORMAL?(this.gameName.active=!0,this.freeNode.active=!1):a.GameMode==s.GAME_MODE.FREE&&(this.gameName.active=!1,this.freeNode.active=!0,this.freeNode.getComponent(i+"Free").show())},onWheelRollEnd:function(e){var t=this;this.wheelAniList[e].getComponent(i+"WheelAni").hideBounsEffect(),o.emit(n.STOP_AUDIO_EF,"waitBonus");var a=this.wheelList[e].getComponent(i+"Wheel").checkBoundItem();this.bonusWheelCount+=a;var c=this.wheelList[e].getComponent(i+"Wheel").checkScatterItem();if(this.scatterWheelCount+=c,e==s.WHEEL_COUNT-1)return(a>0||c>0)&&o.emit(n.PLAY_AUDIO_EF,"ScatterDown"),void this.stateCallBack();if(!this.stopImmediately){if((a>0||c>0)&&o.emit(n.PLAY_AUDIO_EF,"ScatterDown"),this.bonusWheelCount>=2)return this.wheelAniList[e+1].getComponent(i+"WheelAni").playBonusEffect(),o.emit(n.PLAY_AUDIO_EF,"waitBonus"),void this.scheduleOnce(function(){t.toNewWheelRollEnd(e+1)},2);this.toNewWheelRollEnd(e+1)}},onEnable:function(){o.addEventListener(n.ON_WHEEL_ROLL_END,this.onWheelRollEnd,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this),o.addEventListener(n.ON_LOGIN_GAME_RESULT,this.onLoginGameResult,this),o.addEventListener(n.ON_LOTTERY_RESULT,this.onLotteryResult,this),o.addEventListener(n.ON_LOTTERY_RESULT_ERR,this.onLotteryErrResult,this)},initNormalWheel:function(){this.wheelList=[];for(var e=0;e<s.WHEEL_COUNT;e++){var t=cc.instantiate(this.preWheel);this.wheelPnl.addChild(t),this.wheelList.push(t),t.getComponent(i+"Wheel").setWheelData(e)}},initAniWheel:function(){this.wheelAniList=[];for(var e=0;e<s.WHEEL_COUNT;e++){var t=cc.instantiate(this.preWheelAni);this.wheelAniPnl.addChild(t),this.wheelAniList.push(t),t.getComponent(i+"WheelAni").setWheelData(e)}},initWheelAni:function(){this.wheelAniItemList=[];for(var e=s.VERTICAL_ITEM_COUNT-1;e>=0;e--)for(var t=0;t<this.wheelList.length;t++){var n=this.wheelAniList[t].getComponent(i+"WheelAni").getItemAnilist();this.wheelAniItemList.push(n[e])}},initLineList:function(){this.preLineTable&&(this.lineTable=cc.instantiate(this.preLineTable),this.pnlLine.addChild(this.lineTable))},initFreePnl:function(){this.freeNode=cc.instantiate(this.preFree),this.pnlFree.addChild(this.freeNode),this.freeNode.active=!1}}),cc._RF.pop()},{}],OSGemstoneGaloreMenuUI:[function(e,t){"use strict";cc._RF.push(t,"cc318A7XsNN0J4i2TlEeq4V","OSGemstoneGaloreMenuUI");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=(e(i+"Util"),e("PlayerInfo"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.initUI(),this.loadUI(),this.pnlMenu.x=770,this.pnlMenuView.active=!1,this.musicVolume=cc.audioEngine.getMusicVolume(),this.effectVolume=cc.audioEngine.getEffectsVolume(),this.sliderMusic.getComponent(cc.Slider).progress=this.musicVolume,this.sliderSound.getComponent(cc.Slider).progress=this.effectVolume,this.changeMusicProgress(this.musicVolume),this.changeSoundProgress(this.effectVolume)},initUI:function(){this.btnSetting=cc.find("btnSetting",this.node),this.btnSetting.on("click",this.onClickSetting,this),this.pnlMenu=cc.find("pnlMenu",this.node),this.btnSetting.active=!1,this.pnlMenu.active=!1,this.btnHome=cc.find("btnHome",this.pnlMenu),this.btnClose=cc.find("btnClose",this.pnlMenu),this.btnSound=cc.find("btnSound",this.pnlMenu),this.btnHome.on("click",this.onClickHome,this),this.btnClose.on("click",this.onClickCloseMenu,this),this.btnSound.on("click",this.onClickOpenMenuView,this),this.pnlMenuView=cc.find("pnlMenuView",this.node),cc.find("btnCloseView",this.pnlMenuView).on("click",this.onClickCloseView,this),this.toggleSound=cc.find("toggleSound",this.pnlMenuView),this.toggleSound.on("toggle",this.onClickToggleSound,this),this.sliderMusic=cc.find("sliderMusic",this.pnlMenuView),this.sliderMusic.on("slide",this.onSliderMusicEvent,this),this.imgSliderMusic=cc.find("imgSlider",this.sliderMusic),this.sliderSound=cc.find("sliderSound",this.pnlMenuView),this.sliderSound.on("slide",this.onSliderSoundEvent,this),this.imgSliderSound=cc.find("imgSlider",this.sliderSound)},loadUI:function(){var e=this;a.Bundle.load("resources/image/menuUI",cc.SpriteAtlas,function(t,i){t||(e.spAtlas=i,cc.find("btnImg",e.btnSetting).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnSetting"),e.pnlMenu.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("menuBg"),cc.find("btnHome/btnImg",e.pnlMenu).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnHome"),cc.find("btnClose/btnImg",e.pnlMenu).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnCloseMenu"),cc.find("btnSound/btnImg",e.pnlMenu).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnSoundView"),cc.find("imgBg",e.pnlMenuView).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("viewBg"),cc.find("btnCloseView/btnImg",e.pnlMenuView).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnCloseView"),cc.find("Background",e.sliderMusic).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("stepBg"),cc.find("imgSlider",e.sliderMusic).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("step"),cc.find("Handle",e.sliderMusic).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnMusic"),cc.find("Background",e.sliderSound).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("stepBg"),cc.find("imgSlider",e.sliderSound).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("step"),cc.find("Handle",e.sliderSound).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnSound"),cc.find("toggleSound/Background",e.pnlMenuView).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnSoundOff"),cc.find("toggleSound/checkmark",e.pnlMenuView).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("btnSoundOn"))})},showMenu:function(){this.tweenMenu&&this.tweenMenu.stop(),this.tweenMenu=cc.tween(this.pnlMenu).to(.2,{x:500}).start()},hideMenu:function(){this.tweenMenu&&this.tweenMenu.stop(),this.tweenMenu=cc.tween(this.pnlMenu).to(.2,{x:770}).start()},onClickSetting:function(){o.emit(n.PLAY_AUDIO_EF,"OtherButton"),this.btnSetting.getComponent(cc.Button).interactable=!1,this.showMenu(),this.btnHome.getComponent(cc.Button).interactable=!0,this.btnClose.getComponent(cc.Button).interactable=!0,this.btnSound.getComponent(cc.Button).interactable=!0},onClickHome:function(){o.emit(n.PLAY_AUDIO_EF,"OtherButton"),o.emit(n.OUT_GAME)},onClickOpenMenuView:function(){o.emit(n.PLAY_AUDIO_EF,"OtherButton"),this.pnlMenuView.active=!0},onClickCloseMenu:function(){o.emit(n.PLAY_AUDIO_EF,"OtherButton"),this.btnHome.getComponent(cc.Button).interactable=!1,this.btnClose.getComponent(cc.Button).interactable=!1,this.btnSound.getComponent(cc.Button).interactable=!1,this.hideMenu(),this.btnSetting.getComponent(cc.Button).interactable=!0},onClickCloseView:function(){o.emit(n.PLAY_AUDIO_EF,"OtherButton"),this.pnlMenuView.active=!1},onSliderMusicEvent:function(e){this.changeMusicProgress(e.progress)},changeMusicProgress:function(e){this.imgSliderMusic.width=378*e,c.getInstant.musicControl=e,o.emit(n.SET_MUSIC_VOLUME,e),0==e||cc.audioEngine.isMusicPlaying()||(a.GameMode==s.GAME_MODE.NORMAL?o.emit(n.PLAY_AUDIO_BGM,{id:0,isFrist:!0}):o.emit(n.PLAY_AUDIO_BGM,{id:2,isFrist:!0})),this.musicVolume=e,cc.audioEngine.setMusicVolume(e),this.checkProgress()},onSliderSoundEvent:function(e){this.changeSoundProgress(e.progress)},changeSoundProgress:function(e){this.imgSliderSound.width=378*e,c.getInstant.soundEffectControl=e,o.emit(n.SET_EFFECT_VOLUME,e),this.effectVolume=e,cc.audioEngine.setEffectsVolume(e),this.checkProgress()},checkProgress:function(){0==this.musicVolume&&0==this.effectVolume?this.toggleSound.getComponent(cc.Toggle).isChecked=!1:this.toggleSound.getComponent(cc.Toggle).isChecked=!0},onClickToggleSound:function(e){this.musicVolume=e.isChecked?1:0,this.effectVolume=e.isChecked?1:0,this.changeMusicProgress(e.isChecked?1:0),this.changeSoundProgress(e.isChecked?1:0),this.sliderMusic.getComponent(cc.Slider).progress=e.isChecked?1:0,this.sliderSound.getComponent(cc.Slider).progress=e.isChecked?1:0},onChangeGameMode:function(){this.btnSetting.active=a.GameMode==s.GAME_MODE.NORMAL,a.GameMode==s.GAME_MODE.FREE&&this.hideMenu()},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],OSGemstoneGaloreNetWheelConfig:[function(e,t){"use strict";cc._RF.push(t,"f99e7XhwZZEUrFw+vK7fh7z","OSGemstoneGaloreNetWheelConfig");var i=[{freeCount:0,freeTotal:0,userscore:89520,winscore:10,viewarray:{getFreeTime:{bFlag:!0,freeType:1,nFreeTime:4,aFlag:!0,wheels:[30,36,90],win:30},nWinCards:[!0,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],nChangeCards:{},nHandCards:[15,15,8,8,8,8,8,8,8,15,8,1,8,4,5],nWinDetail:[2,2,2],nWinLinesDetail:[[3,4],[1,0],[6]],nWinLines:[1,2,3],win:10}}],n=0,o={Inint:function(){n=0},GetNetConfig:function(){var e;n>=(e=i).length&&(n=0);var t=e[n];return n++,t}};t.exports=o,cc._RF.pop()},{}],OSGemstoneGaloreNetwork:[function(e,t){"use strict";cc._RF.push(t,"79187xGLUdLg5mhR5slDLzA","OSGemstoneGaloreNetwork");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=(e(i+"ItemConfig"),e(i+"NetWheelConfig"),e("PlayerInfo"));cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.playerInfo=c.getInstant,this.isOutGameIng=!1,GameConfig.SubGameMgr.subGameNet=this,window.sendNetWorkData("loginGame",JSON.stringify({}))},addNetEvent:function(e,t){var i=null;if("error"==e&&(cc.log("socket error"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"connect_error"==e&&(cc.log("connect_error"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"UPDATE_COIN"==e&&o.emit("UPDATE_COIN"),"connect_timeout"==e&&(cc.log("connect_timeout"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})),"disconnect"==e){if(this.isOutGameIng)return;cc.log("disconnect"),o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}})}if("loginGameResult"==e){if(i=changeResultJSON_Function(t),cc.log("LoginGameResult:",i),"1"!=i.resultid)return cc.log("\u767b\u9646\u5931\u8d25"),void o.emit(n.SHOW_TIP_VIEW,{callback:function(){o.emit(n.OUT_GAME)}});cc.find("Loading")&&(cc.find("Loading").active=!1),window.sendNetWorkData("LoginfreeCount",JSON.stringify({})),o.emit(n.ON_LOGIN_GAME_RESULT,i),a.LoginGameResultData=i}if("lotteryResult"==e&&((i=changeResultJSON_Function(t)).ResultCode&&1==i.ResultCode?(a.LotteryRes=JSON.parse(JSON.stringify(i.ResultData)),o.emit(n.ON_LOTTERY_RESULT)):o.emit(n.ON_LOTTERY_RESULT_ERR)),"LoginRoomResult"==e&&(i=changeResultJSON_Function(t),cc.log("LoginRoomResult",i)),"pushGamblingWinPool"==e&&(i=changeResultJSON_Function(t),cc.log("pushGamblingWinPool=>",i),1==i.ResultCode&&o.emit(n.ON_PUSH_GAMBLING_WIN_POOL,i.nGamblingWinPool)),"betResult"==e){if(i=changeResultJSON_Function(t),cc.log("betResult=>",i),1!=i.ResultCode)return;o.emit(n.ON_GAMBLE_RESULT,i.ResultData)}"LoginfreeCountResult"==e&&(i=changeResultJSON_Function(t),cc.log("LoginfreeCountResult:",i),1==i.ResultCode&&(i.freeType=Number(i.freeType))),"selectFreeTypeResult"==e&&(i=changeResultJSON_Function(t),cc.log("selectFreeTypeResult",i),1==i.ResultCode&&(a.FreeSoltRes.viewarray.frees=i.result.frees,a.FreeRemaining+=i.result.nFreeTime,a.FreeTimeAll+=i.result.nFreeTime,a.VerticalItemCount=i.result.frees[0].nHandCards.length/5,o.emit(n.UPDATE_FREE_TIME_NOW),o.emit(n.UPDATE_FREE_TIME_ALL),o.emit(n.ON_SELECT_FREE_RESULT,i.result)))},sendRollData:function(){for(var e=[],t=0;t<a.Line;t++)e.push(a.BetValue/a.Line);console.log("lottery=>",JSON.stringify({bet:a.BetIndex,nBetList:e})),window.sendNetWorkData("lottery",JSON.stringify({bet:a.BetIndex,nBetList:e}))},onLoginNet:function(){},onStartRoll:function(){if(a.Status=s.GAME_STATE.REQUEST,o.emit(n.CHANGE_GAME_STATUS),!a.IsFakeSolt){if(a.IsFreeSolt)return a.LotteryRes.viewarray=a.FreeSoltRes.viewarray.frees[a.FreeSoltIndex],a.LotteryRes.winscore=a.FreeSoltRes.viewarray.frees[a.FreeSoltIndex].win,a.FreeSoltIndex++,void this.scheduleOnce(function(){o.emit(n.ON_LOTTERY_RESULT)},.5);this.sendRollData()}},onAddUserCoins:function(e){console.log("chargeAll =>",e)},onOutGame:function(){this.lastSendHeartBeatTime=void 0,this.isOutGameIng=!0,o.destroy(),cc.director.loadScene(window.hallName)},onEnable:function(){o.addEventListener(n.ADD_USER_COINS,this.onAddUserCoins,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.OUT_GAME,this.onOutGame,this),o.addEventListener(n.LOGIN_NET,this.onLoginNet,this)}}),cc._RF.pop()},{PlayerInfo:void 0}],OSGemstoneGaloreScene:[function(e,t){"use strict";cc._RF.push(t,"b36250OOvRKcL0vMNmgzPKL","OSGemstoneGaloreScene");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=(e(i+"GameData"),e(i+"UserData")),a=e("PlayerInfo");cc.Class({extends:cc.Component,properties:{preGameUIMain:cc.Prefab,preBg:cc.Prefab,preAnimation:cc.Prefab,preTransit:cc.Prefab,preYouWin:cc.Prefab,preCircle:cc.Prefab,preBonus:cc.Prefab},onLoad:function(){this.initData(),this.initNode(),this.initUI(),this.scheduleOnce(function(){},2)},initData:function(){s.slotBetList=a.getInstant.slotBetList,s.slotBetList||(s.slotBetList=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,24,28,32,36,40,45,50,60,70,80,90,100]),a.getInstant.maxBet||(a.getInstant.maxBet=2e3),a.getInstant.fixedBet||(a.getInstant.fixedBet=50),s.init(cc.assetManager.getBundle(window.BUNDLE_NAME)),s.BetValue=s.Line},onShowNotMoney:function(){var e=this;this.labCoinsTip.active||(this.labCoinsTip.active=!0,this.labCoinsTip.opacity=255,this.scheduleOnce(function(){cc.tween(e.labCoinsTip).to(1,{opacity:0}).call(function(){e.labCoinsTip.active=!1}).start()},3))},onChangeGameMode:function(){},onEnable:function(){o.addEventListener(n.HAVE_NO_MONEY,this.onShowNotMoney,this),o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this)},initNode:function(){this.bgNode=cc.find("bgNode",this.node),this.gameNode=cc.find("gameNode",this.node),this.aniNode=cc.find("aniNode",this.node),this.menuNode=cc.find("menuNode",this.node),this.showNode=cc.find("showNode",this.node),this.topNode=cc.find("topNode",this.node),this.labCoinsTip=cc.find("nodeCoinsTip",this.topNode),this.labCoinsTip.active=!1},initUI:function(){this.loadCount=0,this.initBg(),this.initGameUIMain(),this.initGameUIDown(),this.initHelp(),this.initBigWin(),this.initTipView(),this.initAutoUI(),this.initMenu(),this.initAnimation(),this.initTransit(),this.initYouWin(),this.initBonus(),this.initCircle()},loadComplete:function(){this.loadCount--,0==this.loadCount&&o.emit(n.LOGIN_NET)},initBg:function(){},initGameUIMain:function(){var e=cc.instantiate(this.preGameUIMain);this.gameNode.addChild(e)},initAutoUI:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preAuto",cc.Prefab,function(t,n){if(t)console.log(t);else{var o=cc.instantiate(n);o.addComponent(i+"Auto"),e.topNode.addChild(o),o.active=!1,e.loadComplete()}})},initBigWin:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preBigWin",cc.Prefab,function(t,i){if(t)console.log(t);else{var n=cc.instantiate(i);e.topNode.addChild(n),n.active=!1,e.loadComplete()}})},initYouWin:function(){var e=cc.instantiate(this.preYouWin);this.topNode.addChild(e),e.active=!1},initCircle:function(){if(this.preCircle){var e=cc.instantiate(this.preCircle);this.showNode.addChild(e),e.active=!1}},initBonus:function(){if(this.preBonus){var e=cc.instantiate(this.preBonus);this.aniNode.addChild(e),e.active=!1}},initGameUIDown:function(){this.loadCount++,cc.resources.load("prefabs/commonUi",function(e,t){if(e)cc.log(e);else{var n=cc.instantiate(t);n.addComponent(i+"DownUI"),this.gameNode.addChild(n,1e3);var o=cc.view.getDesignResolutionSize();cc.log("this.gameNode.width",n.width,n.height,o),n.scaleX=o.width/1920,n.scaleY=o.height/1080,this.loadComplete()}}.bind(this))},onDestroy:function(){o.destroy()},initHelp:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preHelp",cc.Prefab,function(t,n){if(t)console.log(t);else{var o=cc.instantiate(n);o.addComponent(i+"Help"),e.topNode.addChild(o),o.active=!1,e.loadComplete()}})},initMenu:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preMenu",cc.Prefab,function(t,n){if(t)console.log(t);else{var o=cc.instantiate(n);o.addComponent(i+"MenuUI"),e.menuNode.addChild(o),e.loadComplete()}})},initTipView:function(){var e=this;this.loadCount++,s.Bundle.load("resources/prefab/preTipView",cc.Prefab,function(t,n){if(t)console.log(t);else{var o=cc.instantiate(n);o.addComponent(i+"TipView"),e.topNode.addChild(o),o.active=!1,e.loadComplete()}})},initAnimation:function(){var e=cc.instantiate(this.preAnimation);this.topNode.addChild(e)},initTransit:function(){var e=cc.instantiate(this.preTransit);this.topNode.addChild(e),e.active=!1}}),cc._RF.pop()},{PlayerInfo:void 0}],OSGemstoneGaloreTipView:[function(e,t){"use strict";cc._RF.push(t,"65f6fdDGq1GNqsvRux45QZp","OSGemstoneGaloreTipView");var i=e("OSGemstoneGaloreEventConfig"),n=e("OSGemstoneGaloreEventManager"),o=e("OSGemstoneGaloreUserData"),s=(e("OSGemstoneGaloreGameData"),[]);s[0]="Are you sure you want to \nleave the game?",cc.Class({extends:cc.Component,onLoad:function(){this.initUI(),this.loadUI(),this.addEventListener(),this.node.active=!1},initUI:function(){this.labContext=cc.find("labContext",this.node).getComponent(cc.Label),cc.find("btnOK",this.node).on("click",this.onClickOK,this),cc.find("btnClose",this.node).on("click",this.onClickHide,this)},loadUI:function(){var e=this;o.Bundle.load("resources/image/btn_group",cc.SpriteAtlas,function(t,i){t||(cc.find("imgBg",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_Board"),cc.find("btnOK",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_SignIn_But_OK"),cc.find("btnClose",e.node).getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame("Mob_But_Close"))})},show:function(e,t){this.node.active=!0,this.callback=e,null!=t&&(this.labContext.string=s[t])},onClickOK:function(){n.emit(i.PLAY_AUDIO_EF,"btnShow"),this.callback(),this.node.active=!1},onClickHide:function(){n.emit(i.PLAY_AUDIO_EF,"btnHide"),this.node.active=!1},onShowView:function(e){this.show(e.callback,e.type)},addEventListener:function(){n.addEventListener(i.SHOW_TIP_VIEW,this.onShowView,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreTransit:[function(e,t){"use strict";cc._RF.push(t,"1709aKP/clBpoG61VScPP5r","OSGemstoneGaloreTransit");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager");e(i+"UserData"),e(i+"GameData"),e(i+"Util"),cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,labCount:cc.Label,labMult:cc.Label,congradulation0:cc.Node,congradulation1:cc.Node},onLoad:function(){},show:function(e){var t=this;this.node.active=!0,this.data=e,this.pnlMain.scaleX=.1,this.pnlMain.scaleY=.1,this.pnlMain.opacity=255,this.tweenMaini&&this.tweenMaini.stop(),this.tweenMaini=cc.tween(this.pnlMain).to(.5,{scaleX:1.2,scaleY:1.2},{easing:"backOut"}).to(.1,{scale:1},{easing:"backOut"}).delay(2).to(.5,{opacity:0}).call(function(){t.hide()}).start(),"result"==this.data.type?(this.labCount.string=e.count,this.labCount.node.active=!0,this.labMult.string="x"+e.mult,this.labMult.node.active=!0,this.congradulation1.active=!0,this.congradulation0.active=!1,o.emit(n.PLAY_AUDIO_EF,"EndTx")):(this.labCount.node.active=!1,this.labMult.node.active=!1,this.congradulation1.active=!1,this.congradulation0.active=!0)},hide:function(){this.unschedule(this.hide),this.data.callback(),this.node.active=!1},onEnable:function(){o.addEventListener(n.SHOW_TRANSIT_ANI,this.show,this)}}),cc._RF.pop()},{}],OSGemstoneGaloreUserData:[function(e,t){"use strict";cc._RF.push(t,"98a10hAgOdF/rmZdprkiILO","OSGemstoneGaloreUserData");var i={Bundle:null,LotteryRes:null,init:function(e){i.Bundle=e,i.GameMode=0,i.Status=0,i.BetIndex=0,i.BetIndex=0,i.Line=20,i.FakeFreeTime=0,i.AllFakeFreeTime=0,i.isFast=!1,i.FakeSoltIndex=0,i.Multiplier=1,i.IsAuto=!1,i.IsFreeSolt=!1,i.IsFakeSolt=!1},initFreeData:function(){i.FreeTimeNow=0,i.FreeTimeAll=0,i.FreeRemaining=0,i.FreeWinCoins=0,i.IsFreeSolt=!0,i.FreeSoltIndex=0}};t.exports=i,cc._RF.pop()},{}],OSGemstoneGaloreUtil:[function(e,t){"use strict";cc._RF.push(t,"9ced2VDGYxJoobFuqhLedmh","OSGemstoneGaloreUtil");var i=e("OSGemstoneGaloreGameData"),n=e("OSGemstoneGaloreUserData"),o=(e("OSGemstoneGaloreItemConfig"),e("PlayerInfo")),s={convertNetData:function(e){for(var t=[],n=0;n<5;n++)t[n]=[];for(var o in e)t[o%5][i.VERTICAL_ITEM_COUNT-1-parseInt(o/5)]=e[o];return t},getIndexByWheelItemID:function(e,t){return(t=i.VERTICAL_ITEM_COUNT-1-t)*i.WHEEL_COUNT+e},getItemWheelID:function(e){return e%5},getWheelIDListByItemList:function(e){for(var t=[],i=0;i<e.length;i++){for(var n=s.getItemWheelID(e[i]),o=!0,a=0;a<t.length;a++)if(t[a]==n){o=!1;break}o&&t.push(n)}return t},getRandID:function(e,t){return parseInt(Math.random()*(t+1-e))+e},getFakeNetData:function(e,t,i){for(var n=[],o=0;o<15;o++)i[o]?n[o]=i[o]:n[o]=s.getRandID(e,t);return n},formattingCoins:function(e){return(e/o.getInstant.exchangeRate).toFixed(2)},formattingNumber:function(e){var t=(e/o.getInstant.exchangeRate).toFixed(2);if(t.length<7)return t;var i=t.length%3;return function e(t,i){return i.length<7?t+i:e(t+i.slice(0,3)+",",i.slice(3))}(t.slice(0,i)+",",t.slice(i))},getRandItemFromList:function(e){return e[s.getRandID(0,e.length-1)]},isNormalGame:function(){return i.GAME_MODE.NORMAL==n.GameMode},getRate:function(e){return e/n.BetValue},getBigWinRate:function(e){var t=s.getRate(e),i=0;return t>=500?i=4:t>=200?i=3:t>=100?i=2:t>=50?i=1:t>=20&&(i=0),i},checkBigWin:function(e){return e/n.BetValue>=20},getItemCount:function(e,t){for(var i=0,n=0;n<e.length;n++)e[n]==t&&i++;return i},checkWinItemID:function(e,t){for(var i=0,n=0;n<e.length;n++)e[n]==t&&i++;return i},getWinItemNetData:function(e,t){for(var i=[],n=0;n<e.length;n++)e[n]&&i.push(t[n]);return i},checkWinItem:function(e,t,i){for(var n=0;n<i.length;n++)if(i[n]==e&&t[n])return!0;return!1},extendCopy:function(e){var t={};for(var i in e)t[i]=e[i];return t}};t.exports=s,cc._RF.pop()},{PlayerInfo:void 0}],OSGemstoneGaloreWheelAni:[function(e,t){"use strict";cc._RF.push(t,"104c3KKECJI/JAaT7SbrutO","OSGemstoneGaloreWheelAni");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=(e(i+"UserData"),e(i+"ItemConfig"));cc.Class({extends:cc.Component,properties:{preItemAni:cc.Prefab,pnlItemAni:cc.Node,bonusAni:cc.Node},onLoad:function(){this.node.width=a.WHEEL_WIDTH,this.bonusAni.active=!1},setWheelData:function(e){this.wheelId=e,this.initItemAni()},getItemAnilist:function(){return this.itemAniList},resetItem:function(){for(var e=0;e<this.itemAniList.length;e++){var t=this.itemAniList[e];t.getComponent(i+"ItemAni").reset(),t.active=!1}},setItemmData:function(e,t){for(var n=0;n<this.itemAniList.length;n++)this.itemAniList[n].getComponent(i+"ItemAni").changeItem(e[n]);this.pnlItemAni.y=1==t?a.ITEM_HEIGHT/2:0},showWinItem:function(e){for(var t=0;t<e.length;t++)e[t]&&(this.itemAniList[t].active=!0,this.itemAniList[t].getComponent(i+"ItemAni").playSelectAni())},isShowBounsEffectIng:function(){return this.bonusAni.active},hideBounsEffect:function(){this.bonusAni.active=!1},playBonusEffect:function(){this.bonusAni.active=!0},onStartRoll:function(){this.resetItem()},onChangeGameMode:function(){},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this)},initItemAni:function(){this.itemAniList=[];for(var e=0;e<s.VERTICAL_ITEM_COUNT;e++){var t=a.ITEM_HEIGHT*e-a.ITEM_HEIGHT*(s.VERTICAL_ITEM_COUNT-1)/2,n=cc.instantiate(this.preItemAni);this.itemAniList.push(n),this.pnlItemAni.addChild(n),n.getComponent(i+"ItemAni").initItem(this.wheelId),n.y=t,n.active=!1}}}),cc._RF.pop()},{}],OSGemstoneGaloreWheel:[function(e,t){"use strict";cc._RF.push(t,"0beddH0REdMBqsLfOi46NBx","OSGemstoneGaloreWheel");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=e(i+"GameData"),a=e(i+"UserData"),c=e(i+"ItemConfig"),r=-c.ITEM_HEIGHT*s.VERTICAL_ITEM_COUNT/2,l=c.ITEM_HEIGHT*(s.VERTICAL_ITEM_COUNT+1)/2;cc.Class({extends:cc.Component,properties:{preItem:cc.Prefab,pnlItem:cc.Node},onLoad:function(){this.resultItemList=[],this.initWheelSize()},initWheelSize:function(){this.node.width=c.WHEEL_WIDTH,this.node.height=c.WHEEL_HEIGHT;var e=cc.find("pnlMask",this.node);e.width=c.WHEEL_WIDTH,e.height=c.WHEEL_HEIGHT},setWheelData:function(e){this.wheelId=e,this.initItem()},changeMode:function(){},checkBoundItem:function(){for(var e=0,t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(i+"Item").isBonusItem()&&e++;return e},checkScatterItem:function(){for(var e=0,t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(i+"Item").isScatter()&&e++;return e},checkWildItem:function(){for(var e=0,t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(i+"Item").isWildItem()&&e++;return e},changeToItem:function(e){for(var t=0;t<this.resultItemList.length;t++)this.resultItemList[t].getComponent(i+"Item").changeItem(e)},resetItem:function(){for(var e=0;e<this.resultItemList.length;e++)this.resultItemList[e].getComponent(i+"Item").reset()},getResultItemByItemPos:function(e){return this.resultItemList[e]},getListItemByItemPos:function(e){return this.itemList[e]},getItemlist:function(){return this.itemList},getResultList:function(){return this.resultItemList},showItemMask:function(){},reset:function(){},onStartRoll:function(){this.isStopRoll=!1,this.isResetRoll=!1,this.itemIndex=0,this.roll(),this.reset()},onChangeGameMode:function(){this.changeMode(a.GameMode)},onEnable:function(){o.addEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.addEventListener(n.START_ROLL,this.onStartRoll,this),o.addEventListener(n.RESET_WHEEL,this.onResetWheel,this)},onDisable:function(){o.removeEventListener(n.CHANGE_GAME_MODE,this.onChangeGameMode,this),o.removeEventListener(n.START_ROLL,this.onStartRoll,this),o.removeEventListener(n.RESET_WHEEL,this.onResetWheel,this),o.removeEventListener(n.STOP_IMMEDIATELY,this.onStopImmediately,this)},onGetNetData:function(e){this.isStopRoll||(this.netIdList=e,this.isStopRoll=!0)},onResetWheel:function(){this.isResetRoll=!0},roll:function(){var e=this;this.resultItemList=[];for(var t=function(t){var n=e.itemList[t],o=cc.tween(n);n.getComponent(i+"Item").setItemVericalPos(-1),o.repeatForever(cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){n.y<r&&(n.y=l,n.getComponent(i+"Item").randImg()),e.isStopRoll&&(o.stop(),e.rollEnd(n,t)),e.isResetRoll&&(o.stop(),e.resetRolePos(n,t))})).start()},n=0;n<this.itemList.length;n++)t(n)},rollEnd:function(e,t){var a=this,h=this;cc.tween(e).repeat(s.VERTICAL_ITEM_COUNT+1,cc.tween().by(.06,{position:cc.v2(0,-c.ITEM_HEIGHT)}).call(function(){e.y<r&&(e.y=l,h.itemIndex>=h.netIdList.length?e.getComponent(i+"Item").randImg():(e.getComponent(i+"Item").changeItem(h.netIdList[h.itemIndex]),h.resultItemList.push(e)),e.getComponent(i+"Item").setItemVericalPos(h.itemIndex),h.itemIndex++)})).call(function(){var c=e.getComponent(i+"Item").getItemVerticalPos();c=-1==c?s.VERTICAL_ITEM_COUNT+1:c,a.resetRolePos(e,c),t==a.itemList.length-1&&o.emit(n.PLAY_AUDIO_EF,"rollOver")}).by(.1,{position:cc.v2(0,-20)}).by(.1,{position:cc.v2(0,20)}).call(function(){e.y<c.ITEM_HEIGHT+c.ITEM_HEIGHT/2&&e.getComponent(i+"Item").rollEnd(),a.itemList.length-1==t&&o.emit(n.ON_WHEEL_ROLL_END,a.wheelId)}).start()},resetRolePos:function(e,t){e.y=c.ITEM_HEIGHT*t-c.ITEM_HEIGHT*(s.VERTICAL_ITEM_COUNT-1)/2},initItem:function(){this.itemList=[];for(var e=0;e<s.VERTICAL_ITEM_COUNT+1;e++){var t=cc.instantiate(this.preItem);this.itemList.push(t),this.pnlItem.addChild(t),this.resetRolePos(t,e),t.getComponent(i+"Item").setItemWheelID(this.wheelId)}}}),cc._RF.pop()},{}],OSGemstoneGaloreYouWin:[function(e,t){"use strict";cc._RF.push(t,"c0a1fkKvQBN27otp5asbbYc","OSGemstoneGaloreYouWin");var i="OSGemstoneGalore",n=e(i+"EventConfig"),o=e(i+"EventManager"),s=(e(i+"UserData"),e(i+"GameData"),e(i+"Util"));cc.Class({extends:cc.Component,properties:{pnlMain:cc.Node,labGameWin:cc.Node,labFreeWin:cc.Node,labTotalWin:cc.Node},onLoad:function(){this.addEventListener()},show:function(e){this.data=e,this.node.active=!0,o.emit(n.PLAY_AUDIO_EF,"RollScoreBG"),this.labGameWin.active=!1,this.labFreeWin.active=!0,this.labTotalWin.active=!1,this.labCount=this.labFreeWin,this.rollCoins(this.data.count-this.data.freeTimeWin),this.scheduleOnce(this.hide,7)},rollCoins:function(e){var t=Math.ceil(e/40);this.labCount.getComponent(cc.Label).string=s.formattingCoins(0),this.nowCoins=0,this.winCoins=e,this.addCoins=t,this.schedule(this.addNowCoinsAction,.1,39)},addNowCoinsAction:function(){this.nowCoins+=this.addCoins,this.nowCoins=this.nowCoins>this.winCoins?this.winCoins:this.nowCoins,this.labCount.getComponent(cc.Label).string=s.formattingCoins(this.nowCoins),o.emit(n.PLAY_AUDIO_EF,"RollScore"),this.nowCoins==this.winCoins&&this.unschedule(this.addNowCoinsAction)},hide:function(){this.data.callback(),this.node.active=!1,o.emit(n.STOP_AUDIO_EF,"RollScoreBG")},addEventListener:function(){o.addEventListener(n.SHOW_YOU_WIN,this.show,this)}}),cc._RF.pop()},{}]},{},["OSGemstoneGaloreAuto","OSGemstoneGaloreBigWin","OSGemstoneGaloreDownUI","OSGemstoneGaloreHelp","OSGemstoneGaloreMenuUI","OSGemstoneGaloreTipView","OSGemstoneGaloreEventConfig","OSGemstoneGaloreEventManager","OSGemstoneGaloreGameData","OSGemstoneGaloreItemConfig","OSGemstoneGaloreLineConfig","OSGemstoneGaloreNetWheelConfig","OSGemstoneGaloreUserData","OSGemstoneGaloreAnimalItem","OSGemstoneGaloreAnimation","OSGemstoneGaloreAudio","OSGemstoneGaloreBg","OSGemstoneGaloreBonusView","OSGemstoneGaloreCircle","OSGemstoneGaloreCircleMain","OSGemstoneGaloreCoin","OSGemstoneGaloreFree","OSGemstoneGaloreItem","OSGemstoneGaloreItemAni","OSGemstoneGaloreLine","OSGemstoneGaloreLineItem","OSGemstoneGaloreLineTabel","OSGemstoneGaloreMain","OSGemstoneGaloreNetwork","OSGemstoneGaloreScene","OSGemstoneGaloreTransit","OSGemstoneGaloreUtil","OSGemstoneGaloreWheel","OSGemstoneGaloreWheelAni","OSGemstoneGaloreYouWin"]);