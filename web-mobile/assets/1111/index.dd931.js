window.__require=function t(e,o,n){function i(s,a){if(!o[s]){if(!e[s]){var l=s.split("/");if(l=l[l.length-1],!e[l]){var c="function"==typeof __require&&__require;if(!a&&c)return c(l,!0);if(r)return r(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var u=o[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({S1111AudioMgr:[function(t,e,o){"use strict";cc._RF.push(e,"2c4df4YPEJIC5afySSBdDjS","S1111AudioMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.S1111SoundType=void 0;var s,a=t("./S1111Const"),l=cc._decorator,c=l.ccclass,u=l.property;(function(t){t[t.showBigAward=0]="showBigAward",t[t.clearCard=1]="clearCard",t[t.showFreeGame=2]="showFreeGame",t[t.activeScatter=3]="activeScatter",t[t.freeGameEnd=4]="freeGameEnd",t[t.scrollEnd=5]="scrollEnd",t[t.replenishCard=6]="replenishCard",t[t.btnSpin=7]="btnSpin",t[t.btnNormal=8]="btnNormal",t[t.btnCancel=9]="btnCancel",t[t.resetScroll=10]="resetScroll",t[t.showFreeGameAgain=11]="showFreeGameAgain"})(s=o.S1111SoundType||(o.S1111SoundType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGameBGM=null,e.gameBGM=null,e.showBigAward=null,e.clearCard=null,e.showFreeGame=null,e.activeScatter=null,e.freeGameEnd=null,e.scrollEnd=null,e.replenishCard=null,e.btnSpin=null,e.btnNormal=null,e.btnCancel=null,e.resetScroll=null,e.showFreeGameAgain=null,e.curSound=-1,e.isOpenSound=!0,e.isOpenMusic=!0,e}return i(e,t),Object.defineProperty(e.prototype,"IsOpenSound",{get:function(){return this.isOpenSound},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"IsOpenMusic",{get:function(){return this.isOpenMusic},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){a.default.ins.audioMgr=this},e.prototype.start=function(){},e.prototype.playSound=function(t){var e=null;switch(t){case s.showBigAward:e=this.showBigAward;break;case s.clearCard:e=this.clearCard;break;case s.showFreeGame:e=this.showFreeGame;break;case s.activeScatter:e=this.activeScatter;break;case s.freeGameEnd:e=this.freeGameEnd;break;case s.scrollEnd:e=this.scrollEnd;break;case s.replenishCard:e=this.replenishCard;break;case s.btnSpin:e=this.btnSpin;break;case s.btnNormal:e=this.btnNormal;break;case s.btnCancel:e=this.btnCancel;break;case s.resetScroll:e=this.resetScroll;break;case s.showFreeGameAgain:e=this.showFreeGameAgain}if(null!=e)return cc.audioEngine.playEffect(e,!1)},e.prototype.stopSound=function(t){cc.audioEngine.stopEffect(t)},e.prototype.changeSound=function(t){this.isOpenSound=t,cc.audioEngine.setEffectsVolume(this.isOpenSound?1:0)},e.prototype.changeMusic=function(t){this.isOpenMusic=t,cc.audioEngine.setMusicVolume(this.isOpenMusic?1:0)},e.prototype.playBGM=function(){cc.audioEngine.playMusic(this.gameBGM,!0)},e.prototype.playFreeBGM=function(){cc.audioEngine.playMusic(this.freeGameBGM,!0)},r([u({type:cc.AudioClip,displayName:"\u514d\u8d39\u5c40bgm"})],e.prototype,"freeGameBGM",void 0),r([u({type:cc.AudioClip,displayName:"bgm"})],e.prototype,"gameBGM",void 0),r([u({type:cc.AudioClip,displayName:"\u89e6\u53d1\u5927\u5956"})],e.prototype,"showBigAward",void 0),r([u({type:cc.AudioClip,displayName:"\u6d88\u9664\u58f0\u97f3"})],e.prototype,"clearCard",void 0),r([u({type:cc.AudioClip,displayName:"\u6253\u5f00\u89e6\u53d1\u514d\u8d39\u5c40"})],e.prototype,"showFreeGame",void 0),r([u({type:cc.AudioClip,displayName:"\u89e6\u53d1\u514d\u8d39\u5c40"})],e.prototype,"activeScatter",void 0),r([u({type:cc.AudioClip,displayName:"\u514d\u8d39\u5c40\u7ed3\u675f"})],e.prototype,"freeGameEnd",void 0),r([u({type:cc.AudioClip,displayName:"\u6eda\u8f6e\u7ed3\u675f"})],e.prototype,"scrollEnd",void 0),r([u({type:cc.AudioClip,displayName:"\u8865\u5361\u724c"})],e.prototype,"replenishCard",void 0),r([u({type:cc.AudioClip,displayName:"\u62bd\u5361"})],e.prototype,"btnSpin",void 0),r([u({type:cc.AudioClip,displayName:"\u666e\u901a\u6309\u94ae\u70b9\u51fb"})],e.prototype,"btnNormal",void 0),r([u({type:cc.AudioClip,displayName:"\u666e\u901a\u6309\u94ae\u70b9\u51fb"})],e.prototype,"btnCancel",void 0),r([u({type:cc.AudioClip,displayName:"\u6eda\u8f6e\u91cd\u65b0\u6eda"})],e.prototype,"resetScroll",void 0),r([u({type:cc.AudioClip,displayName:"\u518d\u6b21\u89e6\u53d1\u514d\u8d39\u5c40"})],e.prototype,"showFreeGameAgain",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1111Const":"S1111Const"}],S1111ComboItem:[function(t,e,o){"use strict";cc._RF.push(e,"40e6f5567ZBwYkl3W3j3oF8","S1111ComboItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111Const"),a=cc._decorator,l=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_icon=null,e.lb_comboCount=null,e.lb_bet=null,e.lb_comboLineNum=null,e.lb_comboResult=null,e.lb_multiple=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showUI=function(t,e,o,n,i,r){this.node.active=!0,this.sp_icon.spriteFrame=s.default.ins.loader.getIcon(t,1),this.lb_comboCount.string=e.toString(),this.lb_bet.string=s.default.ins.formatNum(o/n/s.default.ins.getBetPer()*s.default.ins.getBetNum()),this.lb_comboLineNum.string=n.toString(),this.lb_comboResult.string="="+s.default.ins.formatNum(o/s.default.ins.getBetPer()*s.default.ins.getBetNum()),this.lb_multiple.node.active=r,r&&(this.lb_multiple.string="(X"+i+")")},e.prototype.hideUI=function(){this.node.active=!1},r([c({type:cc.Sprite,displayName:""})],e.prototype,"sp_icon",void 0),r([c({type:cc.Label,displayName:""})],e.prototype,"lb_comboCount",void 0),r([c({type:cc.Label,displayName:""})],e.prototype,"lb_bet",void 0),r([c({type:cc.Label,displayName:""})],e.prototype,"lb_comboLineNum",void 0),r([c({type:cc.Label,displayName:""})],e.prototype,"lb_comboResult",void 0),r([c({type:cc.Label,displayName:""})],e.prototype,"lb_multiple",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./S1111Const":"S1111Const"}],S1111Const:[function(t,e,o){"use strict";cc._RF.push(e,"bcece2ZdHFOUIdnozsUdWDf","S1111Const");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=t("PlayerInfo"),r=cc._decorator,s=r.ccclass,a=(r.property,function(){function t(){this.betNumList=[1,2,5,10,20,30,40,60,100,200,500,1e3,2e3,4e3,1e4],this.curBetIdx=0,this.lineNum=20,this.uiScenc=null,this.GameNet=null,this.audioMgr=null,this.loader=null,this.lotteryData={mGamePic:[],mNewColumns:[],mOdds:[],win:0,score:0,frees:[],nTotalMultiple:0}}var e;return e=t,Object.defineProperty(t,"ins",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),t.destroyInstance=function(){e._instance&&(e._instance=null)},t.prototype.getBetSum=function(){return this.lineNum*this.betNumList[this.curBetIdx]},t.prototype.getShowBetSum=function(){return this.getBetSum()/100},t.prototype.getShowBetSumByIdx=function(t){return this.lineNum*this.betNumList[t]/100},t.prototype.getBetMult=function(){return this.curBetIdx+1},t.prototype.getBetNum=function(){return this.betNumList[this.curBetIdx]},t.prototype.getShowBetNumByIdx=function(t){return this.betNumList[t]/100},t.prototype.getShowBetNum=function(){return this.betNumList[this.curBetIdx]/100},t.prototype.getBetPer=function(){return 100},t.prototype.changeBetMult=function(t){var e=this.curBetIdx;t?e++:e--,e>this.betNumList.length-1?e=0:e<0&&(e=this.betNumList.length-1),this.curBetIdx=e},t.prototype.changeBetDefault=function(t){var e=this.betNumList.findIndex(function(e){return e==t});e>=0&&(this.curBetIdx=e)},t.prototype.initLotterData=function(){this.lotteryData.score=i.getInstant.playerCoin},t.prototype.getHandCard=function(t){return this.lotteryData.mGamePic[t]},t.prototype.getNewCards=function(t){return this.lotteryData.mNewColumns[t-1]},t.prototype.getPlayerScore=function(){return this.lotteryData.score},t.prototype.getShowPlayerScore=function(){return this.getPlayerScore()/100},t.prototype.getFreesData=function(){return this.lotteryData.frees[0]},t.prototype.getFreesCardData=function(){return this.lotteryData.frees[0].nHandCards},t.prototype.getLotterWinNum=function(){return this.lotteryData.win/100},t.prototype.randomNum=function(t,e){return Math.floor(Math.random()*(e-t)+t)},t.prototype.goBackHome=function(t){void 0===t&&(t=null),Common.backHall("Are you sure you want to leave the game?",function(){null==t||t()})},t.prototype.checkCanPlay=function(t,o){void 0===t&&(t=0),void 0===o&&(o=!0);var n=t>0?t:e.ins.getShowBetSum(),i=e.ins.getPlayerScore()>=n;return!i&&o&&this.showNotGoldTips(),i},t.prototype.showNotGoldTips=function(){Common.showMessage("Insufficient Balance")},t.prototype.formatNum=function(t){for(var e=t.toFixed(2),o="",n=0,i=e.length-1;i>=0;i--){var r=e[i];n++,"."==r?(o+="+",n=0):(n%4==0&&(o+="-",n=0),o+=r)}return o.split("").reverse().join("")},t.prototype.formatArr=function(t,e){void 0===e&&(e=5);for(var o=[[]],n=0,i=0,r=0;r<t.length;r++){var s=t[r];o.length<=i&&o.push([]),o[i].push(s),++n>=e&&(n=0,i++)}return o},t.prototype.arr2ScrollData=function(t,e){void 0===e&&(e=5);for(var o=[],n=0,i=0,r=0;r<t.length;r++){var s=t[r];null==o[n]&&o.push([]),o[n].push(s),n++,++i>=e&&(n=0,i=0)}return o},t.prototype.arr2ScrollData2=function(t,e){void 0===e&&(e=5);for(var o=[[]],n=0,i=0,r=0;r<t.length;r++){var s=t[r];null==o[n]&&o.push([]),o[n].push(s),++i>=e&&(n++,i=0)}return o},t.prototype.scrollData2Arr=function(t,e){void 0===e&&(e=5);for(var o=[],n=0,i=0,r=t[0].length*t.length,s=0;s<r;s++){var a=t[n][i];++n>=e&&(n=0,i++),o.push(a)}return o},t.prototype.changeParent=function(t,e){var o=t.convertToWorldSpaceAR(cc.v2(0,0)),n=e.convertToNodeSpaceAR(o);t.parent=e,t.position=new cc.Vec3(n.x,n.y,0)},e=n([s],t)}());o.default=a,cc._RF.pop()},{PlayerInfo:void 0}],S1111Loader:[function(t,e,o){"use strict";cc._RF.push(e,"b7812qwo1BDsac76FkAnRUh","S1111Loader");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111Const"),a=cc._decorator,l=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icons_1=[],e.icons_2=[],e.icons_3=[],e.icons_4=[],e.wildNums=[],e.goldFrames=[],e.sk_clearCardLight=null,e.sk_clearCardIcons=[],e.sk_scatters=[],e.mIcons=[],e}return i(e,t),e.prototype.onLoad=function(){this.mIcons=[this.icons_1,this.icons_2,this.icons_3,this.icons_4],s.default.ins.loader=this},e.prototype.start=function(){},e.prototype.getIcon=function(t,e){return this.mIcons[e-1][t-1]},e.prototype.getWildNum=function(t){return this.wildNums[t-1]},e.prototype.getGoldFrameNum=function(t){return this.goldFrames[t-1]},e.prototype.getClearCardLight=function(){return this.sk_clearCardLight},e.prototype.getClearCardIcon=function(t){return this.sk_clearCardIcons[t-1]},e.prototype.getScatterSk=function(t){return this.sk_scatters[t-1]},r([c([cc.SpriteFrame])],e.prototype,"icons_1",void 0),r([c([cc.SpriteFrame])],e.prototype,"icons_2",void 0),r([c([cc.SpriteFrame])],e.prototype,"icons_3",void 0),r([c([cc.SpriteFrame])],e.prototype,"icons_4",void 0),r([c([cc.SpriteFrame])],e.prototype,"wildNums",void 0),r([c([cc.SpriteFrame])],e.prototype,"goldFrames",void 0),r([c(sp.SkeletonData)],e.prototype,"sk_clearCardLight",void 0),r([c([sp.SkeletonData])],e.prototype,"sk_clearCardIcons",void 0),r([c([sp.SkeletonData])],e.prototype,"sk_scatters",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./S1111Const":"S1111Const"}],S1111Network:[function(t,e,o){"use strict";cc._RF.push(e,"7580bvJY81Ga4efY4KSlv98","S1111Network");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/utils/Utils"),a=t("./S1111Const"),l=cc._decorator,c=l.ccclass,u=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){a.default.ins.GameNet=this,GameConfig.SubGameMgr.subGameNet=this,this.send("loginGame",JSON.stringify({}))},e.prototype.start=function(){},e.prototype.addNetEvent=function(t,e){var o=null;if("loginGameResult"==t&&(o=window.changeResultJSON_Function(e),cc.log("loginGameResult:",o),1==o.resultid&&(a.default.ins.betNumList=o.Obj.betList,a.default.ins.changeBetDefault(o.Obj.betDefault),a.default.ins.uiScenc.refreshUI())),"lotteryResult"==t){o=window.changeResultJSON_Function(e);var n=s.default.deepCopy(o);cc.log("lotteryResult:",n);var i=a.default.ins.lotteryData,r=o.ResultData.viewarray.nBet,l=i.score-r;cc.log(i.score+"\u5148\u6263"+r+"="+l),a.default.ins.uiScenc.refreshPlayerCoin(l/a.default.ins.getBetPer()),i.mGamePic=o.ResultData.viewarray.model.hand.mGamePic,i.mOdds=o.ResultData.viewarray.model.hand.mOdds,i.mNewColumns=o.ResultData.viewarray.model.hand.mNewColumns,i.nTotalMultiple=o.ResultData.viewarray.model.hand.nTotalMultiple,i.win=o.ResultData.viewarray.win,i.score=o.ResultData.viewarray.user_score,i.frees=o.ResultData.viewarray.model.smallgame,cc.log("free...."+i.frees.length),a.default.ins.uiScenc.goToPlayGame()}},e.prototype.send=function(t,e){void 0===e&&(e={}),cc.log("send cmd:"+t+",data:"+JSON.stringify(e)),window.sendNetWorkData(t,JSON.stringify(e))},e.prototype.sendLotty=function(t){this.send("lottery",{bet:t})},r([c],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../../Script/utils/Utils":void 0,"./S1111Const":"S1111Const"}],S1111Scene:[function(t,e,o){"use strict";cc._RF.push(e,"1deb2YHli1OZat1CsAsZk4i","S1111Scene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/AcFrame/ui/AcUIHelp"),a=t("./S1111AudioMgr"),l=t("./S1111ComboItem"),c=t("./S1111Const"),u=t("./S1111ScrollView"),p=t("./S1111UIActiveFreeSpin"),h=t("./S1111UIActiveFreeSpinAgain"),d=t("./S1111UIBigAwardPanel"),f=t("./S1111UICommonMain"),y=t("./S1111UIFreeAwardPanel"),m=cc._decorator,S=m.ccclass,_=m.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_play=null,e.btn_closeHelpPanel=null,e.node_helpPanel=null,e.uiCommonMain=null,e.ui_scrollViews=[],e.uiActiveFreeSpin=null,e.uiActiveFreeSpinAgain=null,e.uiFreeAwardPanel=null,e.uiBigAwardPanel=null,e.lb_gameWays=null,e.lb_freeGameMultiple=null,e.lb_freeGameCount=null,e.node_freeMultiple=null,e.node_comboItemList=null,e.node_bg1=null,e.node_bg2=null,e.node_blackMask=null,e.node_blackMaskTop=null,e.node_lightCardPool=null,e.node_guangzhuGroup=null,e.node_scrollLayout=null,e.sk_guangzhus=[],e.sk_scrollViewSmoke=[],e.node_startPar=null,e.sk_bgLight=null,e.sk_freeGoldLightNormal=null,e.sk_freeGoldLightFire=null,e.sk_comboNum=null,e.count=0,e.maxCount=0,e.round=1,e.showRound=0,e.isAutoPlay=!1,e.isFastPlay=!1,e.playCount=0,e.autoPlayCount=0,e.playIndex=0,e.isFreeSpinMode=!1,e.winSum=0,e.gameWinSum=0,e.hasFreeGame=!1,e.isSlow=!1,e.slowIndex=-1,e.btnPlayClickEnable=!0,e.isShowFreeGoldFire=!1,e.showFreeGoldFireTimer=0,e.freeMultiple=1,e.comboItems=[],e.scatterList=[],e}return i(e,t),e.prototype.onLoad=function(){this.uiCommonMain.addClickBtnAddEvent(this.onClickBtnAdd.bind(this)),this.uiCommonMain.addClickBtnSubEvent(this.onClickBtnSub.bind(this)),this.uiCommonMain.addClickBtnHelpEvent(this.onClickBtnHelp.bind(this)),this.uiCommonMain.addClickBtnPlayEvent(this.onClickBtnPlay.bind(this)),this.uiCommonMain.addClickBtSettingEvent(this.onClickBtnSetting.bind(this)),this.uiCommonMain.addClickBtnHomeEvent(this.onClickBtnHome.bind(this)),this.uiCommonMain.addClickBtnPlayFast(this.onClickBtnFast.bind(this)),this.uiCommonMain.addClickBtnMusicEvent(this.onClickBtnMusic.bind(this)),this.uiCommonMain.addClickBtSoundEvent(this.onClickBtnSound.bind(this)),this.uiCommonMain.addClickBtnPlayLong(this.onClickBtnPlayLong.bind(this)),this.uiCommonMain.addClickBtnCloseEvent(this.onClickBtnClose.bind(this)),s.default.instance.addClickEvent(this.btn_closeHelpPanel,this,"onClickBtncloseHelpPanel");for(var t=0;t<this.ui_scrollViews.length;t++){var e=t+1!=7?5:4;this.ui_scrollViews[t].initData(t,t+1!=7,e)}this.comboItems=[],this.node_comboItemList.active=!0;var o=this.node_comboItemList.getComponentsInChildren(l.default);for(t=0;t<o.length;t++)(n=o[t]).hideUI(),this.comboItems.push(n);for(t=0;t<this.sk_guangzhus.length;t++)(n=this.sk_guangzhus[t]).node.active=!1;for(t=0;t<this.sk_scrollViewSmoke.length;t++){var n;(n=this.sk_scrollViewSmoke[t]).node.active=!1,n.node.setPosition(this.ui_scrollViews[t].node.position.x,-200)}this.uiCommonMain.openMusic=c.default.ins.audioMgr.IsOpenMusic,this.uiCommonMain.openSound=c.default.ins.audioMgr.IsOpenSound,this.changeLightMaskShow(!1),this.sk_bgLight.node.active=!1,this.sk_freeGoldLightNormal.node.active=!1,this.sk_freeGoldLightFire.node.active=!1,this.node_startPar.active=!1,this.node_helpPanel.active=!1,this.sk_comboNum.node.active=!1,this.uiActiveFreeSpin.hideUI(),this.uiFreeAwardPanel.hideUI(),this.uiBigAwardPanel.hideUI(),this.uiActiveFreeSpinAgain.hideUI(),c.default.ins.uiScenc=this},e.prototype.start=function(){c.default.ins.initLotterData(),c.default.ins.audioMgr.playBGM();for(var t=0;t<this.ui_scrollViews.length;t++)this.ui_scrollViews[t].reset();this.refreshGameWays(!0),this.refreshUI(),this.refreshPlayerCoin()},e.prototype.update=function(t){this.isShowFreeGoldFire&&(this.showFreeGoldFireTimer+=t,this.showFreeGoldFireTimer>=1&&(this.isShowFreeGoldFire=!1,this.showFreeGoldFireTimer=0,this.sk_freeGoldLightFire.node.active=!1))},e.prototype.refreshUI=function(t){void 0===t&&(t=!1),this.uiCommonMain.refreshLineNum(c.default.ins.getShowBetNum()),this.uiCommonMain.refreshBetNum(c.default.ins.getShowBetSum()),this.uiCommonMain.refreshPlayState(),this.uiCommonMain.changePlayAutoState(this.isAutoPlay,this.playCount),this.uiCommonMain.changePlayFastState(this.isFastPlay),this.refreshWinSum(),this.refreshFreeGameInfo(),this.node_bg1.active=!this.isFreeSpinMode,this.node_bg2.active=this.isFreeSpinMode,this.node_startPar.active=this.isFreeSpinMode,this.refreshFrameSk()},e.prototype.refreshPlayerCoin=function(t){void 0===t&&(t=-1),-1==t&&(t=c.default.ins.getShowPlayerScore()),this.uiCommonMain.refreshPlayCoin(t)},e.prototype.refreshFrameSk=function(){this.sk_bgLight.node.active=this.isFreeSpinMode,this.sk_freeGoldLightNormal.node.active=this.isFreeSpinMode},e.prototype.refreshWinSum=function(){this.uiCommonMain.refreshWinNum(this.winSum/c.default.ins.getBetPer())},e.prototype.refreshGameWays=function(t){if(void 0===t&&(t=!1),t)this.lb_gameWays.string="+++";else{for(var e=1,o=0;o<this.ui_scrollViews.length;o++)e*=this.ui_scrollViews[o].getShowShowItems().length;this.lb_gameWays.string=0==e?"+++":e.toString()}},e.prototype.goToPlayGame=function(){this.round=1,this.showRound=0,this.isFreeSpinMode=!1,this.playIndex=0,this.winSum=0,this.hasFreeGame=!1,this.uiCommonMain.changeBtnPlayEnble(!0),this.refreshGameWays(!0),this.refreshUI(),this.playGame()},e.prototype.playGame=function(){this.isSlow=!1,this.scatterList=[],this.playCount--,this.gameWinSum=0,this.uiCommonMain.changePlayState(2);var t=this.getHandCard(this.round);this.slowIndex=this.checkHasSlowScroll(t),this.slowIndex>=0&&this.uiCommonMain.changePlayState(3);for(var e=0;e<this.ui_scrollViews.length;e++){var o=t[e];if(e+1<7&&o.length<5)for(var n=o.length,i=0;i<5-n;i++)o.push([1,0,1,0]);else for(n=o.length,i=0;i<4-n;i++)o.push([1,0,1,0]);this.goStartScrollView(o,e,!0)}},e.prototype.goStartScrollView=function(t,e,o){var n=this;void 0===o&&(o=!1);var i=this.isFastPlay&&this.slowIndex<0,r=i?2:5,s=this.ui_scrollViews[e],a=e+1==7,l=a?5:3,c=a?r+6:r+3*(1+e);i&&(c=r+3),s.reset(),s.startSlot(t,0,l,c,o),s.setScrollCompleteCallback(function(t){n.onScrollViewFinsh(t)})},e.prototype.onScrollViewFinsh=function(t){var e=this;cc.log("\u7ed3\u675f:"+t),this.count++;var o=this.count>=this.ui_scrollViews.length;if(o&&(cc.log("\u5168\u90e8\u7ed3\u675f:"+this.count),this.count=0,this.uiCommonMain.changePlayState(3),this.checkGameNext()),this.refreshGameWays(),this.isFastPlay&&o?c.default.ins.audioMgr.playSound(a.S1111SoundType.scrollEnd):this.isFastPlay||c.default.ins.audioMgr.playSound(a.S1111SoundType.scrollEnd),this.playScrollSmoke(t),t<6&&this.slowIndex>=0&&t>=this.slowIndex){var n=this.getHandCard(this.round),i=t+1;if(i<=this.sk_guangzhus.length-1){if(!this.isSlow){this.scatterList=[];for(var r=0;r<this.ui_scrollViews.length;r++)if(r<=t)for(var s=this.ui_scrollViews[r].getShowShowItems(),l=0;l<s.length;l++){var u=s[l];12==u.id&&(c.default.ins.changeParent(u.node,this.node_lightCardPool),this.scatterList.push(u),u.playScatterLight())}}for(this.isSlow=!0,r=i;r<6;r++){var p=n[r];this.goStartScrollView(p,r,!0)}c.default.ins.audioMgr.playSound(a.S1111SoundType.resetScroll);var h=this.sk_guangzhus[i].node;h.active=!0,c.default.ins.changeParent(h,this.node_lightCardPool);var d=this.ui_scrollViews[i];c.default.ins.changeParent(d.node,this.node_lightCardPool),this.scheduleOnce(function(){h.active=!1,c.default.ins.changeParent(h,e.node_guangzhuGroup),c.default.ins.changeParent(d.node,e.node_scrollLayout)},2),this.changeLightMaskShow(!0)}if(5==t)for(this.changeLightMaskShow(!1),r=0;r<this.scatterList.length;r++){var f=this.scatterList[r];f.hideScatterAnim(),c.default.ins.changeParent(f.node,f.mNodeParent)}}},e.prototype.checkGameNext=function(){var t=this,e=this.getHandCard(this.round+1);if(cc.log("\u6709\u6ca1\u6709\u4e0b\u4e00\u8f6e"+(null!=e)+",round:"+this.round),null!=e)cc.log("\u6709\u6d88\u9664\uff0c\u4e0b\u4e00\u8f6e"),this.clearCard(function(){for(var e=c.default.ins.getNewCards(t.round),o=!1,n=0;n<t.ui_scrollViews.length;n++){var i=t.ui_scrollViews[n],r=e[n];r&&r.length>0&&(o=!0,i.replenishScroll(r))}o&&c.default.ins.audioMgr.playSound(a.S1111SoundType.replenishCard),t.scheduleOnce(function(){cc.log("\u8865\u5361\u7ed3\u675f..."),t.addFreeMultiple(),t.playFreeComboNumLight(),t.refreshGameWays(),t.refreshUI(),t.round++,t.updateHandItemsData(),t.checkGameNext()},1.2)});else{if(this.playIndex++,this.checkFreeGame(this.round))return this.playScatterAnim(),void this.scheduleOnce(function(){var e=2*t.getFreeGameCount(t.round);t.isFreeSpinMode?t.uiActiveFreeSpinAgain.showUI(e):(t.restFreeMultiple(),t.uiActiveFreeSpin.showUI(e)),cc.log(t.isFreeSpinMode+"\u89e6\u53d1\u514d\u8d39\u5c40,count:"+e)},2);if(this.checkBigAward())return;if(this.goNextGame())return;this.uiCommonMain.changePlayState(),this.refreshUI(),this.refreshPlayerCoin(),cc.log("\u6ca1\u6709\u6d88\u9664\uff0c\u7ed3\u675f\u4e86")}},e.prototype.goNextGame=function(){if(this.playCount>0){if(this.isFreeSpinMode){var t=this.playIndex-1;if(c.default.ins.lotteryData.frees[t])return cc.log(t+"\u83b7\u53d6\u514d\u8d39\u5c40\uff0c\u4e0b\u4e00\u628a\u3002\u5269\u4f59\uff1a"+this.playCount),this.updateLotteryDataByFreeGame(t),this.round=1,this.showRound=0,this.refreshGameWays(),this.playGame(),this.refreshUI(),!0;if(this.isAutoPlay){this.isFreeSpinMode=!1;var e=c.default.ins.lotteryData.frees.length;return this.uiFreeAwardPanel.showUI(this.winSum,e),!0}}else if(this.isAutoPlay)return cc.log("\u81ea\u52a8\u6a21\u5f0f\uff0c\u5269\u4f59\u6b21\u6570"+this.playCount),this.goToPlay(this.playCount),!0}else if(this.isFreeSpinMode)return this.isFreeSpinMode=!1,e=c.default.ins.lotteryData.frees.length,this.uiFreeAwardPanel.showUI(this.winSum,e),!0;return!1},e.prototype.refreshFreeGameInfo=function(){this.node_freeMultiple.active=this.isFreeSpinMode,this.lb_freeGameCount.string=this.playCount.toString(),this.lb_freeGameMultiple.string="X"+this.freeMultiple},e.prototype.restFreeMultiple=function(){this.freeMultiple=1},e.prototype.addFreeMultiple=function(){this.isFreeSpinMode&&this.freeMultiple++},e.prototype.getFreeGameCount=function(t){var e=0,o=this.getHandCard(t);if(null==o)return 0;for(var n=0;n<o.length;n++)for(var i=o[n],r=0;r<i.length;r++)12==i[r][0]&&e++;return e},e.prototype.playScatterAnim=function(){for(var t=0;t<this.ui_scrollViews.length;t++)for(var e=this.ui_scrollViews[t].getShowShowItems(),o=0;o<e.length;o++){var n=e[o];12==n.id&&n.playScatterActive()}c.default.ins.audioMgr.playSound(a.S1111SoundType.activeScatter)},e.prototype.checkFreeGame=function(t){return this.getFreeGameCount(t)>=4},e.prototype.activeFreeSpinComeBack=function(t){var e=this;this.isAutoPlay&&(this.isAutoPlay=!1,this.playCount-=this.autoPlayCount-1,this.autoPlayCount=0),this.playCount+=t;var o=this.playIndex-1;this.updateLotteryDataByFreeGame(o),this.isFreeSpinMode||(this.playIndex=1),this.round=1,this.showRound=0,this.isFreeSpinMode=!0,this.refreshUI(),this.scheduleOnce(function(){c.default.ins.audioMgr.playFreeBGM(),cc.log(o+"\u6709\u514d\u8d39\u5c40\uff0c\u4e0b\u4e00\u628a\u3002\u5269\u4f59\uff1a"+e.playCount),e.playGame(),e.refreshUI()},.5)},e.prototype.freeAwardComeBack=function(){if(c.default.ins.audioMgr.playBGM(),this.refreshPlayerCoin(),this.refreshUI(),this.uiCommonMain.changePlayState(1),this.isAutoPlay&&this.playCount>0)return cc.log("\u81ea\u52a8\u6a21\u5f0f\uff0c\u5269\u4f59\u6b21\u6570"+this.playCount),void this.goToPlay(this.playCount)},e.prototype.updateLotteryDataByFreeGame=function(t){var e=c.default.ins.lotteryData,o=e.frees[t];e.mGamePic=o.mGamePic,e.mNewColumns=o.mNewColumns,e.mOdds=o.mOdds,e.nTotalMultiple=o.nTotalMultiple},e.prototype.checkBigAward=function(){var t=this.gameWinSum/c.default.ins.getBetPer(),e=t/c.default.ins.getShowBetSum();if(cc.log("check big award"+this.gameWinSum),e<20)return!1;var o=1;return e>=20&&(o=1),e>=40&&(o=2),e>=100&&(o=3),this.uiBigAwardPanel.showUI(t,o),!0},e.prototype.bigAwardComeBack=function(){this.isAutoPlay=!1,this.refreshUI(),this.isFreeSpinMode||this.refreshPlayerCoin(),this.goNextGame()||this.uiCommonMain.changePlayState()},e.prototype.checkHasSlowScroll=function(t){for(var e=0,o=0;o<t.length;o++){for(var n=t[o],i=0;i<n.length;i++)12==n[i][0]&&e++;if(e>=3)return o}return-1},e.prototype.getHandCard=function(t){return c.default.ins.lotteryData.mGamePic[t-1]},e.prototype.playGoldFrameLightAni=function(){this.isFreeSpinMode&&(this.isShowFreeGoldFire=!0,this.showFreeGoldFireTimer=0,this.sk_freeGoldLightFire.node.active=!0,this.sk_freeGoldLightFire.setAnimation(0,"animation3",!1))},e.prototype.playFreeComboNumLight=function(){this.isFreeSpinMode&&(this.sk_comboNum.node.active=!0,this.sk_comboNum.setAnimation(0,"animation",!1))},e.prototype.hideAllComboItem=function(){this.comboItems.forEach(function(t){t.hideUI()})},e.prototype.getComboItem=function(){for(var t=0;t<this.comboItems.length;t++){var e=this.comboItems[t];if(!e.node.active)return e}return null},e.prototype.showCombo=function(t){var e=this,o=c.default.ins.lotteryData.mOdds[t-1];if(o){this.hideAllComboItem();var n=0;for(var i in o){var r=o[i],s=this.getComboItem(),a=this.getIconCountById(i),l=r[0],u=r[1];n+=l*this.freeMultiple*c.default.ins.getBetNum(),s.showUI(i,a,l,u,this.freeMultiple,this.isFreeSpinMode)}this.winSum+=n,this.gameWinSum+=n,this.refreshWinSum(),this.scheduleOnce(function(){e.hideAllComboItem()},1.5)}},e.prototype.getIconCountById=function(t){for(var e=0,o=0;o<this.ui_scrollViews.length;o++)for(var n=this.ui_scrollViews[o].getShowShowItems(),i=0;i<n.length;i++)n[i].id==t&&e++;return e},e.prototype.updateHandItemsData=function(){var t=this.getHandCardFull(this.round);if(t)for(var e=0;e<this.ui_scrollViews.length;e++)for(var o=this.ui_scrollViews[e],n=t[e],i=o.getShowItems(),r=0;r<i.length;r++)i[r].setInfo(n[r])},e.prototype.getHandCardFull=function(t){var e=this.getHandCard(t);if(e)for(var o=0;o<this.ui_scrollViews.length;o++){var n=e[o];if(n&&n.length<5)for(var i=n.length,r=0;r<5-i;r++)n.push([1,0,1,0])}return e},e.prototype.playScrollSmoke=function(t){var e=this.sk_scrollViewSmoke[t];e&&(e.node.active=!0,e.setAnimation(0,"animation",!1))},e.prototype.changeLightMaskShow=function(t){this.node_blackMaskTop.active=t,this.node_blackMask.active=t},e.prototype.clearCard=function(t){var e=this;void 0===t&&(t=null),c.default.ins.audioMgr.playSound(a.S1111SoundType.clearCard);for(var o,n=function(t){var e=i.ui_scrollViews[t];o=e.getShowItems();for(var n=function(t){var n=o[t];1!=n.planClear&&2!=n.planClear||(c.default.ins.changeParent(n.node,i.node_lightCardPool),n.playLightAnim(function(){c.default.ins.changeParent(n.node,e.mNodeEls)}))},r=0;r<o.length;r++)n(r)},i=this,r=0;r<this.ui_scrollViews.length;r++)n(r);this.playGoldFrameLightAni(),this.changeLightMaskShow(!0),this.showCombo(this.round),this.scheduleOnce(function(){e.changeLightMaskShow(!1),null==t||t()},1.1)},e.prototype.fastAllSlot=function(){for(var t=0;t<this.ui_scrollViews.length;t++)this.ui_scrollViews[t].fastSlot()},e.prototype.goToPlay=function(t){t<=0||(t>1&&(this.autoPlayCount=t,this.isAutoPlay=!0),this.uiCommonMain.changeBtnPlayEnble(!1),c.default.ins.audioMgr.playSound(a.S1111SoundType.btnSpin),this.playCount=t,c.default.ins.GameNet.sendLotty(c.default.ins.getBetNum()))},e.prototype.onClickBtncloseHelpPanel=function(){this.node_helpPanel.active=!1,c.default.ins.audioMgr.playSound(a.S1111SoundType.btnCancel)},e.prototype.onClickBtnBuyBonus=function(){},e.prototype.onClickBtnSound=function(t){c.default.ins.audioMgr.IsOpenSound?c.default.ins.audioMgr.playSound(a.S1111SoundType.btnCancel):c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal),c.default.ins.audioMgr.changeSound(t)},e.prototype.onClickBtnMusic=function(t){c.default.ins.audioMgr.IsOpenMusic?c.default.ins.audioMgr.playSound(a.S1111SoundType.btnCancel):c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal),c.default.ins.audioMgr.changeMusic(t)},e.prototype.onClickBtnHelp=function(){this.node_helpPanel.active=!0,c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal)},e.prototype.onClickBtnFast=function(){this.isFastPlay=!this.isFastPlay,this.refreshUI(),c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal)},e.prototype.onClickBtnPlay=function(t){var e=this.uiCommonMain.getPlayState();2!=e?3!=e?this.goToPlay(t):c.default.ins.audioMgr.playSound(a.S1111SoundType.btnCancel):this.isAutoPlay?(this.isAutoPlay=!1,this.uiCommonMain.changePlayAutoState(this.isAutoPlay,this.playCount)):(this.uiCommonMain.changePlayState(3),this.fastAllSlot())},e.prototype.onClickBtnPlayLong=function(){},e.prototype.onClickBtnClose=function(){c.default.ins.audioMgr.playSound(a.S1111SoundType.btnCancel)},e.prototype.onClickBtnSetting=function(){c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal)},e.prototype.onClickBtnHome=function(){c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal),c.default.ins.goBackHome()},e.prototype.onClickBtnAdd=function(){c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal),c.default.ins.changeBetMult(!0),this.refreshUI(!0)},e.prototype.onClickBtnSub=function(){c.default.ins.audioMgr.playSound(a.S1111SoundType.btnNormal),c.default.ins.changeBetMult(!1),this.refreshUI(!0)},e.prototype.onDestroy=function(){cc.audioEngine.stopAll(),c.default.destroyInstance()},r([_(cc.Button)],e.prototype,"btn_play",void 0),r([_(cc.Button)],e.prototype,"btn_closeHelpPanel",void 0),r([_(cc.Node)],e.prototype,"node_helpPanel",void 0),r([_(f.default)],e.prototype,"uiCommonMain",void 0),r([_([u.default])],e.prototype,"ui_scrollViews",void 0),r([_(p.default)],e.prototype,"uiActiveFreeSpin",void 0),r([_(h.default)],e.prototype,"uiActiveFreeSpinAgain",void 0),r([_(y.default)],e.prototype,"uiFreeAwardPanel",void 0),r([_(d.default)],e.prototype,"uiBigAwardPanel",void 0),r([_(cc.Label)],e.prototype,"lb_gameWays",void 0),r([_(cc.Label)],e.prototype,"lb_freeGameMultiple",void 0),r([_(cc.Label)],e.prototype,"lb_freeGameCount",void 0),r([_(cc.Node)],e.prototype,"node_freeMultiple",void 0),r([_(cc.Node)],e.prototype,"node_comboItemList",void 0),r([_(cc.Node)],e.prototype,"node_bg1",void 0),r([_(cc.Node)],e.prototype,"node_bg2",void 0),r([_(cc.Node)],e.prototype,"node_blackMask",void 0),r([_(cc.Node)],e.prototype,"node_blackMaskTop",void 0),r([_(cc.Node)],e.prototype,"node_lightCardPool",void 0),r([_(cc.Node)],e.prototype,"node_guangzhuGroup",void 0),r([_(cc.Node)],e.prototype,"node_scrollLayout",void 0),r([_([sp.Skeleton])],e.prototype,"sk_guangzhus",void 0),r([_([sp.Skeleton])],e.prototype,"sk_scrollViewSmoke",void 0),r([_(cc.Node)],e.prototype,"node_startPar",void 0),r([_(sp.Skeleton)],e.prototype,"sk_bgLight",void 0),r([_(sp.Skeleton)],e.prototype,"sk_freeGoldLightNormal",void 0),r([_(sp.Skeleton)],e.prototype,"sk_freeGoldLightFire",void 0),r([_(sp.Skeleton)],e.prototype,"sk_comboNum",void 0),r([S],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../../../Script/AcFrame/ui/AcUIHelp":void 0,"./S1111AudioMgr":"S1111AudioMgr","./S1111ComboItem":"S1111ComboItem","./S1111Const":"S1111Const","./S1111ScrollView":"S1111ScrollView","./S1111UIActiveFreeSpin":"S1111UIActiveFreeSpin","./S1111UIActiveFreeSpinAgain":"S1111UIActiveFreeSpinAgain","./S1111UIBigAwardPanel":"S1111UIBigAwardPanel","./S1111UICommonMain":"S1111UICommonMain","./S1111UIFreeAwardPanel":"S1111UIFreeAwardPanel"}],S1111ScrollItem:[function(t,e,o){"use strict";cc._RF.push(e,"b56d6iLb99Kvb0iXsbFXNCS","S1111ScrollItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111Const"),a=cc._decorator,l=a.ccclass,c=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_icon=null,e.lb_num=null,e.sp_gold=null,e.sk_clearCardLight=null,e.sk_clearCardIcon=null,e.sk_goldFrame=null,e.sk_scatter=null,e.mNodeParent=null,e.id=0,e.kuang=0,e.len=0,e.index=0,e.planClear=0,e.count=0,e}return i(e,t),e.prototype.onLoad=function(){this.sk_clearCardLight.skeletonData=s.default.ins.loader.getClearCardLight(),this.hideSpine()},e.prototype.start=function(){},e.prototype.setParent=function(t){this.mNodeParent=t},e.prototype.setInfo=function(t){this.info=t,this.id=t[0],this.kuang=t[1],this.len=t[2],this.planClear=t[3],this.count=t.length>4?t[4]:1,this.node.zIndex=0,this.hideScatterAnim(),this.sp_icon.node.active=!0,this.sp_icon.spriteFrame=s.default.ins.loader.getIcon(this.id,this.len),this.lb_num.node.active=this.count>1,this.count>0&&(this.lb_num.string=this.count.toString()),this.sp_gold.node.active=this.kuang>0,this.kuang>0&&(this.sp_gold.spriteFrame=s.default.ins.loader.getGoldFrameNum(this.len))},e.prototype.playLightAnim=function(t){var e=this;void 0===t&&(t=null),this.sp_icon.node.active=!1,this.playClearCardLightByLen(this.len),1==this.planClear?this.scheduleOnce(function(){null==t||t(),e.hide()},1):(this.setInfo([11,0,this.info[2],this.info[3],this.info[4]]),this.scheduleOnce(function(){null==t||t()},1))},e.prototype.playScatterLight=function(){this.showScatterAnim("animation2",!0)},e.prototype.playScatterActive=function(){var t=this;this.showScatterAnim("animation3",!0),this.scheduleOnce(function(){t.hideScatterAnim()},1.8)},e.prototype.playClearCardLightByLen=function(t){var e=t>1?t.toString():"";this.sk_clearCardLight.node.active=!0,this.sk_clearCardLight.setAnimation(0,"animation"+e,!1),this.id<=11&&(this.sk_clearCardIcon.node.active=!0,this.sk_clearCardIcon.skeletonData=s.default.ins.loader.getClearCardIcon(this.id),this.sk_clearCardIcon.setAnimation(0,"animation",!1))},e.prototype.downOver=function(){var t=this;if(!(this.kuang<=0)){this.len>1&&this.len.toString();var e;e=1==this.len?"animation4":2==this.len?"animation3":3==this.len?"animation2":"animation",this.sk_goldFrame.node.active=!0,this.sk_goldFrame.setAnimation(0,e,!1),this.sk_goldFrame.setCompleteListener(function(){t.sk_goldFrame.node.active=!1}),12==this.id&&(this.showScatterAnim("animation"),this.scheduleOnce(function(){t.hideScatterAnim()},1))}},e.prototype.showScatterAnim=function(t,e){void 0===e&&(e=!1),this.node.zIndex=1,this.sk_scatter.node.active=!0,this.sk_scatter.skeletonData=s.default.ins.loader.getScatterSk(this.len),this.sk_scatter.setAnimation(0,t,e)},e.prototype.hideScatterAnim=function(){this.sk_scatter.node.active=!1},e.prototype.hideSpine=function(){this.sk_goldFrame.node.active=!1,this.sk_clearCardLight.node.active=!1,this.sk_clearCardIcon.node.active=!1,this.hideScatterAnim()},e.prototype.isShow=function(){return this.node.active},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.hideSpine(),this.node.active=!1},r([c(cc.Sprite)],e.prototype,"sp_icon",void 0),r([c(cc.Label)],e.prototype,"lb_num",void 0),r([c(cc.Sprite)],e.prototype,"sp_gold",void 0),r([c(sp.Skeleton)],e.prototype,"sk_clearCardLight",void 0),r([c(sp.Skeleton)],e.prototype,"sk_clearCardIcon",void 0),r([c(sp.Skeleton)],e.prototype,"sk_goldFrame",void 0),r([c(sp.Skeleton)],e.prototype,"sk_scatter",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./S1111Const":"S1111Const"}],S1111ScrollView:[function(t,e,o){"use strict";cc._RF.push(e,"ea315aie9NH/aTXZR6yLrJa","S1111ScrollView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111Const"),a=t("./S1111ScrollItem"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slotsElement=null,e.content=null,e._idx=-1,e._data=[],e.mElSpData=[],e.mTempData=[],e.mSpPoints=[],e.mShowItems=[],e.mNodeEls=null,e.isFinsh=!1,e.moveCount=0,e.match=!1,e.isVertical=!1,e.rowCount=5,e.onScrollComplete=null,e}return i(e,t),e.prototype.setScrollCompleteCallback=function(t){this.onScrollComplete=t},e.prototype.onLoad=function(){this.mNodeEls=new cc.Node("elsContainer"),this.mNodeEls.parent=this.node,this.initElements()},e.prototype.start=function(){},e.prototype.initData=function(t,e,o){void 0===e&&(e=!0),void 0===o&&(o=5),this._idx=t,this.isVertical=e,this.rowCount=o},e.prototype.reset=function(t){void 0===t&&(t=!1);for(var e=0;e<this.mElSpData.length;e++)this.mElSpData[e].node.removeFromParent(!0);this.node.stopAllActions(),this.mNodeEls.stopAllActions(),this.mElSpData=[],this.mTempData=[],this.initElements(t)},e.prototype.initElements=function(t){void 0===t&&(t=!1),this.mNodeEls.setPosition(cc.Vec2.ZERO);for(var e=[],o=0;o<12;o++)e.push(o+1);for(o=0;o<12;o++){var n=Math.floor(Math.random()*e.length);e[n],e.splice(n,1);var i=cc.instantiate(this.slotsElement);i.parent=this.mNodeEls;var r=i.getComponent(a.default);r.node.name="_"+o;var l=s.default.ins.randomNum(1,12);s.default.ins.randomNum(1,4);r.setInfo([l,0,1,0]),r.setParent(this.mNodeEls);var c=cc.Vec2.ZERO,u=this.getElGapValue();c=this.isVertical?cc.v2(0,o*u-148):cc.v2(o*u-148,0),i.setPosition(c),this.mSpPoints.push(c),this.mElSpData.push(r)}for(o=this.rowCount;o<this.mElSpData.length;o++)this.mElSpData[o].hide()},e.prototype.startSlot=function(t,e,o,n,i){var r=this;void 0===i&&(i=!0),this.stopAllElementsAnim(),this._data=t,this.moveCount=o,this.match=i,this.isFinsh=!1;var s=this.getElGapValue(),a=0;i||(a=s/2),e+=1;for(var l=5;l<this.mElSpData.length;l++)this.mElSpData[l].show();var c=null,u=this.isVertical?cc.v2(0,-s*o):cc.v2(-s*o,0);if(e==n){var p=cc.moveBy(.3,u),h=(cc.moveBy(.08,cc.v2(0,-50)).easing(cc.easeOut(3)),cc.moveBy(.1,cc.v2(0,50+a)).easing(cc.easeIn(3)),cc.callFunc(function(){}));c=cc.sequence(p,h),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){}))),this.node.runAction(cc.sequence(cc.delayTime(.2),cc.callFunc(function(){for(var t=0;t<r.mElSpData.length;t++)(t<o||t>r.rowCount+o-1)&&r.mElSpData[t].hide()})))}else c=cc.moveBy(.07,u);this.mNodeEls.runAction(cc.sequence(c,cc.callFunc(function(){for(var s=0;s<o;s++)r.mTempData[s]=r.mElSpData[s];for(s=o;s<12;s++)r.mElSpData[s-o]=r.mElSpData[s];var a=r.mNodeEls.getPosition(),l=o-1;for(s=11;s>=12-o;s--){r.mElSpData[s]=r.mTempData[l],l--;var c=r.isVertical?cc.v2(0,-a.y+r.mSpPoints[s].y):cc.v2(-a.x+r.mSpPoints[s].x,0);r.mElSpData[s].node.setPosition(c)}if(e<n)e==n-1&&r.resetVEles(t),r.startSlot(t,e,o,n,i);else{for(r.mNodeEls.stopAllActions(),s=r.rowCount;s<r.mElSpData.length;s++)r.mElSpData[s].hide();r.flifilterShowItem(),r.goToFinsh()}})))},e.prototype.replenishScroll=function(t){for(var e=this,o=[],n=[],i=0;i<this.mShowItems.length;i++){var r=this.mShowItems[i];r.isShow()&&n.push(r)}for(var s=this.mNodeEls.getPosition(),a=0,l=0;l<n.length;l++){var c=n[l],u=(c.len-1)*this.getElGapValue()/2,p=(this.isVertical?-s.y:-s.x)+(this.isVertical?this.mSpPoints[l].y:this.mSpPoints[l].x),h=p+u+a;a=h-p+(c.len-1)*this.getElGapValue()/2,o.push({item:c,target:h})}for(i=0;i<o.length;i++){var d=o[i];this.moveTo(d.item.node,d.target)}t&&t.length>0&&this.scheduleOnce(function(){e.replenishNull(t)},.15)},e.prototype.moveTo=function(t,e){this.isVertical?cc.tween(t).to(.1,{y:e}).start():cc.tween(t).to(.1,{x:e}).start()},e.prototype.getElGapValue=function(){return this.isVertical?74:100},e.prototype.getItemDecValue=function(t){return this.isVertical?t.position.y:t.position.x},e.prototype.getItemDecValueIncludeLen=function(t){return this.isVertical?t.node.position.y+74*t.len/2:t.node.position.x+98*t.len/2},e.prototype.getItemLenHalf=function(t){return this.isVertical?t.height/2:t.width/2},e.prototype.getShowItems=function(){return this.mShowItems},e.prototype.getShowShowItems=function(){for(var t=[],e=0;e<this.mShowItems.length;e++){var o=this.mShowItems[e];o.isShow()&&t.push(o)}return t.sort(function(t,e){return t.node.position.y-e.node.position.y}),t},e.prototype.getHideShowItem=function(){for(var t=0;t<this.mShowItems.length;t++){var e=this.mShowItems[t];if(!e.isShow())return e}return null},e.prototype.resetVEles=function(t){for(var e=[],o=0;o<12;o++)e.push(o+1);for(o=0;o<12;o++){var n=s.default.ins.randomNum(0,12),i=e[n];e.splice(n,1),this.mElSpData[o].setInfo([i,0,1,0])}this.mShowItems=[];var r=0,a=t.length,l=0,c=this.mNodeEls.getPosition(),u=this.isVertical?3:5;for(o=u;o<u+a;o++){var p=this.mElSpData[o],h=t[r];p.setInfo(h);var d=(p.len-1)*this.getElGapValue()/2,f=(this.isVertical?-c.y:-c.x)+(this.isVertical?this.mSpPoints[o].y:this.mSpPoints[o].x),y=f+d+l;l=y-f+(p.len-1)*this.getElGapValue()/2;var m=this.isVertical?cc.v2(0,y):cc.v2(y,0);p.node.setPosition(m),this.mShowItems.push(this.mElSpData[o]),r++}},e.prototype.flifilterShowItem=function(){for(var t=0,e=0;e<this.mShowItems.length;e++){var o=this.mShowItems[e];t>=5&&o.hide(),t+=o.len}},e.prototype.sortShowItems=function(){var t=this;this.mShowItems.sort(function(e,o){var n=e.isShow()?1:0,i=o.isShow()?1:0;return n==i?t.isVertical?e.node.position.y-o.node.position.y:e.node.position.x-o.node.position.x:i-n})},e.prototype.replenishNull=function(t){var e=[],o=this.mNodeEls.getPosition(),n=this.getShowShowItems(),i=0;i=n.length>0?this.getItemDecValueIncludeLen(n[n.length-1]):(this.isVertical?-o.y:-o.x)+(this.isVertical?this.mSpPoints[0].y:this.mSpPoints[0].x)-this.getElGapValue()/2;for(var r=0;r<t.length;r++){var s=t[r],a=this.getHideShowItem();if(a){a.setInfo(s);var l=s[2]*this.getElGapValue()/2,c=l+i;i=c+l;var u=c+500,p=this.isVertical?new cc.Vec3(0,u,0):new cc.Vec3(u,0,0);a.node.position=p,a.show(),e.push({node:a.node,targetY:c})}}for(this.sortShowItems(),r=0;r<e.length;r++){var h=e[r];this.moveTo(h.node,h.targetY)}},e.prototype.stopAllElementsAnim=function(){for(var t=0;t<this.mElSpData.length;t++)this.mElSpData[t]},e.prototype.fastSlot=function(){if(!this.isFinsh){this.isFinsh=!0,this.node.stopAllActions(),this.mNodeEls.stopAllActions();for(var t=0;t<this.mElSpData.length;t++)this.mElSpData[t].hide();this.match,this.resetVEles(this._data);for(var e=0;e<this.mShowItems.length;e++){var o=this.mShowItems[e];this.isVertical?o.node.setPosition(o.node.position.x,o.node.position.y-3*this.getElGapValue()):o.node.setPosition(o.node.position.x-5*this.getElGapValue(),o.node.position.y),o.show()}this.flifilterShowItem(),this.goToFinsh()}},e.prototype.goToFinsh=function(){this.isFinsh=!0;for(var t=0;t<this.mShowItems.length;t++)this.mShowItems[t].downOver();this.onScrollComplete&&this.onScrollComplete(this._idx)},r([u(cc.Prefab)],e.prototype,"slotsElement",void 0),r([u(cc.Node)],e.prototype,"content",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1111Const":"S1111Const","./S1111ScrollItem":"S1111ScrollItem"}],S1111UIActiveFreeSpinAgain:[function(t,e,o){"use strict";cc._RF.push(e,"43027SYNOJBorjeB2pICTZt","S1111UIActiveFreeSpinAgain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111AudioMgr"),a=t("./S1111Const"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_num=null,e.sk_bg=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showUI=function(t){var e=this;void 0===t&&(t=10),a.default.ins.audioMgr.playSound(s.S1111SoundType.showFreeGameAgain),this.node.active=!0,this.lb_num.string=t.toString(),this.sk_bg.setAnimation(0,"freegame",!1),this.scheduleOnce(function(){e.hideUI(),a.default.ins.uiScenc.activeFreeSpinComeBack(t)},2.8)},e.prototype.hideUI=function(){this.node.active=!1},r([u(cc.Label)],e.prototype,"lb_num",void 0),r([u(sp.Skeleton)],e.prototype,"sk_bg",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1111AudioMgr":"S1111AudioMgr","./S1111Const":"S1111Const"}],S1111UIActiveFreeSpin:[function(t,e,o){"use strict";cc._RF.push(e,"34d19kVnA9ABpXJY0nF2FNt","S1111UIActiveFreeSpin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111AudioMgr"),a=t("./S1111Const"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_title=null,e.lb_num=null,e.node_desc=null,e.sk_bg=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.showUI=function(t){var e=this;void 0===t&&(t=10),a.default.ins.audioMgr.playSound(s.S1111SoundType.showFreeGame),this.node.active=!0,this.lb_num.string=t.toString(),this.restAll(),this.sk_bg.setAnimation(0,"animation",!1),this.scheduleOnce(function(){e.playDescAnim(),e.playTitleAnim()},.5),this.scheduleOnce(function(){e.restAll()},2),this.scheduleOnce(function(){e.hideUI(),a.default.ins.uiScenc.activeFreeSpinComeBack(t)},2.8)},e.prototype.hideUI=function(){this.node.active=!1},e.prototype.restAll=function(){this.node_desc.opacity=0,this.node_title.opacity=0},e.prototype.playDescAnim=function(){var t=this.node_desc.scale;this.node_desc.opacity=0,this.node_desc.scale=.8,cc.tween(this.node_desc).to(.2,{opacity:255}).to(.2,{scale:t}).start()},e.prototype.playTitleAnim=function(){var t=this.node_title.scale;this.node_title.opacity=0,this.node_title.scale=0,cc.tween(this.node_title).to(.2,{opacity:255}).to(.2,{scale:t}).start()},r([u({type:cc.Node,displayName:""})],e.prototype,"node_title",void 0),r([u({type:cc.Label,displayName:""})],e.prototype,"lb_num",void 0),r([u({type:cc.Node,displayName:""})],e.prototype,"node_desc",void 0),r([u({type:sp.Skeleton,displayName:""})],e.prototype,"sk_bg",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1111AudioMgr":"S1111AudioMgr","./S1111Const":"S1111Const"}],S1111UIBigAwardPanel:[function(t,e,o){"use strict";cc._RF.push(e,"4411cZBXvlGRInILGn2INRt","S1111UIBigAwardPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111AudioMgr"),a=t("./S1111Const"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sk_bg=null,e.lb_num=null,e.info={},e.animTime=5,e}return i(e,t),e.prototype.start=function(){},e.prototype.showUI=function(t,e){var o=this;this.node.active=!0;var n,i=a.default.ins.audioMgr.playSound(s.S1111SoundType.showBigAward);n=1==e?"bigwin":2==e?"megawin":3==e?"superwin":"bigwin",this.sk_bg.setAnimation(0,n,!1),this.sk_bg.setCompleteListener(function(){o.scheduleOnce(function(){a.default.ins.uiScenc.bigAwardComeBack(),a.default.ins.audioMgr.stopSound(i),o.hideUI()},.5)}),this.info={v:0},cc.tween(this.info).to(this.animTime,{v:t},{progress:function(t,e,n,i){if(o.lb_num){var r=i*e;o.lb_num.string=a.default.ins.formatNum(r)}}}).call(function(){}).start()},e.prototype.hideUI=function(){this.node.active=!1},r([u(sp.Skeleton)],e.prototype,"sk_bg",void 0),r([u(cc.Label)],e.prototype,"lb_num",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1111AudioMgr":"S1111AudioMgr","./S1111Const":"S1111Const"}],S1111UICommonMain:[function(t,e,o){"use strict";cc._RF.push(e,"6a07dronJZFq59Kb91/TL2G","S1111UICommonMain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=t("../../../Script/AcFrame/ui/AcUIHelp"),l=cc._decorator,c=l.ccclass,u=l.property,p=[10,20,50,100,200,500];(function(t){t[t.normal=1]="normal",t[t.playing=2]="playing",t[t.disable=3]="disable"})(s||(s={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb_winNum=null,e.lb_playerCoin=null,e.lb_autoPlay=null,e.rt_lineNum=null,e.rt_betNum=null,e.btn_home=null,e.btn_play=null,e.btn_help=null,e.btn_sub=null,e.btn_add=null,e.btn_setting=null,e.btn_fast=null,e.sp_sound=null,e.sp_music=null,e.btn_sound=null,e.btn_music=null,e.btn_close=null,e.node_settingPanel=null,e.btn_clickOther=null,e.node_selectAutoCount=null,e.btn_autoCount1=null,e.btn_autoCount2=null,e.btn_autoCount3=null,e.btn_autoCount4=null,e.btn_autoCount5=null,e.btn_autoCount6=null,e.node_inFast=null,e.node_normalBtnPlay=null,e.node_inBtnPlay=null,e.node_disableBtnPlay=null,e.audioOpenIcon=null,e.audioCloseIcon=null,e.callBack_btnAdd=null,e.callBack_btnSub=null,e.callBack_btnHelp=null,e.callBack_btnHome=null,e.callBack_btnSetting=null,e.callBack_btnPlay=null,e.callBack_btnFast=null,e.callBack_btnSound=null,e.callBack_btnMusic=null,e.callBack_btnClose=null,e.callBack_btnPlayLongClick=null,e.btn_autoCounts=[],e.touchEnable=!0,e.touchStart=!1,e.touchBtnPlayTimer=0,e.longClickMaxTime=1.1,e.openMusic=!0,e.openSound=!0,e.playState=s.normal,e}return i(e,t),e.prototype.onLoad=function(){this.btn_autoCounts=[this.btn_autoCount1,this.btn_autoCount2,this.btn_autoCount3,this.btn_autoCount4,this.btn_autoCount5,this.btn_autoCount6],a.default.instance.addClickEvent(this.btn_add,this,"onClickBtnAdd"),a.default.instance.addClickEvent(this.btn_sub,this,"onClickBtnSub"),a.default.instance.addClickEvent(this.btn_help,this,"onClickBtnHelp"),a.default.instance.addClickEvent(this.btn_home,this,"onClickBtnHome"),a.default.instance.addClickEvent(this.btn_setting,this,"onClickBtnSetting"),a.default.instance.addClickEvent(this.btn_fast,this,"onClickBtnFast"),a.default.instance.addClickEvent(this.btn_sound,this,"onClickBtnSound"),a.default.instance.addClickEvent(this.btn_music,this,"onClickBtnMusic"),a.default.instance.addClickEvent(this.btn_close,this,"onClickBtnClose"),a.default.instance.addClickEvent(this.btn_clickOther,this,"onClickBtnOther");for(var t=0;t<this.btn_autoCounts.length;t++){var e=this.btn_autoCounts[t];a.default.instance.setButtonLabel(e,"x"+p[t]),a.default.instance.addClickEvent(e,this,"onClickBtnAutoCount",t)}this.btn_play.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStartBtnPlay,this),this.btn_play.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEndBtnPlay,this),this.changePlayState(),this.changePlayAutoState(!1),this.changePlayFastState(!1),this.hideSettingPanel(),this.node_selectAutoCount.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){var e;this.touchStart&&(this.touchBtnPlayTimer+=t,this.touchBtnPlayTimer>=this.longClickMaxTime&&(this.touchStart=!1,this.touchBtnPlayTimer=0,this.node_selectAutoCount.active=!0,null===(e=this.callBack_btnPlayLongClick)||void 0===e||e.call(this)))},e.prototype.refreshSetting=function(){this.sp_music.spriteFrame=this.getAudioIcon(this.openMusic),this.sp_sound.spriteFrame=this.getAudioIcon(this.openSound)},e.prototype.getAudioIcon=function(t){return t?this.audioOpenIcon:this.audioCloseIcon},e.prototype.showSettingPanel=function(){this.node_settingPanel.active=!0,this.refreshSetting()},e.prototype.hideSettingPanel=function(){this.node_settingPanel.active=!1},e.prototype.refreshWinNum=function(t){this.lb_winNum.string="WIN "+t},e.prototype.refreshPlayCoin=function(t){this.lb_playerCoin.string="CREDIT "+t},e.prototype.refreshLineNum=function(t){this.rt_lineNum.string="<color=#f9a33>LINE:</c><color=#ffffff>"+t+"</color>"},e.prototype.refreshBetNum=function(t){this.rt_betNum.string="<color=#f9a33>BET:</c><color=#ffffff>"+t+"</color>"},e.prototype.changePlayState=function(t){void 0===t&&(t=1),this.playState=t,this.refreshPlayState()},e.prototype.changeBtnPlayEnble=function(t){this.touchEnable=t},e.prototype.refreshPlayState=function(){this.node_normalBtnPlay.active=1==this.playState,this.node_inBtnPlay.active=2==this.playState,this.node_disableBtnPlay.active=3==this.playState,this.btn_add.interactable=1==this.playState,this.btn_sub.interactable=1==this.playState,this.btn_fast.interactable=1==this.playState},e.prototype.getPlayState=function(){return this.playState},e.prototype.changePlayAutoState=function(t,e){void 0===e&&(e=0);var o=e>0?e:"";this.lb_autoPlay.string=t?o+" STOP":"HOLD POR OUTO"},e.prototype.changePlayFastState=function(t){this.node_inFast.active=t},e.prototype.addClickBtnAddEvent=function(t){this.callBack_btnAdd=t},e.prototype.addClickBtnSubEvent=function(t){this.callBack_btnSub=t},e.prototype.addClickBtnHelpEvent=function(t){this.callBack_btnHelp=t},e.prototype.addClickBtnHomeEvent=function(t){this.callBack_btnHome=t},e.prototype.addClickBtSettingEvent=function(t){this.callBack_btnSetting=t},e.prototype.addClickBtnPlayEvent=function(t){this.callBack_btnPlay=t},e.prototype.addClickBtnPlayFast=function(t){this.callBack_btnFast=t},e.prototype.addClickBtSoundEvent=function(t){this.callBack_btnSound=t},e.prototype.addClickBtnMusicEvent=function(t){this.callBack_btnMusic=t},e.prototype.addClickBtnCloseEvent=function(t){this.callBack_btnClose=t},e.prototype.addClickBtnPlayLong=function(t){this.callBack_btnPlayLongClick=t},e.prototype.onClickBtnAdd=function(){var t;null===(t=this.callBack_btnAdd)||void 0===t||t.call(this)},e.prototype.onClickBtnSub=function(){var t;null===(t=this.callBack_btnSub)||void 0===t||t.call(this)},e.prototype.onClickBtnHelp=function(){var t;null===(t=this.callBack_btnHelp)||void 0===t||t.call(this)},e.prototype.onClickBtnHome=function(){var t;null===(t=this.callBack_btnHome)||void 0===t||t.call(this)},e.prototype.onClickBtnSetting=function(){var t;null===(t=this.callBack_btnSetting)||void 0===t||t.call(this),this.showSettingPanel()},e.prototype.onClickBtnPlay=function(){var t;null===(t=this.callBack_btnPlay)||void 0===t||t.call(this,1)},e.prototype.onClickBtnFast=function(){var t;null===(t=this.callBack_btnFast)||void 0===t||t.call(this)},e.prototype.onClickBtnSound=function(){var t;this.openSound=!this.openSound,null===(t=this.callBack_btnSound)||void 0===t||t.call(this,this.openSound),this.refreshSetting()},e.prototype.onClickBtnMusic=function(){var t;this.openMusic=!this.openMusic,null===(t=this.callBack_btnMusic)||void 0===t||t.call(this,this.openMusic),this.refreshSetting()},e.prototype.onClickBtnClose=function(){var t;null===(t=this.callBack_btnClose)||void 0===t||t.call(this),this.hideSettingPanel()},e.prototype.onTouchStartBtnPlay=function(){this.touchEnable&&(this.playState==s.normal&&(this.touchStart=!0),this.node_selectAutoCount.active=!1)},e.prototype.onTouchEndBtnPlay=function(){var t,e;if(this.touchEnable){if(this.playState==s.playing)return this.touchStart=!1,this.touchBtnPlayTimer=0,void(null===(t=this.callBack_btnPlay)||void 0===t||t.call(this,0));this.touchStart&&this.touchBtnPlayTimer>=this.longClickMaxTime||this.node_selectAutoCount.active||null===(e=this.callBack_btnPlay)||void 0===e||e.call(this,1),this.touchStart=!1,this.touchBtnPlayTimer=0}},e.prototype.onClickBtnOther=function(){this.node_selectAutoCount.active=!1},e.prototype.onClickBtnAutoCount=function(t,e){var o,n=p[e];null===(o=this.callBack_btnPlay)||void 0===o||o.call(this,n),this.node_selectAutoCount.active=!1},r([u(cc.Label)],e.prototype,"lb_winNum",void 0),r([u(cc.Label)],e.prototype,"lb_playerCoin",void 0),r([u(cc.Label)],e.prototype,"lb_autoPlay",void 0),r([u(cc.RichText)],e.prototype,"rt_lineNum",void 0),r([u(cc.RichText)],e.prototype,"rt_betNum",void 0),r([u(cc.Button)],e.prototype,"btn_home",void 0),r([u(cc.Button)],e.prototype,"btn_play",void 0),r([u(cc.Button)],e.prototype,"btn_help",void 0),r([u(cc.Button)],e.prototype,"btn_sub",void 0),r([u(cc.Button)],e.prototype,"btn_add",void 0),r([u(cc.Button)],e.prototype,"btn_setting",void 0),r([u(cc.Button)],e.prototype,"btn_fast",void 0),r([u(cc.Sprite)],e.prototype,"sp_sound",void 0),r([u(cc.Sprite)],e.prototype,"sp_music",void 0),r([u(cc.Button)],e.prototype,"btn_sound",void 0),r([u(cc.Button)],e.prototype,"btn_music",void 0),r([u(cc.Button)],e.prototype,"btn_close",void 0),r([u(cc.Node)],e.prototype,"node_settingPanel",void 0),r([u(cc.Node)],e.prototype,"btn_clickOther",void 0),r([u(cc.Node)],e.prototype,"node_selectAutoCount",void 0),r([u(cc.Button)],e.prototype,"btn_autoCount1",void 0),r([u(cc.Button)],e.prototype,"btn_autoCount2",void 0),r([u(cc.Button)],e.prototype,"btn_autoCount3",void 0),r([u(cc.Button)],e.prototype,"btn_autoCount4",void 0),r([u(cc.Button)],e.prototype,"btn_autoCount5",void 0),r([u(cc.Button)],e.prototype,"btn_autoCount6",void 0),r([u(cc.Node)],e.prototype,"node_inFast",void 0),r([u(cc.Node)],e.prototype,"node_normalBtnPlay",void 0),r([u(cc.Node)],e.prototype,"node_inBtnPlay",void 0),r([u(cc.Node)],e.prototype,"node_disableBtnPlay",void 0),r([u(cc.SpriteFrame)],e.prototype,"audioOpenIcon",void 0),r([u(cc.SpriteFrame)],e.prototype,"audioCloseIcon",void 0),r([c],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Script/AcFrame/ui/AcUIHelp":void 0}],S1111UIFreeAwardPanel:[function(t,e,o){"use strict";cc._RF.push(e,"ab2969IY/tNhJhVxSxMFWbX","S1111UIFreeAwardPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./S1111AudioMgr"),a=t("./S1111Const"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sk_bg=null,e.lb_num=null,e.lb_count=null,e.info={},e.animTime=3,e}return i(e,t),e.prototype.onLoad=function(){this.sk_bg.timeScale=.8},e.prototype.start=function(){},e.prototype.showUI=function(t,e){var o=this;void 0===t&&(t=10),void 0===e&&(e=10),a.default.ins.audioMgr.playSound(s.S1111SoundType.freeGameEnd),this.node.active=!0,this.lb_count.string=e.toString(),this.info={v:0},cc.tween(this.info).to(this.animTime,{v:t},{progress:function(t,e,n,i){if(o.lb_num){var r=i*e;o.lb_num.string=a.default.ins.formatNum(r/a.default.ins.getBetPer())}}}).call(function(){}).start(),this.sk_bg.setAnimation(0,"animation",!1),this.sk_bg.setCompleteListener(function(){o.scheduleOnce(function(){a.default.ins.uiScenc.freeAwardComeBack(),o.hideUI()},.3)})},e.prototype.hideUI=function(){this.node.active=!1},r([u(sp.Skeleton)],e.prototype,"sk_bg",void 0),r([u(cc.Label)],e.prototype,"lb_num",void 0),r([u(cc.Label)],e.prototype,"lb_count",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./S1111AudioMgr":"S1111AudioMgr","./S1111Const":"S1111Const"}]},{},["S1111AudioMgr","S1111ComboItem","S1111Const","S1111Loader","S1111Network","S1111Scene","S1111ScrollItem","S1111ScrollView","S1111UIActiveFreeSpin","S1111UIActiveFreeSpinAgain","S1111UIBigAwardPanel","S1111UICommonMain","S1111UIFreeAwardPanel"]);